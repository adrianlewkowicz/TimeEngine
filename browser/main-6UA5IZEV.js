import{a as Ng}from"./chunk-ITEIF2B4.js";import{a as Fg}from"./chunk-X753LMEP.js";import{a as xg,b as Sg,d as Og,e as bc,f as Tg,g as kg,h as Eg,i as _c}from"./chunk-RE5VBVVR.js";import{b as Cg,c as Pg,e as Ag,f as Dg,g as Mg,h as Lg,i as Rg,m as Ig,n as wc}from"./chunk-ZVWQG5M7.js";import{$ as Qh,$a as bt,Ab as bg,Ba as ig,Bb as Vd,Ca as ag,Cb as qs,Da as pc,Ea as Di,Fa as sg,Hb as Io,Ja as er,Ka as xo,L as Xh,La as Ro,Ma as Pn,N as hr,Na as Fr,O as Co,Ob as hc,Pb as _g,Q as lc,Qb as gc,Ra as lg,Rb as vc,Sb as mc,T as Ft,Tb as hn,U as cc,Ua as Yn,V as Zh,Va as Rt,Vb as yc,Wa as cg,Wb as wg,Ya as ug,Z as Gs,Za as Mi,_ as Jh,_a as ut,a as Cr,aa as eg,ab as Xr,b as Yh,ba as gr,bb as ta,cb as ra,da as uc,db as Li,eb as dg,fa as tg,fb as pn,gb as ar,ha as dc,hb as Zo,i as qh,ia as fc,ib as So,jb as An,ka as Ai,kb as Dn,la as Ha,lb as Mn,ma as Xo,mb as Ot,nb as Jo,ob as fg,pb as pg,qa as Wa,qb as hg,ra as rg,rb as gg,sb as io,tb as Ys,ua as ng,vb as vg,wb as mg,xa as og,yb as Zr,za as It,zb as yg}from"./chunk-TJAHSITS.js";var Rw="@",Iw=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=Ft(uc);loadingSchedulerFn=Ft(Nw,{optional:!0});_engine;constructor(e,t,r,o,s){this.doc=e,this.delegate=t,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-3CXYBFJP.js").then(r=>r),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(r=>{throw new Xh(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,t){let r=this.delegate.createRenderer(e,t);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Hd(r);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let c=s.createRenderer(e,t);o.use(c),this.scheduler??=this.injector.get(tg,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(t){sg()};static \u0275prov=hr({token:i,factory:i.\u0275fac})}return i})(),Hd=class{delegate;replay=[];\u0275type=1;constructor(n){this.delegate=n}use(n){if(this.delegate=n,this.replay!==null){for(let e of this.replay)e(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,e){this.delegate.appendChild(n,e)}insertBefore(n,e,t,r){this.delegate.insertBefore(n,e,t,r)}removeChild(n,e,t){this.delegate.removeChild(n,e,t)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,t,r){this.delegate.setAttribute(n,e,t,r)}removeAttribute(n,e,t){this.delegate.removeAttribute(n,e,t)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,t,r){this.delegate.setStyle(n,e,t,r)}removeStyle(n,e,t){this.delegate.removeStyle(n,e,t)}setProperty(n,e,t){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(n,e,t)),this.delegate.setProperty(n,e,t)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,t,r){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(n,e,t,r)),this.delegate.listen(n,e,t,r)}shouldReplay(n){return this.replay!==null&&n.startsWith(Rw)}},Nw=new lc("");function jg(i="animations"){return ng("NgAsyncAnimations"),cc([{provide:ag,useFactory:(n,e,t)=>new Iw(n,e,t,i),deps:[Io,xg,fc]},{provide:rg,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}function Bg(i,n){return i?i.classList?i.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(i.className):!1}function Cc(i,n){if(i&&n){let e=t=>{Bg(i,t)||(i.classList?i.classList.add(t):i.className+=" "+t)};[n].flat().filter(Boolean).forEach(t=>t.split(" ").forEach(e))}}function za(i,n){if(i&&n){let e=t=>{i.classList?i.classList.remove(t):i.className=i.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")};[n].flat().filter(Boolean).forEach(t=>t.split(" ").forEach(e))}}function Vg(i,n){if(i instanceof HTMLElement){let e=i.offsetWidth;if(n){let t=getComputedStyle(i);e+=parseFloat(t.marginLeft)+parseFloat(t.marginRight)}return e}return 0}function Hg(i){return typeof HTMLElement=="object"?i instanceof HTMLElement:i&&typeof i=="object"&&i!==null&&i.nodeType===1&&typeof i.nodeName=="string"}function Wd(i,n={}){if(Hg(i)){let e=(t,r)=>{var o,s;let c=(o=i?.$attrs)!=null&&o[t]?[(s=i?.$attrs)==null?void 0:s[t]]:[];return[r].flat().reduce((u,d)=>{if(d!=null){let h=typeof d;if(h==="string"||h==="number")u.push(d);else if(h==="object"){let v=Array.isArray(d)?e(t,d):Object.entries(d).map(([m,b])=>t==="style"&&(b||b===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${b}`:b?m:void 0);u=v.length?u.concat(v.filter(m=>!!m)):u}}return u},c)};Object.entries(n).forEach(([t,r])=>{if(r!=null){let o=t.match(/^on(.+)/);o?i.addEventListener(o[1].toLowerCase(),r):t==="p-bind"||t==="pBind"?Wd(i,r):(r=t==="class"?[...new Set(e("class",r))].join(" ").trim():t==="style"?e("style",r).join(";").trim():r,(i.$attrs=i.$attrs||{})&&(i.$attrs[t]=r),i.setAttribute(t,r))}})}}function zd(i){if(i){let n=i.offsetHeight,e=getComputedStyle(i);return n-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),n}return 0}function Wg(i){if(i){let n=i.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function zg(i,n){if(i){let e=i.offsetHeight;if(n){let t=getComputedStyle(i);e+=parseFloat(t.marginTop)+parseFloat(t.marginBottom)}return e}return 0}function Ud(i){if(i){let n=i.offsetWidth,e=getComputedStyle(i);return n-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),n}return 0}function Ug(i){var n;i&&("remove"in Element.prototype?i.remove():(n=i.parentNode)==null||n.removeChild(i))}function $g(i,n="",e){Hg(i)&&e!==null&&e!==void 0&&i.setAttribute(n,e)}function Kg(){let i=new Map;return{on(n,e){let t=i.get(n);return t?t.push(e):t=[e],i.set(n,t),this},off(n,e){let t=i.get(n);return t&&t.splice(t.indexOf(e)>>>0,1),this},emit(n,e){let t=i.get(n);t&&t.slice().map(r=>{r(e)})},clear(){i.clear()}}}function so(i){return i==null||i===""||Array.isArray(i)&&i.length===0||!(i instanceof Date)&&typeof i=="object"&&Object.keys(i).length===0}function $d(i,n,e=new WeakSet){if(i===n)return!0;if(!i||!n||typeof i!="object"||typeof n!="object"||e.has(i)||e.has(n))return!1;e.add(i).add(n);let t=Array.isArray(i),r=Array.isArray(n),o,s,c;if(t&&r){if(s=i.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!$d(i[o],n[o],e))return!1;return!0}if(t!=r)return!1;let u=i instanceof Date,d=n instanceof Date;if(u!=d)return!1;if(u&&d)return i.getTime()==n.getTime();let h=i instanceof RegExp,v=n instanceof RegExp;if(h!=v)return!1;if(h&&v)return i.toString()==n.toString();let m=Object.keys(i);if(s=m.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,m[o]))return!1;for(o=s;o--!==0;)if(c=m[o],!$d(i[c],n[c],e))return!1;return!0}function Fw(i,n){return $d(i,n)}function Yg(i){return!!(i&&i.constructor&&i.call&&i.apply)}function tr(i){return!so(i)}function Kd(i,n){if(!i||!n)return null;try{let e=i[n];if(tr(e))return e}catch{}if(Object.keys(i).length){if(Yg(n))return n(i);if(n.indexOf(".")===-1)return i[n];{let e=n.split("."),t=i;for(let r=0,o=e.length;r<o;++r){if(t==null)return null;t=t[e[r]]}return t}}return null}function Gd(i,n,e){return e?Kd(i,e)===Kd(n,e):Fw(i,n)}function Qo(i,n=!0){return i instanceof Object&&i.constructor===Object&&(n||Object.keys(i).length!==0)}function ao(i,...n){return Yg(i)?i(...n):i}function Ri(i,n=!0){return typeof i=="string"&&(n||i!=="")}function Gg(i){return Ri(i)?i.replace(/(-|_)/g,"").toLowerCase():i}function xc(i,n="",e={}){let t=Gg(n).split("."),r=t.shift();return r?Qo(i)?xc(ao(i[Object.keys(i).find(o=>Gg(o)===r)||""],e),t.join("."),e):void 0:ao(i,e)}function Sc(i,n=!0){return Array.isArray(i)&&(n||i.length!==0)}function qg(i){return tr(i)&&!isNaN(i)}function qn(i,n){if(n){let e=n.test(i);return n.lastIndex=0,e}return!1}function na(i){return i&&i.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function Oc(i){return Ri(i)?i.replace(/(_)/g,"-").replace(/[A-Z]/g,(n,e)=>e===0?n:"-"+n.toLowerCase()).toLowerCase():i}function Yd(i){return Ri(i)?i.replace(/[A-Z]/g,(n,e)=>e===0?n:"."+n.toLowerCase()).toLowerCase():i}var Tc={};function Xs(i="pui_id_"){return Tc.hasOwnProperty(i)||(Tc[i]=0),Tc[i]++,`${i}${Tc[i]}`}function jw(){let i=[],n=(s,c,u=999)=>{let d=r(s,c,u),h=d.value+(d.key===s?0:u)+1;return i.push({key:s,value:h}),h},e=s=>{i=i.filter(c=>c.value!==s)},t=(s,c)=>r(s,c).value,r=(s,c,u=0)=>[...i].reverse().find(d=>c?!0:d.key===s)||{key:s,value:u},o=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:o,set:(s,c,u)=>{c&&(c.style.zIndex=String(n(s,!0,u)))},clear:s=>{s&&(e(o(s)),s.style.zIndex="")},getCurrent:s=>t(s,!0)}}var L2=jw();var Xg=["*"];var Jr=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return i})();var Zg=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=er({type:i,selectors:[["p-header"]],standalone:!1,ngContentSelectors:Xg,decls:1,vars:0,template:function(t,r){t&1&&(Zo(),So(0))},encapsulation:2})}return i})(),Jg=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=er({type:i,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:Xg,decls:1,vars:0,template:function(t,r){t&1&&(Zo(),So(0))},encapsulation:2})}return i})(),Ua=(()=>{class i{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(t){return new(t||i)(Di(ig))};static \u0275dir=Ro({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return i})(),lo=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=xo({type:i});static \u0275inj=Co({imports:[hn]})}return i})();var Vw=Object.defineProperty,Hw=Object.defineProperties,Ww=Object.getOwnPropertyDescriptors,kc=Object.getOwnPropertySymbols,tv=Object.prototype.hasOwnProperty,rv=Object.prototype.propertyIsEnumerable,Qg=(i,n,e)=>n in i?Vw(i,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[n]=e,To=(i,n)=>{for(var e in n||(n={}))tv.call(n,e)&&Qg(i,e,n[e]);if(kc)for(var e of kc(n))rv.call(n,e)&&Qg(i,e,n[e]);return i},qd=(i,n)=>Hw(i,Ww(n)),ei=(i,n)=>{var e={};for(var t in i)tv.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&kc)for(var t of kc(i))n.indexOf(t)<0&&rv.call(i,t)&&(e[t]=i[t]);return e};var zw=Kg(),Xn=zw;function ev(i,n){Sc(i)?i.push(...n||[]):Qo(i)&&Object.assign(i,n)}function Uw(i){return Qo(i)&&i.hasOwnProperty("value")&&i.hasOwnProperty("type")?i.value:i}function $w(i){return i.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Xd(i="",n=""){return $w(`${Ri(i,!1)&&Ri(n,!1)?`${i}-`:i}${n}`)}function nv(i="",n=""){return`--${Xd(i,n)}`}function Kw(i=""){let n=(i.match(/{/g)||[]).length,e=(i.match(/}/g)||[]).length;return(n+e)%2!==0}function ov(i,n="",e="",t=[],r){if(Ri(i)){let o=/{([^}]*)}/g,s=i.trim();if(Kw(s))return;if(qn(s,o)){let c=s.replaceAll(o,h=>{let m=h.replace(/{|}/g,"").split(".").filter(b=>!t.some(w=>qn(b,w)));return`var(${nv(e,Oc(m.join("-")))}${tr(r)?`, ${r}`:""})`}),u=/(\d+\s+[\+\-\*\/]\s+\d+)/g,d=/var\([^)]+\)/g;return qn(c.replace(d,"0"),u)?`calc(${c})`:c}return s}else if(qg(i))return i}function Gw(i,n,e){Ri(n,!1)&&i.push(`${n}:${e};`)}function $a(i,n){return i?`${i}{${n}}`:""}var Ka=(...i)=>Yw(qt.getTheme(),...i),Yw=(i={},n,e,t)=>{if(n){let{variable:r,options:o}=qt.defaults||{},{prefix:s,transform:c}=i?.options||o||{},d=qn(n,/{([^}]*)}/g)?n:`{${n}}`;return t==="value"||so(t)&&c==="strict"?qt.getTokenValue(n):ov(d,void 0,s,[r.excludedKeyRegex],e)}return""};function qw(i,n={}){let e=qt.defaults.variable,{prefix:t=e.prefix,selector:r=e.selector,excludedKeyRegex:o=e.excludedKeyRegex}=n,s=(d,h="")=>Object.entries(d).reduce((v,[m,b])=>{let w=qn(m,o)?Xd(h):Xd(h,Oc(m)),C=Uw(b);if(Qo(C)){let{variables:T,tokens:I}=s(C,w);ev(v.tokens,I),ev(v.variables,T)}else v.tokens.push((t?w.replace(`${t}-`,""):w).replaceAll("-",".")),Gw(v.variables,nv(w),ov(C,w,t,[o]));return v},{variables:[],tokens:[]}),{variables:c,tokens:u}=s(i,t);return{value:c,tokens:u,declarations:c.join(""),css:$a(r,c.join(""))}}var Oo={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(i){return{type:"class",selector:i,matched:this.pattern.test(i.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(i){return{type:"attr",selector:`:root${i}`,matched:this.pattern.test(i.trim())}}},media:{pattern:/^@media (.*)$/,resolve(i){return{type:"media",selector:`${i}{:root{[CSS]}}`,matched:this.pattern.test(i.trim())}}},system:{pattern:/^system$/,resolve(i){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(i.trim())}}},custom:{resolve(i){return{type:"custom",selector:i,matched:!0}}}},resolve(i){let n=Object.keys(this.rules).filter(e=>e!=="custom").map(e=>this.rules[e]);return[i].flat().map(e=>{var t;return(t=n.map(r=>r.resolve(e)).find(r=>r.matched))!=null?t:this.rules.custom.resolve(e)})}},_toVariables(i,n){return qw(i,{prefix:n?.prefix})},getCommon({name:i="",theme:n={},params:e,set:t,defaults:r}){var o,s,c,u,d,h,v;let{preset:m,options:b}=n,w,C,T,I,W,j,z;if(tr(m)&&b.transform!=="strict"){let{primitive:ue,semantic:ye,extend:xe}=m,le=ye||{},{colorScheme:Y}=le,oe=ei(le,["colorScheme"]),V=xe||{},{colorScheme:R}=V,U=ei(V,["colorScheme"]),H=Y||{},{dark:te}=H,P=ei(H,["dark"]),ve=R||{},{dark:ge}=ve,De=ei(ve,["dark"]),qe=tr(ue)?this._toVariables({primitive:ue},b):{},Ye=tr(oe)?this._toVariables({semantic:oe},b):{},ht=tr(P)?this._toVariables({light:P},b):{},be=tr(te)?this._toVariables({dark:te},b):{},_e=tr(U)?this._toVariables({semantic:U},b):{},Re=tr(De)?this._toVariables({light:De},b):{},Ve=tr(ge)?this._toVariables({dark:ge},b):{},[Be,Ne]=[(o=qe.declarations)!=null?o:"",qe.tokens],[nt,at]=[(s=Ye.declarations)!=null?s:"",Ye.tokens||[]],[re,Ce]=[(c=ht.declarations)!=null?c:"",ht.tokens||[]],[Je,He]=[(u=be.declarations)!=null?u:"",be.tokens||[]],[ot,gt]=[(d=_e.declarations)!=null?d:"",_e.tokens||[]],[it,k]=[(h=Re.declarations)!=null?h:"",Re.tokens||[]],[F,K]=[(v=Ve.declarations)!=null?v:"",Ve.tokens||[]];w=this.transformCSS(i,Be,"light","variable",b,t,r),C=Ne;let ie=this.transformCSS(i,`${nt}${re}`,"light","variable",b,t,r),me=this.transformCSS(i,`${Je}`,"dark","variable",b,t,r);T=`${ie}${me}`,I=[...new Set([...at,...Ce,...He])];let $=this.transformCSS(i,`${ot}${it}color-scheme:light`,"light","variable",b,t,r),de=this.transformCSS(i,`${F}color-scheme:dark`,"dark","variable",b,t,r);W=`${$}${de}`,j=[...new Set([...gt,...k,...K])],z=ao(m.css,{dt:Ka})}return{primitive:{css:w,tokens:C},semantic:{css:T,tokens:I},global:{css:W,tokens:j},style:z}},getPreset({name:i="",preset:n={},options:e,params:t,set:r,defaults:o,selector:s}){var c,u,d;let h,v,m;if(tr(n)&&e.transform!=="strict"){let b=i.replace("-directive",""),w=n,{colorScheme:C,extend:T,css:I}=w,W=ei(w,["colorScheme","extend","css"]),j=T||{},{colorScheme:z}=j,ue=ei(j,["colorScheme"]),ye=C||{},{dark:xe}=ye,le=ei(ye,["dark"]),Y=z||{},{dark:oe}=Y,V=ei(Y,["dark"]),R=tr(W)?this._toVariables({[b]:To(To({},W),ue)},e):{},U=tr(le)?this._toVariables({[b]:To(To({},le),V)},e):{},H=tr(xe)?this._toVariables({[b]:To(To({},xe),oe)},e):{},[te,P]=[(c=R.declarations)!=null?c:"",R.tokens||[]],[ve,ge]=[(u=U.declarations)!=null?u:"",U.tokens||[]],[De,qe]=[(d=H.declarations)!=null?d:"",H.tokens||[]],Ye=this.transformCSS(b,`${te}${ve}`,"light","variable",e,r,o,s),ht=this.transformCSS(b,De,"dark","variable",e,r,o,s);h=`${Ye}${ht}`,v=[...new Set([...P,...ge,...qe])],m=ao(I,{dt:Ka})}return{css:h,tokens:v,style:m}},getPresetC({name:i="",theme:n={},params:e,set:t,defaults:r}){var o;let{preset:s,options:c}=n,u=(o=s?.components)==null?void 0:o[i];return this.getPreset({name:i,preset:u,options:c,params:e,set:t,defaults:r})},getPresetD({name:i="",theme:n={},params:e,set:t,defaults:r}){var o;let s=i.replace("-directive",""),{preset:c,options:u}=n,d=(o=c?.directives)==null?void 0:o[s];return this.getPreset({name:s,preset:d,options:u,params:e,set:t,defaults:r})},applyDarkColorScheme(i){return!(i.darkModeSelector==="none"||i.darkModeSelector===!1)},getColorSchemeOption(i,n){var e;return this.applyDarkColorScheme(i)?this.regex.resolve(i.darkModeSelector===!0?n.options.darkModeSelector:(e=i.darkModeSelector)!=null?e:n.options.darkModeSelector):[]},getLayerOrder(i,n={},e,t){let{cssLayer:r}=n;return r?`@layer ${ao(r.order||"primeui",e)}`:""},getCommonStyleSheet({name:i="",theme:n={},params:e,props:t={},set:r,defaults:o}){let s=this.getCommon({name:i,theme:n,params:e,set:r,defaults:o}),c=Object.entries(t).reduce((u,[d,h])=>u.push(`${d}="${h}"`)&&u,[]).join(" ");return Object.entries(s||{}).reduce((u,[d,h])=>{if(h?.css){let v=na(h?.css),m=`${d}-variables`;u.push(`<style type="text/css" data-primevue-style-id="${m}" ${c}>${v}</style>`)}return u},[]).join("")},getStyleSheet({name:i="",theme:n={},params:e,props:t={},set:r,defaults:o}){var s;let c={name:i,theme:n,params:e,set:r,defaults:o},u=(s=i.includes("-directive")?this.getPresetD(c):this.getPresetC(c))==null?void 0:s.css,d=Object.entries(t).reduce((h,[v,m])=>h.push(`${v}="${m}"`)&&h,[]).join(" ");return u?`<style type="text/css" data-primevue-style-id="${i}-variables" ${d}>${na(u)}</style>`:""},createTokens(i={},n,e="",t="",r={}){return Object.entries(i).forEach(([o,s])=>{let c=qn(o,n.variable.excludedKeyRegex)?e:e?`${e}.${Yd(o)}`:Yd(o),u=t?`${t}.${o}`:o;Qo(s)?this.createTokens(s,n,c,u,r):(r[c]||(r[c]={paths:[],computed(d,h={}){var v,m;return this.paths.length===1?(v=this.paths[0])==null?void 0:v.computed(this.paths[0].scheme,h.binding):d&&d!=="none"?(m=this.paths.find(b=>b.scheme===d))==null?void 0:m.computed(d,h.binding):this.paths.map(b=>b.computed(b.scheme,h[b.scheme]))}}),r[c].paths.push({path:u,value:s,scheme:u.includes("colorScheme.light")?"light":u.includes("colorScheme.dark")?"dark":"none",computed(d,h={}){let v=/{([^}]*)}/g,m=s;if(h.name=this.path,h.binding||(h.binding={}),qn(s,v)){let w=s.trim().replaceAll(v,I=>{var W;let j=I.replace(/{|}/g,""),z=(W=r[j])==null?void 0:W.computed(d,h);return Sc(z)&&z.length===2?`light-dark(${z[0].value},${z[1].value})`:z?.value}),C=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,T=/var\([^)]+\)/g;m=qn(w.replace(T,"0"),C)?`calc(${w})`:w}return so(h.binding)&&delete h.binding,{colorScheme:d,path:this.path,paths:h,value:m.includes("undefined")?void 0:m}}}))}),r},getTokenValue(i,n,e){var t;let o=(u=>u.split(".").filter(h=>!qn(h.toLowerCase(),e.variable.excludedKeyRegex)).join("."))(n),s=n.includes("colorScheme.light")?"light":n.includes("colorScheme.dark")?"dark":void 0,c=[(t=i[o])==null?void 0:t.computed(s)].flat().filter(u=>u);return c.length===1?c[0].value:c.reduce((u={},d)=>{let h=d,{colorScheme:v}=h,m=ei(h,["colorScheme"]);return u[v]=m,u},void 0)},getSelectorRule(i,n,e,t){return e==="class"||e==="attr"?$a(tr(n)?`${i}${n},${i} ${n}`:i,t):$a(i,tr(n)?$a(n,t):t)},transformCSS(i,n,e,t,r={},o,s,c){if(tr(n)){let{cssLayer:u}=r;if(t!=="style"){let d=this.getColorSchemeOption(r,s);n=e==="dark"?d.reduce((h,{type:v,selector:m})=>(tr(m)&&(h+=m.includes("[CSS]")?m.replace("[CSS]",n):this.getSelectorRule(m,c,v,n)),h),""):$a(c??":root",n)}if(u){let d={name:"primeui",order:"primeui"};Qo(u)&&(d.name=ao(u.name,{name:i,type:t})),tr(d.name)&&(n=$a(`@layer ${d.name}`,n),o?.layerNames(d.name))}return n}return""}},qt={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(i={}){let{theme:n}=i;n&&(this._theme=qd(To({},n),{options:To(To({},this.defaults.options),n.options)}),this._tokens=Oo.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var i;return((i=this.theme)==null?void 0:i.preset)||{}},get options(){var i;return((i=this.theme)==null?void 0:i.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(i){this.update({theme:i}),Xn.emit("theme:change",i)},getPreset(){return this.preset},setPreset(i){this._theme=qd(To({},this.theme),{preset:i}),this._tokens=Oo.createTokens(i,this.defaults),this.clearLoadedStyleNames(),Xn.emit("preset:change",i),Xn.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(i){this._theme=qd(To({},this.theme),{options:i}),this.clearLoadedStyleNames(),Xn.emit("options:change",i),Xn.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(i){this._layerNames.add(i)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(i){return this._loadedStyleNames.has(i)},setLoadedStyleName(i){this._loadedStyleNames.add(i)},deleteLoadedStyleName(i){this._loadedStyleNames.delete(i)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(i){return Oo.getTokenValue(this.tokens,i,this.defaults)},getCommon(i="",n){return Oo.getCommon({name:i,theme:this.theme,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(i="",n){let e={name:i,theme:this.theme,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Oo.getPresetC(e)},getDirective(i="",n){let e={name:i,theme:this.theme,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Oo.getPresetD(e)},getCustomPreset(i="",n,e,t){let r={name:i,preset:n,options:this.options,selector:e,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Oo.getPreset(r)},getLayerOrderCSS(i=""){return Oo.getLayerOrder(i,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(i="",n,e="style",t){return Oo.transformCSS(i,n,t,e,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(i="",n,e={}){return Oo.getCommonStyleSheet({name:i,theme:this.theme,params:n,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(i,n,e={}){return Oo.getStyleSheet({name:i,theme:this.theme,params:n,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(i){this._loadingStyles.add(i)},onStyleUpdated(i){this._loadingStyles.add(i)},onStyleLoaded(i,{name:n}){this._loadingStyles.size&&(this._loadingStyles.delete(n),Xn.emit(`theme:${n}:load`,i),!this._loadingStyles.size&&Xn.emit("theme:load"))}};var Xw=0,iv=(()=>{class i{document=Ft(Io);use(e,t={}){let r=!1,o=e,s=null,{immediate:c=!0,manual:u=!1,name:d=`style_${++Xw}`,id:h=void 0,media:v=void 0,nonce:m=void 0,first:b=!1,props:w={}}=t;if(this.document){if(s=this.document.querySelector(`style[data-primeng-style-id="${d}"]`)||h&&this.document.getElementById(h)||this.document.createElement("style"),!s.isConnected){o=e,Wd(s,{type:"text/css",media:v,nonce:m});let C=this.document.head;b&&C.firstChild?C.insertBefore(s,C.firstChild):C.appendChild(s),$g(s,"data-primeng-style-id",d)}return s.textContent!==o&&(s.textContent=o),{id:h,name:d,el:s,css:o}}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=hr({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ga={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(i){return this._loadedStyleNames.has(i)},setLoadedStyleName(i){this._loadedStyleNames.add(i)},deleteLoadedStyleName(i){this._loadedStyleNames.delete(i)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},Zw=({dt:i})=>`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non ng overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* NG based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: ${i("disabled.opacity")};
}

.pi {
    font-size: ${i("icon.size")};
}

.p-icon {
    width: ${i("icon.size")};
    height: ${i("icon.size")};
}

.p-overlay-mask {
    background: ${i("mask.background")};
    color: ${i("mask.color")};
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation ${i("mask.transition.duration")} forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation ${i("mask.transition.duration")} forwards;
}
/* Temporarily disabled, distrupts PrimeNG overlay animations */
/* @keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: ${i("mask.background")};
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: ${i("mask.background")};
    }
    to {
        background: transparent;
    }
}*/

.p-iconwrapper {
    display: inline-flex;
    justify-content: center;
    align-items: center;
}
`,Jw=({dt:i})=>`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: ${i("scrollbar.width")};
}

/* @todo move to baseiconstyle.ts */

.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,nn=(()=>{class i{name="base";useStyle=Ft(iv);theme=void 0;css=void 0;classes={};inlineStyles={};load=(e,t={},r=o=>o)=>{let o=r(ao(e,{dt:Ka}));return o?this.useStyle.use(na(o),Cr({name:this.name},t)):{}};loadCSS=(e={})=>this.load(this.css,e);loadTheme=(e={},t="")=>this.load(this.theme,e,(r="")=>qt.transformCSS(e.name||this.name,`${r}${t}`));loadGlobalCSS=(e={})=>this.load(Jw,e);loadGlobalTheme=(e={},t="")=>this.load(Zw,e,(r="")=>qt.transformCSS(e.name||this.name,`${r}${t}`));getCommonTheme=e=>qt.getCommon(this.name,e);getComponentTheme=e=>qt.getComponent(this.name,e);getDirectiveTheme=e=>qt.getDirective(this.name,e);getPresetTheme=(e,t,r)=>qt.getCustomPreset(this.name,e,t,r);getLayerOrderThemeCSS=()=>qt.getLayerOrderCSS(this.name);getStyleSheet=(e="",t={})=>{if(this.css){let r=ao(this.css,{dt:Ka}),o=na(`${r}${e}`),s=Object.entries(t).reduce((c,[u,d])=>c.push(`${u}="${d}"`)&&c,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${s}>${o}</style>`}return""};getCommonThemeStyleSheet=(e,t={})=>qt.getCommonStyleSheet(this.name,e,t);getThemeStyleSheet=(e,t={})=>{let r=[qt.getStyleSheet(this.name,e,t)];if(this.theme){let o=this.name==="base"?"global-style":`${this.name}-style`,s=ao(this.theme,{dt:Ka}),c=na(qt.transformCSS(o,s)),u=Object.entries(t).reduce((d,[h,v])=>d.push(`${h}="${v}"`)&&d,[]).join(" ");r.push(`<style type="text/css" data-primeng-style-id="${o}" ${u}>${c}</style>`)}return r.join("")};static \u0275fac=function(t){return new(t||i)};static \u0275prov=hr({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Qw=(()=>{class i{theme=Xo(void 0);csp=Xo({nonce:void 0});isThemeChanged=!1;document=Ft(Io);baseStyle=Ft(nn);constructor(){qs(()=>{Xn.on("theme:change",e=>{bg(()=>{this.isThemeChanged=!0,this.theme.set(e)})})}),qs(()=>{let e=this.theme();this.document&&e&&(this.isThemeChanged||this.onThemeChange(e),this.isThemeChanged=!1)})}ngOnDestroy(){qt.clearLoadedStyleNames(),Xn.clear()}onThemeChange(e){qt.setTheme(e),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!qt.isStyleNameLoaded("common")){let{primitive:e,semantic:t,global:r,style:o}=this.baseStyle.getCommonTheme?.()||{},s={nonce:this.csp?.()?.nonce};this.baseStyle.load(e?.css,Cr({name:"primitive-variables"},s)),this.baseStyle.load(t?.css,Cr({name:"semantic-variables"},s)),this.baseStyle.load(r?.css,Cr({name:"global-variables"},s)),this.baseStyle.loadGlobalTheme(Cr({name:"global-style"},s),o),qt.setLoadedStyleName("common")}}setThemeConfig(e){let{theme:t,csp:r}=e||{};t&&this.theme.set(t),r&&this.csp.set(r)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=hr({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Jd=(()=>{class i extends Qw{ripple=Xo(!1);platformId=Ft(Wa);inputStyle=Xo(null);inputVariant=Xo(null);overlayOptions={};csp=Xo({nonce:void 0});filterMatchModeOptions={text:[Jr.STARTS_WITH,Jr.CONTAINS,Jr.NOT_CONTAINS,Jr.ENDS_WITH,Jr.EQUALS,Jr.NOT_EQUALS],numeric:[Jr.EQUALS,Jr.NOT_EQUALS,Jr.LESS_THAN,Jr.LESS_THAN_OR_EQUAL_TO,Jr.GREATER_THAN,Jr.GREATER_THAN_OR_EQUAL_TO],date:[Jr.DATE_IS,Jr.DATE_IS_NOT,Jr.DATE_BEFORE,Jr.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new qh;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Cr(Cr({},this.translation),e),this.translationSource.next(this.translation)}setConfig(e){let{csp:t,ripple:r,inputStyle:o,inputVariant:s,theme:c,overlayOptions:u,translation:d}=e||{};t&&this.csp.set(t),r&&this.ripple.set(r),o&&this.inputStyle.set(o),s&&this.inputVariant.set(s),u&&(this.overlayOptions=u),d&&this.setTranslation(d),c&&this.setThemeConfig({theme:c,csp:t})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275prov=hr({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),eC=new lc("PRIME_NG_CONFIG");function av(...i){let n=i?.map(t=>({provide:eC,useValue:t,multi:!1})),e=lg(()=>{let t=Ft(Jd);i?.forEach(r=>t.setConfig(r))});return cc([...n,e])}var sv={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}};var lv={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}};var cv={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}};var uv={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var dv={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}};var fv={root:{borderRadius:"{content.border.radius}"}};var pv={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}};var hv={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}};var gv={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}};var vv={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}};var mv={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}};var yv={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}};var bv={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}};var _v={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}};var wv={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}};var Cv={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}};var xv={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var Sv={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var Ov={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}};var Tv={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}};var kv={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}};var Ev={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}};var Pv={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Av={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}};var Dv={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}};var Mv={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}};var Lv={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}};var Rv={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}};var Iv={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}};var Nv={icon:{color:"{form.field.icon.color}"}};var Fv={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}};var jv={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Bv={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Vv={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}};var Hv={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}};var Wv={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}};var zv={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}};var Uv={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}};var $v={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}};var Kv={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var Gv={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}};var Yv={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}};var qv={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Xv={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}};var Zv={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Jv={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}};var Qv={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}};var em={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}};var tm={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var rm={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}};var nm={root:{outline:{width:"2px",color:"{content.background}"}}};var om={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}};var im={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}};var am={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}};var sm={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}};var lm={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var cm={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}};var um={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}};var dm={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}};var fm={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}};var pm={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}};var hm={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}};var gm={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}};var vm={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}};var mm={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}};var ym={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}};var bm={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}};var _m={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}};var wm={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}};var Cm={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var xm={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}};var Sm={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}};var Om={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}};var Tm={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var km={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var Em={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var Pm={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}};var Am={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var Dm={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var Mm={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}};var Lm={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}};var Rm={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}};var Im={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}};var Nm={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}};var Fm={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}};var jm={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}};var Bm={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}};var Vm={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var Hm={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};var Wm=Yh(Cr({},dv),{components:{accordion:sv,autocomplete:lv,avatar:cv,badge:uv,blockui:fv,breadcrumb:pv,button:hv,datepicker:Tv,card:gv,carousel:vv,cascadeselect:mv,checkbox:yv,chip:bv,colorpicker:_v,confirmdialog:wv,confirmpopup:Cv,contextmenu:xv,dataview:Ov,datatable:Sv,dialog:kv,divider:Ev,dock:Pv,drawer:Av,editor:Dv,fieldset:Mv,fileupload:Lv,iftalabel:Fv,floatlabel:Rv,galleria:Iv,iconfield:Nv,image:jv,imagecompare:Bv,inlinemessage:Vv,inplace:Hv,inputchips:Wv,inputgroup:zv,inputnumber:Uv,inputotp:$v,inputtext:Kv,knob:Gv,listbox:Yv,megamenu:qv,menu:Xv,menubar:Zv,message:Jv,metergroup:Qv,multiselect:em,orderlist:tm,organizationchart:rm,overlaybadge:nm,popover:cm,paginator:om,password:sm,panel:im,panelmenu:am,picklist:lm,progressbar:um,progressspinner:dm,radiobutton:fm,rating:pm,scrollpanel:gm,select:vm,selectbutton:mm,skeleton:ym,slider:bm,speeddial:_m,splitter:Cm,splitbutton:wm,stepper:xm,steps:Sm,tabmenu:Om,tabs:Tm,tabview:km,textarea:Am,tieredmenu:Dm,tag:Em,terminal:Pm,timeline:Mm,togglebutton:Rm,toggleswitch:Im,tree:jm,treeselect:Bm,treetable:Vm,toast:Lm,toolbar:Nm,virtualscroller:Hm,tooltip:Fm,ripple:hm}});var zm=(()=>{class i extends nn{name="common";static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275prov=hr({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),co=(()=>{class i{document=Ft(Io);platformId=Ft(Wa);el=Ft(Ha);injector=Ft(uc);cd=Ft(mg);renderer=Ft(pc);config=Ft(Jd);baseComponentStyle=Ft(zm);baseStyle=Ft(nn);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=Xs("pc");themeChangeListeners=[];_getHostInstance(e){if(e)return e?this.hostName?e.name===this.hostName?e:this._getHostInstance(e.parentInstance):e.parentInstance:void 0}_getOptionValue(e,t="",r={}){return xc(e,t,r)}ngOnInit(){this.document&&this._loadStyles()}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}ngOnChanges(e){if(this.document&&!wg(this.platformId)){let{dt:t}=e;t&&t.currentValue&&(this._loadScopedThemeStyles(t.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(t.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles(),this.themeChangeListeners.forEach(e=>Xn.off("theme:change",e))}_loadStyles(){let e=()=>{Ga.isStyleNameLoaded("base")||(this.baseStyle.loadGlobalCSS(this.styleOptions),Ga.setLoadedStyleName("base")),this._loadThemeStyles()};e(),this._themeChangeListener(()=>e())}_loadCoreStyles(){!Ga.isStyleNameLoaded("base")&&this._name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),Ga.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!qt.isStyleNameLoaded("common")){let{primitive:e,semantic:t,global:r,style:o}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,Cr({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(t?.css,Cr({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(r?.css,Cr({name:"global-variables"},this.styleOptions)),this.baseStyle.loadGlobalTheme(Cr({name:"global-style"},this.styleOptions),o),qt.setLoadedStyleName("common")}if(!qt.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:e,style:t}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(e,Cr({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(Cr({name:`${this.componentStyle?.name}-style`},this.styleOptions),t),qt.setLoadedStyleName(this.componentStyle?.name)}if(!qt.isStyleNameLoaded("layer-order")){let e=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,Cr({name:"layer-order",first:!0},this.styleOptions)),qt.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(e){let{css:t}=this.componentStyle?.getPresetTheme?.(e,`[${this.attrSelector}]`)||{},r=this.componentStyle?.load(t,Cr({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=r?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){Ga.clearLoadedStyleNames(),Xn.on("theme:change",e),this.themeChangeListeners.push(e)}cx(e,t){let r=this.parent?this.parent.componentStyle?.classes?.[e]:this.componentStyle?.classes?.[e];return typeof r=="function"?r({instance:this}):typeof r=="string"?r:e}sx(e){let t=this.componentStyle?.inlineStyles?.[e];return typeof t=="function"?t({instance:this}):typeof t=="string"?t:Cr({},t)}get parent(){return this.parentInstance}static \u0275fac=function(t){return new(t||i)};static \u0275dir=Ro({type:i,inputs:{dt:"dt"},features:[io([zm,nn]),Gs]})}return i})();var Um=(()=>{class i{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)}static addMultipleClasses(e,t){if(e&&t)if(e.classList){let r=t.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=t.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,t){e&&t&&[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(o=>this.removeClass(e,o)))}static hasClass(e,t){return e&&t?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}static find(e,t){return Array.from(e.querySelectorAll(t))}static findSingle(e,t){return this.isElement(e)?e.querySelector(t):null}static index(e){let t=e.parentNode.childNodes,r=0;for(var o=0;o<t.length;o++){if(t[o]==e)return r;t[o].nodeType==1&&r++}return-1}static indexWithinGroup(e,t){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var s=0;s<r.length;s++){if(r[s]==e)return o;r[s].attributes&&r[s].attributes[t]&&r[s].nodeType==1&&o++}return-1}static appendOverlay(e,t,r="self"){r!=="self"&&e&&t&&this.appendChild(e,t)}static alignOverlay(e,t,r="self",o=!0){e&&t&&(o&&(e.style.minWidth=`${i.getOuterWidth(t)}px`),r==="self"?this.relativePosition(e,t):this.absolutePosition(e,t))}static relativePosition(e,t,r=!0){let o=W=>{if(W)return getComputedStyle(W).getPropertyValue("position")==="relative"?W:o(W.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),c=t.offsetHeight,u=t.getBoundingClientRect(),d=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),v=this.getViewport(),b=o(e)?.getBoundingClientRect()||{top:-1*d,left:-1*h},w,C;u.top+c+s.height>v.height?(w=u.top-b.top-s.height,e.style.transformOrigin="bottom",u.top+w<0&&(w=-1*u.top)):(w=c+u.top-b.top,e.style.transformOrigin="top");let T=u.left+s.width-v.width,I=u.left-b.left;s.width>v.width?C=(u.left-b.left)*-1:T>0?C=I-T:C=u.left-b.left,e.style.top=w+"px",e.style.left=C+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,t,r=!0){let o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=o.height,c=o.width,u=t.offsetHeight,d=t.offsetWidth,h=t.getBoundingClientRect(),v=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),b=this.getViewport(),w,C;h.top+u+s>b.height?(w=h.top+v-s,e.style.transformOrigin="bottom",w<0&&(w=v)):(w=u+h.top+v,e.style.transformOrigin="top"),h.left+c>b.width?C=Math.max(0,h.left+m+d-c):C=h.left+m,e.style.top=w+"px",e.style.left=C+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}static getScrollableParents(e){let t=[];if(e){let r=this.getParents(e),o=/(auto|scroll)/,s=c=>{let u=window.getComputedStyle(c,null);return o.test(u.getPropertyValue("overflow"))||o.test(u.getPropertyValue("overflowX"))||o.test(u.getPropertyValue("overflowY"))};for(let c of r){let u=c.nodeType===1&&c.dataset.scrollselectors;if(u){let d=u.split(",");for(let h of d){let v=this.findSingle(c,h);v&&s(v)&&t.push(v)}}c.nodeType!==9&&s(c)&&t.push(c)}}return t}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementDimensions(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}static scrollInView(e,t){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),c=s?parseFloat(s):0,u=e.getBoundingClientRect(),h=t.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-o-c,v=e.scrollTop,m=e.clientHeight,b=this.getOuterHeight(t);h<0?e.scrollTop=v+h:h+b>m&&(e.scrollTop=v+h-m+b)}static fadeIn(e,t){e.style.opacity=0;let r=+new Date,o=0,s=function(){o=+e.style.opacity.replace(",",".")+(new Date().getTime()-r)/t,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(e,t){var r=1,o=50,s=t,c=o/s;let u=setInterval(()=>{r=r-c,r<=0&&(r=0,clearInterval(u)),e.style.opacity=r},o)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,t){var r=Element.prototype,o=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return o.call(e,t)}static getOuterWidth(e,t){let r=e.offsetWidth;if(t){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}static getHorizontalMargin(e){let t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}static innerWidth(e){let t=e.offsetWidth,r=getComputedStyle(e);return t+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),t}static width(e){let t=e.offsetWidth,r=getComputedStyle(e);return t-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),t}static getInnerHeight(e){let t=e.offsetHeight,r=getComputedStyle(e);return t+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),t}static getOuterHeight(e,t){let r=e.offsetHeight;if(t){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let t=e.offsetHeight,r=getComputedStyle(e);return t-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),t}static getWidth(e){let t=e.offsetWidth,r=getComputedStyle(e);return t-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),t}static getViewport(){let e=window,t=document,r=t.documentElement,o=t.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||o.clientWidth,c=e.innerHeight||r.clientHeight||o.clientHeight;return{width:s,height:c}}static getOffset(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,t){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(t,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return!0;var r=e.indexOf("Trident/");if(r>0){var o=e.indexOf("rv:");return!0}var s=e.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t&&t.el&&t.el.nativeElement)t.el.nativeElement.appendChild(e);else throw"Cannot append "+t+" to "+e}static removeChild(e,t){if(this.isElement(t))t.removeChild(e);else if(t.el&&t.el.nativeElement)t.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+t}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}static invokeElementMethod(e,t,r){e[t].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,t){e&&document.activeElement!==e&&e.focus(t)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,t=""){let r=this.find(e,this.getFocusableSelectorString(t)),o=[];for(let s of r){let c=getComputedStyle(s);this.isVisible(s)&&c.display!="none"&&c.visibility!="hidden"&&o.push(s)}return o}static getFocusableElement(e,t=""){let r=this.findSingle(e,this.getFocusableSelectorString(t));if(r){let o=getComputedStyle(r);if(this.isVisible(r)&&o.display!="none"&&o.visibility!="hidden")return r}return null}static getFirstFocusableElement(e,t=""){let r=this.getFocusableElements(e,t);return r.length>0?r[0]:null}static getLastFocusableElement(e,t){let r=this.getFocusableElements(e,t);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,t=!1){let r=i.getFocusableElements(e),o=0;if(r&&r.length>0){let s=r.indexOf(r[0].ownerDocument.activeElement);t?s==-1||s===0?o=r.length-1:o=s-1:s!=-1&&s!==r.length-1&&(o=s+1)}return r[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,t){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@parent":return t?.parentElement;case"@grandparent":return t?.parentElement.parentElement;default:let r=typeof e;if(r==="string")return document.querySelector(e);if(r==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let s=(c=>!!(c&&c.constructor&&c.call&&c.apply))(e)?e():e;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,t){if(e){let r=e.getAttribute(t);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,t={},...r){if(e){let o=document.createElement(e);return this.setAttributes(o,t),o.append(...r),o}}static setAttribute(e,t="",r){this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(t,r)}static setAttributes(e,t={}){if(this.isElement(e)){let r=(o,s)=>{let c=e?.$attrs?.[o]?[e?.$attrs?.[o]]:[];return[s].flat().reduce((u,d)=>{if(d!=null){let h=typeof d;if(h==="string"||h==="number")u.push(d);else if(h==="object"){let v=Array.isArray(d)?r(o,d):Object.entries(d).map(([m,b])=>o==="style"&&(b||b===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${b}`:b?m:void 0);u=v.length?u.concat(v.filter(m=>!!m)):u}}return u},c)};Object.entries(t).forEach(([o,s])=>{if(s!=null){let c=o.match(/^on(.+)/);c?e.addEventListener(c[1].toLowerCase(),s):o==="pBind"?this.setAttributes(e,s):(s=o==="class"?[...new Set(r("class",s))].join(" ").trim():o==="style"?r("style",s).join(";").trim():s,(e.$attrs=e.$attrs||{})&&(e.$attrs[o]=s),e.setAttribute(o,s))}})}}static isFocusableElement(e,t=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`):!1}}return i})();var $m=(()=>{class i extends co{autofocus=!1;_autofocus=!1;focused=!1;platformId=Ft(Wa);document=Ft(Io);host=Ft(Ha);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){yc(this.platformId)&&this._autofocus&&setTimeout(()=>{let e=Um.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275dir=Ro({type:i,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[2,"autofocus","autofocus",Zr],_autofocus:[0,"pAutoFocus","_autofocus"]},features:[Pn]})}return i})();var tC=({dt:i})=>`
.p-badge {
    display: inline-flex;
    border-radius: ${i("badge.border.radius")};
    justify-content: center;
    padding: ${i("badge.padding")};
    background: ${i("badge.primary.background")};
    color: ${i("badge.primary.color")};
    font-size: ${i("badge.font.size")};
    font-weight: ${i("badge.font.weight")};
    min-width: ${i("badge.min.width")};
    height: ${i("badge.height")};
    line-height: ${i("badge.height")};
}

.p-badge-dot {
    width: ${i("badge.dot.size")};
    min-width: ${i("badge.dot.size")};
    height: ${i("badge.dot.size")};
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: ${i("badge.secondary.background")};
    color: ${i("badge.secondary.color")};
}

.p-badge-success {
    background: ${i("badge.success.background")};
    color: ${i("badge.success.color")};
}

.p-badge-info {
    background: ${i("badge.info.background")};
    color: ${i("badge.info.color")};
}

.p-badge-warn {
    background: ${i("badge.warn.background")};
    color: ${i("badge.warn.color")};
}

.p-badge-danger {
    background: ${i("badge.danger.background")};
    color: ${i("badge.danger.color")};
}

.p-badge-contrast {
    background: ${i("badge.contrast.background")};
    color: ${i("badge.contrast.color")};
}

.p-badge-sm {
    font-size: ${i("badge.sm.font.size")};
    min-width: ${i("badge.sm.min.width")};
    height: ${i("badge.sm.height")};
    line-height: ${i("badge.sm.height")};
}

.p-badge-lg {
    font-size: ${i("badge.lg.font.size")};
    min-width: ${i("badge.lg.min.width")};
    height: ${i("badge.lg.height")};
    line-height: ${i("badge.lg.height")};
}

.p-badge-xl {
    font-size: ${i("badge.xl.font.size")};
    min-width: ${i("badge.xl.min.width")};
    height: ${i("badge.xl.height")};
    line-height: ${i("badge.xl.height")};
}

/* For PrimeNG (directive)*/

.p-overlay-badge {
    position: relative;
}

.p-overlay-badge > .p-badge {
    position: absolute;
    top: 0;
    inset-inline-end: 0;
    transform: translate(50%, -50%);
    transform-origin: 100% 0;
    margin: 0;
}
`,rC={root:({props:i,instance:n})=>["p-badge p-component",{"p-badge-circle":tr(i.value)&&String(i.value).length===1,"p-badge-dot":so(i.value)&&!n.$slots.default,"p-badge-sm":i.size==="small","p-badge-lg":i.size==="large","p-badge-xl":i.size==="xlarge","p-badge-info":i.severity==="info","p-badge-success":i.severity==="success","p-badge-warn":i.severity==="warn","p-badge-danger":i.severity==="danger","p-badge-secondary":i.severity==="secondary","p-badge-contrast":i.severity==="contrast"}]},Km=(()=>{class i extends nn{name="badge";theme=tC;classes=rC;static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275prov=hr({token:i,factory:i.\u0275fac})}return i})();var Qd=(()=>{class i extends co{styleClass=Ai();style=Ai();badgeSize=Ai();size=Ai();severity=Ai();value=Ai();badgeDisabled=Ai(!1,{transform:Zr});_componentStyle=Ft(Km);containerClass=Vd(()=>{let e="p-badge p-component";return tr(this.value())&&String(this.value()).length===1&&(e+=" p-badge-circle"),this.badgeSize()==="large"?e+=" p-badge-lg":this.badgeSize()==="xlarge"?e+=" p-badge-xl":this.badgeSize()==="small"&&(e+=" p-badge-sm"),so(this.value())&&(e+=" p-badge-dot"),this.styleClass()&&(e+=` ${this.styleClass()}`),this.severity()&&(e+=` p-badge-${this.severity()}`),e});static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275cmp=er({type:i,selectors:[["p-badge"]],hostVars:6,hostBindings:function(t,r){t&2&&(ug(r.style()),Mi(r.containerClass()),cg("display",r.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],style:[1,"style"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[io([Km]),Pn],decls:1,vars:1,template:function(t,r){t&1&&Ot(0),t&2&&Jo(r.value())},dependencies:[hn,lo],encapsulation:2,changeDetection:0})}return i})(),Gm=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=xo({type:i});static \u0275inj=Co({imports:[Qd,lo,lo]})}return i})();var oC=["*"],iC=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,aC=(()=>{class i extends nn{name="baseicon";inlineStyles=iC;static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275prov=hr({token:i,factory:i.\u0275fac})}return i})();var Ym=(()=>{class i extends co{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){super.ngOnInit(),this.getAttributes()}getAttributes(){let e=so(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275cmp=er({type:i,selectors:[["ng-component"]],hostAttrs:[1,"p-component","p-iconwrapper"],inputs:{label:"label",spin:[2,"spin","spin",Zr],styleClass:"styleClass"},features:[io([aC]),Pn],ngContentSelectors:oC,decls:1,vars:0,template:function(t,r){t&1&&(Zo(),So(0))},encapsulation:2,changeDetection:0})}return i})();var qm=(()=>{class i extends Ym{pathId;ngOnInit(){this.pathId="url(#"+Xs()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275cmp=er({type:i,selectors:[["SpinnerIcon"]],features:[Pn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(eg(),ut(0,"svg",0)(1,"g"),Xr(2,"path",1),bt(),ut(3,"defs")(4,"clipPath",2),Xr(5,"rect",3),bt()()()),t&2&&(Mi(r.getClassNames()),Yn("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),It(),Yn("clip-path",r.pathId),It(3),Rt("id",r.pathId))},encapsulation:2})}return i})();var sC=({dt:i})=>`
/* For PrimeNG */
.p-ripple {
    overflow: hidden;
    position: relative;
}

.p-ink {
    display: block;
    position: absolute;
    background: ${i("ripple.background")};
    border-radius: 100%;
    transform: scale(0);
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

.p-ripple-disabled .p-ink {
    display: none !important;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`,lC={root:"p-ink"},Xm=(()=>{class i extends nn{name="ripple";theme=sC;classes=lC;static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275prov=hr({token:i,factory:i.\u0275fac})}return i})();var Zm=(()=>{class i extends co{zone=Ft(fc);_componentStyle=Ft(Xm);animationListener;mouseDownListener;timeout;constructor(){super(),qs(()=>{yc(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}ngAfterViewInit(){super.ngAfterViewInit()}onMouseDown(e){let t=this.getInk();if(!t||this.document.defaultView?.getComputedStyle(t,null).display==="none")return;if(za(t,"p-ink-active"),!zd(t)&&!Ud(t)){let c=Math.max(Vg(this.el.nativeElement),zg(this.el.nativeElement));t.style.height=c+"px",t.style.width=c+"px"}let r=Wg(this.el.nativeElement),o=e.pageX-r.left+this.document.body.scrollTop-Ud(t)/2,s=e.pageY-r.top+this.document.body.scrollLeft-zd(t)/2;this.renderer.setStyle(t,"top",s+"px"),this.renderer.setStyle(t,"left",o+"px"),Cc(t,"p-ink-active"),this.timeout=setTimeout(()=>{let c=this.getInk();c&&za(c,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let t=0;t<e.length;t++)if(typeof e[t].className=="string"&&e[t].className.indexOf("p-ink")!==-1)return e[t];return null}resetInk(){let e=this.getInk();e&&za(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),za(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Ug(e))}ngOnDestroy(){this.config&&this.config.ripple()&&this.remove(),super.ngOnDestroy()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=Ro({type:i,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[io([Xm]),Pn]})}return i})(),Jm=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=xo({type:i});static \u0275inj=Co({})}return i})();var cC=["content"],uC=["loading"],dC=["icon"],fC=["*"],ty=i=>({class:i});function pC(i,n){i&1&&Li(0)}function hC(i,n){if(i&1&&Xr(0,"span",8),i&2){let e=ar(3);Rt("ngClass",e.iconClass()),Yn("aria-hidden",!0)("data-pc-section","loadingicon")}}function gC(i,n){if(i&1&&Xr(0,"SpinnerIcon",9),i&2){let e=ar(3);Rt("styleClass",e.spinnerIconClass())("spin",!0),Yn("aria-hidden",!0)("data-pc-section","loadingicon")}}function vC(i,n){if(i&1&&(ta(0),Fr(1,hC,1,3,"span",6)(2,gC,1,4,"SpinnerIcon",7),ra()),i&2){let e=ar(2);It(),Rt("ngIf",e.loadingIcon),It(),Rt("ngIf",!e.loadingIcon)}}function mC(i,n){}function yC(i,n){if(i&1&&Fr(0,mC,0,0,"ng-template",10),i&2){let e=ar(2);Rt("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function bC(i,n){if(i&1&&(ta(0),Fr(1,vC,3,2,"ng-container",2)(2,yC,1,1,null,5),ra()),i&2){let e=ar();It(),Rt("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),It(),Rt("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)("ngTemplateOutletContext",Ys(3,ty,e.iconClass()))}}function _C(i,n){if(i&1&&Xr(0,"span",8),i&2){let e=ar(2);Mi(e.icon),Rt("ngClass",e.iconClass()),Yn("data-pc-section","icon")}}function wC(i,n){}function CC(i,n){if(i&1&&Fr(0,wC,0,0,"ng-template",10),i&2){let e=ar(2);Rt("ngIf",!e.icon&&(e.iconTemplate||e._iconTemplate))}}function xC(i,n){if(i&1&&(ta(0),Fr(1,_C,1,4,"span",11)(2,CC,1,1,null,5),ra()),i&2){let e=ar();It(),Rt("ngIf",e.icon&&!e.iconTemplate&&!e._iconTemplate),It(),Rt("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",Ys(3,ty,e.iconClass()))}}function SC(i,n){if(i&1&&(ut(0,"span",12),Ot(1),bt()),i&2){let e=ar();Yn("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),It(),Jo(e.label)}}function OC(i,n){if(i&1&&Xr(0,"p-badge",13),i&2){let e=ar();Rt("value",e.badge)("severity",e.badgeSeverity)}}var TC=({dt:i})=>`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${i("button.primary.color")};
    background: ${i("button.primary.background")};
    border: 1px solid ${i("button.primary.border.color")};
    padding-block: ${i("button.padding.y")};
    padding-inline: ${i("button.padding.x")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${i("button.transition.duration")}, color ${i("button.transition.duration")}, border-color ${i("button.transition.duration")},
            outline-color ${i("button.transition.duration")}, box-shadow ${i("button.transition.duration")};
    border-radius: ${i("button.border.radius")};
    outline-color: transparent;
    gap: ${i("button.gap")};
}

.p-button-icon,
.p-button-icon:before,
.p-button-icon:after {
    line-height: inherit;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: ${i("button.icon.only.width")};
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: ${i("button.icon.only.width")};
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: ${i("button.sm.font.size")};
    padding-block: ${i("button.sm.padding.y")};
    padding-inline: ${i("button.sm.padding.x")};
}

.p-button-sm .p-button-icon {
    font-size: ${i("button.sm.font.size")};
}

.p-button-lg {
    font-size: ${i("button.lg.font.size")};
    padding-block: ${i("button.lg.padding.y")};
    padding-inline: ${i("button.lg.padding.x")};
}

.p-button-lg .p-button-icon {
    font-size: ${i("button.lg.font.size")};
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: ${i("button.label.font.weight")};
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: ${i("button.icon.only.width")};
}

.p-button:not(:disabled):hover {
    background: ${i("button.primary.hover.background")};
    border: 1px solid ${i("button.primary.hover.border.color")};
    color: ${i("button.primary.hover.color")};
}

.p-button:not(:disabled):active {
    background: ${i("button.primary.active.background")};
    border: 1px solid ${i("button.primary.active.border.color")};
    color: ${i("button.primary.active.color")};
}

.p-button:focus-visible {
    box-shadow: ${i("button.primary.focus.ring.shadow")};
    outline: ${i("button.focus.ring.width")} ${i("button.focus.ring.style")} ${i("button.primary.focus.ring.color")};
    outline-offset: ${i("button.focus.ring.offset")};
}

.p-button .p-badge {
    min-width: ${i("button.badge.size")};
    height: ${i("button.badge.size")};
    line-height: ${i("button.badge.size")};
}

.p-button-raised {
    box-shadow: ${i("button.raised.shadow")};
}

.p-button-rounded {
    border-radius: ${i("button.rounded.border.radius")};
}

.p-button-secondary {
    background: ${i("button.secondary.background")};
    border: 1px solid ${i("button.secondary.border.color")};
    color: ${i("button.secondary.color")};
}

.p-button-secondary:not(:disabled):hover {
    background: ${i("button.secondary.hover.background")};
    border: 1px solid ${i("button.secondary.hover.border.color")};
    color: ${i("button.secondary.hover.color")};
}

.p-button-secondary:not(:disabled):active {
    background: ${i("button.secondary.active.background")};
    border: 1px solid ${i("button.secondary.active.border.color")};
    color: ${i("button.secondary.active.color")};
}

.p-button-secondary:focus-visible {
    outline-color: ${i("button.secondary.focus.ring.color")};
    box-shadow: ${i("button.secondary.focus.ring.shadow")};
}

.p-button-success {
    background: ${i("button.success.background")};
    border: 1px solid ${i("button.success.border.color")};
    color: ${i("button.success.color")};
}

.p-button-success:not(:disabled):hover {
    background: ${i("button.success.hover.background")};
    border: 1px solid ${i("button.success.hover.border.color")};
    color: ${i("button.success.hover.color")};
}

.p-button-success:not(:disabled):active {
    background: ${i("button.success.active.background")};
    border: 1px solid ${i("button.success.active.border.color")};
    color: ${i("button.success.active.color")};
}

.p-button-success:focus-visible {
    outline-color: ${i("button.success.focus.ring.color")};
    box-shadow: ${i("button.success.focus.ring.shadow")};
}

.p-button-info {
    background: ${i("button.info.background")};
    border: 1px solid ${i("button.info.border.color")};
    color: ${i("button.info.color")};
}

.p-button-info:not(:disabled):hover {
    background: ${i("button.info.hover.background")};
    border: 1px solid ${i("button.info.hover.border.color")};
    color: ${i("button.info.hover.color")};
}

.p-button-info:not(:disabled):active {
    background: ${i("button.info.active.background")};
    border: 1px solid ${i("button.info.active.border.color")};
    color: ${i("button.info.active.color")};
}

.p-button-info:focus-visible {
    outline-color: ${i("button.info.focus.ring.color")};
    box-shadow: ${i("button.info.focus.ring.shadow")};
}

.p-button-warn {
    background: ${i("button.warn.background")};
    border: 1px solid ${i("button.warn.border.color")};
    color: ${i("button.warn.color")};
}

.p-button-warn:not(:disabled):hover {
    background: ${i("button.warn.hover.background")};
    border: 1px solid ${i("button.warn.hover.border.color")};
    color: ${i("button.warn.hover.color")};
}

.p-button-warn:not(:disabled):active {
    background: ${i("button.warn.active.background")};
    border: 1px solid ${i("button.warn.active.border.color")};
    color: ${i("button.warn.active.color")};
}

.p-button-warn:focus-visible {
    outline-color: ${i("button.warn.focus.ring.color")};
    box-shadow: ${i("button.warn.focus.ring.shadow")};
}

.p-button-help {
    background: ${i("button.help.background")};
    border: 1px solid ${i("button.help.border.color")};
    color: ${i("button.help.color")};
}

.p-button-help:not(:disabled):hover {
    background: ${i("button.help.hover.background")};
    border: 1px solid ${i("button.help.hover.border.color")};
    color: ${i("button.help.hover.color")};
}

.p-button-help:not(:disabled):active {
    background: ${i("button.help.active.background")};
    border: 1px solid ${i("button.help.active.border.color")};
    color: ${i("button.help.active.color")};
}

.p-button-help:focus-visible {
    outline-color: ${i("button.help.focus.ring.color")};
    box-shadow: ${i("button.help.focus.ring.shadow")};
}

.p-button-danger {
    background: ${i("button.danger.background")};
    border: 1px solid ${i("button.danger.border.color")};
    color: ${i("button.danger.color")};
}

.p-button-danger:not(:disabled):hover {
    background: ${i("button.danger.hover.background")};
    border: 1px solid ${i("button.danger.hover.border.color")};
    color: ${i("button.danger.hover.color")};
}

.p-button-danger:not(:disabled):active {
    background: ${i("button.danger.active.background")};
    border: 1px solid ${i("button.danger.active.border.color")};
    color: ${i("button.danger.active.color")};
}

.p-button-danger:focus-visible {
    outline-color: ${i("button.danger.focus.ring.color")};
    box-shadow: ${i("button.danger.focus.ring.shadow")};
}

.p-button-contrast {
    background: ${i("button.contrast.background")};
    border: 1px solid ${i("button.contrast.border.color")};
    color: ${i("button.contrast.color")};
}

.p-button-contrast:not(:disabled):hover {
    background: ${i("button.contrast.hover.background")};
    border: 1px solid ${i("button.contrast.hover.border.color")};
    color: ${i("button.contrast.hover.color")};
}

.p-button-contrast:not(:disabled):active {
    background: ${i("button.contrast.active.background")};
    border: 1px solid ${i("button.contrast.active.border.color")};
    color: ${i("button.contrast.active.color")};
}

.p-button-contrast:focus-visible {
    outline-color: ${i("button.contrast.focus.ring.color")};
    box-shadow: ${i("button.contrast.focus.ring.shadow")};
}

.p-button-outlined {
    background: transparent;
    border-color: ${i("button.outlined.primary.border.color")};
    color: ${i("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):hover {
    background: ${i("button.outlined.primary.hover.background")};
    border-color: ${i("button.outlined.primary.border.color")};
    color: ${i("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):active {
    background: ${i("button.outlined.primary.active.background")};
    border-color: ${i("button.outlined.primary.border.color")};
    color: ${i("button.outlined.primary.color")};
}

.p-button-outlined.p-button-secondary {
    border-color: ${i("button.outlined.secondary.border.color")};
    color: ${i("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: ${i("button.outlined.secondary.hover.background")};
    border-color: ${i("button.outlined.secondary.border.color")};
    color: ${i("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: ${i("button.outlined.secondary.active.background")};
    border-color: ${i("button.outlined.secondary.border.color")};
    color: ${i("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-success {
    border-color: ${i("button.outlined.success.border.color")};
    color: ${i("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: ${i("button.outlined.success.hover.background")};
    border-color: ${i("button.outlined.success.border.color")};
    color: ${i("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: ${i("button.outlined.success.active.background")};
    border-color: ${i("button.outlined.success.border.color")};
    color: ${i("button.outlined.success.color")};
}

.p-button-outlined.p-button-info {
    border-color: ${i("button.outlined.info.border.color")};
    color: ${i("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: ${i("button.outlined.info.hover.background")};
    border-color: ${i("button.outlined.info.border.color")};
    color: ${i("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: ${i("button.outlined.info.active.background")};
    border-color: ${i("button.outlined.info.border.color")};
    color: ${i("button.outlined.info.color")};
}

.p-button-outlined.p-button-warn {
    border-color: ${i("button.outlined.warn.border.color")};
    color: ${i("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: ${i("button.outlined.warn.hover.background")};
    border-color: ${i("button.outlined.warn.border.color")};
    color: ${i("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: ${i("button.outlined.warn.active.background")};
    border-color: ${i("button.outlined.warn.border.color")};
    color: ${i("button.outlined.warn.color")};
}

.p-button-outlined.p-button-help {
    border-color: ${i("button.outlined.help.border.color")};
    color: ${i("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: ${i("button.outlined.help.hover.background")};
    border-color: ${i("button.outlined.help.border.color")};
    color: ${i("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: ${i("button.outlined.help.active.background")};
    border-color: ${i("button.outlined.help.border.color")};
    color: ${i("button.outlined.help.color")};
}

.p-button-outlined.p-button-danger {
    border-color: ${i("button.outlined.danger.border.color")};
    color: ${i("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: ${i("button.outlined.danger.hover.background")};
    border-color: ${i("button.outlined.danger.border.color")};
    color: ${i("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: ${i("button.outlined.danger.active.background")};
    border-color: ${i("button.outlined.danger.border.color")};
    color: ${i("button.outlined.danger.color")};
}

.p-button-outlined.p-button-contrast {
    border-color: ${i("button.outlined.contrast.border.color")};
    color: ${i("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: ${i("button.outlined.contrast.hover.background")};
    border-color: ${i("button.outlined.contrast.border.color")};
    color: ${i("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: ${i("button.outlined.contrast.active.background")};
    border-color: ${i("button.outlined.contrast.border.color")};
    color: ${i("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-plain {
    border-color: ${i("button.outlined.plain.border.color")};
    color: ${i("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: ${i("button.outlined.plain.hover.background")};
    border-color: ${i("button.outlined.plain.border.color")};
    color: ${i("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: ${i("button.outlined.plain.active.background")};
    border-color: ${i("button.outlined.plain.border.color")};
    color: ${i("button.outlined.plain.color")};
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.primary.color")};
}

.p-button-text:not(:disabled):hover {
    background: ${i("button.text.primary.hover.background")};
    border-color: transparent;
    color: ${i("button.text.primary.color")};
}

.p-button-text:not(:disabled):active {
    background: ${i("button.text.primary.active.background")};
    border-color: transparent;
    color: ${i("button.text.primary.color")};
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: ${i("button.text.secondary.hover.background")};
    border-color: transparent;
    color: ${i("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: ${i("button.text.secondary.active.background")};
    border-color: transparent;
    color: ${i("button.text.secondary.color")};
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: ${i("button.text.success.hover.background")};
    border-color: transparent;
    color: ${i("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):active {
    background: ${i("button.text.success.active.background")};
    border-color: transparent;
    color: ${i("button.text.success.color")};
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: ${i("button.text.info.hover.background")};
    border-color: transparent;
    color: ${i("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):active {
    background: ${i("button.text.info.active.background")};
    border-color: transparent;
    color: ${i("button.text.info.color")};
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: ${i("button.text.warn.hover.background")};
    border-color: transparent;
    color: ${i("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: ${i("button.text.warn.active.background")};
    border-color: transparent;
    color: ${i("button.text.warn.color")};
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: ${i("button.text.help.hover.background")};
    border-color: transparent;
    color: ${i("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):active {
    background: ${i("button.text.help.active.background")};
    border-color: transparent;
    color: ${i("button.text.help.color")};
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: ${i("button.text.danger.hover.background")};
    border-color: transparent;
    color: ${i("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: ${i("button.text.danger.active.background")};
    border-color: transparent;
    color: ${i("button.text.danger.color")};
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: ${i("button.text.plain.hover.background")};
    border-color: transparent;
    color: ${i("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: ${i("button.text.plain.active.background")};
    border-color: transparent;
    color: ${i("button.text.plain.color")};
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: ${i("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: ${i("button.text.contrast.hover.background")};
    border-color: transparent;
    color: ${i("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: ${i("button.text.contrast.active.background")};
    border-color: transparent;
    color: ${i("button.text.contrast.color")};
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: ${i("button.link.color")};
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: ${i("button.link.hover.color")};
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: ${i("button.link.active.color")};
}

/* For PrimeNG */
.p-button-icon-right {
    order: 1;
}

p-button[iconpos='right'] spinnericon {
    order: 1;
}
`,kC={root:({instance:i,props:n})=>["p-button p-component",{"p-button-icon-only":i.hasIcon&&!n.label&&!n.badge,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-button-loading":n.loading,"p-button-link":n.link,[`p-button-${n.severity}`]:n.severity,"p-button-raised":n.raised,"p-button-rounded":n.rounded,"p-button-text":n.text,"p-button-outlined":n.outlined,"p-button-sm":n.size==="small","p-button-lg":n.size==="large","p-button-plain":n.plain,"p-button-fluid":n.fluid}],loadingIcon:"p-button-loading-icon",icon:({props:i})=>["p-button-icon",{[`p-button-icon-${i.iconPos}`]:i.label}],label:"p-button-label"},Qm=(()=>{class i extends nn{name="button";theme=TC;classes=kC;static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275prov=hr({token:i,factory:i.\u0275fac})}return i})();var EC=(()=>{class i extends co{type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;fluid;onClick=new dc;onFocus=new dc;onBlur=new dc;contentTemplate;loadingIconTemplate;iconTemplate;_buttonProps;get buttonProps(){return this._buttonProps}set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([t,r])=>this[`_${t}`]!==r&&(this[`_${t}`]=r))}get hasFluid(){let t=this.el.nativeElement.closest("p-fluid");return so(this.fluid)?!!t:this.fluid}_componentStyle=Ft(Qm);templates;_contentTemplate;_iconTemplate;_loadingIconTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnChanges(e){super.ngOnChanges(e);let{buttonProps:t}=e;if(t){let r=t.currentValue;for(let o in r)this[o]=r[o]}}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[t])=>e+` ${t}`,"p-button-loading-icon")}iconClass(){return{[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]:this.loading,"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text||this.variant=="text","p-button-outlined":this.outlined||this.variant=="outlined","p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,"p-button-fluid":this.hasFluid,[`${this.styleClass}`]:this.styleClass}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275cmp=er({type:i,selectors:[["p-button"]],contentQueries:function(t,r,o){if(t&1&&(An(o,cC,5),An(o,uC,5),An(o,dC,5),An(o,Ua,4)),t&2){let s;Dn(s=Mn())&&(r.contentTemplate=s.first),Dn(s=Mn())&&(r.loadingIconTemplate=s.first),Dn(s=Mn())&&(r.iconTemplate=s.first),Dn(s=Mn())&&(r.templates=s)}},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",Zr],loading:[2,"loading","loading",Zr],loadingIcon:"loadingIcon",raised:[2,"raised","raised",Zr],rounded:[2,"rounded","rounded",Zr],text:[2,"text","text",Zr],plain:[2,"plain","plain",Zr],severity:"severity",outlined:[2,"outlined","outlined",Zr],link:[2,"link","link",Zr],tabindex:[2,"tabindex","tabindex",yg],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",Zr],fluid:[2,"fluid","fluid",Zr],buttonProps:"buttonProps"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[io([Qm]),Pn,Gs],ngContentSelectors:fC,decls:7,vars:14,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","ngClass","pAutoFocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"value","severity",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"value","severity"]],template:function(t,r){t&1&&(Zo(),ut(0,"button",0),pn("click",function(s){return r.onClick.emit(s)})("focus",function(s){return r.onFocus.emit(s)})("blur",function(s){return r.onBlur.emit(s)}),So(1),Fr(2,pC,1,0,"ng-container",1)(3,bC,3,5,"ng-container",2)(4,xC,3,5,"ng-container",2)(5,SC,2,3,"span",3)(6,OC,1,2,"p-badge",4),bt()),t&2&&(Rt("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("pAutoFocus",r.autofocus),Yn("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),It(2),Rt("ngTemplateOutlet",r.contentTemplate||r._contentTemplate),It(),Rt("ngIf",r.loading),It(),Rt("ngIf",!r.loading),It(),Rt("ngIf",!r.contentTemplate&&!r._contentTemplate&&r.label),It(),Rt("ngIf",!r.contentTemplate&&!r._contentTemplate&&r.badge))},dependencies:[hn,hc,gc,mc,vc,Zm,$m,qm,Gm,Qd,lo],encapsulation:2,changeDetection:0})}return i})(),ry=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=xo({type:i});static \u0275inj=Co({imports:[hn,EC,lo,lo]})}return i})();var PC=["header"],AC=["title"],DC=["subtitle"],MC=["content"],LC=["footer"],RC=["*",[["p-header"]],[["p-footer"]]],IC=["*","p-header","p-footer"];function NC(i,n){i&1&&Li(0)}function FC(i,n){if(i&1&&(ut(0,"div",8),So(1,1),Fr(2,NC,1,0,"ng-container",6),bt()),i&2){let e=ar();It(2),Rt("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function jC(i,n){if(i&1&&(ta(0),Ot(1),ra()),i&2){let e=ar(2);It(),Jo(e.header)}}function BC(i,n){i&1&&Li(0)}function VC(i,n){if(i&1&&(ut(0,"div",9),Fr(1,jC,2,1,"ng-container",10)(2,BC,1,0,"ng-container",6),bt()),i&2){let e=ar();It(),Rt("ngIf",e.header&&!e._titleTemplate&&!e.titleTemplate),It(),Rt("ngTemplateOutlet",e.titleTemplate||e._titleTemplate)}}function HC(i,n){if(i&1&&(ta(0),Ot(1),ra()),i&2){let e=ar(2);It(),Jo(e.subheader)}}function WC(i,n){i&1&&Li(0)}function zC(i,n){if(i&1&&(ut(0,"div",11),Fr(1,HC,2,1,"ng-container",10)(2,WC,1,0,"ng-container",6),bt()),i&2){let e=ar();It(),Rt("ngIf",e.subheader&&!e._subtitleTemplate&&!e.subtitleTemplate),It(),Rt("ngTemplateOutlet",e.subtitleTemplate||e._subtitleTemplate)}}function UC(i,n){i&1&&Li(0)}function $C(i,n){i&1&&Li(0)}function KC(i,n){if(i&1&&(ut(0,"div",12),So(1,2),Fr(2,$C,1,0,"ng-container",6),bt()),i&2){let e=ar();It(2),Rt("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var GC=({dt:i})=>`
.p-card {
    background: ${i("card.background")};
    color: ${i("card.color")};
    box-shadow: ${i("card.shadow")};
    border-radius: ${i("card.border.radius")};
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: ${i("card.caption.gap")};
}

.p-card-body {
    padding: ${i("card.body.padding")};
    display: flex;
    flex-direction: column;
    gap: ${i("card.body.gap")};
}

.p-card-title {
    font-size: ${i("card.title.font.size")};
    font-weight: ${i("card.title.font.weight")};
}

.p-card-subtitle {
    color: ${i("card.subtitle.color")};
}
`,YC={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},ny=(()=>{class i extends nn{name="card";theme=GC;classes=YC;static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275prov=hr({token:i,factory:i.\u0275fac})}return i})();var ef=(()=>{class i extends co{header;subheader;set style(e){Gd(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=Xo(null);_componentStyle=Ft(ny);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"title":this._titleTemplate=e.template;break;case"subtitle":this._subtitleTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=gr(i)))(r||i)}})();static \u0275cmp=er({type:i,selectors:[["p-card"]],contentQueries:function(t,r,o){if(t&1&&(An(o,Zg,5),An(o,Jg,5),An(o,PC,4),An(o,AC,4),An(o,DC,4),An(o,MC,4),An(o,LC,4),An(o,Ua,4)),t&2){let s;Dn(s=Mn())&&(r.headerFacet=s.first),Dn(s=Mn())&&(r.footerFacet=s.first),Dn(s=Mn())&&(r.headerTemplate=s.first),Dn(s=Mn())&&(r.titleTemplate=s.first),Dn(s=Mn())&&(r.subtitleTemplate=s.first),Dn(s=Mn())&&(r.contentTemplate=s.first),Dn(s=Mn())&&(r.footerTemplate=s.first),Dn(s=Mn())&&(r.templates=s)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[io([ny]),Pn],ngContentSelectors:IC,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(t,r){t&1&&(Zo(RC),ut(0,"div",0),Fr(1,FC,3,1,"div",1),ut(2,"div",2),Fr(3,VC,3,2,"div",3)(4,zC,3,2,"div",4),ut(5,"div",5),So(6),Fr(7,UC,1,0,"ng-container",6),bt(),Fr(8,KC,3,1,"div",7),bt()()),t&2&&(Mi(r.styleClass),Rt("ngClass","p-card p-component")("ngStyle",r._style()),Yn("data-pc-name","card"),It(),Rt("ngIf",r.headerFacet||r.headerTemplate||r._headerTemplate),It(2),Rt("ngIf",r.header||r.titleTemplate||r._titleTemplate),It(),Rt("ngIf",r.subheader||r.subtitleTemplate||r._subtitleTemplate),It(3),Rt("ngTemplateOutlet",r.contentTemplate||r._contentTemplate),It(),Rt("ngIf",r.footerFacet||r.footerTemplate||r._footerTemplate))},dependencies:[hn,hc,gc,mc,vc,lo],encapsulation:2,changeDetection:0})}return i})(),Ec=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=xo({type:i});static \u0275inj=Co({imports:[ef,lo,lo]})}return i})();var Pc=class i{email="";subscribeNewsletter(){if(this.email.trim()===""){alert("Prosz\u0119 poda\u0107 adres email!");return}alert(`\u{1F4E9} Zapisano do newslettera: ${this.email}`),this.email=""}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=er({type:i,selectors:[["app-footer"]],decls:47,vars:1,consts:[[1,"footer"],[1,"container"],[1,"footer-brand"],["src","assets/Logo.jpg","alt","Logo",1,"footer-logo"],[1,"footer-links"],["href","#hero"],["href","#services"],["href","#about"],["href","#contact"],[1,"footer-contact"],["href","mailto:kontakt@twojadomena.pl"],["href","tel:+48123456789"],[1,"footer-newsletter"],[3,"submit"],["type","email","placeholder","Tw\xF3j email",3,"ngModelChange","ngModel"],["type","submit",1,"subscribe-btn"],[1,"footer-bottom"]],template:function(e,t){e&1&&(ut(0,"footer",0)(1,"div",1)(2,"div",2),Xr(3,"img",3),ut(4,"p"),Ot(5,"Jeste\u015Bmy zespo\u0142em ekspert\xF3w IT, kt\xF3rzy dostarczaj\u0105 innowacyjne rozwi\u0105zania technologiczne na najwy\u017Cszym poziomie."),bt()(),ut(6,"div",4)(7,"h3"),Ot(8,"\u{1F680} Linki"),bt(),ut(9,"ul")(10,"li")(11,"a",5),Ot(12,"Strona g\u0142\xF3wna"),bt()(),ut(13,"li")(14,"a",6),Ot(15,"Us\u0142ugi"),bt()(),ut(16,"li")(17,"a",7),Ot(18,"O nas"),bt()(),ut(19,"li")(20,"a",8),Ot(21,"Kontakt"),bt()()()(),ut(22,"div",9)(23,"h3"),Ot(24,"Kontakt"),bt(),ut(25,"p"),Ot(26,"Email: "),ut(27,"a",10),Ot(28,"adrian.lewkowiczm@gmail.com"),bt()(),ut(29,"p"),Ot(30,"Telefon: "),ut(31,"a",11),Ot(32,"+48 609 449 000"),bt()(),ut(33,"p"),Ot(34,"Adres: Lublin, Polska"),bt()(),ut(35,"div",12)(36,"h3"),Ot(37,"\u{1F4E9} Newsletter"),bt(),ut(38,"p"),Ot(39,"Zapisz si\u0119, aby otrzymywa\u0107 najnowsze informacje i oferty!"),bt(),ut(40,"form",13),pn("submit",function(){return t.subscribeNewsletter()}),ut(41,"input",14),gg("ngModelChange",function(o){return hg(t.email,o)||(t.email=o),o}),bt(),ut(42,"button",15),Ot(43,"Zapisz si\u0119"),bt()()()(),ut(44,"div",16)(45,"p"),Ot(46,"\xA9 2024 Twoja Firma. Wszelkie prawa zastrze\u017Cone."),bt()()()),e&2&&(It(41),pg("ngModel",t.email))},dependencies:[Ig,Rg,Pg,Ag,Dg,Lg,Mg],styles:['@charset "UTF-8";.footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b);color:#fff;padding:80px 20px;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;gap:40px;max-width:1200px;width:100%}.footer-brand[_ngcontent-%COMP%]{max-width:400px;text-align:center}.footer-logo[_ngcontent-%COMP%]{width:120px;margin-bottom:15px;border-radius:30px}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;line-height:1.5}.footer-links[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .footer-newsletter[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px;color:#fc0}.footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:1.1rem;transition:color .3s ease-in-out}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fc0}.footer-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;margin-bottom:5px}.footer-contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fc0;text-decoration:none}.footer-contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;margin-top:15px}.footer-newsletter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px;width:220px;border:none;border-radius:8px;font-size:1rem;outline:none}.subscribe-btn[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ff416c,#ff4b2b);border:none;color:#fff;padding:12px 18px;font-size:1rem;font-weight:700;border-radius:8px;cursor:pointer;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out}.subscribe-btn[_ngcontent-%COMP%]:hover{transform:scale(1.07);box-shadow:0 8px 15px #ff4b2b99}.footer-bottom[_ngcontent-%COMP%]{margin-top:40px;font-size:1rem;opacity:.8}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.footer-newsletter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}']})};var XC=i=>["/service",i];function ZC(i,n){if(i&1&&Xr(0,"img",8),i&2){let e=ar().$implicit;Rt("src",e.image,og)("alt",e.title)}}function JC(i,n){if(i&1){let e=dg();ut(0,"h3")(1,"a",9),pn("click",function(){Jh(e);let r=ar().$implicit,o=ar();return Qh(o.navigateToService(r))}),Ot(2),bt()(),ut(3,"p"),Ot(4),bt()}if(i&2){let e=ar().$implicit,t=ar();It(),Rt("routerLink",Ys(4,XC,t.encodeTitle(e.title))),Yn("data-title",e.title),It(),fg(" ",e.title," "),It(2),Jo(e.description)}}function QC(i,n){i&1&&(ut(0,"p-card",5),Fr(1,ZC,1,2,"ng-template",6)(2,JC,5,6,"ng-template",7),bt())}var Ya=class i{service;selectedStep=null;services=[{title:"Aplikacje Webowe",description:"Nowoczesne i wydajne strony.",image:"/assets/images/web-dev.jpg"},{title:"Aplikacje Desktopowe",description:"Dla Windows, Mac i Linux.",image:"/assets/images/desktop.jpg"},{title:"Chmura (AWS, Azure, GCP)",description:"Wdra\u017Camy chmur\u0119 dla firm.",image:"/assets/images/cloud.jpg"},{title:"Aplikacje Mobilne",description:"iOS i Android z nowoczesnym UX.",image:"/assets/images/mobile.jpg"}];ngAfterViewInit(){this.scrollToLastViewedService()}encodeTitle(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[(),]/g,"").toLowerCase()}showDetail(n){this.selectedStep=n,setTimeout(()=>this.selectedStep=null,3e3)}navigateToService(n){localStorage.setItem("lastViewedService",n.title),localStorage.setItem("lastViewedServiceUrl",window.location.pathname)}scrollToLastViewedService(){setTimeout(()=>{let n=localStorage.getItem("lastViewedService");n&&requestAnimationFrame(()=>{let e=document.querySelector(`[data-title="${n}"]`);e&&e.scrollIntoView({behavior:"smooth",block:"center"})})},500)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=er({type:i,selectors:[["app-services"]],decls:7,vars:1,consts:[["id","services",1,"section"],[1,"fade-in"],[1,"highlight"],[1,"service-grid"],["class","fade-in service-card",4,"ngFor","ngForOf"],[1,"fade-in","service-card"],["pTemplate","header"],["pTemplate","content"],[3,"src","alt"],[3,"click","routerLink"]],template:function(e,t){e&1&&(ut(0,"div",0)(1,"h2",1),Ot(2,"\u{1F525} Nasze "),ut(3,"span",2),Ot(4,"Us\u0142ugi"),bt()(),ut(5,"div",3),Fr(6,QC,3,0,"p-card",4),bt()()),e&2&&(It(6),Rt("ngForOf",t.services))},dependencies:[hn,_g,Ec,ef,Ua,_c,Tg],styles:['@charset "UTF-8";.section[_ngcontent-%COMP%]{text-align:center;padding:100px 20px;background:linear-gradient(135deg,#0f172a,#1e293b);color:#fff;overflow:hidden}h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;text-transform:uppercase;margin-bottom:40px;animation:_ngcontent-%COMP%_slide-up 1s ease-out}.highlight[_ngcontent-%COMP%]{color:#fc0;text-shadow:0px 0px 20px rgba(255,204,0,.8)}.service-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:30px}.service-card[_ngcontent-%COMP%]{width:320px;text-align:center;border-radius:16px;overflow:hidden;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:20px;transition:transform .4s ease,box-shadow .4s ease;box-shadow:0 4px 10px #fff3}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px) scale(1.05);box-shadow:0 15px 30px #ffffff4d}.service-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-bottom:4px solid #ffcc00;transition:transform .3s ease-in-out}.service-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.08)}.service-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;margin-top:15px;font-weight:700}.service-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;padding:0 15px;line-height:1.5}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.fade-in[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);transition:opacity .8s ease-out,transform .8s ease-out}.fade-in.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){h2[_ngcontent-%COMP%]{font-size:2.5rem}.service-card[_ngcontent-%COMP%]{width:100%}}']})};var Ac=class i{constructor(n,e,t){this.el=n;this.renderer=e;this.router=t}showContent=!1;ngAfterViewInit(){setTimeout(()=>{this.scrollToHero()},200);let n=this.el.nativeElement.querySelectorAll(".fade-in"),e=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&this.renderer.addClass(r.target,"visible")})},{threshold:.1});n.forEach(t=>e.observe(t)),window.addEventListener("scroll",()=>{window.scrollY>100&&(this.showContent=!0)})}scrollToHero(){let n=document.getElementById("hero");n&&n.scrollIntoView({behavior:"smooth",block:"start"})}scrollToSection(n){let e=document.getElementById(n);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}static \u0275fac=function(e){return new(e||i)(Di(Ha),Di(pc),Di(bc))};static \u0275cmp=er({type:i,selectors:[["app-home"]],decls:25,vars:0,consts:[["id","hero",1,"hero"],[1,"hero-overlay"],[1,"hero-content"],[1,"fade-in"],[1,"highlight"],[1,"cta-btn","pulse-effect",3,"click"],[1,"nav"],[3,"click"],["id","services"]],template:function(e,t){e&1&&(ut(0,"div",0),Xr(1,"div",1),ut(2,"div",2)(3,"h1",3),Ot(4," Tworzymy "),ut(5,"span",4),Ot(6,"innowacyjne"),bt(),Ot(7," rozwi\u0105zania IT "),bt(),ut(8,"p",3),Ot(9,"Web | Mobile | Cloud | Desktop"),bt(),ut(10,"button",5),pn("click",function(){return t.scrollToSection("contact")}),Ot(11," \u{1F4E9} Skontaktuj si\u0119 z nami "),bt()()(),ut(12,"div",6)(13,"a",7),pn("click",function(){return t.scrollToSection("hero")}),Ot(14,"\u{1F3E0} Strona G\u0142\xF3wna"),bt(),ut(15,"a",7),pn("click",function(){return t.scrollToSection("services")}),Ot(16,"\u{1F525} Us\u0142ugi"),bt(),ut(17,"a",7),pn("click",function(){return t.scrollToSection("about")}),Ot(18,"\u{1F4A1} O nas"),bt(),ut(19,"a",7),pn("click",function(){return t.scrollToSection("contact")}),Ot(20,"\u{1F4E9} Kontakt"),bt()(),Xr(21,"app-services",8)(22,"app-about")(23,"app-contact")(24,"app-footer"))},dependencies:[hn,wc,ry,Ec,Jm,Ng,Fg,Ya,Pc],styles:['@charset "UTF-8";.hero[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;background:linear-gradient(to right,#000000b3,#0006),url(/assets/images/hero-bg.jpg) center/cover no-repeat;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff;overflow:hidden;padding:20px}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:800px;padding:20px;animation:fadeIn 1.5s ease-in-out;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}h1[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;line-height:1.2;text-transform:uppercase;animation:_ngcontent-%COMP%_slide-up 1s ease-out}.highlight[_ngcontent-%COMP%]{color:#fc0;text-shadow:0px 0px 20px rgba(255,204,0,.8)}p[_ngcontent-%COMP%]{font-size:1.5rem;opacity:.9;animation:_ngcontent-%COMP%_fade-in 1.5s ease-in-out}.cta-btn[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(90deg,#ff416c,#ff4b2b);color:#fff;border:none;padding:15px 40px;font-size:1.4rem;font-weight:700;border-radius:50px;cursor:pointer;transition:all .3s ease-in-out;box-shadow:0 4px 15px #ff4b2b66;display:flex;align-items:center;justify-content:center;gap:10px;text-transform:uppercase;letter-spacing:1px;position:relative;overflow:hidden}.pulse-effect[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.cta-btn[_ngcontent-%COMP%]:hover{transform:scale(1.07);box-shadow:0 10px 30px #ff4b2b99}.nav[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;display:flex;justify-content:center;gap:20px;background:#000c;padding:15px;z-index:100;transition:background .3s ease-in-out,transform .3s ease-in-out}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;font-size:1.2rem;text-decoration:none;transition:color .3s ease-in-out}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fc0}.section[_ngcontent-%COMP%]{padding:100px;text-align:center}.service-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.service-card[_ngcontent-%COMP%]{width:250px;text-align:center;border-radius:12px;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease}.service-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #ffffff4d}.service-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover;border-bottom:3px solid #ffcc00}.service-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;margin-top:10px}.service-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.8;padding:0 10px}.about-section[_ngcontent-%COMP%]{text-align:center;background:linear-gradient(135deg,#0f172a,#1e293b);color:#fff;padding:100px 20px}.about-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:10px}.about-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;max-width:800px;margin:0 auto 30px}.about-section[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:20px}.about-section[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]{background:#ffffff1a;padding:20px;border-radius:10px;width:300px;text-align:center;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out}.about-section[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 10px 20px #fff3}.about-section[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:3rem;color:#22d3ee;margin-bottom:10px}.about-section[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:5px}.about-section[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.8}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.fade-in[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);transition:opacity .8s ease-out,transform .8s ease-out}.fade-in.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 15px #ff4b2b66}50%{box-shadow:0 0 30px #ff4b2b99}to{box-shadow:0 0 15px #ff4b2b66}}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:2.5rem}.cta-btn[_ngcontent-%COMP%]{font-size:1rem;padding:12px 30px}}.main-content[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px);transition:opacity 1s ease-out,transform 1s ease-out}.main-content.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}']})};var Dc=class i{constructor(n){this.router=n}navigateTo(n){this.router.navigate([n])}static \u0275fac=function(e){return new(e||i)(Di(bc))};static \u0275cmp=er({type:i,selectors:[["app-landing-page"]],decls:14,vars:0,consts:[[1,"landing-container"],[1,"tiles"],[1,"tile",3,"click"]],template:function(e,t){e&1&&(ut(0,"div",0)(1,"h1"),Ot(2,"Witaj w TimeEngine!"),bt(),ut(3,"div",1)(4,"div",2),pn("click",function(){return t.navigateTo("home")}),ut(5,"h2"),Ot(6,"\u{1F30D} Wizyt\xF3wka"),bt(),ut(7,"p"),Ot(8,"Odkryj nasz\u0105 stron\u0119 g\u0142\xF3wn\u0105"),bt()(),ut(9,"div",2),pn("click",function(){return t.navigateTo("dashboard")}),ut(10,"h2"),Ot(11,"\u2699\uFE0F System"),bt(),ut(12,"p"),Ot(13,"Zarz\u0105dzaj czasem i ucz si\u0119 z AI"),bt()()()())},dependencies:[hn,_c],styles:[".landing-container[_ngcontent-%COMP%]{text-align:center;padding:50px}.landing-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px}.landing-container[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.landing-container[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]{width:250px;height:180px;background:linear-gradient(135deg,#2193b0,#6dd5ed);color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;border-radius:15px;cursor:pointer;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out}.landing-container[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 10px 20px #0000004d}"]})};var Mc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=er({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,t){e&1&&(ut(0,"p"),Ot(1," dashboard works! "),bt())},styles:[".dashboard-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px}"]})};var iy=[{path:"",component:Dc},{path:"home",component:Ac},{path:"dashboard",component:Mc},{path:"about",loadComponent:()=>import("./chunk-G5W7Y63P.js").then(i=>i.AboutComponent)},{path:"contact",loadComponent:()=>import("./chunk-3AKJ5WXF.js").then(i=>i.ContactComponent)},{path:"services",component:Ya,runGuardsAndResolvers:"always"},{path:"service/:title",loadComponent:()=>import("./chunk-AGSB5XAA.js").then(i=>i.ServiceDetailComponent)},{path:"**",redirectTo:""}];var ay={providers:[vg({eventCoalescing:!0}),kg(iy,Eg()),jg(),av({theme:{preset:Wm}}),Cg(),Zh(wc)]};var ex={4729:(i,n,e)=>{var t,r,o;(function(s){r=[e(5706),e(4193)],t=s,o=typeof t=="function"?t.apply(n,r):t,o!==void 0&&(i.exports=o)})(function(s,c){var u=Array.prototype.slice;function d(Y,oe,V){return V.length<=4?Y.call(oe,V[0],V[1],V[2],V[3]):Y.apply(oe,V)}function h(Y,oe){return u.call(Y,oe)}function v(Y,oe){return Y==null?!1:(s.isArray(oe)||(oe=h(arguments,1)),s.all(oe,function(V){return V in Y}))}var m=function(){var Y=!1,oe=-1;function V(){oe++,Y=!0,s.defer(function(){Y=!1})}return function(){return Y||V(),oe}}();function b(){this.registeredObjects=[],this.cidIndexes=[]}b.prototype={isRegistered:function(Y){return Y&&Y.cid?this.registeredObjects[Y.cid]:s.contains(this.registeredObjects,Y)},register:function(Y){return this.isRegistered(Y)?!1:(Y&&Y.cid?(this.registeredObjects[Y.cid]=Y,this.cidIndexes.push(Y.cid)):this.registeredObjects.push(Y),!0)},unregister:function(Y){if(this.isRegistered(Y)){if(Y&&Y.cid)delete this.registeredObjects[Y.cid],this.cidIndexes.splice(s.indexOf(this.cidIndexes,Y.cid),1);else{var oe=s.indexOf(this.registeredObjects,Y);this.registeredObjects.splice(oe,1)}return!0}return!1},get:function(){return s.map(this.cidIndexes,function(Y){return this.registeredObjects[Y]},this).concat(this.registeredObjects)}};function w(Y,oe,V,R){for(var U=0,H=oe.length,te;U<H;U++)if(te=oe[U],!!te){if(Y==="on"){if(!R.objectRegistry.register(te))continue}else if(!R.objectRegistry.unregister(te))continue;s.isFunction(te[Y])&&te[Y]("all",V,R)}}function C(Y,oe){var V=oe.type,R=oe.undoTypes,U=!R[V]||R[V][Y];s.isFunction(U)&&U(oe.object,oe.before,oe.after,oe.options)}function T(Y,oe,V,R,U){if(!(V.isCurrentlyUndoRedoing||Y==="undo"&&V.pointer===-1||Y==="redo"&&V.pointer===V.length-1)){V.isCurrentlyUndoRedoing=!0;var H,te,P=Y==="undo";for(U?te=P&&V.pointer===V.length-1||!P&&V.pointer===-1?s.clone(V.models):u.apply(V.models,P?[0,V.pointer]:[V.pointer,V.length-1]):(H=V.at(P?V.pointer:V.pointer+1),te=R?V.where({magicFusionIndex:H.get("magicFusionIndex")}):[H]),V.pointer+=(P?-1:1)*te.length;H=P?te.pop():te.shift();)H[Y]();V.isCurrentlyUndoRedoing=!1,oe.trigger(Y,oe)}}function I(Y,oe){var V=Y.condition,R=typeof V;return R==="function"?!!d(V,Y,oe):R==="boolean"?V:!0}function W(Y,oe,V,R){if(Y.track&&!Y.isCurrentlyUndoRedoing&&oe in R&&I(R[oe],V)){var U=d(R[oe].on,R[oe],V),H;if(v(U,"object","before","after")){if(U.type=oe,U.magicFusionIndex=m(),U.undoTypes=R,Y.pointer<Y.length-1)for(var H=Y.length-Y.pointer-1;H--;)Y.pop();Y.pointer=Y.length,Y.add(U),Y.length>Y.maximumStackLength&&(Y.shift(),Y.pointer--)}}}var j={add:{undo:function(Y,oe,V,R){Y.remove(V,R)},redo:function(Y,oe,V,R){R.index&&(R.at=R.index),Y.add(V,R)},on:function(Y,oe,V){return{object:oe,before:void 0,after:Y,options:s.clone(V)}}},remove:{undo:function(Y,oe,V,R){"index"in R&&(R.at=R.index),Y.add(oe,R)},redo:function(Y,oe,V,R){Y.remove(oe,R)},on:function(Y,oe,V){return{object:oe,before:Y,after:void 0,options:s.clone(V)}}},change:{undo:function(Y,oe,V,R){s.isEmpty(oe)?s.each(s.keys(V),Y.unset,Y):(Y.set(oe),R&&R.unsetData&&R.unsetData.before&&R.unsetData.before.length&&s.each(R.unsetData.before,Y.unset,Y))},redo:function(Y,oe,V,R){s.isEmpty(V)?s.each(s.keys(oe),Y.unset,Y):(Y.set(V),R&&R.unsetData&&R.unsetData.after&&R.unsetData.after.length&&s.each(R.unsetData.after,Y.unset,Y))},on:function(Y,oe){var V=Y.changedAttributes(),R=s.keys(V),U=s.pick(Y.previousAttributes(),R),H=s.keys(U),te=(oe||(oe={})).unsetData={after:[],before:[]};return R.length!=H.length&&(R.length>H.length?s.each(R,function(P){P in U||te.before.push(P)},this):s.each(H,function(P){P in V||te.after.push(P)})),{object:Y,before:U,after:V,options:s.clone(oe)}}},reset:{undo:function(Y,oe,V){Y.reset(oe)},redo:function(Y,oe,V){Y.reset(V)},on:function(Y,oe){return{object:Y,before:oe.previousModels,after:s.clone(Y.models)}}}};function z(){}z.prototype=j;function ue(Y,oe,V,R){if(typeof oe=="object")return s.each(oe,function(U,H){Y===2?ue(Y,U,V,R):ue(Y,H,U,V)});switch(Y){case 0:v(V,"undo","redo","on")&&s.all(s.pick(V,"undo","redo","on"),s.isFunction)&&(R[oe]=V);break;case 1:R[oe]&&s.isObject(V)&&(R[oe]=s.extend({},R[oe],V));break;case 2:delete R[oe];break}return this}var ye=c.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(Y){C("undo",this.attributes)},redo:function(Y){C("redo",this.attributes)}}),xe=c.Collection.extend({model:ye,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(Y){this.maximumStackLength=Y}}),le=c.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(Y){this.stack=new xe,this.objectRegistry=new b,this.undoTypes=new z,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(oe,V){this.stack.setMaxLength(V)},this),Y&&Y.track&&this.startTracking(),Y&&Y.register&&(s.isArray(Y.register)||s.isArguments(Y.register)?d(this.register,this,Y.register):this.register(Y.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(Y){W(this.stack,Y,h(arguments,1),this.undoTypes)},register:function(){w("on",arguments,this._addToStack,this)},unregister:function(){w("off",arguments,this._addToStack,this)},unregisterAll:function(){d(this.unregister,this,this.objectRegistry.get())},undo:function(Y){T("undo",this,this.stack,Y)},undoAll:function(){T("undo",this,this.stack,!1,!0)},redo:function(Y){T("redo",this,this.stack,Y)},redoAll:function(){T("redo",this,this.stack,!1,!0)},isAvailable:function(Y){var oe=this.stack,V=oe.length;switch(Y){case"undo":return V>0&&oe.pointer>-1;case"redo":return V>0&&oe.pointer<V-1;default:return!1}},merge:function(Y){for(var oe=s.isArray(Y)?Y:h(arguments),V;V=oe.pop();)V instanceof le&&V.stack instanceof xe&&(V.stack=this.stack)},addUndoType:function(Y,oe){ue(0,Y,oe,this.undoTypes)},changeUndoType:function(Y,oe){ue(1,Y,oe,this.undoTypes)},removeUndoType:function(Y){ue(2,Y,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return s.extend(le,{defaults:function(Y){s.extend(le.prototype.defaults,Y)},addUndoType:function(Y,oe){ue(0,Y,oe,j)},changeUndoType:function(Y,oe){ue(1,Y,oe,j)},removeUndoType:function(Y){ue(2,Y,void 0,j)}}),c.UndoManager=le})},4193:(i,n,e)=>{var t,r;(function(o){var s=typeof self=="object"&&self.self===self&&self||typeof e.g=="object"&&e.g.global===e.g&&e.g;if(1)t=[e(5706),e(6411),n],r=function(d,h,v){s.Backbone=o(s,v,d,h)}.apply(n,t),r!==void 0&&(i.exports=r);else var c,u})(function(o,s,c,u){var d=o.Backbone,h=Array.prototype.slice;s.VERSION="1.4.1",s.$=u,s.noConflict=function(){return o.Backbone=d,this},s.emulateHTTP=!1,s.emulateJSON=!1;var v=s.Events={},m=/\s+/,b,w=function(k,F,K,ie,me){var $=0,de;if(K&&typeof K=="object")for(ie!==void 0&&("context"in me)&&me.context===void 0&&(me.context=ie),de=c.keys(K);$<de.length;$++)F=w(k,F,de[$],K[de[$]],me);else if(K&&m.test(K))for(de=K.split(m);$<de.length;$++)F=k(F,de[$],ie,me);else F=k(F,K,ie,me);return F};v.on=function(k,F,K){if(this._events=w(C,this._events||{},k,F,{context:K,ctx:this,listening:b}),b){var ie=this._listeners||(this._listeners={});ie[b.id]=b,b.interop=!1}return this},v.listenTo=function(k,F,K){if(!k)return this;var ie=k._listenId||(k._listenId=c.uniqueId("l")),me=this._listeningTo||(this._listeningTo={}),$=b=me[ie];$||(this._listenId||(this._listenId=c.uniqueId("l")),$=b=me[ie]=new ue(this,k));var de=T(k,F,K,this);if(b=void 0,de)throw de;return $.interop&&$.on(F,K),this};var C=function(k,F,K,ie){if(K){var me=k[F]||(k[F]=[]),$=ie.context,de=ie.ctx,ae=ie.listening;ae&&ae.count++,me.push({callback:K,context:$,ctx:$||de,listening:ae})}return k},T=function(k,F,K,ie){try{k.on(F,K,ie)}catch(me){return me}};v.off=function(k,F,K){return this._events?(this._events=w(I,this._events,k,F,{context:K,listeners:this._listeners}),this):this},v.stopListening=function(k,F,K){var ie=this._listeningTo;if(!ie)return this;for(var me=k?[k._listenId]:c.keys(ie),$=0;$<me.length;$++){var de=ie[me[$]];if(!de)break;de.obj.off(F,K,this),de.interop&&de.off(F,K)}return c.isEmpty(ie)&&(this._listeningTo=void 0),this};var I=function(k,F,K,ie){if(k){var me=ie.context,$=ie.listeners,de=0,ae;if(!F&&!me&&!K){for(ae=c.keys($);de<ae.length;de++)$[ae[de]].cleanup();return}for(ae=F?[F]:c.keys(k);de<ae.length;de++){F=ae[de];var rt=k[F];if(!rt)break;for(var Ct=[],yt=0;yt<rt.length;yt++){var B=rt[yt];if(K&&K!==B.callback&&K!==B.callback._callback||me&&me!==B.context)Ct.push(B);else{var ee=B.listening;ee&&ee.off(F,K)}}Ct.length?k[F]=Ct:delete k[F]}return k}};v.once=function(k,F,K){var ie=w(W,{},k,F,this.off.bind(this));return typeof k=="string"&&K==null&&(F=void 0),this.on(ie,F,K)},v.listenToOnce=function(k,F,K){var ie=w(W,{},F,K,this.stopListening.bind(this,k));return this.listenTo(k,ie)};var W=function(k,F,K,ie){if(K){var me=k[F]=c.once(function(){ie(F,me),K.apply(this,arguments)});me._callback=K}return k};v.trigger=function(k){if(!this._events)return this;for(var F=Math.max(0,arguments.length-1),K=Array(F),ie=0;ie<F;ie++)K[ie]=arguments[ie+1];return w(j,this._events,k,void 0,K),this};var j=function(k,F,K,ie){if(k){var me=k[F],$=k.all;me&&$&&($=$.slice()),me&&z(me,ie),$&&z($,[F].concat(ie))}return k},z=function(k,F){var K,ie=-1,me=k.length,$=F[0],de=F[1],ae=F[2];switch(F.length){case 0:for(;++ie<me;)(K=k[ie]).callback.call(K.ctx);return;case 1:for(;++ie<me;)(K=k[ie]).callback.call(K.ctx,$);return;case 2:for(;++ie<me;)(K=k[ie]).callback.call(K.ctx,$,de);return;case 3:for(;++ie<me;)(K=k[ie]).callback.call(K.ctx,$,de,ae);return;default:for(;++ie<me;)(K=k[ie]).callback.apply(K.ctx,F);return}},ue=function(k,F){this.id=k._listenId,this.listener=k,this.obj=F,this.interop=!0,this.count=0,this._events=void 0};ue.prototype.on=v.on,ue.prototype.off=function(k,F){var K;this.interop?(this._events=w(I,this._events,k,F,{context:void 0,listeners:void 0}),K=!this._events):(this.count--,K=this.count===0),K&&this.cleanup()},ue.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},v.bind=v.on,v.unbind=v.off,c.extend(s,v);var ye=s.Model=function(k,F){var K=k||{};F||(F={}),this.preinitialize.apply(this,arguments),this.cid=c.uniqueId(this.cidPrefix),this.attributes={},F.collection&&(this.collection=F.collection),F.parse&&(K=this.parse(K,F)||{});var ie=c.result(this,"defaults");K=c.defaults(c.extend({},ie,K),ie),this.set(K,F),this.changed={},this.initialize.apply(this,arguments)};c.extend(ye.prototype,v,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(k){return c.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(k){return this.attributes[k]},escape:function(k){return c.escape(this.get(k))},has:function(k){return this.get(k)!=null},matches:function(k){return!!c.iteratee(k,this)(this.attributes)},set:function(k,F,K){if(k==null)return this;var ie;if(typeof k=="object"?(ie=k,K=F):(ie={})[k]=F,K||(K={}),!this._validate(ie,K))return!1;var me=K.unset,$=K.silent,de=[],ae=this._changing;this._changing=!0,ae||(this._previousAttributes=c.clone(this.attributes),this.changed={});var rt=this.attributes,Ct=this.changed,yt=this._previousAttributes;for(var B in ie)F=ie[B],c.isEqual(rt[B],F)||de.push(B),c.isEqual(yt[B],F)?delete Ct[B]:Ct[B]=F,me?delete rt[B]:rt[B]=F;if(this.idAttribute in ie){var ee=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ee,K)}if(!$){de.length&&(this._pending=K);for(var D=0;D<de.length;D++)this.trigger("change:"+de[D],this,rt[de[D]],K)}if(ae)return this;if(!$)for(;this._pending;)K=this._pending,this._pending=!1,this.trigger("change",this,K);return this._pending=!1,this._changing=!1,this},unset:function(k,F){return this.set(k,void 0,c.extend({},F,{unset:!0}))},clear:function(k){var F={};for(var K in this.attributes)F[K]=void 0;return this.set(F,c.extend({},k,{unset:!0}))},hasChanged:function(k){return k==null?!c.isEmpty(this.changed):c.has(this.changed,k)},changedAttributes:function(k){if(!k)return this.hasChanged()?c.clone(this.changed):!1;var F=this._changing?this._previousAttributes:this.attributes,K={},ie;for(var me in k){var $=k[me];c.isEqual(F[me],$)||(K[me]=$,ie=!0)}return ie?K:!1},previous:function(k){return k==null||!this._previousAttributes?null:this._previousAttributes[k]},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(k){k=c.extend({parse:!0},k);var F=this,K=k.success;return k.success=function(ie){var me=k.parse?F.parse(ie,k):ie;if(!F.set(me,k))return!1;K&&K.call(k.context,F,ie,k),F.trigger("sync",F,ie,k)},it(this,k),this.sync("read",this,k)},save:function(k,F,K){var ie;k==null||typeof k=="object"?(ie=k,K=F):(ie={})[k]=F,K=c.extend({validate:!0,parse:!0},K);var me=K.wait;if(ie&&!me){if(!this.set(ie,K))return!1}else if(!this._validate(ie,K))return!1;var $=this,de=K.success,ae=this.attributes;K.success=function(yt){$.attributes=ae;var B=K.parse?$.parse(yt,K):yt;if(me&&(B=c.extend({},ie,B)),B&&!$.set(B,K))return!1;de&&de.call(K.context,$,yt,K),$.trigger("sync",$,yt,K)},it(this,K),ie&&me&&(this.attributes=c.extend({},ae,ie));var rt=this.isNew()?"create":K.patch?"patch":"update";rt==="patch"&&!K.attrs&&(K.attrs=ie);var Ct=this.sync(rt,this,K);return this.attributes=ae,Ct},destroy:function(k){k=k?c.clone(k):{};var F=this,K=k.success,ie=k.wait,me=function(){F.stopListening(),F.trigger("destroy",F,F.collection,k)};k.success=function(de){ie&&me(),K&&K.call(k.context,F,de,k),F.isNew()||F.trigger("sync",F,de,k)};var $=!1;return this.isNew()?c.defer(k.success):(it(this,k),$=this.sync("delete",this,k)),ie||me(),$},url:function(){var k=c.result(this,"urlRoot")||c.result(this.collection,"url")||gt();if(this.isNew())return k;var F=this.get(this.idAttribute);return k.replace(/[^\/]$/,"$&/")+encodeURIComponent(F)},parse:function(k,F){return k},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(k){return this._validate({},c.extend({},k,{validate:!0}))},_validate:function(k,F){if(!F.validate||!this.validate)return!0;k=c.extend({},this.attributes,k);var K=this.validationError=this.validate(k,F)||null;return K?(this.trigger("invalid",this,K,c.extend(F,{validationError:K})),!1):!0}});var xe=s.Collection=function(k,F){F||(F={}),this.preinitialize.apply(this,arguments),F.model&&(this.model=F.model),F.comparator!==void 0&&(this.comparator=F.comparator),this._reset(),this.initialize.apply(this,arguments),k&&this.reset(k,c.extend({silent:!0},F))},le={add:!0,remove:!0,merge:!0},Y={add:!0,remove:!1},oe=function(k,F,K){K=Math.min(Math.max(K,0),k.length);var ie=Array(k.length-K),me=F.length,$;for($=0;$<ie.length;$++)ie[$]=k[$+K];for($=0;$<me;$++)k[$+K]=F[$];for($=0;$<ie.length;$++)k[$+me+K]=ie[$]};c.extend(xe.prototype,v,{model:ye,preinitialize:function(){},initialize:function(){},toJSON:function(k){return this.map(function(F){return F.toJSON(k)})},sync:function(){return s.sync.apply(this,arguments)},add:function(k,F){return this.set(k,c.extend({merge:!1},F,Y))},remove:function(k,F){F=c.extend({},F);var K=!c.isArray(k);k=K?[k]:k.slice();var ie=this._removeModels(k,F);return!F.silent&&ie.length&&(F.changes={added:[],merged:[],removed:ie},this.trigger("update",this,F)),K?ie[0]:ie},set:function(k,F){if(k!=null){F=c.extend({},le,F),F.parse&&!this._isModel(k)&&(k=this.parse(k,F)||[]);var K=!c.isArray(k);k=K?[k]:k.slice();var ie=F.at;ie!=null&&(ie=+ie),ie>this.length&&(ie=this.length),ie<0&&(ie+=this.length+1);var me=[],$=[],de=[],ae=[],rt={},Ct=F.add,yt=F.merge,B=F.remove,ee=!1,D=this.comparator&&ie==null&&F.sort!==!1,Oe=c.isString(this.comparator)?this.comparator:null,he,Me;for(Me=0;Me<k.length;Me++){he=k[Me];var Ze=this.get(he);if(Ze){if(yt&&he!==Ze){var Xe=this._isModel(he)?he.attributes:he;F.parse&&(Xe=Ze.parse(Xe,F)),Ze.set(Xe,F),de.push(Ze),D&&!ee&&(ee=Ze.hasChanged(Oe))}rt[Ze.cid]||(rt[Ze.cid]=!0,me.push(Ze)),k[Me]=Ze}else Ct&&(he=k[Me]=this._prepareModel(he,F),he&&($.push(he),this._addReference(he,F),rt[he.cid]=!0,me.push(he)))}if(B){for(Me=0;Me<this.length;Me++)he=this.models[Me],rt[he.cid]||ae.push(he);ae.length&&this._removeModels(ae,F)}var ze=!1,st=!D&&Ct&&B;if(me.length&&st?(ze=this.length!==me.length||c.some(this.models,function(Pt,Lt){return Pt!==me[Lt]}),this.models.length=0,oe(this.models,me,0),this.length=this.models.length):$.length&&(D&&(ee=!0),oe(this.models,$,ie??this.length),this.length=this.models.length),ee&&this.sort({silent:!0}),!F.silent){for(Me=0;Me<$.length;Me++)ie!=null&&(F.index=ie+Me),he=$[Me],he.trigger("add",he,this,F);(ee||ze)&&this.trigger("sort",this,F),($.length||ae.length||de.length)&&(F.changes={added:$,removed:ae,merged:de},this.trigger("update",this,F))}return K?k[0]:k}},reset:function(k,F){F=F?c.clone(F):{};for(var K=0;K<this.models.length;K++)this._removeReference(this.models[K],F);return F.previousModels=this.models,this._reset(),k=this.add(k,c.extend({silent:!0},F)),F.silent||this.trigger("reset",this,F),k},push:function(k,F){return this.add(k,c.extend({at:this.length},F))},pop:function(k){var F=this.at(this.length-1);return this.remove(F,k)},unshift:function(k,F){return this.add(k,c.extend({at:0},F))},shift:function(k){var F=this.at(0);return this.remove(F,k)},slice:function(){return h.apply(this.models,arguments)},get:function(k){if(k!=null)return this._byId[k]||this._byId[this.modelId(this._isModel(k)?k.attributes:k,k.idAttribute)]||k.cid&&this._byId[k.cid]},has:function(k){return this.get(k)!=null},at:function(k){return k<0&&(k+=this.length),this.models[k]},where:function(k,F){return this[F?"find":"filter"](k)},findWhere:function(k){return this.where(k,!0)},sort:function(k){var F=this.comparator;if(!F)throw new Error("Cannot sort a set without a comparator");k||(k={});var K=F.length;return c.isFunction(F)&&(F=F.bind(this)),K===1||c.isString(F)?this.models=this.sortBy(F):this.models.sort(F),k.silent||this.trigger("sort",this,k),this},pluck:function(k){return this.map(k+"")},fetch:function(k){k=c.extend({parse:!0},k);var F=k.success,K=this;return k.success=function(ie){var me=k.reset?"reset":"set";K[me](ie,k),F&&F.call(k.context,K,ie,k),K.trigger("sync",K,ie,k)},it(this,k),this.sync("read",this,k)},create:function(k,F){F=F?c.clone(F):{};var K=F.wait;if(k=this._prepareModel(k,F),!k)return!1;K||this.add(k,F);var ie=this,me=F.success;return F.success=function($,de,ae){K&&ie.add($,ae),me&&me.call(ae.context,$,de,ae)},k.save(null,F),k},parse:function(k,F){return k},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(k,F){return k[F||this.model.prototype.idAttribute||"id"]},values:function(){return new R(this,U)},keys:function(){return new R(this,H)},entries:function(){return new R(this,te)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(k,F){if(this._isModel(k))return k.collection||(k.collection=this),k;F=F?c.clone(F):{},F.collection=this;var K;return this.model.prototype?K=new this.model(k,F):K=this.model(k,F),K.validationError?(this.trigger("invalid",this,K.validationError,F),!1):K},_removeModels:function(k,F){for(var K=[],ie=0;ie<k.length;ie++){var me=this.get(k[ie]);if(me){var $=this.indexOf(me);this.models.splice($,1),this.length--,delete this._byId[me.cid];var de=this.modelId(me.attributes,me.idAttribute);de!=null&&delete this._byId[de],F.silent||(F.index=$,me.trigger("remove",me,this,F)),K.push(me),this._removeReference(me,F)}}return K},_isModel:function(k){return k instanceof ye},_addReference:function(k,F){this._byId[k.cid]=k;var K=this.modelId(k.attributes,k.idAttribute);K!=null&&(this._byId[K]=k),k.on("all",this._onModelEvent,this)},_removeReference:function(k,F){delete this._byId[k.cid];var K=this.modelId(k.attributes,k.idAttribute);K!=null&&delete this._byId[K],this===k.collection&&delete k.collection,k.off("all",this._onModelEvent,this)},_onModelEvent:function(k,F,K,ie){if(F){if((k==="add"||k==="remove")&&K!==this)return;if(k==="destroy"&&this.remove(F,ie),k==="changeId"){var me=this.modelId(F.previousAttributes(),F.idAttribute),$=this.modelId(F.attributes,F.idAttribute);me!=null&&delete this._byId[me],$!=null&&(this._byId[$]=F)}}this.trigger.apply(this,arguments)}});var V=typeof Symbol=="function"&&Symbol.iterator;V&&(xe.prototype[V]=xe.prototype.values);var R=function(k,F){this._collection=k,this._kind=F,this._index=0},U=1,H=2,te=3;V&&(R.prototype[V]=function(){return this}),R.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var k=this._collection.at(this._index);this._index++;var F;if(this._kind===U)F=k;else{var K=this._collection.modelId(k.attributes,k.idAttribute);this._kind===H?F=K:F=[K,k]}return{value:F,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var P=s.View=function(k){this.cid=c.uniqueId("view"),this.preinitialize.apply(this,arguments),c.extend(this,c.pick(k,ge)),this._ensureElement(),this.initialize.apply(this,arguments)},ve=/^(\S+)\s*(.*)$/,ge=["model","collection","el","id","attributes","className","tagName","events"];c.extend(P.prototype,v,{tagName:"div",$:function(k){return this.$el.find(k)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(k){return this.undelegateEvents(),this._setElement(k),this.delegateEvents(),this},_setElement:function(k){this.$el=k instanceof s.$?k:s.$(k),this.el=this.$el[0]},delegateEvents:function(k){if(k||(k=c.result(this,"events")),!k)return this;this.undelegateEvents();for(var F in k){var K=k[F];if(c.isFunction(K)||(K=this[K]),!!K){var ie=F.match(ve);this.delegate(ie[1],ie[2],K.bind(this))}}return this},delegate:function(k,F,K){return this.$el.on(k+".delegateEvents"+this.cid,F,K),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(k,F,K){return this.$el.off(k+".delegateEvents"+this.cid,F,K),this},_createElement:function(k){return document.createElement(k)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var k=c.extend({},c.result(this,"attributes"));this.id&&(k.id=c.result(this,"id")),this.className&&(k.class=c.result(this,"className")),this.setElement(this._createElement(c.result(this,"tagName"))),this._setAttributes(k)}},_setAttributes:function(k){this.$el.attr(k)}});var De=function(k,F,K,ie){switch(F){case 1:return function(){return k[K](this[ie])};case 2:return function(me){return k[K](this[ie],me)};case 3:return function(me,$){return k[K](this[ie],Ye(me,this),$)};case 4:return function(me,$,de){return k[K](this[ie],Ye(me,this),$,de)};default:return function(){var me=h.call(arguments);return me.unshift(this[ie]),k[K].apply(k,me)}}},qe=function(k,F,K,ie){c.each(K,function(me,$){F[$]&&(k.prototype[$]=De(F,me,$,ie))})},Ye=function(k,F){return c.isFunction(k)?k:c.isObject(k)&&!F._isModel(k)?ht(k):c.isString(k)?function(K){return K.get(k)}:k},ht=function(k){var F=c.matches(k);return function(K){return F(K.attributes)}},be={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},_e={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};c.each([[xe,be,"models"],[ye,_e,"attributes"]],function(k){var F=k[0],K=k[1],ie=k[2];F.mixin=function(me){var $=c.reduce(c.functions(me),function(de,ae){return de[ae]=0,de},{});qe(F,me,$,ie)},qe(F,c,K,ie)}),s.sync=function(k,F,K){var ie=Re[k];c.defaults(K||(K={}),{emulateHTTP:s.emulateHTTP,emulateJSON:s.emulateJSON});var me={type:ie,dataType:"json"};if(K.url||(me.url=c.result(F,"url")||gt()),K.data==null&&F&&(k==="create"||k==="update"||k==="patch")&&(me.contentType="application/json",me.data=JSON.stringify(K.attrs||F.toJSON(K))),K.emulateJSON&&(me.contentType="application/x-www-form-urlencoded",me.data=me.data?{model:me.data}:{}),K.emulateHTTP&&(ie==="PUT"||ie==="DELETE"||ie==="PATCH")){me.type="POST",K.emulateJSON&&(me.data._method=ie);var $=K.beforeSend;K.beforeSend=function(rt){if(rt.setRequestHeader("X-HTTP-Method-Override",ie),$)return $.apply(this,arguments)}}me.type!=="GET"&&!K.emulateJSON&&(me.processData=!1);var de=K.error;K.error=function(rt,Ct,yt){K.textStatus=Ct,K.errorThrown=yt,de&&de.call(K.context,rt,Ct,yt)};var ae=K.xhr=s.ajax(c.extend(me,K));return F.trigger("request",F,ae,K),ae};var Re={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};s.ajax=function(){return s.$.ajax.apply(s.$,arguments)};var Ve=s.Router=function(k){k||(k={}),this.preinitialize.apply(this,arguments),k.routes&&(this.routes=k.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Be=/\((.*?)\)/g,Ne=/(\(\?)?:\w+/g,nt=/\*\w+/g,at=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(Ve.prototype,v,{preinitialize:function(){},initialize:function(){},route:function(k,F,K){c.isRegExp(k)||(k=this._routeToRegExp(k)),c.isFunction(F)&&(K=F,F=""),K||(K=this[F]);var ie=this;return s.history.route(k,function(me){var $=ie._extractParameters(k,me);ie.execute(K,$,F)!==!1&&(ie.trigger.apply(ie,["route:"+F].concat($)),ie.trigger("route",F,$),s.history.trigger("route",ie,F,$))}),this},execute:function(k,F,K){k&&k.apply(this,F)},navigate:function(k,F){return s.history.navigate(k,F),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var k,F=c.keys(this.routes);(k=F.pop())!=null;)this.route(k,this.routes[k])}},_routeToRegExp:function(k){return k=k.replace(at,"\\$&").replace(Be,"(?:$1)?").replace(Ne,function(F,K){return K?F:"([^/?]+)"}).replace(nt,"([^?]*?)"),new RegExp("^"+k+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(k,F){var K=k.exec(F).slice(1);return c.map(K,function(ie,me){return me===K.length-1?ie||null:ie?decodeURIComponent(ie):null})}});var re=s.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Ce=/^[#\/]|\s+$/g,Je=/^\/+|\/+$/g,He=/#.*$/;re.started=!1,c.extend(re.prototype,v,{interval:50,atRoot:function(){var k=this.location.pathname.replace(/[^\/]$/,"$&/");return k===this.root&&!this.getSearch()},matchRoot:function(){var k=this.decodeFragment(this.location.pathname),F=k.slice(0,this.root.length-1)+"/";return F===this.root},decodeFragment:function(k){return decodeURI(k.replace(/%25/g,"%2525"))},getSearch:function(){var k=this.location.href.replace(/#.*/,"").match(/\?.+/);return k?k[0]:""},getHash:function(k){var F=(k||this).location.href.match(/#(.*)$/);return F?F[1]:""},getPath:function(){var k=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return k.charAt(0)==="/"?k.slice(1):k},getFragment:function(k){return k==null&&(this._usePushState||!this._wantsHashChange?k=this.getPath():k=this.getHash()),k.replace(Ce,"")},start:function(k){if(re.started)throw new Error("Backbone.history has already been started");if(re.started=!0,this.options=c.extend({root:"/"},this.options,k),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Je,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var F=this.root.slice(0,-1)||"/";return this.location.replace(F+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var K=document.body,ie=K.insertBefore(this.iframe,K.firstChild).contentWindow;ie.document.open(),ie.document.close(),ie.location.hash="#"+this.fragment}var me=window.addEventListener||function($,de){return attachEvent("on"+$,de)};if(this._usePushState?me("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?me("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var k=window.removeEventListener||function(F,K){return detachEvent("on"+F,K)};this._usePushState?k("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&k("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),re.started=!1},route:function(k,F){this.handlers.unshift({route:k,callback:F})},checkUrl:function(k){var F=this.getFragment();if(F===this.fragment&&this.iframe&&(F=this.getHash(this.iframe.contentWindow)),F===this.fragment)return!1;this.iframe&&this.navigate(F),this.loadUrl()},loadUrl:function(k){return this.matchRoot()?(k=this.fragment=this.getFragment(k),c.some(this.handlers,function(F){if(F.route.test(k))return F.callback(k),!0})):!1},navigate:function(k,F){if(!re.started)return!1;(!F||F===!0)&&(F={trigger:!!F}),k=this.getFragment(k||"");var K=this.root;(k===""||k.charAt(0)==="?")&&(K=K.slice(0,-1)||"/");var ie=K+k;k=k.replace(He,"");var me=this.decodeFragment(k);if(this.fragment!==me){if(this.fragment=me,this._usePushState)this.history[F.replace?"replaceState":"pushState"]({},document.title,ie);else if(this._wantsHashChange){if(this._updateHash(this.location,k,F.replace),this.iframe&&k!==this.getHash(this.iframe.contentWindow)){var $=this.iframe.contentWindow;F.replace||($.document.open(),$.document.close()),this._updateHash($.location,k,F.replace)}}else return this.location.assign(ie);if(F.trigger)return this.loadUrl(k)}},_updateHash:function(k,F,K){if(K){var ie=k.href.replace(/(javascript:|#).*$/,"");k.replace(ie+"#"+F)}else k.hash="#"+F}}),s.history=new re;var ot=function(k,F){var K=this,ie;return k&&c.has(k,"constructor")?ie=k.constructor:ie=function(){return K.apply(this,arguments)},c.extend(ie,K,F),ie.prototype=c.create(K.prototype,k),ie.prototype.constructor=ie,ie.__super__=K.prototype,ie};ye.extend=xe.extend=Ve.extend=P.extend=re.extend=ot;var gt=function(){throw new Error('A "url" property or function must be specified')},it=function(k,F){var K=F.error;F.error=function(ie){K&&K.call(F.context,k,ie,F),k.trigger("error",k,ie,F)}};return s})},3640:(i,n,e)=>{(function(t){t(e(4408))})(function(t){t.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,s){return/^[;{}]$/.test(s)}}),t.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,s,c,u){return this.jsonMode?/^[\[,{]$/.test(s)||/^}/.test(c):s==";"&&u.lexical&&u.lexical.type==")"?!1:/^[;{}]$/.test(s)&&!/^;/.test(c)}});var r=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;t.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(o,s,c,u){var d=!1;return this.configuration=="html"&&(d=u.context?r.test(u.context.tagName):!1),!d&&(o=="tag"&&/>$/.test(s)&&u.context||/^</.test(c))}}),t.defineExtension("commentRange",function(o,s,c){var u=this,d=t.innerMode(u.getMode(),u.getTokenAt(s).state).mode;u.operation(function(){if(o)u.replaceRange(d.commentEnd,c),u.replaceRange(d.commentStart,s),s.line==c.line&&s.ch==c.ch&&u.setCursor(s.line,s.ch+d.commentStart.length);else{var h=u.getRange(s,c),v=h.indexOf(d.commentStart),m=h.lastIndexOf(d.commentEnd);v>-1&&m>-1&&m>v&&(h=h.substr(0,v)+h.substring(v+d.commentStart.length,m)+h.substr(m+d.commentEnd.length)),u.replaceRange(h,s,c)}})}),t.defineExtension("autoIndentRange",function(o,s){var c=this;this.operation(function(){for(var u=o.line;u<=s.line;u++)c.indentLine(u,"smart")})}),t.defineExtension("autoFormatRange",function(o,s){var c=this,u=c.getMode(),d=c.getRange(o,s).split(`
`),h=t.copyState(u,c.getTokenAt(o).state),v=c.getOption("tabSize"),m="",b=0,w=o.ch===0;function C(){m+=`
`,w=!0,++b}for(var T=0;T<d.length;++T){for(var I=new t.StringStream(d[T],v);!I.eol();){var W=t.innerMode(u,h),j=u.token(I,h),z=I.current();I.start=I.pos,(!w||/\S/.test(z))&&(m+=z,w=!1),!w&&W.mode.newlineAfterToken&&W.mode.newlineAfterToken(j,z,I.string.slice(I.pos)||d[T+1]||"",W.state)&&C()}!I.pos&&u.blankLine&&u.blankLine(h),!w&&T<d.length-1&&C()}c.operation(function(){c.replaceRange(m,o,s);for(var ue=o.line+1,ye=o.line+b;ue<=ye;++ue)c.indentLine(ue,"smart");c.setSelection(o,c.getCursor(!1))})})})},4408:function(i){(function(n,e){i.exports=e()})(this,function(){"use strict";var n=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(n),r=/MSIE \d/.test(n),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),s=/Edge\/(\d+)/.exec(n),c=r||o||s,u=c&&(r?document.documentMode||6:+(s||o)[1]),d=!s&&/WebKit\//.test(n),h=d&&/Qt\/\d+\.\d+/.test(n),v=!s&&/Chrome\//.test(n),m=/Opera\//.test(n),b=/Apple Computer/.test(navigator.vendor),w=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),C=/PhantomJS/.test(n),T=b&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),I=/Android/.test(n),W=T||I||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),j=T||/Mac/.test(e),z=/\bCrOS\b/.test(n),ue=/win/i.test(e),ye=m&&n.match(/Version\/(\d*\.\d*)/);ye&&(ye=Number(ye[1])),ye&&ye>=15&&(m=!1,d=!0);var xe=j&&(h||m&&(ye==null||ye<12.11)),le=t||c&&u>=9;function Y(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var oe=function(a,l){var p=a.className,f=Y(l).exec(p);if(f){var g=p.slice(f.index+f[0].length);a.className=p.slice(0,f.index)+(g?f[1]+g:"")}};function V(a){for(var l=a.childNodes.length;l>0;--l)a.removeChild(a.firstChild);return a}function R(a,l){return V(a).appendChild(l)}function U(a,l,p,f){var g=document.createElement(a);if(p&&(g.className=p),f&&(g.style.cssText=f),typeof l=="string")g.appendChild(document.createTextNode(l));else if(l)for(var y=0;y<l.length;++y)g.appendChild(l[y]);return g}function H(a,l,p,f){var g=U(a,l,p,f);return g.setAttribute("role","presentation"),g}var te;document.createRange?te=function(a,l,p,f){var g=document.createRange();return g.setEnd(f||a,p),g.setStart(a,l),g}:te=function(a,l,p){var f=document.body.createTextRange();try{f.moveToElementText(a.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",p),f.moveStart("character",l),f};function P(a,l){if(l.nodeType==3&&(l=l.parentNode),a.contains)return a.contains(l);do if(l.nodeType==11&&(l=l.host),l==a)return!0;while(l=l.parentNode)}function ve(){var a;try{a=document.activeElement}catch{a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function ge(a,l){var p=a.className;Y(l).test(p)||(a.className+=(p?" ":"")+l)}function De(a,l){for(var p=a.split(" "),f=0;f<p.length;f++)p[f]&&!Y(p[f]).test(l)&&(l+=" "+p[f]);return l}var qe=function(a){a.select()};T?qe=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:c&&(qe=function(a){try{a.select()}catch{}});function Ye(a){var l=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,l)}}function ht(a,l,p){l||(l={});for(var f in a)a.hasOwnProperty(f)&&(p!==!1||!l.hasOwnProperty(f))&&(l[f]=a[f]);return l}function be(a,l,p,f,g){l==null&&(l=a.search(/[^\s\u00a0]/),l==-1&&(l=a.length));for(var y=f||0,_=g||0;;){var x=a.indexOf("	",y);if(x<0||x>=l)return _+(l-y);_+=x-y,_+=p-_%p,y=x+1}}var _e=function(){this.id=null,this.f=null,this.time=0,this.handler=Ye(this.onTimeout,this)};_e.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},_e.prototype.set=function(a,l){this.f=l;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function Re(a,l){for(var p=0;p<a.length;++p)if(a[p]==l)return p;return-1}var Ve=50,Be={toString:function(){return"CodeMirror.Pass"}},Ne={scroll:!1},nt={origin:"*mouse"},at={origin:"+move"};function re(a,l,p){for(var f=0,g=0;;){var y=a.indexOf("	",f);y==-1&&(y=a.length);var _=y-f;if(y==a.length||g+_>=l)return f+Math.min(_,l-g);if(g+=y-f,g+=p-g%p,f=y+1,g>=l)return f}}var Ce=[""];function Je(a){for(;Ce.length<=a;)Ce.push(He(Ce)+" ");return Ce[a]}function He(a){return a[a.length-1]}function ot(a,l){for(var p=[],f=0;f<a.length;f++)p[f]=l(a[f],f);return p}function gt(a,l,p){for(var f=0,g=p(l);f<a.length&&p(a[f])<=g;)f++;a.splice(f,0,l)}function it(){}function k(a,l){var p;return Object.create?p=Object.create(a):(it.prototype=a,p=new it),l&&ht(l,p),p}var F=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function K(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||F.test(a))}function ie(a,l){return l?l.source.indexOf("\\w")>-1&&K(a)?!0:l.test(a):K(a)}function me(a){for(var l in a)if(a.hasOwnProperty(l)&&a[l])return!1;return!0}var $=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function de(a){return a.charCodeAt(0)>=768&&$.test(a)}function ae(a,l,p){for(;(p<0?l>0:l<a.length)&&de(a.charAt(l));)l+=p;return l}function rt(a,l,p){for(var f=l>p?-1:1;;){if(l==p)return l;var g=(l+p)/2,y=f<0?Math.ceil(g):Math.floor(g);if(y==l)return a(y)?l:p;a(y)?p=y:l=y+f}}function Ct(a,l,p,f){if(!a)return f(l,p,"ltr",0);for(var g=!1,y=0;y<a.length;++y){var _=a[y];(_.from<p&&_.to>l||l==p&&_.to==l)&&(f(Math.max(_.from,l),Math.min(_.to,p),_.level==1?"rtl":"ltr",y),g=!0)}g||f(l,p,"ltr")}var yt=null;function B(a,l,p){var f;yt=null;for(var g=0;g<a.length;++g){var y=a[g];if(y.from<l&&y.to>l)return g;y.to==l&&(y.from!=y.to&&p=="before"?f=g:yt=g),y.from==l&&(y.from!=y.to&&p!="before"?f=g:yt=g)}return f??yt}var ee=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(E){return E<=247?a.charAt(E):1424<=E&&E<=1524?"R":1536<=E&&E<=1785?l.charAt(E-1536):1774<=E&&E<=2220?"r":8192<=E&&E<=8203?"w":E==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,y=/[LRr]/,_=/[Lb1n]/,x=/[1n]/;function S(E,G,Z){this.level=E,this.from=G,this.to=Z}return function(E,G){var Z=G=="ltr"?"L":"R";if(E.length==0||G=="ltr"&&!f.test(E))return!1;for(var fe=E.length,ne=[],we=0;we<fe;++we)ne.push(p(E.charCodeAt(we)));for(var Pe=0,Fe=Z;Pe<fe;++Pe){var Ke=ne[Pe];Ke=="m"?ne[Pe]=Fe:Fe=Ke}for(var et=0,Ge=Z;et<fe;++et){var tt=ne[et];tt=="1"&&Ge=="r"?ne[et]="n":y.test(tt)&&(Ge=tt,tt=="r"&&(ne[et]="R"))}for(var vt=1,ft=ne[0];vt<fe-1;++vt){var At=ne[vt];At=="+"&&ft=="1"&&ne[vt+1]=="1"?ne[vt]="1":At==","&&ft==ne[vt+1]&&(ft=="1"||ft=="n")&&(ne[vt]=ft),ft=At}for(var Yt=0;Yt<fe;++Yt){var Ir=ne[Yt];if(Ir==",")ne[Yt]="N";else if(Ir=="%"){var ir=void 0;for(ir=Yt+1;ir<fe&&ne[ir]=="%";++ir);for(var En=Yt&&ne[Yt-1]=="!"||ir<fe&&ne[ir]=="1"?"1":"N",un=Yt;un<ir;++un)ne[un]=En;Yt=ir-1}}for(var _r=0,dn=Z;_r<fe;++_r){var Wr=ne[_r];dn=="L"&&Wr=="1"?ne[_r]="L":y.test(Wr)&&(dn=Wr)}for(var Ar=0;Ar<fe;++Ar)if(g.test(ne[Ar])){var wr=void 0;for(wr=Ar+1;wr<fe&&g.test(ne[wr]);++wr);for(var cr=(Ar?ne[Ar-1]:Z)=="L",fn=(wr<fe?ne[wr]:Z)=="L",Ba=cr==fn?cr?"L":"R":Z,Pi=Ar;Pi<wr;++Pi)ne[Pi]=Ba;Ar=wr-1}for(var qr=[],Lo,Nr=0;Nr<fe;)if(_.test(ne[Nr])){var jd=Nr;for(++Nr;Nr<fe&&_.test(ne[Nr]);++Nr);qr.push(new S(0,jd,Nr))}else{var qo=Nr,Qi=qr.length,ea=G=="rtl"?1:0;for(++Nr;Nr<fe&&ne[Nr]!="L";++Nr);for(var rn=qo;rn<Nr;)if(x.test(ne[rn])){qo<rn&&(qr.splice(Qi,0,new S(1,qo,rn)),Qi+=ea);var Va=rn;for(++rn;rn<Nr&&x.test(ne[rn]);++rn);qr.splice(Qi,0,new S(2,Va,rn)),Qi+=ea,qo=rn}else++rn;qo<Nr&&qr.splice(Qi,0,new S(1,qo,Nr))}return G=="ltr"&&(qr[0].level==1&&(Lo=E.match(/^\s+/))&&(qr[0].from=Lo[0].length,qr.unshift(new S(0,0,Lo[0].length))),He(qr).level==1&&(Lo=E.match(/\s+$/))&&(He(qr).to-=Lo[0].length,qr.push(new S(0,fe-Lo[0].length,fe)))),G=="rtl"?qr.reverse():qr}}();function D(a,l){var p=a.order;return p==null&&(p=a.order=ee(a.text,l)),p}var Oe=[],he=function(a,l,p){if(a.addEventListener)a.addEventListener(l,p,!1);else if(a.attachEvent)a.attachEvent("on"+l,p);else{var f=a._handlers||(a._handlers={});f[l]=(f[l]||Oe).concat(p)}};function Me(a,l){return a._handlers&&a._handlers[l]||Oe}function Ze(a,l,p){if(a.removeEventListener)a.removeEventListener(l,p,!1);else if(a.detachEvent)a.detachEvent("on"+l,p);else{var f=a._handlers,g=f&&f[l];if(g){var y=Re(g,p);y>-1&&(f[l]=g.slice(0,y).concat(g.slice(y+1)))}}}function Xe(a,l){var p=Me(a,l);if(p.length)for(var f=Array.prototype.slice.call(arguments,2),g=0;g<p.length;++g)p[g].apply(null,f)}function ze(a,l,p){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),Xe(a,p||l.type,a,l),Sr(l)||l.codemirrorIgnore}function st(a){var l=a._handlers&&a._handlers.cursorActivity;if(l)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),f=0;f<l.length;++f)Re(p,l[f])==-1&&p.push(l[f])}function Pt(a,l){return Me(a,l).length>0}function Lt(a){a.prototype.on=function(l,p){he(this,l,p)},a.prototype.off=function(l,p){Ze(this,l,p)}}function Dt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function nr(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Sr(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function N(a){Dt(a),nr(a)}function J(a){return a.target||a.srcElement}function se(a){var l=a.which;return l==null&&(a.button&1?l=1:a.button&2?l=3:a.button&4&&(l=2)),j&&a.ctrlKey&&l==1&&(l=3),l}var ke=function(){if(c&&u<9)return!1;var a=U("div");return"draggable"in a||"dragDrop"in a}(),$e;function lt(a){if($e==null){var l=U("span","\u200B");R(a,U("span",[l,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&($e=l.offsetWidth<=1&&l.offsetHeight>2&&!(c&&u<8))}var p=$e?U("span","\u200B"):U("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var wt;function mr(a){if(wt!=null)return wt;var l=R(a,document.createTextNode("A\u062EA")),p=te(l,0,1).getBoundingClientRect(),f=te(l,1,2).getBoundingClientRect();return V(a),!p||p.left==p.right?!1:wt=f.right-p.right<3}var Kt=`

b`.split(/\n/).length!=3?function(a){for(var l=0,p=[],f=a.length;l<=f;){var g=a.indexOf(`
`,l);g==-1&&(g=a.length);var y=a.slice(l,a.charAt(g-1)=="\r"?g-1:g),_=y.indexOf("\r");_!=-1?(p.push(y.slice(0,_)),l+=_+1):(p.push(y),l=g+1)}return p}:function(a){return a.split(/\r\n?|\n/)},Xt=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var l;try{l=a.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=a?!1:l.compareEndPoints("StartToEnd",l)!=0},_n=function(){var a=U("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),Or=null;function Zt(a){if(Or!=null)return Or;var l=R(a,U("span","x")),p=l.getBoundingClientRect(),f=te(l,0,1).getBoundingClientRect();return Or=Math.abs(p.left-f.left)>1}var Bn={},Gt={};function Jt(a,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),Bn[a]=l}function or(a,l){Gt[a]=l}function wn(a){if(typeof a=="string"&&Gt.hasOwnProperty(a))a=Gt[a];else if(a&&typeof a.name=="string"&&Gt.hasOwnProperty(a.name)){var l=Gt[a.name];typeof l=="string"&&(l={name:l}),a=k(l,a),a.name=l.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return wn("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return wn("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function Nt(a,l){l=wn(l);var p=Bn[l.name];if(!p)return Nt(a,"text/plain");var f=p(a,l);if(Qr.hasOwnProperty(l.name)){var g=Qr[l.name];for(var y in g)g.hasOwnProperty(y)&&(f.hasOwnProperty(y)&&(f["_"+y]=f[y]),f[y]=g[y])}if(f.name=l.name,l.helperType&&(f.helperType=l.helperType),l.modeProps)for(var _ in l.modeProps)f[_]=l.modeProps[_];return f}var Qr={};function _t(a,l){var p=Qr.hasOwnProperty(a)?Qr[a]:Qr[a]={};ht(l,p)}function Vr(a,l){if(l===!0)return l;if(a.copyState)return a.copyState(l);var p={};for(var f in l){var g=l[f];g instanceof Array&&(g=g.concat([])),p[f]=g}return p}function fr(a,l){for(var p;a.innerMode&&(p=a.innerMode(l),!(!p||p.mode==a));)l=p.state,a=p.mode;return p||{mode:a,state:l}}function en(a,l,p){return a.startState?a.startState(l,p):!0}var Vt=function(a,l,p){this.pos=this.start=0,this.string=a,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Vt.prototype.eol=function(){return this.pos>=this.string.length},Vt.prototype.sol=function(){return this.pos==this.lineStart},Vt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Vt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Vt.prototype.eat=function(a){var l=this.string.charAt(this.pos),p;if(typeof a=="string"?p=l==a:p=l&&(a.test?a.test(l):a(l)),p)return++this.pos,l},Vt.prototype.eatWhile=function(a){for(var l=this.pos;this.eat(a););return this.pos>l},Vt.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Vt.prototype.skipToEnd=function(){this.pos=this.string.length},Vt.prototype.skipTo=function(a){var l=this.string.indexOf(a,this.pos);if(l>-1)return this.pos=l,!0},Vt.prototype.backUp=function(a){this.pos-=a},Vt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=be(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?be(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.indentation=function(){return be(this.string,null,this.tabSize)-(this.lineStart?be(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.match=function(a,l,p){if(typeof a=="string"){var f=function(_){return p?_.toLowerCase():_},g=this.string.substr(this.pos,a.length);if(f(g)==f(a))return l!==!1&&(this.pos+=a.length),!0}else{var y=this.string.slice(this.pos).match(a);return y&&y.index>0?null:(y&&l!==!1&&(this.pos+=y[0].length),y)}},Vt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Vt.prototype.hideFirstChars=function(a,l){this.lineStart+=a;try{return l()}finally{this.lineStart-=a}},Vt.prototype.lookAhead=function(a){var l=this.lineOracle;return l&&l.lookAhead(a)},Vt.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function Qe(a,l){if(l-=a.first,l<0||l>=a.size)throw new Error("There is no line "+(l+a.first)+" in the document.");for(var p=a;!p.lines;)for(var f=0;;++f){var g=p.children[f],y=g.chunkSize();if(l<y){p=g;break}l-=y}return p.lines[l]}function Tr(a,l,p){var f=[],g=l.line;return a.iter(l.line,p.line+1,function(y){var _=y.text;g==p.line&&(_=_.slice(0,p.ch)),g==l.line&&(_=_.slice(l.ch)),f.push(_),++g}),f}function $r(a,l,p){var f=[];return a.iter(l,p,function(g){f.push(g.text)}),f}function yr(a,l){var p=l-a.height;if(p)for(var f=a;f;f=f.parent)f.height+=p}function St(a){if(a.parent==null)return null;for(var l=a.parent,p=Re(l.lines,a),f=l.parent;f;l=f,f=f.parent)for(var g=0;f.children[g]!=l;++g)p+=f.children[g].chunkSize();return p+l.first}function $t(a,l){var p=a.first;e:do{for(var f=0;f<a.children.length;++f){var g=a.children[f],y=g.height;if(l<y){a=g;continue e}l-=y,p+=g.chunkSize()}return p}while(!a.lines);for(var _=0;_<a.lines.length;++_){var x=a.lines[_],S=x.height;if(l<S)break;l-=S}return p+_}function Vn(a,l){return l>=a.first&&l<a.first+a.size}function Hn(a,l){return String(a.lineNumberFormatter(l+a.firstLineNumber))}function Ae(a,l,p){if(p===void 0&&(p=null),!(this instanceof Ae))return new Ae(a,l,p);this.line=a,this.ch=l,this.sticky=p}function mt(a,l){return a.line-l.line||a.ch-l.ch}function an(a,l){return a.sticky==l.sticky&&mt(a,l)==0}function M(a){return Ae(a.line,a.ch)}function X(a,l){return mt(a,l)<0?l:a}function Se(a,l){return mt(a,l)<0?a:l}function Le(a,l){return Math.max(a.first,Math.min(l,a.first+a.size-1))}function Ie(a,l){if(l.line<a.first)return Ae(a.first,0);var p=a.first+a.size-1;return l.line>p?Ae(p,Qe(a,p).text.length):Et(l,Qe(a,l.line).text.length)}function Et(a,l){var p=a.ch;return p==null||p>l?Ae(a.line,l):p<0?Ae(a.line,0):a}function Mt(a,l){for(var p=[],f=0;f<l.length;f++)p[f]=Ie(a,l[f]);return p}var Wt=function(a,l){this.state=a,this.lookAhead=l},zt=function(a,l,p,f){this.state=l,this.doc=a,this.line=p,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};zt.prototype.lookAhead=function(a){var l=this.doc.getLine(this.line+a);return l!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),l},zt.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},zt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},zt.fromSaved=function(a,l,p){return l instanceof Wt?new zt(a,Vr(a.mode,l.state),p,l.lookAhead):new zt(a,Vr(a.mode,l),p)},zt.prototype.save=function(a){var l=a!==!1?Vr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Wt(l,this.maxLookAhead):l};function li(a,l,p,f){var g=[a.state.modeGen],y={};Ho(a,l.text,a.doc.mode,p,function(E,G){return g.push(E,G)},y,f);for(var _=p.state,x=function(E){p.baseTokens=g;var G=a.state.overlays[E],Z=1,fe=0;p.state=!0,Ho(a,l.text,G.mode,p,function(ne,we){for(var Pe=Z;fe<ne;){var Fe=g[Z];Fe>ne&&g.splice(Z,1,ne,g[Z+1],Fe),Z+=2,fe=Math.min(ne,Fe)}if(we)if(G.opaque)g.splice(Pe,Z-Pe,ne,"overlay "+we),Z=Pe+2;else for(;Pe<Z;Pe+=2){var Ke=g[Pe+1];g[Pe+1]=(Ke?Ke+" ":"")+"overlay "+we}},y),p.state=_,p.baseTokens=null,p.baseTokenPos=1},S=0;S<a.state.overlays.length;++S)x(S);return{styles:g,classes:y.bgClass||y.textClass?y:null}}function Wn(a,l,p){if(!l.styles||l.styles[0]!=a.state.modeGen){var f=sn(a,St(l)),g=l.text.length>a.options.maxHighlightLength&&Vr(a.doc.mode,f.state),y=li(a,l,f);g&&(f.state=g),l.stateAfter=f.save(!g),l.styles=y.styles,y.classes?l.styleClasses=y.classes:l.styleClasses&&(l.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return l.styles}function sn(a,l,p){var f=a.doc,g=a.display;if(!f.mode.startState)return new zt(f,!0,l);var y=go(a,l,p),_=y>f.first&&Qe(f,y-1).stateAfter,x=_?zt.fromSaved(f,_,y):new zt(f,en(f.mode),y);return f.iter(y,l,function(S){Do(a,S.text,x);var E=x.line;S.stateAfter=E==l-1||E%5==0||E>=g.viewFrom&&E<g.viewTo?x.save():null,x.nextLine()}),p&&(f.modeFrontier=x.line),x}function Do(a,l,p,f){var g=a.doc.mode,y=new Vt(l,a.options.tabSize,p);for(y.start=y.pos=f||0,l==""&&Vi(g,p.state);!y.eol();)ci(g,y,p.state),y.start=y.pos}function Vi(a,l){if(a.blankLine)return a.blankLine(l);if(a.innerMode){var p=fr(a,l);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function ci(a,l,p,f){for(var g=0;g<10;g++){f&&(f[0]=fr(a,p).mode);var y=a.token(l,p);if(l.pos>l.start)return y}throw new Error("Mode "+a.name+" failed to advance stream.")}var Vo=function(a,l,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=l||null,this.state=p};function Hi(a,l,p,f){var g=a.doc,y=g.mode,_;l=Ie(g,l);var x=Qe(g,l.line),S=sn(a,l.line,p),E=new Vt(x.text,a.options.tabSize,S),G;for(f&&(G=[]);(f||E.pos<l.ch)&&!E.eol();)E.start=E.pos,_=ci(y,E,S.state),f&&G.push(new Vo(E,_,Vr(g.mode,S.state)));return f?G:new Vo(E,_,S.state)}function ui(a,l){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var f=p[1]?"bgClass":"textClass";l[f]==null?l[f]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(l[f])||(l[f]+=" "+p[2])}return a}function Ho(a,l,p,f,g,y,_){var x=p.flattenSpans;x==null&&(x=a.options.flattenSpans);var S=0,E=null,G=new Vt(l,a.options.tabSize,f),Z,fe=a.options.addModeClass&&[null];for(l==""&&ui(Vi(p,f.state),y);!G.eol();){if(G.pos>a.options.maxHighlightLength?(x=!1,_&&Do(a,l,f,G.pos),G.pos=l.length,Z=null):Z=ui(ci(p,G,f.state,fe),y),fe){var ne=fe[0].name;ne&&(Z="m-"+(Z?ne+" "+Z:ne))}if(!x||E!=Z){for(;S<G.start;)S=Math.min(G.start,S+5e3),g(S,E);E=Z}G.start=G.pos}for(;S<G.pos;){var we=Math.min(G.pos,S+5e3);g(we,E),S=we}}function go(a,l,p){for(var f,g,y=a.doc,_=p?-1:l-(a.doc.mode.innerMode?1e3:100),x=l;x>_;--x){if(x<=y.first)return y.first;var S=Qe(y,x-1),E=S.stateAfter;if(E&&(!p||x+(E instanceof Wt?E.lookAhead:0)<=y.modeFrontier))return x;var G=be(S.text,null,a.options.tabSize);(g==null||f>G)&&(g=x-1,f=G)}return g}function Wo(a,l){if(a.modeFrontier=Math.min(a.modeFrontier,l),!(a.highlightFrontier<l-10)){for(var p=a.first,f=l-1;f>p;f--){var g=Qe(a,f).stateAfter;if(g&&(!(g instanceof Wt)||f+g.lookAhead<l)){p=f+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var br=!1,kr=!1;function di(){br=!0}function Wi(){kr=!0}function vo(a,l,p){this.marker=a,this.from=l,this.to=p}function Kr(a,l){if(a)for(var p=0;p<a.length;++p){var f=a[p];if(f.marker==l)return f}}function zi(a,l){for(var p,f=0;f<a.length;++f)a[f]!=l&&(p||(p=[])).push(a[f]);return p}function ro(a,l,p){var f=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));f&&f.has(a.markedSpans)?a.markedSpans.push(l):(a.markedSpans=a.markedSpans?a.markedSpans.concat([l]):[l],f&&f.add(a.markedSpans)),l.marker.attachLine(a)}function Er(a,l,p){var f;if(a)for(var g=0;g<a.length;++g){var y=a[g],_=y.marker,x=y.from==null||(_.inclusiveLeft?y.from<=l:y.from<l);if(x||y.from==l&&_.type=="bookmark"&&(!p||!y.marker.insertLeft)){var S=y.to==null||(_.inclusiveRight?y.to>=l:y.to>l);(f||(f=[])).push(new vo(_,y.from,S?null:y.to))}}return f}function fi(a,l,p){var f;if(a)for(var g=0;g<a.length;++g){var y=a[g],_=y.marker,x=y.to==null||(_.inclusiveRight?y.to>=l:y.to>l);if(x||y.from==l&&_.type=="bookmark"&&(!p||y.marker.insertLeft)){var S=y.from==null||(_.inclusiveLeft?y.from<=l:y.from<l);(f||(f=[])).push(new vo(_,S?null:y.from-l,y.to==null?null:y.to-l))}}return f}function zn(a,l){if(l.full)return null;var p=Vn(a,l.from.line)&&Qe(a,l.from.line).markedSpans,f=Vn(a,l.to.line)&&Qe(a,l.to.line).markedSpans;if(!p&&!f)return null;var g=l.from.ch,y=l.to.ch,_=mt(l.from,l.to)==0,x=Er(p,g,_),S=fi(f,y,_),E=l.text.length==1,G=He(l.text).length+(E?g:0);if(x)for(var Z=0;Z<x.length;++Z){var fe=x[Z];if(fe.to==null){var ne=Kr(S,fe.marker);ne?E&&(fe.to=ne.to==null?null:ne.to+G):fe.to=g}}if(S)for(var we=0;we<S.length;++we){var Pe=S[we];if(Pe.to!=null&&(Pe.to+=G),Pe.from==null){var Fe=Kr(x,Pe.marker);Fe||(Pe.from=G,E&&(x||(x=[])).push(Pe))}else Pe.from+=G,E&&(x||(x=[])).push(Pe)}x&&(x=no(x)),S&&S!=x&&(S=no(S));var Ke=[x];if(!E){var et=l.text.length-2,Ge;if(et>0&&x)for(var tt=0;tt<x.length;++tt)x[tt].to==null&&(Ge||(Ge=[])).push(new vo(x[tt].marker,null,null));for(var vt=0;vt<et;++vt)Ke.push(Ge);Ke.push(S)}return Ke}function no(a){for(var l=0;l<a.length;++l){var p=a[l];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(l--,1)}return a.length?a:null}function pi(a,l,p){var f=null;if(a.iter(l.line,p.line+1,function(ne){if(ne.markedSpans)for(var we=0;we<ne.markedSpans.length;++we){var Pe=ne.markedSpans[we].marker;Pe.readOnly&&(!f||Re(f,Pe)==-1)&&(f||(f=[])).push(Pe)}}),!f)return null;for(var g=[{from:l,to:p}],y=0;y<f.length;++y)for(var _=f[y],x=_.find(0),S=0;S<g.length;++S){var E=g[S];if(!(mt(E.to,x.from)<0||mt(E.from,x.to)>0)){var G=[S,1],Z=mt(E.from,x.from),fe=mt(E.to,x.to);(Z<0||!_.inclusiveLeft&&!Z)&&G.push({from:E.from,to:x.from}),(fe>0||!_.inclusiveRight&&!fe)&&G.push({from:x.to,to:E.to}),g.splice.apply(g,G),S+=G.length-3}}return g}function Un(a){var l=a.markedSpans;if(l){for(var p=0;p<l.length;++p)l[p].marker.detachLine(a);a.markedSpans=null}}function Cn(a,l){if(l){for(var p=0;p<l.length;++p)l[p].marker.attachLine(a);a.markedSpans=l}}function zo(a){return a.inclusiveLeft?-1:0}function mo(a){return a.inclusiveRight?1:0}function Uo(a,l){var p=a.lines.length-l.lines.length;if(p!=0)return p;var f=a.find(),g=l.find(),y=mt(f.from,g.from)||zo(a)-zo(l);if(y)return-y;var _=mt(f.to,g.to)||mo(a)-mo(l);return _||l.id-a.id}function $o(a,l){var p=kr&&a.markedSpans,f;if(p)for(var g=void 0,y=0;y<p.length;++y)g=p[y],g.marker.collapsed&&(l?g.from:g.to)==null&&(!f||Uo(f,g.marker)<0)&&(f=g.marker);return f}function Ui(a){return $o(a,!0)}function $n(a){return $o(a,!1)}function dt(a,l){var p=kr&&a.markedSpans,f;if(p)for(var g=0;g<p.length;++g){var y=p[g];y.marker.collapsed&&(y.from==null||y.from<l)&&(y.to==null||y.to>l)&&(!f||Uo(f,y.marker)<0)&&(f=y.marker)}return f}function ct(a,l,p,f,g){var y=Qe(a,l),_=kr&&y.markedSpans;if(_)for(var x=0;x<_.length;++x){var S=_[x];if(S.marker.collapsed){var E=S.marker.find(0),G=mt(E.from,p)||zo(S.marker)-zo(g),Z=mt(E.to,f)||mo(S.marker)-mo(g);if(!(G>=0&&Z<=0||G<=0&&Z>=0)&&(G<=0&&(S.marker.inclusiveRight&&g.inclusiveLeft?mt(E.to,p)>=0:mt(E.to,p)>0)||G>=0&&(S.marker.inclusiveRight&&g.inclusiveLeft?mt(E.from,f)<=0:mt(E.from,f)<0)))return!0}}}function Tt(a){for(var l;l=Ui(a);)a=l.find(-1,!0).line;return a}function pt(a){for(var l;l=$n(a);)a=l.find(1,!0).line;return a}function sr(a){for(var l,p;l=$n(a);)a=l.find(1,!0).line,(p||(p=[])).push(a);return p}function xn(a,l){var p=Qe(a,l),f=Tt(p);return p==f?l:St(f)}function Sn(a,l){if(l>a.lastLine())return l;var p=Qe(a,l),f;if(!Dr(a,p))return l;for(;f=$n(p);)p=f.find(1,!0).line;return St(p)+1}function Dr(a,l){var p=kr&&l.markedSpans;if(p){for(var f=void 0,g=0;g<p.length;++g)if(f=p[g],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&Hr(a,l,f))return!0}}}function Hr(a,l,p){if(p.to==null){var f=p.marker.find(1,!0);return Hr(a,f.line,Kr(f.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==l.text.length)return!0;for(var g=void 0,y=0;y<l.markedSpans.length;++y)if(g=l.markedSpans[y],g.marker.collapsed&&!g.marker.widgetNode&&g.from==p.to&&(g.to==null||g.to!=p.from)&&(g.marker.inclusiveLeft||p.marker.inclusiveRight)&&Hr(a,l,g))return!0}function On(a){a=Tt(a);for(var l=0,p=a.parent,f=0;f<p.lines.length;++f){var g=p.lines[f];if(g==a)break;l+=g.height}for(var y=p.parent;y;p=y,y=p.parent)for(var _=0;_<y.children.length;++_){var x=y.children[_];if(x==p)break;l+=x.height}return l}function yo(a){if(a.height==0)return 0;for(var l=a.text.length,p,f=a;p=Ui(f);){var g=p.find(0,!0);f=g.from.line,l+=g.from.ch-g.to.ch}for(f=a;p=$n(f);){var y=p.find(0,!0);l-=f.text.length-y.from.ch,f=y.to.line,l+=f.text.length-y.to.ch}return l}function hi(a){var l=a.display,p=a.doc;l.maxLine=Qe(p,p.first),l.maxLineLength=yo(l.maxLine),l.maxLineChanged=!0,p.iter(function(f){var g=yo(f);g>l.maxLineLength&&(l.maxLineLength=g,l.maxLine=f)})}var Mr=function(a,l,p){this.text=a,Cn(this,l),this.height=p?p(this):1};Mr.prototype.lineNo=function(){return St(this)},Lt(Mr);function kl(a,l,p,f){a.text=l,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),Un(a),Cn(a,p);var g=f?f(a):1;g!=a.height&&yr(a,g)}function _a(a){a.parent=null,Un(a)}var El={},vs={};function ms(a,l){if(!a||/^\s*$/.test(a))return null;var p=l.addModeClass?vs:El;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function wa(a,l){var p=H("span",null,null,d?"padding-right: .1px":null),f={pre:H("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};l.measure={};for(var g=0;g<=(l.rest?l.rest.length:0);g++){var y=g?l.rest[g-1]:l.line,_=void 0;f.pos=0,f.addToken=Al,mr(a.display.measure)&&(_=D(y,a.doc.direction))&&(f.addToken=Dl(f.addToken,_)),f.map=[];var x=l!=a.display.externalMeasured&&St(y);Ml(y,f,Wn(a,y,x)),y.styleClasses&&(y.styleClasses.bgClass&&(f.bgClass=De(y.styleClasses.bgClass,f.bgClass||"")),y.styleClasses.textClass&&(f.textClass=De(y.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(lt(a.display.measure))),g==0?(l.measure.map=f.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(f.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(d){var S=f.content.lastChild;(/\bcm-tab\b/.test(S.className)||S.querySelector&&S.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return Xe(a,"renderLine",a,l.line,f.pre),f.pre.className&&(f.textClass=De(f.pre.className,f.textClass||"")),f}function Pl(a){var l=U("span","\u2022","cm-invalidchar");return l.title="\\u"+a.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function Al(a,l,p,f,g,y,_){if(l){var x=a.splitSpaces?Ca(l,a.trailingSpace):l,S=a.cm.state.specialChars,E=!1,G;if(!S.test(l))a.col+=l.length,G=document.createTextNode(x),a.map.push(a.pos,a.pos+l.length,G),c&&u<9&&(E=!0),a.pos+=l.length;else{G=document.createDocumentFragment();for(var Z=0;;){S.lastIndex=Z;var fe=S.exec(l),ne=fe?fe.index-Z:l.length-Z;if(ne){var we=document.createTextNode(x.slice(Z,Z+ne));c&&u<9?G.appendChild(U("span",[we])):G.appendChild(we),a.map.push(a.pos,a.pos+ne,we),a.col+=ne,a.pos+=ne}if(!fe)break;Z+=ne+1;var Pe=void 0;if(fe[0]=="	"){var Fe=a.cm.options.tabSize,Ke=Fe-a.col%Fe;Pe=G.appendChild(U("span",Je(Ke),"cm-tab")),Pe.setAttribute("role","presentation"),Pe.setAttribute("cm-text","	"),a.col+=Ke}else fe[0]=="\r"||fe[0]==`
`?(Pe=G.appendChild(U("span",fe[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Pe.setAttribute("cm-text",fe[0]),a.col+=1):(Pe=a.cm.options.specialCharPlaceholder(fe[0]),Pe.setAttribute("cm-text",fe[0]),c&&u<9?G.appendChild(U("span",[Pe])):G.appendChild(Pe),a.col+=1);a.map.push(a.pos,a.pos+1,Pe),a.pos++}}if(a.trailingSpace=x.charCodeAt(l.length-1)==32,p||f||g||E||y||_){var et=p||"";f&&(et+=f),g&&(et+=g);var Ge=U("span",[G],et,y);if(_)for(var tt in _)_.hasOwnProperty(tt)&&tt!="style"&&tt!="class"&&Ge.setAttribute(tt,_[tt]);return a.content.appendChild(Ge)}a.content.appendChild(G)}}function Ca(a,l){if(a.length>1&&!/  /.test(a))return a;for(var p=l,f="",g=0;g<a.length;g++){var y=a.charAt(g);y==" "&&p&&(g==a.length-1||a.charCodeAt(g+1)==32)&&(y="\xA0"),f+=y,p=y==" "}return f}function Dl(a,l){return function(p,f,g,y,_,x,S){g=g?g+" cm-force-border":"cm-force-border";for(var E=p.pos,G=E+f.length;;){for(var Z=void 0,fe=0;fe<l.length&&(Z=l[fe],!(Z.to>E&&Z.from<=E));fe++);if(Z.to>=G)return a(p,f,g,y,_,x,S);a(p,f.slice(0,Z.to-E),g,y,null,x,S),y=null,f=f.slice(Z.to-E),E=Z.to}}}function ys(a,l,p,f){var g=!f&&p.widgetNode;g&&a.map.push(a.pos,a.pos+l,g),!f&&a.cm.display.input.needsContentAttribute&&(g||(g=a.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",p.id)),g&&(a.cm.display.input.setUneditable(g),a.content.appendChild(g)),a.pos+=l,a.trailingSpace=!1}function Ml(a,l,p){var f=a.markedSpans,g=a.text,y=0;if(!f){for(var _=1;_<p.length;_+=2)l.addToken(l,g.slice(y,y=p[_]),ms(p[_+1],l.cm.options));return}for(var x=g.length,S=0,E=1,G="",Z,fe,ne=0,we,Pe,Fe,Ke,et;;){if(ne==S){we=Pe=Fe=fe="",et=null,Ke=null,ne=1/0;for(var Ge=[],tt=void 0,vt=0;vt<f.length;++vt){var ft=f[vt],At=ft.marker;if(At.type=="bookmark"&&ft.from==S&&At.widgetNode)Ge.push(At);else if(ft.from<=S&&(ft.to==null||ft.to>S||At.collapsed&&ft.to==S&&ft.from==S)){if(ft.to!=null&&ft.to!=S&&ne>ft.to&&(ne=ft.to,Pe=""),At.className&&(we+=" "+At.className),At.css&&(fe=(fe?fe+";":"")+At.css),At.startStyle&&ft.from==S&&(Fe+=" "+At.startStyle),At.endStyle&&ft.to==ne&&(tt||(tt=[])).push(At.endStyle,ft.to),At.title&&((et||(et={})).title=At.title),At.attributes)for(var Yt in At.attributes)(et||(et={}))[Yt]=At.attributes[Yt];At.collapsed&&(!Ke||Uo(Ke.marker,At)<0)&&(Ke=ft)}else ft.from>S&&ne>ft.from&&(ne=ft.from)}if(tt)for(var Ir=0;Ir<tt.length;Ir+=2)tt[Ir+1]==ne&&(Pe+=" "+tt[Ir]);if(!Ke||Ke.from==S)for(var ir=0;ir<Ge.length;++ir)ys(l,0,Ge[ir]);if(Ke&&(Ke.from||0)==S){if(ys(l,(Ke.to==null?x+1:Ke.to)-S,Ke.marker,Ke.from==null),Ke.to==null)return;Ke.to==S&&(Ke=!1)}}if(S>=x)break;for(var En=Math.min(x,ne);;){if(G){var un=S+G.length;if(!Ke){var _r=un>En?G.slice(0,En-S):G;l.addToken(l,_r,Z?Z+we:we,Fe,S+_r.length==ne?Pe:"",fe,et)}if(un>=En){G=G.slice(En-S),S=En;break}S=un,Fe=""}G=g.slice(y,y=p[E++]),Z=ms(p[E++],l.cm.options)}}}function bs(a,l,p){this.line=l,this.rest=sr(l),this.size=this.rest?St(He(this.rest))-p+1:1,this.node=this.text=null,this.hidden=Dr(a,l)}function xa(a,l,p){for(var f=[],g,y=l;y<p;y=g){var _=new bs(a.doc,Qe(a.doc,y),y);g=y+_.size,f.push(_)}return f}var Ko=null;function Ll(a){Ko?Ko.ops.push(a):a.ownsGroup=Ko={ops:[a],delayedCallbacks:[]}}function id(a){var l=a.delayedCallbacks,p=0;do{for(;p<l.length;p++)l[p].call(null);for(var f=0;f<a.ops.length;f++){var g=a.ops[f];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(p<l.length)}function _s(a,l){var p=a.ownsGroup;if(p)try{id(p)}finally{Ko=null,l(p)}}var gi=null;function lr(a,l){var p=Me(a,l);if(p.length){var f=Array.prototype.slice.call(arguments,2),g;Ko?g=Ko.delayedCallbacks:gi?g=gi:(g=gi=[],setTimeout(vi,0));for(var y=function(x){g.push(function(){return p[x].apply(null,f)})},_=0;_<p.length;++_)y(_)}}function vi(){var a=gi;gi=null;for(var l=0;l<a.length;++l)a[l]()}function Mo(a,l,p,f){for(var g=0;g<l.changes.length;g++){var y=l.changes[g];y=="text"?Cs(a,l):y=="gutter"?yi(a,l,p,f):y=="class"?Sa(a,l):y=="widget"&&Il(a,l,f)}l.changes=null}function mi(a){return a.node==a.text&&(a.node=U("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),c&&u<8&&(a.node.style.zIndex=2)),a.node}function Rl(a,l){var p=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),l.background)p?l.background.className=p:(l.background.parentNode.removeChild(l.background),l.background=null);else if(p){var f=mi(l);l.background=f.insertBefore(U("div",null,p),f.firstChild),a.display.input.setUneditable(l.background)}}function ws(a,l){var p=a.display.externalMeasured;return p&&p.line==l.line?(a.display.externalMeasured=null,l.measure=p.measure,p.built):wa(a,l)}function Cs(a,l){var p=l.text.className,f=ws(a,l);l.text==l.node&&(l.node=f.pre),l.text.parentNode.replaceChild(f.pre,l.text),l.text=f.pre,f.bgClass!=l.bgClass||f.textClass!=l.textClass?(l.bgClass=f.bgClass,l.textClass=f.textClass,Sa(a,l)):p&&(l.text.className=p)}function Sa(a,l){Rl(a,l),l.line.wrapClass?mi(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var p=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=p||""}function yi(a,l,p,f){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var g=mi(l);l.gutterBackground=U("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(a.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),a.display.input.setUneditable(l.gutterBackground),g.insertBefore(l.gutterBackground,l.text)}var y=l.line.gutterMarkers;if(a.options.lineNumbers||y){var _=mi(l),x=l.gutter=U("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(x.setAttribute("aria-hidden","true"),a.display.input.setUneditable(x),_.insertBefore(x,l.text),l.line.gutterClass&&(x.className+=" "+l.line.gutterClass),a.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(l.lineNumber=x.appendChild(U("div",Hn(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),y)for(var S=0;S<a.display.gutterSpecs.length;++S){var E=a.display.gutterSpecs[S].className,G=y.hasOwnProperty(E)&&y[E];G&&x.appendChild(U("div",[G],"CodeMirror-gutter-elt","left: "+f.gutterLeft[E]+"px; width: "+f.gutterWidth[E]+"px"))}}}function Il(a,l,p){l.alignable&&(l.alignable=null);for(var f=Y("CodeMirror-linewidget"),g=l.node.firstChild,y=void 0;g;g=y)y=g.nextSibling,f.test(g.className)&&l.node.removeChild(g);bi(a,l,p)}function Nl(a,l,p,f){var g=ws(a,l);return l.text=l.node=g.pre,g.bgClass&&(l.bgClass=g.bgClass),g.textClass&&(l.textClass=g.textClass),Sa(a,l),yi(a,l,p,f),bi(a,l,f),l.node}function bi(a,l,p){if(xs(a,l.line,l,p,!0),l.rest)for(var f=0;f<l.rest.length;f++)xs(a,l.rest[f],l,p,!1)}function xs(a,l,p,f,g){if(l.widgets)for(var y=mi(p),_=0,x=l.widgets;_<x.length;++_){var S=x[_],E=U("div",[S.node],"CodeMirror-linewidget"+(S.className?" "+S.className:""));S.handleMouseEvents||E.setAttribute("cm-ignore-events","true"),Fl(S,E,p,f),a.display.input.setUneditable(E),g&&S.above?y.insertBefore(E,p.gutter||p.text):y.appendChild(E),lr(S,"redraw")}}function Fl(a,l,p,f){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(l);var g=f.wrapperWidth;l.style.left=f.fixedPos+"px",a.coverGutter||(g-=f.gutterTotalWidth,l.style.paddingLeft=f.gutterTotalWidth+"px"),l.style.width=g+"px"}a.coverGutter&&(l.style.zIndex=5,l.style.position="relative",a.noHScroll||(l.style.marginLeft=-f.gutterTotalWidth+"px"))}function _i(a){if(a.height!=null)return a.height;var l=a.doc.cm;if(!l)return 0;if(!P(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+l.display.wrapper.clientWidth+"px;"),R(l.display.measure,U("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function oo(a,l){for(var p=J(l);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function wi(a){return a.lineSpace.offsetTop}function $i(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function jl(a){if(a.cachedPaddingH)return a.cachedPaddingH;var l=R(a.measure,U("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,f={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(a.cachedPaddingH=f),f}function Tn(a){return Ve-a.display.nativeBarWidth}function Go(a){return a.display.scroller.clientWidth-Tn(a)-a.display.barWidth}function O(a){return a.display.scroller.clientHeight-Tn(a)-a.display.barHeight}function L(a,l,p){var f=a.options.lineWrapping,g=f&&Go(a);if(!l.measure.heights||f&&l.measure.width!=g){var y=l.measure.heights=[];if(f){l.measure.width=g;for(var _=l.text.firstChild.getClientRects(),x=0;x<_.length-1;x++){var S=_[x],E=_[x+1];Math.abs(S.bottom-E.bottom)>2&&y.push((S.bottom+E.top)/2-p.top)}}y.push(p.bottom-p.top)}}function q(a,l,p){if(a.line==l)return{map:a.measure.map,cache:a.measure.cache};for(var f=0;f<a.rest.length;f++)if(a.rest[f]==l)return{map:a.measure.maps[f],cache:a.measure.caches[f]};for(var g=0;g<a.rest.length;g++)if(St(a.rest[g])>p)return{map:a.measure.maps[g],cache:a.measure.caches[g],before:!0}}function Q(a,l){l=Tt(l);var p=St(l),f=a.display.externalMeasured=new bs(a.doc,l,p);f.lineN=p;var g=f.built=wa(a,f);return f.text=g.pre,R(a.display.lineMeasure,g.pre),f}function pe(a,l,p,f){return We(a,Te(a,l),p,f)}function ce(a,l){if(l>=a.display.viewFrom&&l<a.display.viewTo)return a.display.view[Yi(a,l)];var p=a.display.externalMeasured;if(p&&l>=p.lineN&&l<p.lineN+p.size)return p}function Te(a,l){var p=St(l),f=ce(a,p);f&&!f.text?f=null:f&&f.changes&&(Mo(a,f,p,ud(a)),a.curOp.forceUpdate=!0),f||(f=Q(a,l));var g=q(f,l,p);return{line:l,view:f,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function We(a,l,p,f,g){l.before&&(p=-1);var y=p+(f||""),_;return l.cache.hasOwnProperty(y)?_=l.cache[y]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(L(a,l.view,l.rect),l.hasHeights=!0),_=Gr(a,l,p,f),_.bogus||(l.cache[y]=_)),{left:_.left,right:_.right,top:g?_.rtop:_.top,bottom:g?_.rbottom:_.bottom}}var kt={left:0,right:0,top:0,bottom:0};function xt(a,l,p){for(var f,g,y,_,x,S,E=0;E<a.length;E+=3)if(x=a[E],S=a[E+1],l<x?(g=0,y=1,_="left"):l<S?(g=l-x,y=g+1):(E==a.length-3||l==S&&a[E+3]>l)&&(y=S-x,g=y-1,l>=S&&(_="right")),g!=null){if(f=a[E+2],x==S&&p==(f.insertLeft?"left":"right")&&(_=p),p=="left"&&g==0)for(;E&&a[E-2]==a[E-3]&&a[E-1].insertLeft;)f=a[(E-=3)+2],_="left";if(p=="right"&&g==S-x)for(;E<a.length-3&&a[E+3]==a[E+4]&&!a[E+5].insertLeft;)f=a[(E+=3)+2],_="right";break}return{node:f,start:g,end:y,collapse:_,coverStart:x,coverEnd:S}}function Pr(a,l){var p=kt;if(l=="left")for(var f=0;f<a.length&&(p=a[f]).left==p.right;f++);else for(var g=a.length-1;g>=0&&(p=a[g]).left==p.right;g--);return p}function Gr(a,l,p,f){var g=xt(l.map,p,f),y=g.node,_=g.start,x=g.end,S=g.collapse,E;if(y.nodeType==3){for(var G=0;G<4;G++){for(;_&&de(l.line.text.charAt(g.coverStart+_));)--_;for(;g.coverStart+x<g.coverEnd&&de(l.line.text.charAt(g.coverStart+x));)++x;if(c&&u<9&&_==0&&x==g.coverEnd-g.coverStart?E=y.parentNode.getBoundingClientRect():E=Pr(te(y,_,x).getClientRects(),f),E.left||E.right||_==0)break;x=_,_=_-1,S="right"}c&&u<11&&(E=Bl(a.display.measure,E))}else{_>0&&(S=f="right");var Z;a.options.lineWrapping&&(Z=y.getClientRects()).length>1?E=Z[f=="right"?Z.length-1:0]:E=y.getBoundingClientRect()}if(c&&u<9&&!_&&(!E||!E.left&&!E.right)){var fe=y.parentNode.getClientRects()[0];fe?E={left:fe.left,right:fe.left+Ta(a.display),top:fe.top,bottom:fe.bottom}:E=kt}for(var ne=E.top-l.rect.top,we=E.bottom-l.rect.top,Pe=(ne+we)/2,Fe=l.view.measure.heights,Ke=0;Ke<Fe.length-1&&!(Pe<Fe[Ke]);Ke++);var et=Ke?Fe[Ke-1]:0,Ge=Fe[Ke],tt={left:(S=="right"?E.right:E.left)-l.rect.left,right:(S=="left"?E.left:E.right)-l.rect.left,top:et,bottom:Ge};return!E.left&&!E.right&&(tt.bogus=!0),a.options.singleCursorHeightPerLine||(tt.rtop=ne,tt.rbottom=we),tt}function Bl(a,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Zt(a))return l;var p=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*p,right:l.right*p,top:l.top*f,bottom:l.bottom*f}}function Ss(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var l=0;l<a.rest.length;l++)a.measure.caches[l]={}}function Op(a){a.display.externalMeasure=null,V(a.display.lineMeasure);for(var l=0;l<a.display.view.length;l++)Ss(a.display.view[l])}function Os(a){Op(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Tp(){return v&&I?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function kp(){return v&&I?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ad(a){var l=0;if(a.widgets)for(var p=0;p<a.widgets.length;++p)a.widgets[p].above&&(l+=_i(a.widgets[p]));return l}function Vl(a,l,p,f,g){if(!g){var y=ad(l);p.top+=y,p.bottom+=y}if(f=="line")return p;f||(f="local");var _=On(l);if(f=="local"?_+=wi(a.display):_-=a.display.viewOffset,f=="page"||f=="window"){var x=a.display.lineSpace.getBoundingClientRect();_+=x.top+(f=="window"?0:kp());var S=x.left+(f=="window"?0:Tp());p.left+=S,p.right+=S}return p.top+=_,p.bottom+=_,p}function Ep(a,l,p){if(p=="div")return l;var f=l.left,g=l.top;if(p=="page")f-=Tp(),g-=kp();else if(p=="local"||!p){var y=a.display.sizer.getBoundingClientRect();f+=y.left,g+=y.top}var _=a.display.lineSpace.getBoundingClientRect();return{left:f-_.left,top:g-_.top}}function Hl(a,l,p,f,g){return f||(f=Qe(a.doc,l.line)),Vl(a,f,pe(a,f,l.ch,g),p)}function bo(a,l,p,f,g,y){f=f||Qe(a.doc,l.line),g||(g=Te(a,f));function _(we,Pe){var Fe=We(a,g,we,Pe?"right":"left",y);return Pe?Fe.left=Fe.right:Fe.right=Fe.left,Vl(a,f,Fe,p)}var x=D(f,a.doc.direction),S=l.ch,E=l.sticky;if(S>=f.text.length?(S=f.text.length,E="before"):S<=0&&(S=0,E="after"),!x)return _(E=="before"?S-1:S,E=="before");function G(we,Pe,Fe){var Ke=x[Pe],et=Ke.level==1;return _(Fe?we-1:we,et!=Fe)}var Z=B(x,S,E),fe=yt,ne=G(S,Z,E=="before");return fe!=null&&(ne.other=G(S,fe,E!="before")),ne}function Pp(a,l){var p=0;l=Ie(a.doc,l),a.options.lineWrapping||(p=Ta(a.display)*l.ch);var f=Qe(a.doc,l.line),g=On(f)+wi(a.display);return{left:p,right:p,top:g,bottom:g+f.height}}function sd(a,l,p,f,g){var y=Ae(a,l,p);return y.xRel=g,f&&(y.outside=f),y}function ld(a,l,p){var f=a.doc;if(p+=a.display.viewOffset,p<0)return sd(f.first,0,null,-1,-1);var g=$t(f,p),y=f.first+f.size-1;if(g>y)return sd(f.first+f.size-1,Qe(f,y).text.length,null,1,1);l<0&&(l=0);for(var _=Qe(f,g);;){var x=m_(a,_,g,l,p),S=dt(_,x.ch+(x.xRel>0||x.outside>0?1:0));if(!S)return x;var E=S.find(1);if(E.line==g)return E;_=Qe(f,g=E.line)}}function Ap(a,l,p,f){f-=ad(l);var g=l.text.length,y=rt(function(_){return We(a,p,_-1).bottom<=f},g,0);return g=rt(function(_){return We(a,p,_).top>f},y,g),{begin:y,end:g}}function Dp(a,l,p,f){p||(p=Te(a,l));var g=Vl(a,l,We(a,p,f),"line").top;return Ap(a,l,p,g)}function cd(a,l,p,f){return a.bottom<=p?!1:a.top>p?!0:(f?a.left:a.right)>l}function m_(a,l,p,f,g){g-=On(l);var y=Te(a,l),_=ad(l),x=0,S=l.text.length,E=!0,G=D(l,a.doc.direction);if(G){var Z=(a.options.lineWrapping?b_:y_)(a,l,p,y,G,f,g);E=Z.level!=1,x=E?Z.from:Z.to-1,S=E?Z.to:Z.from-1}var fe=null,ne=null,we=rt(function(vt){var ft=We(a,y,vt);return ft.top+=_,ft.bottom+=_,cd(ft,f,g,!1)?(ft.top<=g&&ft.left<=f&&(fe=vt,ne=ft),!0):!1},x,S),Pe,Fe,Ke=!1;if(ne){var et=f-ne.left<ne.right-f,Ge=et==E;we=fe+(Ge?0:1),Fe=Ge?"after":"before",Pe=et?ne.left:ne.right}else{!E&&(we==S||we==x)&&we++,Fe=we==0?"after":we==l.text.length?"before":We(a,y,we-(E?1:0)).bottom+_<=g==E?"after":"before";var tt=bo(a,Ae(p,we,Fe),"line",l,y);Pe=tt.left,Ke=g<tt.top?-1:g>=tt.bottom?1:0}return we=ae(l.text,we,1),sd(p,we,Fe,Ke,f-Pe)}function y_(a,l,p,f,g,y,_){var x=rt(function(Z){var fe=g[Z],ne=fe.level!=1;return cd(bo(a,Ae(p,ne?fe.to:fe.from,ne?"before":"after"),"line",l,f),y,_,!0)},0,g.length-1),S=g[x];if(x>0){var E=S.level!=1,G=bo(a,Ae(p,E?S.from:S.to,E?"after":"before"),"line",l,f);cd(G,y,_,!0)&&G.top>_&&(S=g[x-1])}return S}function b_(a,l,p,f,g,y,_){var x=Ap(a,l,f,_),S=x.begin,E=x.end;/\s/.test(l.text.charAt(E-1))&&E--;for(var G=null,Z=null,fe=0;fe<g.length;fe++){var ne=g[fe];if(!(ne.from>=E||ne.to<=S)){var we=ne.level!=1,Pe=We(a,f,we?Math.min(E,ne.to)-1:Math.max(S,ne.from)).right,Fe=Pe<y?y-Pe+1e9:Pe-y;(!G||Z>Fe)&&(G=ne,Z=Fe)}}return G||(G=g[g.length-1]),G.from<S&&(G={from:S,to:G.to,level:G.level}),G.to>E&&(G={from:G.from,to:E,level:G.level}),G}var Ki;function Oa(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(Ki==null){Ki=U("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)Ki.appendChild(document.createTextNode("x")),Ki.appendChild(U("br"));Ki.appendChild(document.createTextNode("x"))}R(a.measure,Ki);var p=Ki.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),V(a.measure),p||1}function Ta(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var l=U("span","xxxxxxxxxx"),p=U("pre",[l],"CodeMirror-line-like");R(a.measure,p);var f=l.getBoundingClientRect(),g=(f.right-f.left)/10;return g>2&&(a.cachedCharWidth=g),g||10}function ud(a){for(var l=a.display,p={},f={},g=l.gutters.clientLeft,y=l.gutters.firstChild,_=0;y;y=y.nextSibling,++_){var x=a.display.gutterSpecs[_].className;p[x]=y.offsetLeft+y.clientLeft+g,f[x]=y.clientWidth}return{fixedPos:dd(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:p,gutterWidth:f,wrapperWidth:l.wrapper.clientWidth}}function dd(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Mp(a){var l=Oa(a.display),p=a.options.lineWrapping,f=p&&Math.max(5,a.display.scroller.clientWidth/Ta(a.display)-3);return function(g){if(Dr(a.doc,g))return 0;var y=0;if(g.widgets)for(var _=0;_<g.widgets.length;_++)g.widgets[_].height&&(y+=g.widgets[_].height);return p?y+(Math.ceil(g.text.length/f)||1)*l:y+l}}function fd(a){var l=a.doc,p=Mp(a);l.iter(function(f){var g=p(f);g!=f.height&&yr(f,g)})}function Gi(a,l,p,f){var g=a.display;if(!p&&J(l).getAttribute("cm-not-content")=="true")return null;var y,_,x=g.lineSpace.getBoundingClientRect();try{y=l.clientX-x.left,_=l.clientY-x.top}catch{return null}var S=ld(a,y,_),E;if(f&&S.xRel>0&&(E=Qe(a.doc,S.line).text).length==S.ch){var G=be(E,E.length,a.options.tabSize)-E.length;S=Ae(S.line,Math.max(0,Math.round((y-jl(a.display).left)/Ta(a.display))-G))}return S}function Yi(a,l){if(l>=a.display.viewTo||(l-=a.display.viewFrom,l<0))return null;for(var p=a.display.view,f=0;f<p.length;f++)if(l-=p[f].size,l<0)return f}function ln(a,l,p,f){l==null&&(l=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),f||(f=0);var g=a.display;if(f&&p<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>l)&&(g.updateLineNumbers=l),a.curOp.viewChanged=!0,l>=g.viewTo)kr&&xn(a.doc,l)<g.viewTo&&xi(a);else if(p<=g.viewFrom)kr&&Sn(a.doc,p+f)>g.viewFrom?xi(a):(g.viewFrom+=f,g.viewTo+=f);else if(l<=g.viewFrom&&p>=g.viewTo)xi(a);else if(l<=g.viewFrom){var y=Wl(a,p,p+f,1);y?(g.view=g.view.slice(y.index),g.viewFrom=y.lineN,g.viewTo+=f):xi(a)}else if(p>=g.viewTo){var _=Wl(a,l,l,-1);_?(g.view=g.view.slice(0,_.index),g.viewTo=_.lineN):xi(a)}else{var x=Wl(a,l,l,-1),S=Wl(a,p,p+f,1);x&&S?(g.view=g.view.slice(0,x.index).concat(xa(a,x.lineN,S.lineN)).concat(g.view.slice(S.index)),g.viewTo+=f):xi(a)}var E=g.externalMeasured;E&&(p<E.lineN?E.lineN+=f:l<E.lineN+E.size&&(g.externalMeasured=null))}function Ci(a,l,p){a.curOp.viewChanged=!0;var f=a.display,g=a.display.externalMeasured;if(g&&l>=g.lineN&&l<g.lineN+g.size&&(f.externalMeasured=null),!(l<f.viewFrom||l>=f.viewTo)){var y=f.view[Yi(a,l)];if(y.node!=null){var _=y.changes||(y.changes=[]);Re(_,p)==-1&&_.push(p)}}}function xi(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Wl(a,l,p,f){var g=Yi(a,l),y,_=a.display.view;if(!kr||p==a.doc.first+a.doc.size)return{index:g,lineN:p};for(var x=a.display.viewFrom,S=0;S<g;S++)x+=_[S].size;if(x!=l){if(f>0){if(g==_.length-1)return null;y=x+_[g].size-l,g++}else y=x-l;l+=y,p+=y}for(;xn(a.doc,p)!=p;){if(g==(f<0?0:_.length-1))return null;p+=f*_[g-(f<0?1:0)].size,g+=f}return{index:g,lineN:p}}function __(a,l,p){var f=a.display,g=f.view;g.length==0||l>=f.viewTo||p<=f.viewFrom?(f.view=xa(a,l,p),f.viewFrom=l):(f.viewFrom>l?f.view=xa(a,l,f.viewFrom).concat(f.view):f.viewFrom<l&&(f.view=f.view.slice(Yi(a,l))),f.viewFrom=l,f.viewTo<p?f.view=f.view.concat(xa(a,f.viewTo,p)):f.viewTo>p&&(f.view=f.view.slice(0,Yi(a,p)))),f.viewTo=p}function Lp(a){for(var l=a.display.view,p=0,f=0;f<l.length;f++){var g=l[f];!g.hidden&&(!g.node||g.changes)&&++p}return p}function Ts(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Rp(a,l){l===void 0&&(l=!0);for(var p=a.doc,f={},g=f.cursors=document.createDocumentFragment(),y=f.selection=document.createDocumentFragment(),_=0;_<p.sel.ranges.length;_++)if(!(!l&&_==p.sel.primIndex)){var x=p.sel.ranges[_];if(!(x.from().line>=a.display.viewTo||x.to().line<a.display.viewFrom)){var S=x.empty();(S||a.options.showCursorWhenSelecting)&&Ip(a,x.head,g),S||w_(a,x,y)}}return f}function Ip(a,l,p){var f=bo(a,l,"div",null,null,!a.options.singleCursorHeightPerLine),g=p.appendChild(U("div","\xA0","CodeMirror-cursor"));if(g.style.left=f.left+"px",g.style.top=f.top+"px",g.style.height=Math.max(0,f.bottom-f.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var y=Hl(a,l,"div",null,null);y.right-y.left>0&&(g.style.width=y.right-y.left+"px")}if(f.other){var _=p.appendChild(U("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));_.style.display="",_.style.left=f.other.left+"px",_.style.top=f.other.top+"px",_.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function zl(a,l){return a.top-l.top||a.left-l.left}function w_(a,l,p){var f=a.display,g=a.doc,y=document.createDocumentFragment(),_=jl(a.display),x=_.left,S=Math.max(f.sizerWidth,Go(a)-f.sizer.offsetLeft)-_.right,E=g.direction=="ltr";function G(Ge,tt,vt,ft){tt<0&&(tt=0),tt=Math.round(tt),ft=Math.round(ft),y.appendChild(U("div",null,"CodeMirror-selected","position: absolute; left: "+Ge+`px;
                             top: `+tt+"px; width: "+(vt??S-Ge)+`px;
                             height: `+(ft-tt)+"px"))}function Z(Ge,tt,vt){var ft=Qe(g,Ge),At=ft.text.length,Yt,Ir;function ir(_r,dn){return Hl(a,Ae(Ge,_r),"div",ft,dn)}function En(_r,dn,Wr){var Ar=Dp(a,ft,null,_r),wr=dn=="ltr"==(Wr=="after")?"left":"right",cr=Wr=="after"?Ar.begin:Ar.end-(/\s/.test(ft.text.charAt(Ar.end-1))?2:1);return ir(cr,wr)[wr]}var un=D(ft,g.direction);return Ct(un,tt||0,vt??At,function(_r,dn,Wr,Ar){var wr=Wr=="ltr",cr=ir(_r,wr?"left":"right"),fn=ir(dn-1,wr?"right":"left"),Ba=tt==null&&_r==0,Pi=vt==null&&dn==At,qr=Ar==0,Lo=!un||Ar==un.length-1;if(fn.top-cr.top<=3){var Nr=(E?Ba:Pi)&&qr,jd=(E?Pi:Ba)&&Lo,qo=Nr?x:(wr?cr:fn).left,Qi=jd?S:(wr?fn:cr).right;G(qo,cr.top,Qi-qo,cr.bottom)}else{var ea,rn,Va,Bd;wr?(ea=E&&Ba&&qr?x:cr.left,rn=E?S:En(_r,Wr,"before"),Va=E?x:En(dn,Wr,"after"),Bd=E&&Pi&&Lo?S:fn.right):(ea=E?En(_r,Wr,"before"):x,rn=!E&&Ba&&qr?S:cr.right,Va=!E&&Pi&&Lo?x:fn.left,Bd=E?En(dn,Wr,"after"):S),G(ea,cr.top,rn-ea,cr.bottom),cr.bottom<fn.top&&G(x,cr.bottom,null,fn.top),G(Va,fn.top,Bd-Va,fn.bottom)}(!Yt||zl(cr,Yt)<0)&&(Yt=cr),zl(fn,Yt)<0&&(Yt=fn),(!Ir||zl(cr,Ir)<0)&&(Ir=cr),zl(fn,Ir)<0&&(Ir=fn)}),{start:Yt,end:Ir}}var fe=l.from(),ne=l.to();if(fe.line==ne.line)Z(fe.line,fe.ch,ne.ch);else{var we=Qe(g,fe.line),Pe=Qe(g,ne.line),Fe=Tt(we)==Tt(Pe),Ke=Z(fe.line,fe.ch,Fe?we.text.length+1:null).end,et=Z(ne.line,Fe?0:null,ne.ch).start;Fe&&(Ke.top<et.top-2?(G(Ke.right,Ke.top,null,Ke.bottom),G(x,et.top,et.left,et.bottom)):G(Ke.right,Ke.top,et.left-Ke.right,Ke.bottom)),Ke.bottom<et.top&&G(x,Ke.bottom,null,et.top)}p.appendChild(y)}function pd(a){if(a.state.focused){var l=a.display;clearInterval(l.blinker);var p=!0;l.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?l.blinker=setInterval(function(){a.hasFocus()||ka(a),l.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function Np(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||gd(a))}function hd(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&ka(a))},100)}function gd(a,l){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(Xe(a,"focus",a,l),a.state.focused=!0,ge(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),d&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),pd(a))}function ka(a,l){a.state.delayingBlurEvent||(a.state.focused&&(Xe(a,"blur",a,l),a.state.focused=!1,oe(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Ul(a){for(var l=a.display,p=l.lineDiv.offsetTop,f=Math.max(0,l.scroller.getBoundingClientRect().top),g=l.lineDiv.getBoundingClientRect().top,y=0,_=0;_<l.view.length;_++){var x=l.view[_],S=a.options.lineWrapping,E=void 0,G=0;if(!x.hidden){if(g+=x.line.height,c&&u<8){var Z=x.node.offsetTop+x.node.offsetHeight;E=Z-p,p=Z}else{var fe=x.node.getBoundingClientRect();E=fe.bottom-fe.top,!S&&x.text.firstChild&&(G=x.text.firstChild.getBoundingClientRect().right-fe.left-1)}var ne=x.line.height-E;if((ne>.005||ne<-.005)&&(g<f&&(y-=ne),yr(x.line,E),Fp(x.line),x.rest))for(var we=0;we<x.rest.length;we++)Fp(x.rest[we]);if(G>a.display.sizerWidth){var Pe=Math.ceil(G/Ta(a.display));Pe>a.display.maxLineLength&&(a.display.maxLineLength=Pe,a.display.maxLine=x.line,a.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(l.scroller.scrollTop+=y)}function Fp(a){if(a.widgets)for(var l=0;l<a.widgets.length;++l){var p=a.widgets[l],f=p.node.parentNode;f&&(p.height=f.offsetHeight)}}function $l(a,l,p){var f=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;f=Math.floor(f-wi(a));var g=p&&p.bottom!=null?p.bottom:f+a.wrapper.clientHeight,y=$t(l,f),_=$t(l,g);if(p&&p.ensure){var x=p.ensure.from.line,S=p.ensure.to.line;x<y?(y=x,_=$t(l,On(Qe(l,x))+a.wrapper.clientHeight)):Math.min(S,l.lastLine())>=_&&(y=$t(l,On(Qe(l,S))-a.wrapper.clientHeight),_=S)}return{from:y,to:Math.max(_,y+1)}}function C_(a,l){if(!ze(a,"scrollCursorIntoView")){var p=a.display,f=p.sizer.getBoundingClientRect(),g=null;if(l.top+f.top<0?g=!0:l.bottom+f.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),g!=null&&!C){var y=U("div","\u200B",null,`position: absolute;
                         top: `+(l.top-p.viewOffset-wi(a.display))+`px;
                         height: `+(l.bottom-l.top+Tn(a)+p.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");a.display.lineSpace.appendChild(y),y.scrollIntoView(g),a.display.lineSpace.removeChild(y)}}}function x_(a,l,p,f){f==null&&(f=0);var g;!a.options.lineWrapping&&l==p&&(p=l.sticky=="before"?Ae(l.line,l.ch+1,"before"):l,l=l.ch?Ae(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var y=0;y<5;y++){var _=!1,x=bo(a,l),S=!p||p==l?x:bo(a,p);g={left:Math.min(x.left,S.left),top:Math.min(x.top,S.top)-f,right:Math.max(x.left,S.left),bottom:Math.max(x.bottom,S.bottom)+f};var E=vd(a,g),G=a.doc.scrollTop,Z=a.doc.scrollLeft;if(E.scrollTop!=null&&(Es(a,E.scrollTop),Math.abs(a.doc.scrollTop-G)>1&&(_=!0)),E.scrollLeft!=null&&(qi(a,E.scrollLeft),Math.abs(a.doc.scrollLeft-Z)>1&&(_=!0)),!_)break}return g}function S_(a,l){var p=vd(a,l);p.scrollTop!=null&&Es(a,p.scrollTop),p.scrollLeft!=null&&qi(a,p.scrollLeft)}function vd(a,l){var p=a.display,f=Oa(a.display);l.top<0&&(l.top=0);var g=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,y=O(a),_={};l.bottom-l.top>y&&(l.bottom=l.top+y);var x=a.doc.height+$i(p),S=l.top<f,E=l.bottom>x-f;if(l.top<g)_.scrollTop=S?0:l.top;else if(l.bottom>g+y){var G=Math.min(l.top,(E?x:l.bottom)-y);G!=g&&(_.scrollTop=G)}var Z=a.options.fixedGutter?0:p.gutters.offsetWidth,fe=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-Z,ne=Go(a)-p.gutters.offsetWidth,we=l.right-l.left>ne;return we&&(l.right=l.left+ne),l.left<10?_.scrollLeft=0:l.left<fe?_.scrollLeft=Math.max(0,l.left+Z-(we?0:10)):l.right>ne+fe-3&&(_.scrollLeft=l.right+(we?0:10)-ne),_}function md(a,l){l!=null&&(Kl(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+l)}function Ea(a){Kl(a);var l=a.getCursor();a.curOp.scrollToPos={from:l,to:l,margin:a.options.cursorScrollMargin}}function ks(a,l,p){(l!=null||p!=null)&&Kl(a),l!=null&&(a.curOp.scrollLeft=l),p!=null&&(a.curOp.scrollTop=p)}function O_(a,l){Kl(a),a.curOp.scrollToPos=l}function Kl(a){var l=a.curOp.scrollToPos;if(l){a.curOp.scrollToPos=null;var p=Pp(a,l.from),f=Pp(a,l.to);jp(a,p,f,l.margin)}}function jp(a,l,p,f){var g=vd(a,{left:Math.min(l.left,p.left),top:Math.min(l.top,p.top)-f,right:Math.max(l.right,p.right),bottom:Math.max(l.bottom,p.bottom)+f});ks(a,g.scrollLeft,g.scrollTop)}function Es(a,l){Math.abs(a.doc.scrollTop-l)<2||(t||bd(a,{top:l}),Bp(a,l,!0),t&&bd(a),Ds(a,100))}function Bp(a,l,p){l=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,l)),!(a.display.scroller.scrollTop==l&&!p)&&(a.doc.scrollTop=l,a.display.scrollbars.setScrollTop(l),a.display.scroller.scrollTop!=l&&(a.display.scroller.scrollTop=l))}function qi(a,l,p,f){l=Math.max(0,Math.min(l,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?l==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-l)<2)&&!f)&&(a.doc.scrollLeft=l,Up(a),a.display.scroller.scrollLeft!=l&&(a.display.scroller.scrollLeft=l),a.display.scrollbars.setScrollLeft(l))}function Ps(a){var l=a.display,p=l.gutters.offsetWidth,f=Math.round(a.doc.height+$i(a.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:f,scrollHeight:f+Tn(a)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:p}}var Xi=function(a,l,p){this.cm=p;var f=this.vert=U("div",[U("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=U("div",[U("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=g.tabIndex=-1,a(f),a(g),he(f,"scroll",function(){f.clientHeight&&l(f.scrollTop,"vertical")}),he(g,"scroll",function(){g.clientWidth&&l(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Xi.prototype.update=function(a){var l=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,f=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=l?f+"px":"0";var g=a.viewHeight-(l?f:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+g)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=p?f+"px":"0",this.horiz.style.left=a.barLeft+"px";var y=a.viewWidth-a.barLeft-(p?f:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?f:0,bottom:l?f:0}},Xi.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Xi.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Xi.prototype.zeroWidthHack=function(){var a=j&&!w?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new _e,this.disableVert=new _e},Xi.prototype.enableZeroWidthBar=function(a,l,p){a.style.pointerEvents="auto";function f(){var g=a.getBoundingClientRect(),y=p=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);y!=a?a.style.pointerEvents="none":l.set(1e3,f)}l.set(1e3,f)},Xi.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var As=function(){};As.prototype.update=function(){return{bottom:0,right:0}},As.prototype.setScrollLeft=function(){},As.prototype.setScrollTop=function(){},As.prototype.clear=function(){};function Pa(a,l){l||(l=Ps(a));var p=a.display.barWidth,f=a.display.barHeight;Vp(a,l);for(var g=0;g<4&&p!=a.display.barWidth||f!=a.display.barHeight;g++)p!=a.display.barWidth&&a.options.lineWrapping&&Ul(a),Vp(a,Ps(a)),p=a.display.barWidth,f=a.display.barHeight}function Vp(a,l){var p=a.display,f=p.scrollbars.update(l);p.sizer.style.paddingRight=(p.barWidth=f.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=f.bottom)+"px",p.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=f.bottom+"px",p.scrollbarFiller.style.width=f.right+"px"):p.scrollbarFiller.style.display="",f.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=f.bottom+"px",p.gutterFiller.style.width=l.gutterWidth+"px"):p.gutterFiller.style.display=""}var Hp={native:Xi,null:As};function Wp(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&oe(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Hp[a.options.scrollbarStyle](function(l){a.display.wrapper.insertBefore(l,a.display.scrollbarFiller),he(l,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,p){p=="horizontal"?qi(a,l):Es(a,l)},a),a.display.scrollbars.addClass&&ge(a.display.wrapper,a.display.scrollbars.addClass)}var T_=0;function Zi(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++T_,markArrays:null},Ll(a.curOp)}function Ji(a){var l=a.curOp;l&&_s(l,function(p){for(var f=0;f<p.ops.length;f++)p.ops[f].cm.curOp=null;k_(p)})}function k_(a){for(var l=a.ops,p=0;p<l.length;p++)E_(l[p]);for(var f=0;f<l.length;f++)P_(l[f]);for(var g=0;g<l.length;g++)A_(l[g]);for(var y=0;y<l.length;y++)D_(l[y]);for(var _=0;_<l.length;_++)M_(l[_])}function E_(a){var l=a.cm,p=l.display;R_(l),a.updateMaxLine&&hi(l),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&l.options.lineWrapping,a.update=a.mustUpdate&&new Gl(l,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function P_(a){a.updatedDisplay=a.mustUpdate&&yd(a.cm,a.update)}function A_(a){var l=a.cm,p=l.display;a.updatedDisplay&&Ul(l),a.barMeasure=Ps(l),p.maxLineChanged&&!l.options.lineWrapping&&(a.adjustWidthTo=pe(l,p.maxLine,p.maxLine.text.length).left+3,l.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+Tn(l)+l.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-Go(l))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function D_(a){var l=a.cm;a.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<l.doc.scrollLeft&&qi(l,Math.min(l.display.scroller.scrollLeft,a.maxScrollLeft),!0),l.display.maxLineChanged=!1);var p=a.focus&&a.focus==ve();a.preparedSelection&&l.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=l.doc.height)&&Pa(l,a.barMeasure),a.updatedDisplay&&wd(l,a.barMeasure),a.selectionChanged&&pd(l),l.state.focused&&a.updateInput&&l.display.input.reset(a.typing),p&&Np(a.cm)}function M_(a){var l=a.cm,p=l.display,f=l.doc;if(a.updatedDisplay&&zp(l,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&Bp(l,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&qi(l,a.scrollLeft,!0,!0),a.scrollToPos){var g=x_(l,Ie(f,a.scrollToPos.from),Ie(f,a.scrollToPos.to),a.scrollToPos.margin);C_(l,g)}var y=a.maybeHiddenMarkers,_=a.maybeUnhiddenMarkers;if(y)for(var x=0;x<y.length;++x)y[x].lines.length||Xe(y[x],"hide");if(_)for(var S=0;S<_.length;++S)_[S].lines.length&&Xe(_[S],"unhide");p.wrapper.offsetHeight&&(f.scrollTop=l.display.scroller.scrollTop),a.changeObjs&&Xe(l,"changes",l,a.changeObjs),a.update&&a.update.finish()}function kn(a,l){if(a.curOp)return l();Zi(a);try{return l()}finally{Ji(a)}}function Lr(a,l){return function(){if(a.curOp)return l.apply(a,arguments);Zi(a);try{return l.apply(a,arguments)}finally{Ji(a)}}}function tn(a){return function(){if(this.curOp)return a.apply(this,arguments);Zi(this);try{return a.apply(this,arguments)}finally{Ji(this)}}}function Rr(a){return function(){var l=this.cm;if(!l||l.curOp)return a.apply(this,arguments);Zi(l);try{return a.apply(this,arguments)}finally{Ji(l)}}}function Ds(a,l){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(l,Ye(L_,a))}function L_(a){var l=a.doc;if(!(l.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,f=sn(a,l.highlightFrontier),g=[];l.iter(f.line,Math.min(l.first+l.size,a.display.viewTo+500),function(y){if(f.line>=a.display.viewFrom){var _=y.styles,x=y.text.length>a.options.maxHighlightLength?Vr(l.mode,f.state):null,S=li(a,y,f,!0);x&&(f.state=x),y.styles=S.styles;var E=y.styleClasses,G=S.classes;G?y.styleClasses=G:E&&(y.styleClasses=null);for(var Z=!_||_.length!=y.styles.length||E!=G&&(!E||!G||E.bgClass!=G.bgClass||E.textClass!=G.textClass),fe=0;!Z&&fe<_.length;++fe)Z=_[fe]!=y.styles[fe];Z&&g.push(f.line),y.stateAfter=f.save(),f.nextLine()}else y.text.length<=a.options.maxHighlightLength&&Do(a,y.text,f),y.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>p)return Ds(a,a.options.workDelay),!0}),l.highlightFrontier=f.line,l.modeFrontier=Math.max(l.modeFrontier,f.line),g.length&&kn(a,function(){for(var y=0;y<g.length;y++)Ci(a,g[y],"text")})}}var Gl=function(a,l,p){var f=a.display;this.viewport=l,this.visible=$l(f,a.doc,l),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=Go(a),this.force=p,this.dims=ud(a),this.events=[]};Gl.prototype.signal=function(a,l){Pt(a,l)&&this.events.push(arguments)},Gl.prototype.finish=function(){for(var a=0;a<this.events.length;a++)Xe.apply(null,this.events[a])};function R_(a){var l=a.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=Tn(a)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=Tn(a)+"px",l.scrollbarsClipped=!0)}function I_(a){if(a.hasFocus())return null;var l=ve();if(!l||!P(a.display.lineDiv,l))return null;var p={activeElt:l};if(window.getSelection){var f=window.getSelection();f.anchorNode&&f.extend&&P(a.display.lineDiv,f.anchorNode)&&(p.anchorNode=f.anchorNode,p.anchorOffset=f.anchorOffset,p.focusNode=f.focusNode,p.focusOffset=f.focusOffset)}return p}function N_(a){if(!(!a||!a.activeElt||a.activeElt==ve())&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&P(document.body,a.anchorNode)&&P(document.body,a.focusNode))){var l=window.getSelection(),p=document.createRange();p.setEnd(a.anchorNode,a.anchorOffset),p.collapse(!1),l.removeAllRanges(),l.addRange(p),l.extend(a.focusNode,a.focusOffset)}}function yd(a,l){var p=a.display,f=a.doc;if(l.editorIsHidden)return xi(a),!1;if(!l.force&&l.visible.from>=p.viewFrom&&l.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&Lp(a)==0)return!1;$p(a)&&(xi(a),l.dims=ud(a));var g=f.first+f.size,y=Math.max(l.visible.from-a.options.viewportMargin,f.first),_=Math.min(g,l.visible.to+a.options.viewportMargin);p.viewFrom<y&&y-p.viewFrom<20&&(y=Math.max(f.first,p.viewFrom)),p.viewTo>_&&p.viewTo-_<20&&(_=Math.min(g,p.viewTo)),kr&&(y=xn(a.doc,y),_=Sn(a.doc,_));var x=y!=p.viewFrom||_!=p.viewTo||p.lastWrapHeight!=l.wrapperHeight||p.lastWrapWidth!=l.wrapperWidth;__(a,y,_),p.viewOffset=On(Qe(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var S=Lp(a);if(!x&&S==0&&!l.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var E=I_(a);return S>4&&(p.lineDiv.style.display="none"),F_(a,p.updateLineNumbers,l.dims),S>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,N_(E),V(p.cursorDiv),V(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,x&&(p.lastWrapHeight=l.wrapperHeight,p.lastWrapWidth=l.wrapperWidth,Ds(a,400)),p.updateLineNumbers=null,!0}function zp(a,l){for(var p=l.viewport,f=!0;;f=!1){if(!f||!a.options.lineWrapping||l.oldDisplayWidth==Go(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+$i(a.display)-O(a),p.top)}),l.visible=$l(a.display,a.doc,p),l.visible.from>=a.display.viewFrom&&l.visible.to<=a.display.viewTo)break}else f&&(l.visible=$l(a.display,a.doc,p));if(!yd(a,l))break;Ul(a);var g=Ps(a);Ts(a),Pa(a,g),wd(a,g),l.force=!1}l.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(l.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function bd(a,l){var p=new Gl(a,l);if(yd(a,p)){Ul(a),zp(a,p);var f=Ps(a);Ts(a),Pa(a,f),wd(a,f),p.finish()}}function F_(a,l,p){var f=a.display,g=a.options.lineNumbers,y=f.lineDiv,_=y.firstChild;function x(we){var Pe=we.nextSibling;return d&&j&&a.display.currentWheelTarget==we?we.style.display="none":we.parentNode.removeChild(we),Pe}for(var S=f.view,E=f.viewFrom,G=0;G<S.length;G++){var Z=S[G];if(!Z.hidden)if(!Z.node||Z.node.parentNode!=y){var fe=Nl(a,Z,E,p);y.insertBefore(fe,_)}else{for(;_!=Z.node;)_=x(_);var ne=g&&l!=null&&l<=E&&Z.lineNumber;Z.changes&&(Re(Z.changes,"gutter")>-1&&(ne=!1),Mo(a,Z,E,p)),ne&&(V(Z.lineNumber),Z.lineNumber.appendChild(document.createTextNode(Hn(a.options,E)))),_=Z.node.nextSibling}E+=Z.size}for(;_;)_=x(_)}function _d(a){var l=a.gutters.offsetWidth;a.sizer.style.marginLeft=l+"px",lr(a,"gutterChanged",a)}function wd(a,l){a.display.sizer.style.minHeight=l.docHeight+"px",a.display.heightForcer.style.top=l.docHeight+"px",a.display.gutters.style.height=l.docHeight+a.display.barHeight+Tn(a)+"px"}function Up(a){var l=a.display,p=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!a.options.fixedGutter))){for(var f=dd(l)-l.scroller.scrollLeft+a.doc.scrollLeft,g=l.gutters.offsetWidth,y=f+"px",_=0;_<p.length;_++)if(!p[_].hidden){a.options.fixedGutter&&(p[_].gutter&&(p[_].gutter.style.left=y),p[_].gutterBackground&&(p[_].gutterBackground.style.left=y));var x=p[_].alignable;if(x)for(var S=0;S<x.length;S++)x[S].style.left=y}a.options.fixedGutter&&(l.gutters.style.left=f+g+"px")}}function $p(a){if(!a.options.lineNumbers)return!1;var l=a.doc,p=Hn(a.options,l.first+l.size-1),f=a.display;if(p.length!=f.lineNumChars){var g=f.measure.appendChild(U("div",[U("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=g.firstChild.offsetWidth,_=g.offsetWidth-y;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(y,f.lineGutter.offsetWidth-_)+1,f.lineNumWidth=f.lineNumInnerWidth+_,f.lineNumChars=f.lineNumInnerWidth?p.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",_d(a.display),!0}return!1}function Cd(a,l){for(var p=[],f=!1,g=0;g<a.length;g++){var y=a[g],_=null;if(typeof y!="string"&&(_=y.style,y=y.className),y=="CodeMirror-linenumbers")if(l)f=!0;else continue;p.push({className:y,style:_})}return l&&!f&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function Kp(a){var l=a.gutters,p=a.gutterSpecs;V(l),a.lineGutter=null;for(var f=0;f<p.length;++f){var g=p[f],y=g.className,_=g.style,x=l.appendChild(U("div",null,"CodeMirror-gutter "+y));_&&(x.style.cssText=_),y=="CodeMirror-linenumbers"&&(a.lineGutter=x,x.style.width=(a.lineNumWidth||1)+"px")}l.style.display=p.length?"":"none",_d(a)}function Ms(a){Kp(a.display),ln(a),Up(a)}function j_(a,l,p,f){var g=this;this.input=p,g.scrollbarFiller=U("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=U("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=H("div",null,"CodeMirror-code"),g.selectionDiv=U("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=U("div",null,"CodeMirror-cursors"),g.measure=U("div",null,"CodeMirror-measure"),g.lineMeasure=U("div",null,"CodeMirror-measure"),g.lineSpace=H("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var y=H("div",[g.lineSpace],"CodeMirror-lines");g.mover=U("div",[y],null,"position: relative"),g.sizer=U("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=U("div",null,null,"position: absolute; height: "+Ve+"px; width: 1px;"),g.gutters=U("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=U("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=U("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),g.wrapper.setAttribute("translate","no"),c&&u<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!d&&!(t&&W)&&(g.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(g.wrapper):a(g.wrapper)),g.viewFrom=g.viewTo=l.first,g.reportedViewFrom=g.reportedViewTo=l.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=Cd(f.gutters,f.lineNumbers),Kp(g),p.init(g)}var Yl=0,Kn=null;c?Kn=-.53:t?Kn=15:v?Kn=-.7:b&&(Kn=-.3333333333333333);function Gp(a){var l=a.wheelDeltaX,p=a.wheelDeltaY;return l==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(l=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:l,y:p}}function B_(a){var l=Gp(a);return l.x*=Kn,l.y*=Kn,l}function Yp(a,l){var p=Gp(l),f=p.x,g=p.y,y=a.display,_=y.scroller,x=_.scrollWidth>_.clientWidth,S=_.scrollHeight>_.clientHeight;if(f&&x||g&&S){if(g&&j&&d){e:for(var E=l.target,G=y.view;E!=_;E=E.parentNode)for(var Z=0;Z<G.length;Z++)if(G[Z].node==E){a.display.currentWheelTarget=E;break e}}if(f&&!t&&!m&&Kn!=null){g&&S&&Es(a,Math.max(0,_.scrollTop+g*Kn)),qi(a,Math.max(0,_.scrollLeft+f*Kn)),(!g||g&&S)&&Dt(l),y.wheelStartX=null;return}if(g&&Kn!=null){var fe=g*Kn,ne=a.doc.scrollTop,we=ne+y.wrapper.clientHeight;fe<0?ne=Math.max(0,ne+fe-50):we=Math.min(a.doc.height,we+fe+50),bd(a,{top:ne,bottom:we})}Yl<20&&(y.wheelStartX==null?(y.wheelStartX=_.scrollLeft,y.wheelStartY=_.scrollTop,y.wheelDX=f,y.wheelDY=g,setTimeout(function(){if(y.wheelStartX!=null){var Pe=_.scrollLeft-y.wheelStartX,Fe=_.scrollTop-y.wheelStartY,Ke=Fe&&y.wheelDY&&Fe/y.wheelDY||Pe&&y.wheelDX&&Pe/y.wheelDX;y.wheelStartX=y.wheelStartY=null,Ke&&(Kn=(Kn*Yl+Ke)/(Yl+1),++Yl)}},200)):(y.wheelDX+=f,y.wheelDY+=g))}}var Gn=function(a,l){this.ranges=a,this.primIndex=l};Gn.prototype.primary=function(){return this.ranges[this.primIndex]},Gn.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var p=this.ranges[l],f=a.ranges[l];if(!an(p.anchor,f.anchor)||!an(p.head,f.head))return!1}return!0},Gn.prototype.deepCopy=function(){for(var a=[],l=0;l<this.ranges.length;l++)a[l]=new Ht(M(this.ranges[l].anchor),M(this.ranges[l].head));return new Gn(a,this.primIndex)},Gn.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},Gn.prototype.contains=function(a,l){l||(l=a);for(var p=0;p<this.ranges.length;p++){var f=this.ranges[p];if(mt(l,f.from())>=0&&mt(a,f.to())<=0)return p}return-1};var Ht=function(a,l){this.anchor=a,this.head=l};Ht.prototype.from=function(){return Se(this.anchor,this.head)},Ht.prototype.to=function(){return X(this.anchor,this.head)},Ht.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function _o(a,l,p){var f=a&&a.options.selectionsMayTouch,g=l[p];l.sort(function(fe,ne){return mt(fe.from(),ne.from())}),p=Re(l,g);for(var y=1;y<l.length;y++){var _=l[y],x=l[y-1],S=mt(x.to(),_.from());if(f&&!_.empty()?S>0:S>=0){var E=Se(x.from(),_.from()),G=X(x.to(),_.to()),Z=x.empty()?_.from()==_.head:x.from()==x.head;y<=p&&--p,l.splice(--y,2,new Ht(Z?G:E,Z?E:G))}}return new Gn(l,p)}function Si(a,l){return new Gn([new Ht(a,l||a)],0)}function Oi(a){return a.text?Ae(a.from.line+a.text.length-1,He(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function qp(a,l){if(mt(a,l.from)<0)return a;if(mt(a,l.to)<=0)return Oi(l);var p=a.line+l.text.length-(l.to.line-l.from.line)-1,f=a.ch;return a.line==l.to.line&&(f+=Oi(l).ch-l.to.ch),Ae(p,f)}function xd(a,l){for(var p=[],f=0;f<a.sel.ranges.length;f++){var g=a.sel.ranges[f];p.push(new Ht(qp(g.anchor,l),qp(g.head,l)))}return _o(a.cm,p,a.sel.primIndex)}function Xp(a,l,p){return a.line==l.line?Ae(p.line,a.ch-l.ch+p.ch):Ae(p.line+(a.line-l.line),a.ch)}function V_(a,l,p){for(var f=[],g=Ae(a.first,0),y=g,_=0;_<l.length;_++){var x=l[_],S=Xp(x.from,g,y),E=Xp(Oi(x),g,y);if(g=x.to,y=E,p=="around"){var G=a.sel.ranges[_],Z=mt(G.head,G.anchor)<0;f[_]=new Ht(Z?E:S,Z?S:E)}else f[_]=new Ht(S,S)}return new Gn(f,a.sel.primIndex)}function Sd(a){a.doc.mode=Nt(a.options,a.doc.modeOption),Ls(a)}function Ls(a){a.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Ds(a,100),a.state.modeGen++,a.curOp&&ln(a)}function Zp(a,l){return l.from.ch==0&&l.to.ch==0&&He(l.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Od(a,l,p,f){function g(et){return p?p[et]:null}function y(et,Ge,tt){kl(et,Ge,tt,f),lr(et,"change",et,l)}function _(et,Ge){for(var tt=[],vt=et;vt<Ge;++vt)tt.push(new Mr(E[vt],g(vt),f));return tt}var x=l.from,S=l.to,E=l.text,G=Qe(a,x.line),Z=Qe(a,S.line),fe=He(E),ne=g(E.length-1),we=S.line-x.line;if(l.full)a.insert(0,_(0,E.length)),a.remove(E.length,a.size-E.length);else if(Zp(a,l)){var Pe=_(0,E.length-1);y(Z,Z.text,ne),we&&a.remove(x.line,we),Pe.length&&a.insert(x.line,Pe)}else if(G==Z)if(E.length==1)y(G,G.text.slice(0,x.ch)+fe+G.text.slice(S.ch),ne);else{var Fe=_(1,E.length-1);Fe.push(new Mr(fe+G.text.slice(S.ch),ne,f)),y(G,G.text.slice(0,x.ch)+E[0],g(0)),a.insert(x.line+1,Fe)}else if(E.length==1)y(G,G.text.slice(0,x.ch)+E[0]+Z.text.slice(S.ch),g(0)),a.remove(x.line+1,we);else{y(G,G.text.slice(0,x.ch)+E[0],g(0)),y(Z,fe+Z.text.slice(S.ch),ne);var Ke=_(1,E.length-1);we>1&&a.remove(x.line+1,we-1),a.insert(x.line+1,Ke)}lr(a,"change",a,l)}function Ti(a,l,p){function f(g,y,_){if(g.linked)for(var x=0;x<g.linked.length;++x){var S=g.linked[x];if(S.doc!=y){var E=_&&S.sharedHist;p&&!E||(l(S.doc,E),f(S.doc,g,E))}}}f(a,null,!0)}function Jp(a,l){if(l.cm)throw new Error("This document is already in use.");a.doc=l,l.cm=a,fd(a),Sd(a),Qp(a),a.options.direction=l.direction,a.options.lineWrapping||hi(a),a.options.mode=l.modeOption,ln(a)}function Qp(a){(a.doc.direction=="rtl"?ge:oe)(a.display.lineDiv,"CodeMirror-rtl")}function H_(a){kn(a,function(){Qp(a),ln(a)})}function ql(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Td(a,l){var p={from:M(l.from),to:Oi(l),text:Tr(a,l.from,l.to)};return rh(a,p,l.from.line,l.to.line+1),Ti(a,function(f){return rh(f,p,l.from.line,l.to.line+1)},!0),p}function eh(a){for(;a.length;){var l=He(a);if(l.ranges)a.pop();else break}}function W_(a,l){if(l)return eh(a.done),He(a.done);if(a.done.length&&!He(a.done).ranges)return He(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),He(a.done)}function th(a,l,p,f){var g=a.history;g.undone.length=0;var y=+new Date,_,x;if((g.lastOp==f||g.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&g.lastModTime>y-(a.cm?a.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(_=W_(g,g.lastOp==f)))x=He(_.changes),mt(l.from,l.to)==0&&mt(l.from,x.to)==0?x.to=Oi(l):_.changes.push(Td(a,l));else{var S=He(g.done);for((!S||!S.ranges)&&Xl(a.sel,g.done),_={changes:[Td(a,l)],generation:g.generation},g.done.push(_);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(p),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=y,g.lastOp=g.lastSelOp=f,g.lastOrigin=g.lastSelOrigin=l.origin,x||Xe(a,"historyAdded")}function z_(a,l,p,f){var g=l.charAt(0);return g=="*"||g=="+"&&p.ranges.length==f.ranges.length&&p.somethingSelected()==f.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function U_(a,l,p,f){var g=a.history,y=f&&f.origin;p==g.lastSelOp||y&&g.lastSelOrigin==y&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==y||z_(a,y,He(g.done),l))?g.done[g.done.length-1]=l:Xl(l,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=y,g.lastSelOp=p,f&&f.clearRedo!==!1&&eh(g.undone)}function Xl(a,l){var p=He(l);p&&p.ranges&&p.equals(a)||l.push(a)}function rh(a,l,p,f){var g=l["spans_"+a.id],y=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,f),function(_){_.markedSpans&&((g||(g=l["spans_"+a.id]={}))[y]=_.markedSpans),++y})}function $_(a){if(!a)return null;for(var l,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?l||(l=a.slice(0,p)):l&&l.push(a[p]);return l?l.length?l:null:a}function K_(a,l){var p=l["spans_"+a.id];if(!p)return null;for(var f=[],g=0;g<l.text.length;++g)f.push($_(p[g]));return f}function nh(a,l){var p=K_(a,l),f=zn(a,l);if(!p)return f;if(!f)return p;for(var g=0;g<p.length;++g){var y=p[g],_=f[g];if(y&&_)e:for(var x=0;x<_.length;++x){for(var S=_[x],E=0;E<y.length;++E)if(y[E].marker==S.marker)continue e;y.push(S)}else _&&(p[g]=_)}return p}function Aa(a,l,p){for(var f=[],g=0;g<a.length;++g){var y=a[g];if(y.ranges){f.push(p?Gn.prototype.deepCopy.call(y):y);continue}var _=y.changes,x=[];f.push({changes:x});for(var S=0;S<_.length;++S){var E=_[S],G=void 0;if(x.push({from:E.from,to:E.to,text:E.text}),l)for(var Z in E)(G=Z.match(/^spans_(\d+)$/))&&Re(l,Number(G[1]))>-1&&(He(x)[Z]=E[Z],delete E[Z])}}return f}function kd(a,l,p,f){if(f){var g=a.anchor;if(p){var y=mt(l,g)<0;y!=mt(p,g)<0?(g=l,l=p):y!=mt(l,p)<0&&(l=p)}return new Ht(g,l)}else return new Ht(p||l,l)}function Zl(a,l,p,f,g){g==null&&(g=a.cm&&(a.cm.display.shift||a.extend)),Yr(a,new Gn([kd(a.sel.primary(),l,p,g)],0),f)}function oh(a,l,p){for(var f=[],g=a.cm&&(a.cm.display.shift||a.extend),y=0;y<a.sel.ranges.length;y++)f[y]=kd(a.sel.ranges[y],l[y],null,g);var _=_o(a.cm,f,a.sel.primIndex);Yr(a,_,p)}function Ed(a,l,p,f){var g=a.sel.ranges.slice(0);g[l]=p,Yr(a,_o(a.cm,g,a.sel.primIndex),f)}function ih(a,l,p,f){Yr(a,Si(l,p),f)}function G_(a,l,p){var f={ranges:l.ranges,update:function(g){this.ranges=[];for(var y=0;y<g.length;y++)this.ranges[y]=new Ht(Ie(a,g[y].anchor),Ie(a,g[y].head))},origin:p&&p.origin};return Xe(a,"beforeSelectionChange",a,f),a.cm&&Xe(a.cm,"beforeSelectionChange",a.cm,f),f.ranges!=l.ranges?_o(a.cm,f.ranges,f.ranges.length-1):l}function ah(a,l,p){var f=a.history.done,g=He(f);g&&g.ranges?(f[f.length-1]=l,Jl(a,l,p)):Yr(a,l,p)}function Yr(a,l,p){Jl(a,l,p),U_(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function Jl(a,l,p){(Pt(a,"beforeSelectionChange")||a.cm&&Pt(a.cm,"beforeSelectionChange"))&&(l=G_(a,l,p));var f=p&&p.bias||(mt(l.primary().head,a.sel.primary().head)<0?-1:1);sh(a,ch(a,l,f,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&Ea(a.cm)}function sh(a,l){l.equals(a.sel)||(a.sel=l,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,st(a.cm)),lr(a,"cursorActivity",a))}function lh(a){sh(a,ch(a,a.sel,null,!1))}function ch(a,l,p,f){for(var g,y=0;y<l.ranges.length;y++){var _=l.ranges[y],x=l.ranges.length==a.sel.ranges.length&&a.sel.ranges[y],S=Ql(a,_.anchor,x&&x.anchor,p,f),E=Ql(a,_.head,x&&x.head,p,f);(g||S!=_.anchor||E!=_.head)&&(g||(g=l.ranges.slice(0,y)),g[y]=new Ht(S,E))}return g?_o(a.cm,g,l.primIndex):l}function Da(a,l,p,f,g){var y=Qe(a,l.line);if(y.markedSpans)for(var _=0;_<y.markedSpans.length;++_){var x=y.markedSpans[_],S=x.marker,E="selectLeft"in S?!S.selectLeft:S.inclusiveLeft,G="selectRight"in S?!S.selectRight:S.inclusiveRight;if((x.from==null||(E?x.from<=l.ch:x.from<l.ch))&&(x.to==null||(G?x.to>=l.ch:x.to>l.ch))){if(g&&(Xe(S,"beforeCursorEnter"),S.explicitlyCleared))if(y.markedSpans){--_;continue}else break;if(!S.atomic)continue;if(p){var Z=S.find(f<0?1:-1),fe=void 0;if((f<0?G:E)&&(Z=uh(a,Z,-f,Z&&Z.line==l.line?y:null)),Z&&Z.line==l.line&&(fe=mt(Z,p))&&(f<0?fe<0:fe>0))return Da(a,Z,l,f,g)}var ne=S.find(f<0?-1:1);return(f<0?E:G)&&(ne=uh(a,ne,f,ne.line==l.line?y:null)),ne?Da(a,ne,l,f,g):null}}return l}function Ql(a,l,p,f,g){var y=f||1,_=Da(a,l,p,y,g)||!g&&Da(a,l,p,y,!0)||Da(a,l,p,-y,g)||!g&&Da(a,l,p,-y,!0);return _||(a.cantEdit=!0,Ae(a.first,0))}function uh(a,l,p,f){return p<0&&l.ch==0?l.line>a.first?Ie(a,Ae(l.line-1)):null:p>0&&l.ch==(f||Qe(a,l.line)).text.length?l.line<a.first+a.size-1?Ae(l.line+1,0):null:new Ae(l.line,l.ch+p)}function dh(a){a.setSelection(Ae(a.firstLine(),0),Ae(a.lastLine()),Ne)}function fh(a,l,p){var f={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return f.canceled=!0}};return p&&(f.update=function(g,y,_,x){g&&(f.from=Ie(a,g)),y&&(f.to=Ie(a,y)),_&&(f.text=_),x!==void 0&&(f.origin=x)}),Xe(a,"beforeChange",a,f),a.cm&&Xe(a.cm,"beforeChange",a.cm,f),f.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function Ma(a,l,p){if(a.cm){if(!a.cm.curOp)return Lr(a.cm,Ma)(a,l,p);if(a.cm.state.suppressEdits)return}if(!((Pt(a,"beforeChange")||a.cm&&Pt(a.cm,"beforeChange"))&&(l=fh(a,l,!0),!l))){var f=br&&!p&&pi(a,l.from,l.to);if(f)for(var g=f.length-1;g>=0;--g)ph(a,{from:f[g].from,to:f[g].to,text:g?[""]:l.text,origin:l.origin});else ph(a,l)}}function ph(a,l){if(!(l.text.length==1&&l.text[0]==""&&mt(l.from,l.to)==0)){var p=xd(a,l);th(a,l,p,a.cm?a.cm.curOp.id:NaN),Rs(a,l,p,zn(a,l));var f=[];Ti(a,function(g,y){!y&&Re(f,g.history)==-1&&(mh(g.history,l),f.push(g.history)),Rs(g,l,null,zn(g,l))})}}function ec(a,l,p){var f=a.cm&&a.cm.state.suppressEdits;if(!(f&&!p)){for(var g=a.history,y,_=a.sel,x=l=="undo"?g.done:g.undone,S=l=="undo"?g.undone:g.done,E=0;E<x.length&&(y=x[E],!(p?y.ranges&&!y.equals(a.sel):!y.ranges));E++);if(E!=x.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(y=x.pop(),y.ranges){if(Xl(y,S),p&&!y.equals(a.sel)){Yr(a,y,{clearRedo:!1});return}_=y}else if(f){x.push(y);return}else break;var G=[];Xl(_,S),S.push({changes:G,generation:g.generation}),g.generation=y.generation||++g.maxGeneration;for(var Z=Pt(a,"beforeChange")||a.cm&&Pt(a.cm,"beforeChange"),fe=function(Pe){var Fe=y.changes[Pe];if(Fe.origin=l,Z&&!fh(a,Fe,!1))return x.length=0,{};G.push(Td(a,Fe));var Ke=Pe?xd(a,Fe):He(x);Rs(a,Fe,Ke,nh(a,Fe)),!Pe&&a.cm&&a.cm.scrollIntoView({from:Fe.from,to:Oi(Fe)});var et=[];Ti(a,function(Ge,tt){!tt&&Re(et,Ge.history)==-1&&(mh(Ge.history,Fe),et.push(Ge.history)),Rs(Ge,Fe,null,nh(Ge,Fe))})},ne=y.changes.length-1;ne>=0;--ne){var we=fe(ne);if(we)return we.v}}}}function hh(a,l){if(l!=0&&(a.first+=l,a.sel=new Gn(ot(a.sel.ranges,function(g){return new Ht(Ae(g.anchor.line+l,g.anchor.ch),Ae(g.head.line+l,g.head.ch))}),a.sel.primIndex),a.cm)){ln(a.cm,a.first,a.first-l,l);for(var p=a.cm.display,f=p.viewFrom;f<p.viewTo;f++)Ci(a.cm,f,"gutter")}}function Rs(a,l,p,f){if(a.cm&&!a.cm.curOp)return Lr(a.cm,Rs)(a,l,p,f);if(l.to.line<a.first){hh(a,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>a.lastLine())){if(l.from.line<a.first){var g=l.text.length-1-(a.first-l.from.line);hh(a,g),l={from:Ae(a.first,0),to:Ae(l.to.line+g,l.to.ch),text:[He(l.text)],origin:l.origin}}var y=a.lastLine();l.to.line>y&&(l={from:l.from,to:Ae(y,Qe(a,y).text.length),text:[l.text[0]],origin:l.origin}),l.removed=Tr(a,l.from,l.to),p||(p=xd(a,l)),a.cm?Y_(a.cm,l,f):Od(a,l,f),Jl(a,p,Ne),a.cantEdit&&Ql(a,Ae(a.firstLine(),0))&&(a.cantEdit=!1)}}function Y_(a,l,p){var f=a.doc,g=a.display,y=l.from,_=l.to,x=!1,S=y.line;a.options.lineWrapping||(S=St(Tt(Qe(f,y.line))),f.iter(S,_.line+1,function(ne){if(ne==g.maxLine)return x=!0,!0})),f.sel.contains(l.from,l.to)>-1&&st(a),Od(f,l,p,Mp(a)),a.options.lineWrapping||(f.iter(S,y.line+l.text.length,function(ne){var we=yo(ne);we>g.maxLineLength&&(g.maxLine=ne,g.maxLineLength=we,g.maxLineChanged=!0,x=!1)}),x&&(a.curOp.updateMaxLine=!0)),Wo(f,y.line),Ds(a,400);var E=l.text.length-(_.line-y.line)-1;l.full?ln(a):y.line==_.line&&l.text.length==1&&!Zp(a.doc,l)?Ci(a,y.line,"text"):ln(a,y.line,_.line+1,E);var G=Pt(a,"changes"),Z=Pt(a,"change");if(Z||G){var fe={from:y,to:_,text:l.text,removed:l.removed,origin:l.origin};Z&&lr(a,"change",a,fe),G&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(fe)}a.display.selForContextMenu=null}function La(a,l,p,f,g){var y;f||(f=p),mt(f,p)<0&&(y=[f,p],p=y[0],f=y[1]),typeof l=="string"&&(l=a.splitLines(l)),Ma(a,{from:p,to:f,text:l,origin:g})}function gh(a,l,p,f){p<a.line?a.line+=f:l<a.line&&(a.line=l,a.ch=0)}function vh(a,l,p,f){for(var g=0;g<a.length;++g){var y=a[g],_=!0;if(y.ranges){y.copied||(y=a[g]=y.deepCopy(),y.copied=!0);for(var x=0;x<y.ranges.length;x++)gh(y.ranges[x].anchor,l,p,f),gh(y.ranges[x].head,l,p,f);continue}for(var S=0;S<y.changes.length;++S){var E=y.changes[S];if(p<E.from.line)E.from=Ae(E.from.line+f,E.from.ch),E.to=Ae(E.to.line+f,E.to.ch);else if(l<=E.to.line){_=!1;break}}_||(a.splice(0,g+1),g=0)}}function mh(a,l){var p=l.from.line,f=l.to.line,g=l.text.length-(f-p)-1;vh(a.done,p,f,g),vh(a.undone,p,f,g)}function Is(a,l,p,f){var g=l,y=l;return typeof l=="number"?y=Qe(a,Le(a,l)):g=St(l),g==null?null:(f(y,g)&&a.cm&&Ci(a.cm,g,p),y)}function Ns(a){this.lines=a,this.parent=null;for(var l=0,p=0;p<a.length;++p)a[p].parent=this,l+=a[p].height;this.height=l}Ns.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,l){for(var p=a,f=a+l;p<f;++p){var g=this.lines[p];this.height-=g.height,_a(g),lr(g,"delete")}this.lines.splice(a,l)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,l,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(l).concat(this.lines.slice(a));for(var f=0;f<l.length;++f)l[f].parent=this},iterN:function(a,l,p){for(var f=a+l;a<f;++a)if(p(this.lines[a]))return!0}};function Fs(a){this.children=a;for(var l=0,p=0,f=0;f<a.length;++f){var g=a[f];l+=g.chunkSize(),p+=g.height,g.parent=this}this.size=l,this.height=p,this.parent=null}Fs.prototype={chunkSize:function(){return this.size},removeInner:function(a,l){this.size-=l;for(var p=0;p<this.children.length;++p){var f=this.children[p],g=f.chunkSize();if(a<g){var y=Math.min(l,g-a),_=f.height;if(f.removeInner(a,y),this.height-=_-f.height,g==y&&(this.children.splice(p--,1),f.parent=null),(l-=y)==0)break;a=0}else a-=g}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof Ns))){var x=[];this.collapse(x),this.children=[new Ns(x)],this.children[0].parent=this}},collapse:function(a){for(var l=0;l<this.children.length;++l)this.children[l].collapse(a)},insertInner:function(a,l,p){this.size+=l.length,this.height+=p;for(var f=0;f<this.children.length;++f){var g=this.children[f],y=g.chunkSize();if(a<=y){if(g.insertInner(a,l,p),g.lines&&g.lines.length>50){for(var _=g.lines.length%25+25,x=_;x<g.lines.length;){var S=new Ns(g.lines.slice(x,x+=25));g.height-=S.height,this.children.splice(++f,0,S),S.parent=this}g.lines=g.lines.slice(0,_),this.maybeSpill()}break}a-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var l=a.children.splice(a.children.length-5,5),p=new Fs(l);if(a.parent){a.size-=p.size,a.height-=p.height;var g=Re(a.parent.children,a);a.parent.children.splice(g+1,0,p)}else{var f=new Fs(a.children);f.parent=a,a.children=[f,p],a=f}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,l,p){for(var f=0;f<this.children.length;++f){var g=this.children[f],y=g.chunkSize();if(a<y){var _=Math.min(l,y-a);if(g.iterN(a,_,p))return!0;if((l-=_)==0)break;a=0}else a-=y}}};var js=function(a,l,p){if(p)for(var f in p)p.hasOwnProperty(f)&&(this[f]=p[f]);this.doc=a,this.node=l};js.prototype.clear=function(){var a=this.doc.cm,l=this.line.widgets,p=this.line,f=St(p);if(!(f==null||!l)){for(var g=0;g<l.length;++g)l[g]==this&&l.splice(g--,1);l.length||(p.widgets=null);var y=_i(this);yr(p,Math.max(0,p.height-y)),a&&(kn(a,function(){yh(a,p,-y),Ci(a,f,"widget")}),lr(a,"lineWidgetCleared",a,this,f))}},js.prototype.changed=function(){var a=this,l=this.height,p=this.doc.cm,f=this.line;this.height=null;var g=_i(this)-l;g&&(Dr(this.doc,f)||yr(f,f.height+g),p&&kn(p,function(){p.curOp.forceUpdate=!0,yh(p,f,g),lr(p,"lineWidgetChanged",p,a,St(f))}))},Lt(js);function yh(a,l,p){On(l)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&md(a,p)}function q_(a,l,p,f){var g=new js(a,p,f),y=a.cm;return y&&g.noHScroll&&(y.display.alignWidgets=!0),Is(a,l,"widget",function(_){var x=_.widgets||(_.widgets=[]);if(g.insertAt==null?x.push(g):x.splice(Math.min(x.length,Math.max(0,g.insertAt)),0,g),g.line=_,y&&!Dr(a,_)){var S=On(_)<a.scrollTop;yr(_,_.height+_i(g)),S&&md(y,g.height),y.curOp.forceUpdate=!0}return!0}),y&&lr(y,"lineWidgetAdded",y,g,typeof l=="number"?l:St(l)),g}var bh=0,ki=function(a,l){this.lines=[],this.type=l,this.doc=a,this.id=++bh};ki.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,l=a&&!a.curOp;if(l&&Zi(a),Pt(this,"clear")){var p=this.find();p&&lr(this,"clear",p.from,p.to)}for(var f=null,g=null,y=0;y<this.lines.length;++y){var _=this.lines[y],x=Kr(_.markedSpans,this);a&&!this.collapsed?Ci(a,St(_),"text"):a&&(x.to!=null&&(g=St(_)),x.from!=null&&(f=St(_))),_.markedSpans=zi(_.markedSpans,x),x.from==null&&this.collapsed&&!Dr(this.doc,_)&&a&&yr(_,Oa(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var S=0;S<this.lines.length;++S){var E=Tt(this.lines[S]),G=yo(E);G>a.display.maxLineLength&&(a.display.maxLine=E,a.display.maxLineLength=G,a.display.maxLineChanged=!0)}f!=null&&a&&this.collapsed&&ln(a,f,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&lh(a.doc)),a&&lr(a,"markerCleared",a,this,f,g),l&&Ji(a),this.parent&&this.parent.clear()}},ki.prototype.find=function(a,l){a==null&&this.type=="bookmark"&&(a=1);for(var p,f,g=0;g<this.lines.length;++g){var y=this.lines[g],_=Kr(y.markedSpans,this);if(_.from!=null&&(p=Ae(l?y:St(y),_.from),a==-1))return p;if(_.to!=null&&(f=Ae(l?y:St(y),_.to),a==1))return f}return p&&{from:p,to:f}},ki.prototype.changed=function(){var a=this,l=this.find(-1,!0),p=this,f=this.doc.cm;!l||!f||kn(f,function(){var g=l.line,y=St(l.line),_=ce(f,y);if(_&&(Ss(_),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!Dr(p.doc,g)&&p.height!=null){var x=p.height;p.height=null;var S=_i(p)-x;S&&yr(g,g.height+S)}lr(f,"markerChanged",f,a)})},ki.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||Re(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},ki.prototype.detachLine=function(a){if(this.lines.splice(Re(this.lines,a),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},Lt(ki);function Ra(a,l,p,f,g){if(f&&f.shared)return X_(a,l,p,f,g);if(a.cm&&!a.cm.curOp)return Lr(a.cm,Ra)(a,l,p,f,g);var y=new ki(a,g),_=mt(l,p);if(f&&ht(f,y,!1),_>0||_==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=H("span",[y.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(ct(a,l.line,l,p,y)||l.line!=p.line&&ct(a,p.line,l,p,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");Wi()}y.addToHistory&&th(a,{from:l,to:p,origin:"markText"},a.sel,NaN);var x=l.line,S=a.cm,E;if(a.iter(x,p.line+1,function(Z){S&&y.collapsed&&!S.options.lineWrapping&&Tt(Z)==S.display.maxLine&&(E=!0),y.collapsed&&x!=l.line&&yr(Z,0),ro(Z,new vo(y,x==l.line?l.ch:null,x==p.line?p.ch:null),a.cm&&a.cm.curOp),++x}),y.collapsed&&a.iter(l.line,p.line+1,function(Z){Dr(a,Z)&&yr(Z,0)}),y.clearOnEnter&&he(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(di(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),y.collapsed&&(y.id=++bh,y.atomic=!0),S){if(E&&(S.curOp.updateMaxLine=!0),y.collapsed)ln(S,l.line,p.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var G=l.line;G<=p.line;G++)Ci(S,G,"text");y.atomic&&lh(S.doc),lr(S,"markerAdded",S,y)}return y}var Bs=function(a,l){this.markers=a,this.primary=l;for(var p=0;p<a.length;++p)a[p].parent=this};Bs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();lr(this,"clear")}},Bs.prototype.find=function(a,l){return this.primary.find(a,l)},Lt(Bs);function X_(a,l,p,f,g){f=ht(f),f.shared=!1;var y=[Ra(a,l,p,f,g)],_=y[0],x=f.widgetNode;return Ti(a,function(S){x&&(f.widgetNode=x.cloneNode(!0)),y.push(Ra(S,Ie(S,l),Ie(S,p),f,g));for(var E=0;E<S.linked.length;++E)if(S.linked[E].isParent)return;_=He(y)}),new Bs(y,_)}function _h(a){return a.findMarks(Ae(a.first,0),a.clipPos(Ae(a.lastLine())),function(l){return l.parent})}function Z_(a,l){for(var p=0;p<l.length;p++){var f=l[p],g=f.find(),y=a.clipPos(g.from),_=a.clipPos(g.to);if(mt(y,_)){var x=Ra(a,y,_,f.primary,f.primary.type);f.markers.push(x),x.parent=f}}}function J_(a){for(var l=function(f){var g=a[f],y=[g.primary.doc];Ti(g.primary.doc,function(S){return y.push(S)});for(var _=0;_<g.markers.length;_++){var x=g.markers[_];Re(y,x.doc)==-1&&(x.parent=null,g.markers.splice(_--,1))}},p=0;p<a.length;p++)l(p)}var Q_=0,cn=function(a,l,p,f,g){if(!(this instanceof cn))return new cn(a,l,p,f,g);p==null&&(p=0),Fs.call(this,[new Ns([new Mr("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var y=Ae(p,0);this.sel=Si(y),this.history=new ql(null),this.id=++Q_,this.modeOption=l,this.lineSep=f,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Od(this,{from:y,to:y,text:a}),Yr(this,Si(y),Ne)};cn.prototype=k(Fs.prototype,{constructor:cn,iter:function(a,l,p){p?this.iterN(a-this.first,l-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,l){for(var p=0,f=0;f<l.length;++f)p+=l[f].height;this.insertInner(a-this.first,l,p)},remove:function(a,l){this.removeInner(a-this.first,l)},getValue:function(a){var l=$r(this,this.first,this.first+this.size);return a===!1?l:l.join(a||this.lineSeparator())},setValue:Rr(function(a){var l=Ae(this.first,0),p=this.first+this.size-1;Ma(this,{from:l,to:Ae(p,Qe(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&ks(this.cm,0,0),Yr(this,Si(l),Ne)}),replaceRange:function(a,l,p,f){l=Ie(this,l),p=p?Ie(this,p):l,La(this,a,l,p,f)},getRange:function(a,l,p){var f=Tr(this,Ie(this,a),Ie(this,l));return p===!1?f:p===""?f.join(""):f.join(p||this.lineSeparator())},getLine:function(a){var l=this.getLineHandle(a);return l&&l.text},getLineHandle:function(a){if(Vn(this,a))return Qe(this,a)},getLineNumber:function(a){return St(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=Qe(this,a)),Tt(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Ie(this,a)},getCursor:function(a){var l=this.sel.primary(),p;return a==null||a=="head"?p=l.head:a=="anchor"?p=l.anchor:a=="end"||a=="to"||a===!1?p=l.to():p=l.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Rr(function(a,l,p){ih(this,Ie(this,typeof a=="number"?Ae(a,l||0):a),null,p)}),setSelection:Rr(function(a,l,p){ih(this,Ie(this,a),Ie(this,l||a),p)}),extendSelection:Rr(function(a,l,p){Zl(this,Ie(this,a),l&&Ie(this,l),p)}),extendSelections:Rr(function(a,l){oh(this,Mt(this,a),l)}),extendSelectionsBy:Rr(function(a,l){var p=ot(this.sel.ranges,a);oh(this,Mt(this,p),l)}),setSelections:Rr(function(a,l,p){if(a.length){for(var f=[],g=0;g<a.length;g++)f[g]=new Ht(Ie(this,a[g].anchor),Ie(this,a[g].head||a[g].anchor));l==null&&(l=Math.min(a.length-1,this.sel.primIndex)),Yr(this,_o(this.cm,f,l),p)}}),addSelection:Rr(function(a,l,p){var f=this.sel.ranges.slice(0);f.push(new Ht(Ie(this,a),Ie(this,l||a))),Yr(this,_o(this.cm,f,f.length-1),p)}),getSelection:function(a){for(var l=this.sel.ranges,p,f=0;f<l.length;f++){var g=Tr(this,l[f].from(),l[f].to());p=p?p.concat(g):g}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var l=[],p=this.sel.ranges,f=0;f<p.length;f++){var g=Tr(this,p[f].from(),p[f].to());a!==!1&&(g=g.join(a||this.lineSeparator())),l[f]=g}return l},replaceSelection:function(a,l,p){for(var f=[],g=0;g<this.sel.ranges.length;g++)f[g]=a;this.replaceSelections(f,l,p||"+input")},replaceSelections:Rr(function(a,l,p){for(var f=[],g=this.sel,y=0;y<g.ranges.length;y++){var _=g.ranges[y];f[y]={from:_.from(),to:_.to(),text:this.splitLines(a[y]),origin:p}}for(var x=l&&l!="end"&&V_(this,f,l),S=f.length-1;S>=0;S--)Ma(this,f[S]);x?ah(this,x):this.cm&&Ea(this.cm)}),undo:Rr(function(){ec(this,"undo")}),redo:Rr(function(){ec(this,"redo")}),undoSelection:Rr(function(){ec(this,"undo",!0)}),redoSelection:Rr(function(){ec(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,l=0,p=0,f=0;f<a.done.length;f++)a.done[f].ranges||++l;for(var g=0;g<a.undone.length;g++)a.undone[g].ranges||++p;return{undo:l,redo:p}},clearHistory:function(){var a=this;this.history=new ql(this.history),Ti(this,function(l){return l.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Aa(this.history.done),undone:Aa(this.history.undone)}},setHistory:function(a){var l=this.history=new ql(this.history);l.done=Aa(a.done.slice(0),null,!0),l.undone=Aa(a.undone.slice(0),null,!0)},setGutterMarker:Rr(function(a,l,p){return Is(this,a,"gutter",function(f){var g=f.gutterMarkers||(f.gutterMarkers={});return g[l]=p,!p&&me(g)&&(f.gutterMarkers=null),!0})}),clearGutter:Rr(function(a){var l=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&Is(l,p,"gutter",function(){return p.gutterMarkers[a]=null,me(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var l;if(typeof a=="number"){if(!Vn(this,a)||(l=a,a=Qe(this,a),!a))return null}else if(l=St(a),l==null)return null;return{line:l,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Rr(function(a,l,p){return Is(this,a,l=="gutter"?"gutter":"class",function(f){var g=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!f[g])f[g]=p;else{if(Y(p).test(f[g]))return!1;f[g]+=" "+p}return!0})}),removeLineClass:Rr(function(a,l,p){return Is(this,a,l=="gutter"?"gutter":"class",function(f){var g=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",y=f[g];if(y)if(p==null)f[g]=null;else{var _=y.match(Y(p));if(!_)return!1;var x=_.index+_[0].length;f[g]=y.slice(0,_.index)+(!_.index||x==y.length?"":" ")+y.slice(x)||null}else return!1;return!0})}),addLineWidget:Rr(function(a,l,p){return q_(this,a,l,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,l,p){return Ra(this,Ie(this,a),Ie(this,l),p,p&&p.type||"range")},setBookmark:function(a,l){var p={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return a=Ie(this,a),Ra(this,a,a,p,"bookmark")},findMarksAt:function(a){a=Ie(this,a);var l=[],p=Qe(this,a.line).markedSpans;if(p)for(var f=0;f<p.length;++f){var g=p[f];(g.from==null||g.from<=a.ch)&&(g.to==null||g.to>=a.ch)&&l.push(g.marker.parent||g.marker)}return l},findMarks:function(a,l,p){a=Ie(this,a),l=Ie(this,l);var f=[],g=a.line;return this.iter(a.line,l.line+1,function(y){var _=y.markedSpans;if(_)for(var x=0;x<_.length;x++){var S=_[x];!(S.to!=null&&g==a.line&&a.ch>=S.to||S.from==null&&g!=a.line||S.from!=null&&g==l.line&&S.from>=l.ch)&&(!p||p(S.marker))&&f.push(S.marker.parent||S.marker)}++g}),f},getAllMarks:function(){var a=[];return this.iter(function(l){var p=l.markedSpans;if(p)for(var f=0;f<p.length;++f)p[f].from!=null&&a.push(p[f].marker)}),a},posFromIndex:function(a){var l,p=this.first,f=this.lineSeparator().length;return this.iter(function(g){var y=g.text.length+f;if(y>a)return l=a,!0;a-=y,++p}),Ie(this,Ae(p,l))},indexFromPos:function(a){a=Ie(this,a);var l=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(f){l+=f.text.length+p}),l},copy:function(a){var l=new cn($r(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,a&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(a){a||(a={});var l=this.first,p=this.first+this.size;a.from!=null&&a.from>l&&(l=a.from),a.to!=null&&a.to<p&&(p=a.to);var f=new cn($r(this,l,p),a.mode||this.modeOption,l,this.lineSep,this.direction);return a.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:a.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],Z_(f,_h(this)),f},unlinkDoc:function(a){if(a instanceof Qt&&(a=a.doc),this.linked)for(var l=0;l<this.linked.length;++l){var p=this.linked[l];if(p.doc==a){this.linked.splice(l,1),a.unlinkDoc(this),J_(_h(this));break}}if(a.history==this.history){var f=[a.id];Ti(a,function(g){return f.push(g.id)},!0),a.history=new ql(null),a.history.done=Aa(this.history.done,f),a.history.undone=Aa(this.history.undone,f)}},iterLinkedDocs:function(a){Ti(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Kt(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Rr(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(l){return l.order=null}),this.cm&&H_(this.cm))})}),cn.prototype.eachLine=cn.prototype.iter;var wh=0;function ew(a){var l=this;if(Ch(l),!(ze(l,a)||oo(l.display,a))){Dt(a),c&&(wh=+new Date);var p=Gi(l,a,!0),f=a.dataTransfer.files;if(!(!p||l.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var g=f.length,y=Array(g),_=0,x=function(){++_==g&&Lr(l,function(){p=Ie(l.doc,p);var ne={from:p,to:p,text:l.doc.splitLines(y.filter(function(we){return we!=null}).join(l.doc.lineSeparator())),origin:"paste"};Ma(l.doc,ne),ah(l.doc,Si(Ie(l.doc,p),Ie(l.doc,Oi(ne))))})()},S=function(ne,we){if(l.options.allowDropFileTypes&&Re(l.options.allowDropFileTypes,ne.type)==-1){x();return}var Pe=new FileReader;Pe.onerror=function(){return x()},Pe.onload=function(){var Fe=Pe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Fe)){x();return}y[we]=Fe,x()},Pe.readAsText(ne)},E=0;E<f.length;E++)S(f[E],E);else{if(l.state.draggingText&&l.doc.sel.contains(p)>-1){l.state.draggingText(a),setTimeout(function(){return l.display.input.focus()},20);return}try{var G=a.dataTransfer.getData("Text");if(G){var Z;if(l.state.draggingText&&!l.state.draggingText.copy&&(Z=l.listSelections()),Jl(l.doc,Si(p,p)),Z)for(var fe=0;fe<Z.length;++fe)La(l.doc,"",Z[fe].anchor,Z[fe].head,"drag");l.replaceSelection(G,"around","paste"),l.display.input.focus()}}catch{}}}}function tw(a,l){if(c&&(!a.state.draggingText||+new Date-wh<100)){N(l);return}if(!(ze(a,l)||oo(a.display,l))&&(l.dataTransfer.setData("Text",a.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!b)){var p=U("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),l.dataTransfer.setDragImage(p,0,0),m&&p.parentNode.removeChild(p)}}function rw(a,l){var p=Gi(a,l);if(p){var f=document.createDocumentFragment();Ip(a,p,f),a.display.dragCursor||(a.display.dragCursor=U("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),R(a.display.dragCursor,f)}}function Ch(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function xh(a){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),p=[],f=0;f<l.length;f++){var g=l[f].CodeMirror;g&&p.push(g)}p.length&&p[0].operation(function(){for(var y=0;y<p.length;y++)a(p[y])})}}var Sh=!1;function nw(){Sh||(ow(),Sh=!0)}function ow(){var a;he(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,xh(iw)},100))}),he(window,"blur",function(){return xh(ka)})}function iw(a){var l=a.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,a.setSize()}for(var Ei={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vs=0;Vs<10;Vs++)Ei[Vs+48]=Ei[Vs+96]=String(Vs);for(var tc=65;tc<=90;tc++)Ei[tc]=String.fromCharCode(tc);for(var Hs=1;Hs<=12;Hs++)Ei[Hs+111]=Ei[Hs+63235]="F"+Hs;var Yo={};Yo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Yo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Yo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Yo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Yo.default=j?Yo.macDefault:Yo.pcDefault;function aw(a){var l=a.split(/-(?!$)/);a=l[l.length-1];for(var p,f,g,y,_=0;_<l.length-1;_++){var x=l[_];if(/^(cmd|meta|m)$/i.test(x))y=!0;else if(/^a(lt)?$/i.test(x))p=!0;else if(/^(c|ctrl|control)$/i.test(x))f=!0;else if(/^s(hift)?$/i.test(x))g=!0;else throw new Error("Unrecognized modifier name: "+x)}return p&&(a="Alt-"+a),f&&(a="Ctrl-"+a),y&&(a="Cmd-"+a),g&&(a="Shift-"+a),a}function sw(a){var l={};for(var p in a)if(a.hasOwnProperty(p)){var f=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(f=="..."){delete a[p];continue}for(var g=ot(p.split(" "),aw),y=0;y<g.length;y++){var _=void 0,x=void 0;y==g.length-1?(x=g.join(" "),_=f):(x=g.slice(0,y+1).join(" "),_="...");var S=l[x];if(!S)l[x]=_;else if(S!=_)throw new Error("Inconsistent bindings for "+x)}delete a[p]}for(var E in l)a[E]=l[E];return a}function Ia(a,l,p,f){l=rc(l);var g=l.call?l.call(a,f):l[a];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&p(g))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return Ia(a,l.fallthrough,p,f);for(var y=0;y<l.fallthrough.length;y++){var _=Ia(a,l.fallthrough[y],p,f);if(_)return _}}}function Oh(a){var l=typeof a=="string"?a:Ei[a.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function Th(a,l,p){var f=a;return l.altKey&&f!="Alt"&&(a="Alt-"+a),(xe?l.metaKey:l.ctrlKey)&&f!="Ctrl"&&(a="Ctrl-"+a),(xe?l.ctrlKey:l.metaKey)&&f!="Mod"&&(a="Cmd-"+a),!p&&l.shiftKey&&f!="Shift"&&(a="Shift-"+a),a}function kh(a,l){if(m&&a.keyCode==34&&a.char)return!1;var p=Ei[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),Th(p,a,l))}function rc(a){return typeof a=="string"?Yo[a]:a}function Na(a,l){for(var p=a.doc.sel.ranges,f=[],g=0;g<p.length;g++){for(var y=l(p[g]);f.length&&mt(y.from,He(f).to)<=0;){var _=f.pop();if(mt(_.from,y.from)<0){y.from=_.from;break}}f.push(y)}kn(a,function(){for(var x=f.length-1;x>=0;x--)La(a.doc,"",f[x].from,f[x].to,"+delete");Ea(a)})}function Pd(a,l,p){var f=ae(a.text,l+p,p);return f<0||f>a.text.length?null:f}function Ad(a,l,p){var f=Pd(a,l.ch,p);return f==null?null:new Ae(l.line,f,p<0?"after":"before")}function Dd(a,l,p,f,g){if(a){l.doc.direction=="rtl"&&(g=-g);var y=D(p,l.doc.direction);if(y){var _=g<0?He(y):y[0],x=g<0==(_.level==1),S=x?"after":"before",E;if(_.level>0||l.doc.direction=="rtl"){var G=Te(l,p);E=g<0?p.text.length-1:0;var Z=We(l,G,E).top;E=rt(function(fe){return We(l,G,fe).top==Z},g<0==(_.level==1)?_.from:_.to-1,E),S=="before"&&(E=Pd(p,E,1))}else E=g<0?_.to:_.from;return new Ae(f,E,S)}}return new Ae(f,g<0?p.text.length:0,g<0?"before":"after")}function lw(a,l,p,f){var g=D(l,a.doc.direction);if(!g)return Ad(l,p,f);p.ch>=l.text.length?(p.ch=l.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var y=B(g,p.ch,p.sticky),_=g[y];if(a.doc.direction=="ltr"&&_.level%2==0&&(f>0?_.to>p.ch:_.from<p.ch))return Ad(l,p,f);var x=function(Ke,et){return Pd(l,Ke instanceof Ae?Ke.ch:Ke,et)},S,E=function(Ke){return a.options.lineWrapping?(S=S||Te(a,l),Dp(a,l,S,Ke)):{begin:0,end:l.text.length}},G=E(p.sticky=="before"?x(p,-1):p.ch);if(a.doc.direction=="rtl"||_.level==1){var Z=_.level==1==f<0,fe=x(p,Z?1:-1);if(fe!=null&&(Z?fe<=_.to&&fe<=G.end:fe>=_.from&&fe>=G.begin)){var ne=Z?"before":"after";return new Ae(p.line,fe,ne)}}var we=function(Ke,et,Ge){for(var tt=function(Yt,Ir){return Ir?new Ae(p.line,x(Yt,1),"before"):new Ae(p.line,Yt,"after")};Ke>=0&&Ke<g.length;Ke+=et){var vt=g[Ke],ft=et>0==(vt.level!=1),At=ft?Ge.begin:x(Ge.end,-1);if(vt.from<=At&&At<vt.to||(At=ft?vt.from:x(vt.to,-1),Ge.begin<=At&&At<Ge.end))return tt(At,ft)}},Pe=we(y+f,f,G);if(Pe)return Pe;var Fe=f>0?G.end:x(G.begin,-1);return Fe!=null&&!(f>0&&Fe==l.text.length)&&(Pe=we(f>0?0:g.length-1,f,E(Fe)),Pe)?Pe:null}var Ws={selectAll:dh,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Ne)},killLine:function(a){return Na(a,function(l){if(l.empty()){var p=Qe(a.doc,l.head.line).text.length;return l.head.ch==p&&l.head.line<a.lastLine()?{from:l.head,to:Ae(l.head.line+1,0)}:{from:l.head,to:Ae(l.head.line,p)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(a){return Na(a,function(l){return{from:Ae(l.from().line,0),to:Ie(a.doc,Ae(l.to().line+1,0))}})},delLineLeft:function(a){return Na(a,function(l){return{from:Ae(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(a){return Na(a,function(l){var p=a.charCoords(l.head,"div").top+5,f=a.coordsChar({left:0,top:p},"div");return{from:f,to:l.from()}})},delWrappedLineRight:function(a){return Na(a,function(l){var p=a.charCoords(l.head,"div").top+5,f=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:l.from(),to:f}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Ae(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Ae(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(l){return Eh(a,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(l){return Ph(a,l.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(l){return cw(a,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},at)},goLineLeft:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},at)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5,f=a.coordsChar({left:0,top:p},"div");return f.ch<a.getLine(f.line).search(/\S/)?Ph(a,l.head):f},at)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var l=[],p=a.listSelections(),f=a.options.tabSize,g=0;g<p.length;g++){var y=p[g].from(),_=be(a.getLine(y.line),y.ch,f);l.push(Je(f-_%f))}a.replaceSelections(l)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return kn(a,function(){for(var l=a.listSelections(),p=[],f=0;f<l.length;f++)if(l[f].empty()){var g=l[f].head,y=Qe(a.doc,g.line).text;if(y){if(g.ch==y.length&&(g=new Ae(g.line,g.ch-1)),g.ch>0)g=new Ae(g.line,g.ch+1),a.replaceRange(y.charAt(g.ch-1)+y.charAt(g.ch-2),Ae(g.line,g.ch-2),g,"+transpose");else if(g.line>a.doc.first){var _=Qe(a.doc,g.line-1).text;_&&(g=new Ae(g.line,1),a.replaceRange(y.charAt(0)+a.doc.lineSeparator()+_.charAt(_.length-1),Ae(g.line-1,_.length-1),g,"+transpose"))}}p.push(new Ht(g,g))}a.setSelections(p)})},newlineAndIndent:function(a){return kn(a,function(){for(var l=a.listSelections(),p=l.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),l[p].anchor,l[p].head,"+input");l=a.listSelections();for(var f=0;f<l.length;f++)a.indentLine(l[f].from().line,null,!0);Ea(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Eh(a,l){var p=Qe(a.doc,l),f=Tt(p);return f!=p&&(l=St(f)),Dd(!0,a,f,l,1)}function cw(a,l){var p=Qe(a.doc,l),f=pt(p);return f!=p&&(l=St(f)),Dd(!0,a,p,l,-1)}function Ph(a,l){var p=Eh(a,l.line),f=Qe(a.doc,p.line),g=D(f,a.doc.direction);if(!g||g[0].level==0){var y=Math.max(p.ch,f.text.search(/\S/)),_=l.line==p.line&&l.ch<=y&&l.ch;return Ae(p.line,_?0:y,p.sticky)}return p}function nc(a,l,p){if(typeof l=="string"&&(l=Ws[l],!l))return!1;a.display.input.ensurePolled();var f=a.display.shift,g=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),g=l(a)!=Be}finally{a.display.shift=f,a.state.suppressEdits=!1}return g}function uw(a,l,p){for(var f=0;f<a.state.keyMaps.length;f++){var g=Ia(l,a.state.keyMaps[f],p,a);if(g)return g}return a.options.extraKeys&&Ia(l,a.options.extraKeys,p,a)||Ia(l,a.options.keyMap,p,a)}var dw=new _e;function zs(a,l,p,f){var g=a.state.keySeq;if(g){if(Oh(l))return"handled";if(/\'$/.test(l)?a.state.keySeq=null:dw.set(50,function(){a.state.keySeq==g&&(a.state.keySeq=null,a.display.input.reset())}),Ah(a,g+" "+l,p,f))return!0}return Ah(a,l,p,f)}function Ah(a,l,p,f){var g=uw(a,l,f);return g=="multi"&&(a.state.keySeq=l),g=="handled"&&lr(a,"keyHandled",a,l,p),(g=="handled"||g=="multi")&&(Dt(p),pd(a)),!!g}function Dh(a,l){var p=kh(l,!0);return p?l.shiftKey&&!a.state.keySeq?zs(a,"Shift-"+p,l,function(f){return nc(a,f,!0)})||zs(a,p,l,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return nc(a,f)}):zs(a,p,l,function(f){return nc(a,f)}):!1}function fw(a,l,p){return zs(a,"'"+p+"'",l,function(f){return nc(a,f,!0)})}var Md=null;function Mh(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&(l.curOp.focus=ve(),!ze(l,a))){c&&u<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;l.display.shift=p==16||a.shiftKey;var f=Dh(l,a);m&&(Md=f?p:null,!f&&p==88&&!_n&&(j?a.metaKey:a.ctrlKey)&&l.replaceSelection("",null,"cut")),t&&!j&&!f&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&pw(l)}}function pw(a){var l=a.display.lineDiv;ge(l,"CodeMirror-crosshair");function p(f){(f.keyCode==18||!f.altKey)&&(oe(l,"CodeMirror-crosshair"),Ze(document,"keyup",p),Ze(document,"mouseover",p))}he(document,"keyup",p),he(document,"mouseover",p)}function Lh(a){a.keyCode==16&&(this.doc.sel.shift=!1),ze(this,a)}function Rh(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&!(oo(l.display,a)||ze(l,a)||a.ctrlKey&&!a.altKey||j&&a.metaKey)){var p=a.keyCode,f=a.charCode;if(m&&p==Md){Md=null,Dt(a);return}if(!(m&&(!a.which||a.which<10)&&Dh(l,a))){var g=String.fromCharCode(f??p);g!="\b"&&(fw(l,a,g)||l.display.input.onKeyPress(a))}}}var hw=400,Ld=function(a,l,p){this.time=a,this.pos=l,this.button=p};Ld.prototype.compare=function(a,l,p){return this.time+hw>a&&mt(l,this.pos)==0&&p==this.button};var Us,$s;function gw(a,l){var p=+new Date;return $s&&$s.compare(p,a,l)?(Us=$s=null,"triple"):Us&&Us.compare(p,a,l)?($s=new Ld(p,a,l),Us=null,"double"):(Us=new Ld(p,a,l),$s=null,"single")}function Ih(a){var l=this,p=l.display;if(!(ze(l,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,oo(p,a)){d||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!Rd(l,a)){var f=Gi(l,a),g=se(a),y=f?gw(f,g):"single";window.focus(),g==1&&l.state.selectingText&&l.state.selectingText(a),!(f&&vw(l,g,f,y,a))&&(g==1?f?yw(l,f,y,a):J(a)==p.scroller&&Dt(a):g==2?(f&&Zl(l.doc,f),setTimeout(function(){return p.input.focus()},20)):g==3&&(le?l.display.input.onContextMenu(a):hd(l)))}}}function vw(a,l,p,f,g){var y="Click";return f=="double"?y="Double"+y:f=="triple"&&(y="Triple"+y),y=(l==1?"Left":l==2?"Middle":"Right")+y,zs(a,Th(y,g),g,function(_){if(typeof _=="string"&&(_=Ws[_]),!_)return!1;var x=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),x=_(a,p)!=Be}finally{a.state.suppressEdits=!1}return x})}function mw(a,l,p){var f=a.getOption("configureMouse"),g=f?f(a,l,p):{};if(g.unit==null){var y=z?p.shiftKey&&p.metaKey:p.altKey;g.unit=y?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(g.extend==null||a.doc.extend)&&(g.extend=a.doc.extend||p.shiftKey),g.addNew==null&&(g.addNew=j?p.metaKey:p.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(j?p.altKey:p.ctrlKey)),g}function yw(a,l,p,f){c?setTimeout(Ye(Np,a),0):a.curOp.focus=ve();var g=mw(a,p,f),y=a.doc.sel,_;a.options.dragDrop&&ke&&!a.isReadOnly()&&p=="single"&&(_=y.contains(l))>-1&&(mt((_=y.ranges[_]).from(),l)<0||l.xRel>0)&&(mt(_.to(),l)>0||l.xRel<0)?bw(a,f,l,g):_w(a,f,l,g)}function bw(a,l,p,f){var g=a.display,y=!1,_=Lr(a,function(E){d&&(g.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:hd(a)),Ze(g.wrapper.ownerDocument,"mouseup",_),Ze(g.wrapper.ownerDocument,"mousemove",x),Ze(g.scroller,"dragstart",S),Ze(g.scroller,"drop",_),y||(Dt(E),f.addNew||Zl(a.doc,p,null,null,f.extend),d&&!b||c&&u==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),x=function(E){y=y||Math.abs(l.clientX-E.clientX)+Math.abs(l.clientY-E.clientY)>=10},S=function(){return y=!0};d&&(g.scroller.draggable=!0),a.state.draggingText=_,_.copy=!f.moveOnDrag,he(g.wrapper.ownerDocument,"mouseup",_),he(g.wrapper.ownerDocument,"mousemove",x),he(g.scroller,"dragstart",S),he(g.scroller,"drop",_),a.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function Nh(a,l,p){if(p=="char")return new Ht(l,l);if(p=="word")return a.findWordAt(l);if(p=="line")return new Ht(Ae(l.line,0),Ie(a.doc,Ae(l.line+1,0)));var f=p(a,l);return new Ht(f.from,f.to)}function _w(a,l,p,f){c&&hd(a);var g=a.display,y=a.doc;Dt(l);var _,x,S=y.sel,E=S.ranges;if(f.addNew&&!f.extend?(x=y.sel.contains(p),x>-1?_=E[x]:_=new Ht(p,p)):(_=y.sel.primary(),x=y.sel.primIndex),f.unit=="rectangle")f.addNew||(_=new Ht(p,p)),p=Gi(a,l,!0,!0),x=-1;else{var G=Nh(a,p,f.unit);f.extend?_=kd(_,G.anchor,G.head,f.extend):_=G}f.addNew?x==-1?(x=E.length,Yr(y,_o(a,E.concat([_]),x),{scroll:!1,origin:"*mouse"})):E.length>1&&E[x].empty()&&f.unit=="char"&&!f.extend?(Yr(y,_o(a,E.slice(0,x).concat(E.slice(x+1)),0),{scroll:!1,origin:"*mouse"}),S=y.sel):Ed(y,x,_,nt):(x=0,Yr(y,new Gn([_],0),nt),S=y.sel);var Z=p;function fe(Ge){if(mt(Z,Ge)!=0)if(Z=Ge,f.unit=="rectangle"){for(var tt=[],vt=a.options.tabSize,ft=be(Qe(y,p.line).text,p.ch,vt),At=be(Qe(y,Ge.line).text,Ge.ch,vt),Yt=Math.min(ft,At),Ir=Math.max(ft,At),ir=Math.min(p.line,Ge.line),En=Math.min(a.lastLine(),Math.max(p.line,Ge.line));ir<=En;ir++){var un=Qe(y,ir).text,_r=re(un,Yt,vt);Yt==Ir?tt.push(new Ht(Ae(ir,_r),Ae(ir,_r))):un.length>_r&&tt.push(new Ht(Ae(ir,_r),Ae(ir,re(un,Ir,vt))))}tt.length||tt.push(new Ht(p,p)),Yr(y,_o(a,S.ranges.slice(0,x).concat(tt),x),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Ge)}else{var dn=_,Wr=Nh(a,Ge,f.unit),Ar=dn.anchor,wr;mt(Wr.anchor,Ar)>0?(wr=Wr.head,Ar=Se(dn.from(),Wr.anchor)):(wr=Wr.anchor,Ar=X(dn.to(),Wr.head));var cr=S.ranges.slice(0);cr[x]=ww(a,new Ht(Ie(y,Ar),wr)),Yr(y,_o(a,cr,x),nt)}}var ne=g.wrapper.getBoundingClientRect(),we=0;function Pe(Ge){var tt=++we,vt=Gi(a,Ge,!0,f.unit=="rectangle");if(vt)if(mt(vt,Z)!=0){a.curOp.focus=ve(),fe(vt);var ft=$l(g,y);(vt.line>=ft.to||vt.line<ft.from)&&setTimeout(Lr(a,function(){we==tt&&Pe(Ge)}),150)}else{var At=Ge.clientY<ne.top?-20:Ge.clientY>ne.bottom?20:0;At&&setTimeout(Lr(a,function(){we==tt&&(g.scroller.scrollTop+=At,Pe(Ge))}),50)}}function Fe(Ge){a.state.selectingText=!1,we=1/0,Ge&&(Dt(Ge),g.input.focus()),Ze(g.wrapper.ownerDocument,"mousemove",Ke),Ze(g.wrapper.ownerDocument,"mouseup",et),y.history.lastSelOrigin=null}var Ke=Lr(a,function(Ge){Ge.buttons===0||!se(Ge)?Fe(Ge):Pe(Ge)}),et=Lr(a,Fe);a.state.selectingText=et,he(g.wrapper.ownerDocument,"mousemove",Ke),he(g.wrapper.ownerDocument,"mouseup",et)}function ww(a,l){var p=l.anchor,f=l.head,g=Qe(a.doc,p.line);if(mt(p,f)==0&&p.sticky==f.sticky)return l;var y=D(g);if(!y)return l;var _=B(y,p.ch,p.sticky),x=y[_];if(x.from!=p.ch&&x.to!=p.ch)return l;var S=_+(x.from==p.ch==(x.level!=1)?0:1);if(S==0||S==y.length)return l;var E;if(f.line!=p.line)E=(f.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var G=B(y,f.ch,f.sticky),Z=G-_||(f.ch-p.ch)*(x.level==1?-1:1);G==S-1||G==S?E=Z<0:E=Z>0}var fe=y[S+(E?-1:0)],ne=E==(fe.level==1),we=ne?fe.from:fe.to,Pe=ne?"after":"before";return p.ch==we&&p.sticky==Pe?l:new Ht(new Ae(p.line,we,Pe),f)}function Fh(a,l,p,f){var g,y;if(l.touches)g=l.touches[0].clientX,y=l.touches[0].clientY;else try{g=l.clientX,y=l.clientY}catch{return!1}if(g>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;f&&Dt(l);var _=a.display,x=_.lineDiv.getBoundingClientRect();if(y>x.bottom||!Pt(a,p))return Sr(l);y-=x.top-_.viewOffset;for(var S=0;S<a.display.gutterSpecs.length;++S){var E=_.gutters.childNodes[S];if(E&&E.getBoundingClientRect().right>=g){var G=$t(a.doc,y),Z=a.display.gutterSpecs[S];return Xe(a,p,a,G,Z.className,l),Sr(l)}}}function Rd(a,l){return Fh(a,l,"gutterClick",!0)}function jh(a,l){oo(a.display,l)||Cw(a,l)||ze(a,l,"contextmenu")||le||a.display.input.onContextMenu(l)}function Cw(a,l){return Pt(a,"gutterContextMenu")?Fh(a,l,"gutterContextMenu",!1):!1}function Bh(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Os(a)}var Fa={toString:function(){return"CodeMirror.Init"}},Vh={},oc={};function xw(a){var l=a.optionHandlers;function p(f,g,y,_){a.defaults[f]=g,y&&(l[f]=_?function(x,S,E){E!=Fa&&y(x,S,E)}:y)}a.defineOption=p,a.Init=Fa,p("value","",function(f,g){return f.setValue(g)},!0),p("mode",null,function(f,g){f.doc.modeOption=g,Sd(f)},!0),p("indentUnit",2,Sd,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(f){Ls(f),Os(f),ln(f)},!0),p("lineSeparator",null,function(f,g){if(f.doc.lineSep=g,!!g){var y=[],_=f.doc.first;f.doc.iter(function(S){for(var E=0;;){var G=S.text.indexOf(g,E);if(G==-1)break;E=G+g.length,y.push(Ae(_,G))}_++});for(var x=y.length-1;x>=0;x--)La(f.doc,g,y[x],Ae(y[x].line,y[x].ch+g.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(f,g,y){f.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),y!=Fa&&f.refresh()}),p("specialCharPlaceholder",Pl,function(f){return f.refresh()},!0),p("electricChars",!0),p("inputStyle",W?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(f,g){return f.getInputField().spellcheck=g},!0),p("autocorrect",!1,function(f,g){return f.getInputField().autocorrect=g},!0),p("autocapitalize",!1,function(f,g){return f.getInputField().autocapitalize=g},!0),p("rtlMoveVisually",!ue),p("wholeLineUpdateBefore",!0),p("theme","default",function(f){Bh(f),Ms(f)},!0),p("keyMap","default",function(f,g,y){var _=rc(g),x=y!=Fa&&rc(y);x&&x.detach&&x.detach(f,_),_.attach&&_.attach(f,x||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,Ow,!0),p("gutters",[],function(f,g){f.display.gutterSpecs=Cd(g,f.options.lineNumbers),Ms(f)},!0),p("fixedGutter",!0,function(f,g){f.display.gutters.style.left=g?dd(f.display)+"px":"0",f.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(f){return Pa(f)},!0),p("scrollbarStyle","native",function(f){Wp(f),Pa(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),p("lineNumbers",!1,function(f,g){f.display.gutterSpecs=Cd(f.options.gutters,g),Ms(f)},!0),p("firstLineNumber",1,Ms,!0),p("lineNumberFormatter",function(f){return f},Ms,!0),p("showCursorWhenSelecting",!1,Ts,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(f,g){g=="nocursor"&&(ka(f),f.display.input.blur()),f.display.input.readOnlyChanged(g)}),p("screenReaderLabel",null,function(f,g){g=g===""?null:g,f.display.input.screenReaderLabelChanged(g)}),p("disableInput",!1,function(f,g){g||f.display.input.reset()},!0),p("dragDrop",!0,Sw),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,Ts,!0),p("singleCursorHeightPerLine",!0,Ts,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Ls,!0),p("addModeClass",!1,Ls,!0),p("pollInterval",100),p("undoDepth",200,function(f,g){return f.doc.history.undoDepth=g}),p("historyEventDelay",1250),p("viewportMargin",10,function(f){return f.refresh()},!0),p("maxHighlightLength",1e4,Ls,!0),p("moveInputWithCursor",!0,function(f,g){g||f.display.input.resetPosition()}),p("tabindex",null,function(f,g){return f.display.input.getField().tabIndex=g||""}),p("autofocus",null),p("direction","ltr",function(f,g){return f.doc.setDirection(g)},!0),p("phrases",null)}function Sw(a,l,p){var f=p&&p!=Fa;if(!l!=!f){var g=a.display.dragFunctions,y=l?he:Ze;y(a.display.scroller,"dragstart",g.start),y(a.display.scroller,"dragenter",g.enter),y(a.display.scroller,"dragover",g.over),y(a.display.scroller,"dragleave",g.leave),y(a.display.scroller,"drop",g.drop)}}function Ow(a){a.options.lineWrapping?(ge(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(oe(a.display.wrapper,"CodeMirror-wrap"),hi(a)),fd(a),ln(a),Os(a),setTimeout(function(){return Pa(a)},100)}function Qt(a,l){var p=this;if(!(this instanceof Qt))return new Qt(a,l);this.options=l=l?ht(l):{},ht(Vh,l,!1);var f=l.value;typeof f=="string"?f=new cn(f,l.mode,null,l.lineSeparator,l.direction):l.mode&&(f.modeOption=l.mode),this.doc=f;var g=new Qt.inputStyles[l.inputStyle](this),y=this.display=new j_(a,f,g,l);y.wrapper.CodeMirror=this,Bh(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wp(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _e,keySeq:null,specialChars:null},l.autofocus&&!W&&y.input.focus(),c&&u<11&&setTimeout(function(){return p.display.input.reset(!0)},20),Tw(this),nw(),Zi(this),this.curOp.forceUpdate=!0,Jp(this,f),l.autofocus&&!W||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&gd(p)},20):ka(this);for(var _ in oc)oc.hasOwnProperty(_)&&oc[_](this,l[_],Fa);$p(this),l.finishInit&&l.finishInit(this);for(var x=0;x<Id.length;++x)Id[x](this);Ji(this),d&&l.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}Qt.defaults=Vh,Qt.optionHandlers=oc;function Tw(a){var l=a.display;he(l.scroller,"mousedown",Lr(a,Ih)),c&&u<11?he(l.scroller,"dblclick",Lr(a,function(S){if(!ze(a,S)){var E=Gi(a,S);if(!(!E||Rd(a,S)||oo(a.display,S))){Dt(S);var G=a.findWordAt(E);Zl(a.doc,G.anchor,G.head)}}})):he(l.scroller,"dblclick",function(S){return ze(a,S)||Dt(S)}),he(l.scroller,"contextmenu",function(S){return jh(a,S)}),he(l.input.getField(),"contextmenu",function(S){l.scroller.contains(S.target)||jh(a,S)});var p,f={end:0};function g(){l.activeTouch&&(p=setTimeout(function(){return l.activeTouch=null},1e3),f=l.activeTouch,f.end=+new Date)}function y(S){if(S.touches.length!=1)return!1;var E=S.touches[0];return E.radiusX<=1&&E.radiusY<=1}function _(S,E){if(E.left==null)return!0;var G=E.left-S.left,Z=E.top-S.top;return G*G+Z*Z>400}he(l.scroller,"touchstart",function(S){if(!ze(a,S)&&!y(S)&&!Rd(a,S)){l.input.ensurePolled(),clearTimeout(p);var E=+new Date;l.activeTouch={start:E,moved:!1,prev:E-f.end<=300?f:null},S.touches.length==1&&(l.activeTouch.left=S.touches[0].pageX,l.activeTouch.top=S.touches[0].pageY)}}),he(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),he(l.scroller,"touchend",function(S){var E=l.activeTouch;if(E&&!oo(l,S)&&E.left!=null&&!E.moved&&new Date-E.start<300){var G=a.coordsChar(l.activeTouch,"page"),Z;!E.prev||_(E,E.prev)?Z=new Ht(G,G):!E.prev.prev||_(E,E.prev.prev)?Z=a.findWordAt(G):Z=new Ht(Ae(G.line,0),Ie(a.doc,Ae(G.line+1,0))),a.setSelection(Z.anchor,Z.head),a.focus(),Dt(S)}g()}),he(l.scroller,"touchcancel",g),he(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Es(a,l.scroller.scrollTop),qi(a,l.scroller.scrollLeft,!0),Xe(a,"scroll",a))}),he(l.scroller,"mousewheel",function(S){return Yp(a,S)}),he(l.scroller,"DOMMouseScroll",function(S){return Yp(a,S)}),he(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(S){ze(a,S)||N(S)},over:function(S){ze(a,S)||(rw(a,S),N(S))},start:function(S){return tw(a,S)},drop:Lr(a,ew),leave:function(S){ze(a,S)||Ch(a)}};var x=l.input.getField();he(x,"keyup",function(S){return Lh.call(a,S)}),he(x,"keydown",Lr(a,Mh)),he(x,"keypress",Lr(a,Rh)),he(x,"focus",function(S){return gd(a,S)}),he(x,"blur",function(S){return ka(a,S)})}var Id=[];Qt.defineInitHook=function(a){return Id.push(a)};function Ks(a,l,p,f){var g=a.doc,y;p==null&&(p="add"),p=="smart"&&(g.mode.indent?y=sn(a,l).state:p="prev");var _=a.options.tabSize,x=Qe(g,l),S=be(x.text,null,_);x.stateAfter&&(x.stateAfter=null);var E=x.text.match(/^\s*/)[0],G;if(!f&&!/\S/.test(x.text))G=0,p="not";else if(p=="smart"&&(G=g.mode.indent(y,x.text.slice(E.length),x.text),G==Be||G>150)){if(!f)return;p="prev"}p=="prev"?l>g.first?G=be(Qe(g,l-1).text,null,_):G=0:p=="add"?G=S+a.options.indentUnit:p=="subtract"?G=S-a.options.indentUnit:typeof p=="number"&&(G=S+p),G=Math.max(0,G);var Z="",fe=0;if(a.options.indentWithTabs)for(var ne=Math.floor(G/_);ne;--ne)fe+=_,Z+="	";if(fe<G&&(Z+=Je(G-fe)),Z!=E)return La(g,Z,Ae(l,0),Ae(l,E.length),"+input"),x.stateAfter=null,!0;for(var we=0;we<g.sel.ranges.length;we++){var Pe=g.sel.ranges[we];if(Pe.head.line==l&&Pe.head.ch<E.length){var Fe=Ae(l,E.length);Ed(g,we,new Ht(Fe,Fe));break}}}var wo=null;function ic(a){wo=a}function Nd(a,l,p,f,g){var y=a.doc;a.display.shift=!1,f||(f=y.sel);var _=+new Date-200,x=g=="paste"||a.state.pasteIncoming>_,S=Kt(l),E=null;if(x&&f.ranges.length>1)if(wo&&wo.text.join(`
`)==l){if(f.ranges.length%wo.text.length==0){E=[];for(var G=0;G<wo.text.length;G++)E.push(y.splitLines(wo.text[G]))}}else S.length==f.ranges.length&&a.options.pasteLinesPerSelection&&(E=ot(S,function(Ke){return[Ke]}));for(var Z=a.curOp.updateInput,fe=f.ranges.length-1;fe>=0;fe--){var ne=f.ranges[fe],we=ne.from(),Pe=ne.to();ne.empty()&&(p&&p>0?we=Ae(we.line,we.ch-p):a.state.overwrite&&!x?Pe=Ae(Pe.line,Math.min(Qe(y,Pe.line).text.length,Pe.ch+He(S).length)):x&&wo&&wo.lineWise&&wo.text.join(`
`)==S.join(`
`)&&(we=Pe=Ae(we.line,0)));var Fe={from:we,to:Pe,text:E?E[fe%E.length]:S,origin:g||(x?"paste":a.state.cutIncoming>_?"cut":"+input")};Ma(a.doc,Fe),lr(a,"inputRead",a,Fe)}l&&!x&&Wh(a,l),Ea(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Z),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Hh(a,l){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&kn(l,function(){return Nd(l,p,0,null,"paste")}),!0}function Wh(a,l){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,f=p.ranges.length-1;f>=0;f--){var g=p.ranges[f];if(!(g.head.ch>100||f&&p.ranges[f-1].head.line==g.head.line)){var y=a.getModeAt(g.head),_=!1;if(y.electricChars){for(var x=0;x<y.electricChars.length;x++)if(l.indexOf(y.electricChars.charAt(x))>-1){_=Ks(a,g.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(Qe(a.doc,g.head.line).text.slice(0,g.head.ch))&&(_=Ks(a,g.head.line,"smart"));_&&lr(a,"electricInput",a,g.head.line)}}}function zh(a){for(var l=[],p=[],f=0;f<a.doc.sel.ranges.length;f++){var g=a.doc.sel.ranges[f].head.line,y={anchor:Ae(g,0),head:Ae(g+1,0)};p.push(y),l.push(a.getRange(y.anchor,y.head))}return{text:l,ranges:p}}function Uh(a,l,p,f){a.setAttribute("autocorrect",p?"":"off"),a.setAttribute("autocapitalize",f?"":"off"),a.setAttribute("spellcheck",!!l)}function $h(){var a=U("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),l=U("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?a.style.width="1000px":a.setAttribute("wrap","off"),T&&(a.style.border="1px solid black"),Uh(a),l}function kw(a){var l=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(f,g){var y=this.options,_=y[f];y[f]==g&&f!="mode"||(y[f]=g,l.hasOwnProperty(f)&&Lr(this,l[f])(this,g,_),Xe(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,g){this.state.keyMaps[g?"push":"unshift"](rc(f))},removeKeyMap:function(f){for(var g=this.state.keyMaps,y=0;y<g.length;++y)if(g[y]==f||g[y].name==f)return g.splice(y,1),!0},addOverlay:tn(function(f,g){var y=f.token?f:a.getMode(this.options,f);if(y.startState)throw new Error("Overlays may not be stateful.");gt(this.state.overlays,{mode:y,modeSpec:f,opaque:g&&g.opaque,priority:g&&g.priority||0},function(_){return _.priority}),this.state.modeGen++,ln(this)}),removeOverlay:tn(function(f){for(var g=this.state.overlays,y=0;y<g.length;++y){var _=g[y].modeSpec;if(_==f||typeof f=="string"&&_.name==f){g.splice(y,1),this.state.modeGen++,ln(this);return}}}),indentLine:tn(function(f,g,y){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),Vn(this.doc,f)&&Ks(this,f,g,y)}),indentSelection:tn(function(f){for(var g=this.doc.sel.ranges,y=-1,_=0;_<g.length;_++){var x=g[_];if(x.empty())x.head.line>y&&(Ks(this,x.head.line,f,!0),y=x.head.line,_==this.doc.sel.primIndex&&Ea(this));else{var S=x.from(),E=x.to(),G=Math.max(y,S.line);y=Math.min(this.lastLine(),E.line-(E.ch?0:1))+1;for(var Z=G;Z<y;++Z)Ks(this,Z,f);var fe=this.doc.sel.ranges;S.ch==0&&g.length==fe.length&&fe[_].from().ch>0&&Ed(this.doc,_,new Ht(S,fe[_].to()),Ne)}}}),getTokenAt:function(f,g){return Hi(this,f,g)},getLineTokens:function(f,g){return Hi(this,Ae(f),g,!0)},getTokenTypeAt:function(f){f=Ie(this.doc,f);var g=Wn(this,Qe(this.doc,f.line)),y=0,_=(g.length-1)/2,x=f.ch,S;if(x==0)S=g[2];else for(;;){var E=y+_>>1;if((E?g[E*2-1]:0)>=x)_=E;else if(g[E*2+1]<x)y=E+1;else{S=g[E*2+2];break}}var G=S?S.indexOf("overlay "):-1;return G<0?S:G==0?null:S.slice(0,G-1)},getModeAt:function(f){var g=this.doc.mode;return g.innerMode?a.innerMode(g,this.getTokenAt(f).state).mode:g},getHelper:function(f,g){return this.getHelpers(f,g)[0]},getHelpers:function(f,g){var y=[];if(!p.hasOwnProperty(g))return y;var _=p[g],x=this.getModeAt(f);if(typeof x[g]=="string")_[x[g]]&&y.push(_[x[g]]);else if(x[g])for(var S=0;S<x[g].length;S++){var E=_[x[g][S]];E&&y.push(E)}else x.helperType&&_[x.helperType]?y.push(_[x.helperType]):_[x.name]&&y.push(_[x.name]);for(var G=0;G<_._global.length;G++){var Z=_._global[G];Z.pred(x,this)&&Re(y,Z.val)==-1&&y.push(Z.val)}return y},getStateAfter:function(f,g){var y=this.doc;return f=Le(y,f??y.first+y.size-1),sn(this,f+1,g).state},cursorCoords:function(f,g){var y,_=this.doc.sel.primary();return f==null?y=_.head:typeof f=="object"?y=Ie(this.doc,f):y=f?_.from():_.to(),bo(this,y,g||"page")},charCoords:function(f,g){return Hl(this,Ie(this.doc,f),g||"page")},coordsChar:function(f,g){return f=Ep(this,f,g||"page"),ld(this,f.left,f.top)},lineAtHeight:function(f,g){return f=Ep(this,{top:f,left:0},g||"page").top,$t(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,g,y){var _=!1,x;if(typeof f=="number"){var S=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>S&&(f=S,_=!0),x=Qe(this.doc,f)}else x=f;return Vl(this,x,{top:0,left:0},g||"page",y||_).top+(_?this.doc.height-On(x):0)},defaultTextHeight:function(){return Oa(this.display)},defaultCharWidth:function(){return Ta(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,g,y,_,x){var S=this.display;f=bo(this,Ie(this.doc,f));var E=f.bottom,G=f.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),S.sizer.appendChild(g),_=="over")E=f.top;else if(_=="above"||_=="near"){var Z=Math.max(S.wrapper.clientHeight,this.doc.height),fe=Math.max(S.sizer.clientWidth,S.lineSpace.clientWidth);(_=="above"||f.bottom+g.offsetHeight>Z)&&f.top>g.offsetHeight?E=f.top-g.offsetHeight:f.bottom+g.offsetHeight<=Z&&(E=f.bottom),G+g.offsetWidth>fe&&(G=fe-g.offsetWidth)}g.style.top=E+"px",g.style.left=g.style.right="",x=="right"?(G=S.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(x=="left"?G=0:x=="middle"&&(G=(S.sizer.clientWidth-g.offsetWidth)/2),g.style.left=G+"px"),y&&S_(this,{left:G,top:E,right:G+g.offsetWidth,bottom:E+g.offsetHeight})},triggerOnKeyDown:tn(Mh),triggerOnKeyPress:tn(Rh),triggerOnKeyUp:Lh,triggerOnMouseDown:tn(Ih),execCommand:function(f){if(Ws.hasOwnProperty(f))return Ws[f].call(null,this)},triggerElectric:tn(function(f){Wh(this,f)}),findPosH:function(f,g,y,_){var x=1;g<0&&(x=-1,g=-g);for(var S=Ie(this.doc,f),E=0;E<g&&(S=Fd(this.doc,S,x,y,_),!S.hitSide);++E);return S},moveH:tn(function(f,g){var y=this;this.extendSelectionsBy(function(_){return y.display.shift||y.doc.extend||_.empty()?Fd(y.doc,_.head,f,g,y.options.rtlMoveVisually):f<0?_.from():_.to()},at)}),deleteH:tn(function(f,g){var y=this.doc.sel,_=this.doc;y.somethingSelected()?_.replaceSelection("",null,"+delete"):Na(this,function(x){var S=Fd(_,x.head,f,g,!1);return f<0?{from:S,to:x.head}:{from:x.head,to:S}})}),findPosV:function(f,g,y,_){var x=1,S=_;g<0&&(x=-1,g=-g);for(var E=Ie(this.doc,f),G=0;G<g;++G){var Z=bo(this,E,"div");if(S==null?S=Z.left:Z.left=S,E=Kh(this,Z,x,y),E.hitSide)break}return E},moveV:tn(function(f,g){var y=this,_=this.doc,x=[],S=!this.display.shift&&!_.extend&&_.sel.somethingSelected();if(_.extendSelectionsBy(function(G){if(S)return f<0?G.from():G.to();var Z=bo(y,G.head,"div");G.goalColumn!=null&&(Z.left=G.goalColumn),x.push(Z.left);var fe=Kh(y,Z,f,g);return g=="page"&&G==_.sel.primary()&&md(y,Hl(y,fe,"div").top-Z.top),fe},at),x.length)for(var E=0;E<_.sel.ranges.length;E++)_.sel.ranges[E].goalColumn=x[E]}),findWordAt:function(f){var g=this.doc,y=Qe(g,f.line).text,_=f.ch,x=f.ch;if(y){var S=this.getHelper(f,"wordChars");(f.sticky=="before"||x==y.length)&&_?--_:++x;for(var E=y.charAt(_),G=ie(E,S)?function(Z){return ie(Z,S)}:/\s/.test(E)?function(Z){return/\s/.test(Z)}:function(Z){return!/\s/.test(Z)&&!ie(Z)};_>0&&G(y.charAt(_-1));)--_;for(;x<y.length&&G(y.charAt(x));)++x}return new Ht(Ae(f.line,_),Ae(f.line,x))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ge(this.display.cursorDiv,"CodeMirror-overwrite"):oe(this.display.cursorDiv,"CodeMirror-overwrite"),Xe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ve()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:tn(function(f,g){ks(this,f,g)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-Tn(this)-this.display.barHeight,width:f.scrollWidth-Tn(this)-this.display.barWidth,clientHeight:O(this),clientWidth:Go(this)}},scrollIntoView:tn(function(f,g){f==null?(f={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof f=="number"?f={from:Ae(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=g||0,f.from.line!=null?O_(this,f):jp(this,f.from,f.to,f.margin)}),setSize:tn(function(f,g){var y=this,_=function(S){return typeof S=="number"||/^\d+$/.test(String(S))?S+"px":S};f!=null&&(this.display.wrapper.style.width=_(f)),g!=null&&(this.display.wrapper.style.height=_(g)),this.options.lineWrapping&&Op(this);var x=this.display.viewFrom;this.doc.iter(x,this.display.viewTo,function(S){if(S.widgets){for(var E=0;E<S.widgets.length;E++)if(S.widgets[E].noHScroll){Ci(y,x,"widget");break}}++x}),this.curOp.forceUpdate=!0,Xe(this,"refresh",this)}),operation:function(f){return kn(this,f)},startOperation:function(){return Zi(this)},endOperation:function(){return Ji(this)},refresh:tn(function(){var f=this.display.cachedTextHeight;ln(this),this.curOp.forceUpdate=!0,Os(this),ks(this,this.doc.scrollLeft,this.doc.scrollTop),_d(this.display),(f==null||Math.abs(f-Oa(this.display))>.5||this.options.lineWrapping)&&fd(this),Xe(this,"refresh",this)}),swapDoc:tn(function(f){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),Jp(this,f),Os(this),this.display.input.reset(),ks(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,lr(this,"swapDoc",this,g),g}),phrase:function(f){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,f)?g[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Lt(a),a.registerHelper=function(f,g,y){p.hasOwnProperty(f)||(p[f]=a[f]={_global:[]}),p[f][g]=y},a.registerGlobalHelper=function(f,g,y,_){a.registerHelper(f,g,_),p[f]._global.push({pred:y,val:_})}}function Fd(a,l,p,f,g){var y=l,_=p,x=Qe(a,l.line),S=g&&a.direction=="rtl"?-p:p;function E(){var et=l.line+S;return et<a.first||et>=a.first+a.size?!1:(l=new Ae(et,l.ch,l.sticky),x=Qe(a,et))}function G(et){var Ge;if(f=="codepoint"){var tt=x.text.charCodeAt(l.ch+(p>0?0:-1));if(isNaN(tt))Ge=null;else{var vt=p>0?tt>=55296&&tt<56320:tt>=56320&&tt<57343;Ge=new Ae(l.line,Math.max(0,Math.min(x.text.length,l.ch+p*(vt?2:1))),-p)}}else g?Ge=lw(a.cm,x,l,p):Ge=Ad(x,l,p);if(Ge==null)if(!et&&E())l=Dd(g,a.cm,x,l.line,S);else return!1;else l=Ge;return!0}if(f=="char"||f=="codepoint")G();else if(f=="column")G(!0);else if(f=="word"||f=="group")for(var Z=null,fe=f=="group",ne=a.cm&&a.cm.getHelper(l,"wordChars"),we=!0;!(p<0&&!G(!we));we=!1){var Pe=x.text.charAt(l.ch)||`
`,Fe=ie(Pe,ne)?"w":fe&&Pe==`
`?"n":!fe||/\s/.test(Pe)?null:"p";if(fe&&!we&&!Fe&&(Fe="s"),Z&&Z!=Fe){p<0&&(p=1,G(),l.sticky="after");break}if(Fe&&(Z=Fe),p>0&&!G(!we))break}var Ke=Ql(a,l,y,_,!0);return an(y,Ke)&&(Ke.hitSide=!0),Ke}function Kh(a,l,p,f){var g=a.doc,y=l.left,_;if(f=="page"){var x=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),S=Math.max(x-.5*Oa(a.display),3);_=(p>0?l.bottom:l.top)+p*S}else f=="line"&&(_=p>0?l.bottom+3:l.top-3);for(var E;E=ld(a,y,_),!!E.outside;){if(p<0?_<=0:_>=g.height){E.hitSide=!0;break}_+=p*5}return E}var Ut=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _e,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ut.prototype.init=function(a){var l=this,p=this,f=p.cm,g=p.div=a.lineDiv;g.contentEditable=!0,Uh(g,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function y(x){for(var S=x.target;S;S=S.parentNode){if(S==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(S.className))break}return!1}he(g,"paste",function(x){!y(x)||ze(f,x)||Hh(x,f)||u<=11&&setTimeout(Lr(f,function(){return l.updateFromDOM()}),20)}),he(g,"compositionstart",function(x){l.composing={data:x.data,done:!1}}),he(g,"compositionupdate",function(x){l.composing||(l.composing={data:x.data,done:!1})}),he(g,"compositionend",function(x){l.composing&&(x.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),he(g,"touchstart",function(){return p.forceCompositionEnd()}),he(g,"input",function(){l.composing||l.readFromDOMSoon()});function _(x){if(!(!y(x)||ze(f,x))){if(f.somethingSelected())ic({lineWise:!1,text:f.getSelections()}),x.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var S=zh(f);ic({lineWise:!0,text:S.text}),x.type=="cut"&&f.operation(function(){f.setSelections(S.ranges,0,Ne),f.replaceSelection("",null,"cut")})}else return;if(x.clipboardData){x.clipboardData.clearData();var E=wo.text.join(`
`);if(x.clipboardData.setData("Text",E),x.clipboardData.getData("Text")==E){x.preventDefault();return}}var G=$h(),Z=G.firstChild;f.display.lineSpace.insertBefore(G,f.display.lineSpace.firstChild),Z.value=wo.text.join(`
`);var fe=ve();qe(Z),setTimeout(function(){f.display.lineSpace.removeChild(G),fe.focus(),fe==g&&p.showPrimarySelection()},50)}}he(g,"copy",_),he(g,"cut",_)},Ut.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Ut.prototype.prepareSelection=function(){var a=Rp(this.cm,!1);return a.focus=ve()==this.div,a},Ut.prototype.showSelection=function(a,l){!a||!this.cm.display.view.length||((a.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Ut.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ut.prototype.showPrimarySelection=function(){var a=this.getSelection(),l=this.cm,p=l.doc.sel.primary(),f=p.from(),g=p.to();if(l.display.viewTo==l.display.viewFrom||f.line>=l.display.viewTo||g.line<l.display.viewFrom){a.removeAllRanges();return}var y=ac(l,a.anchorNode,a.anchorOffset),_=ac(l,a.focusNode,a.focusOffset);if(!(y&&!y.bad&&_&&!_.bad&&mt(Se(y,_),f)==0&&mt(X(y,_),g)==0)){var x=l.display.view,S=f.line>=l.display.viewFrom&&Gh(l,f)||{node:x[0].measure.map[2],offset:0},E=g.line<l.display.viewTo&&Gh(l,g);if(!E){var G=x[x.length-1].measure,Z=G.maps?G.maps[G.maps.length-1]:G.map;E={node:Z[Z.length-1],offset:Z[Z.length-2]-Z[Z.length-3]}}if(!S||!E){a.removeAllRanges();return}var fe=a.rangeCount&&a.getRangeAt(0),ne;try{ne=te(S.node,S.offset,E.offset,E.node)}catch{}ne&&(!t&&l.state.focused?(a.collapse(S.node,S.offset),ne.collapsed||(a.removeAllRanges(),a.addRange(ne))):(a.removeAllRanges(),a.addRange(ne)),fe&&a.anchorNode==null?a.addRange(fe):t&&this.startGracePeriod()),this.rememberSelection()}},Ut.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Ut.prototype.showMultipleSelections=function(a){R(this.cm.display.cursorDiv,a.cursors),R(this.cm.display.selectionDiv,a.selection)},Ut.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Ut.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var l=a.getRangeAt(0).commonAncestorContainer;return P(this.div,l)},Ut.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ve()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ut.prototype.blur=function(){this.div.blur()},Ut.prototype.getField=function(){return this.div},Ut.prototype.supportsTouch=function(){return!0},Ut.prototype.receivedFocus=function(){var a=this,l=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):kn(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function p(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},Ut.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Ut.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),l=this.cm;if(I&&v&&this.cm.display.gutterSpecs.length&&Ew(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=ac(l,a.anchorNode,a.anchorOffset),f=ac(l,a.focusNode,a.focusOffset);p&&f&&kn(l,function(){Yr(l.doc,Si(p,f),Ne),(p.bad||f.bad)&&(l.curOp.selectionChanged=!0)})}}},Ut.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,l=a.display,p=a.doc.sel.primary(),f=p.from(),g=p.to();if(f.ch==0&&f.line>a.firstLine()&&(f=Ae(f.line-1,Qe(a.doc,f.line-1).length)),g.ch==Qe(a.doc,g.line).text.length&&g.line<a.lastLine()&&(g=Ae(g.line+1,0)),f.line<l.viewFrom||g.line>l.viewTo-1)return!1;var y,_,x;f.line==l.viewFrom||(y=Yi(a,f.line))==0?(_=St(l.view[0].line),x=l.view[0].node):(_=St(l.view[y].line),x=l.view[y-1].node.nextSibling);var S=Yi(a,g.line),E,G;if(S==l.view.length-1?(E=l.viewTo-1,G=l.lineDiv.lastChild):(E=St(l.view[S+1].line)-1,G=l.view[S+1].node.previousSibling),!x)return!1;for(var Z=a.doc.splitLines(Pw(a,x,G,_,E)),fe=Tr(a.doc,Ae(_,0),Ae(E,Qe(a.doc,E).text.length));Z.length>1&&fe.length>1;)if(He(Z)==He(fe))Z.pop(),fe.pop(),E--;else if(Z[0]==fe[0])Z.shift(),fe.shift(),_++;else break;for(var ne=0,we=0,Pe=Z[0],Fe=fe[0],Ke=Math.min(Pe.length,Fe.length);ne<Ke&&Pe.charCodeAt(ne)==Fe.charCodeAt(ne);)++ne;for(var et=He(Z),Ge=He(fe),tt=Math.min(et.length-(Z.length==1?ne:0),Ge.length-(fe.length==1?ne:0));we<tt&&et.charCodeAt(et.length-we-1)==Ge.charCodeAt(Ge.length-we-1);)++we;if(Z.length==1&&fe.length==1&&_==f.line)for(;ne&&ne>f.ch&&et.charCodeAt(et.length-we-1)==Ge.charCodeAt(Ge.length-we-1);)ne--,we++;Z[Z.length-1]=et.slice(0,et.length-we).replace(/^\u200b+/,""),Z[0]=Z[0].slice(ne).replace(/\u200b+$/,"");var vt=Ae(_,ne),ft=Ae(E,fe.length?He(fe).length-we:0);if(Z.length>1||Z[0]||mt(vt,ft))return La(a.doc,Z,vt,ft,"+input"),!0},Ut.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ut.prototype.reset=function(){this.forceCompositionEnd()},Ut.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ut.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},Ut.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&kn(this.cm,function(){return ln(a.cm)})},Ut.prototype.setUneditable=function(a){a.contentEditable="false"},Ut.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Lr(this.cm,Nd)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},Ut.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},Ut.prototype.onContextMenu=function(){},Ut.prototype.resetPosition=function(){},Ut.prototype.needsContentAttribute=!0;function Gh(a,l){var p=ce(a,l.line);if(!p||p.hidden)return null;var f=Qe(a.doc,l.line),g=q(p,f,l.line),y=D(f,a.doc.direction),_="left";if(y){var x=B(y,l.ch);_=x%2?"right":"left"}var S=xt(g.map,l.ch,_);return S.offset=S.collapse=="right"?S.end:S.start,S}function Ew(a){for(var l=a;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function ja(a,l){return l&&(a.bad=!0),a}function Pw(a,l,p,f,g){var y="",_=!1,x=a.doc.lineSeparator(),S=!1;function E(ne){return function(we){return we.id==ne}}function G(){_&&(y+=x,S&&(y+=x),_=S=!1)}function Z(ne){ne&&(G(),y+=ne)}function fe(ne){if(ne.nodeType==1){var we=ne.getAttribute("cm-text");if(we){Z(we);return}var Pe=ne.getAttribute("cm-marker"),Fe;if(Pe){var Ke=a.findMarks(Ae(f,0),Ae(g+1,0),E(+Pe));Ke.length&&(Fe=Ke[0].find(0))&&Z(Tr(a.doc,Fe.from,Fe.to).join(x));return}if(ne.getAttribute("contenteditable")=="false")return;var et=/^(pre|div|p|li|table|br)$/i.test(ne.nodeName);if(!/^br$/i.test(ne.nodeName)&&ne.textContent.length==0)return;et&&G();for(var Ge=0;Ge<ne.childNodes.length;Ge++)fe(ne.childNodes[Ge]);/^(pre|p)$/i.test(ne.nodeName)&&(S=!0),et&&(_=!0)}else ne.nodeType==3&&Z(ne.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;fe(l),l!=p;)l=l.nextSibling,S=!1;return y}function ac(a,l,p){var f;if(l==a.display.lineDiv){if(f=a.display.lineDiv.childNodes[p],!f)return ja(a.clipPos(Ae(a.display.viewTo-1)),!0);l=null,p=0}else for(f=l;;f=f.parentNode){if(!f||f==a.display.lineDiv)return null;if(f.parentNode&&f.parentNode==a.display.lineDiv)break}for(var g=0;g<a.display.view.length;g++){var y=a.display.view[g];if(y.node==f)return Aw(y,l,p)}}function Aw(a,l,p){var f=a.text.firstChild,g=!1;if(!l||!P(f,l))return ja(Ae(St(a.line),0),!0);if(l==f&&(g=!0,l=f.childNodes[p],p=0,!l)){var y=a.rest?He(a.rest):a.line;return ja(Ae(St(y),y.text.length),g)}var _=l.nodeType==3?l:null,x=l;for(!_&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(_=l.firstChild,p&&(p=_.nodeValue.length));x.parentNode!=f;)x=x.parentNode;var S=a.measure,E=S.maps;function G(Fe,Ke,et){for(var Ge=-1;Ge<(E?E.length:0);Ge++)for(var tt=Ge<0?S.map:E[Ge],vt=0;vt<tt.length;vt+=3){var ft=tt[vt+2];if(ft==Fe||ft==Ke){var At=St(Ge<0?a.line:a.rest[Ge]),Yt=tt[vt]+et;return(et<0||ft!=Fe)&&(Yt=tt[vt+(et?1:0)]),Ae(At,Yt)}}}var Z=G(_,x,p);if(Z)return ja(Z,g);for(var fe=x.nextSibling,ne=_?_.nodeValue.length-p:0;fe;fe=fe.nextSibling){if(Z=G(fe,fe.firstChild,0),Z)return ja(Ae(Z.line,Z.ch-ne),g);ne+=fe.textContent.length}for(var we=x.previousSibling,Pe=p;we;we=we.previousSibling){if(Z=G(we,we.firstChild,-1),Z)return ja(Ae(Z.line,Z.ch+Pe),g);Pe+=we.textContent.length}}var pr=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new _e,this.hasSelection=!1,this.composing=null};pr.prototype.init=function(a){var l=this,p=this,f=this.cm;this.createField(a);var g=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),T&&(g.style.width="0px"),he(g,"input",function(){c&&u>=9&&l.hasSelection&&(l.hasSelection=null),p.poll()}),he(g,"paste",function(_){ze(f,_)||Hh(_,f)||(f.state.pasteIncoming=+new Date,p.fastPoll())});function y(_){if(!ze(f,_)){if(f.somethingSelected())ic({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var x=zh(f);ic({lineWise:!0,text:x.text}),_.type=="cut"?f.setSelections(x.ranges,null,Ne):(p.prevInput="",g.value=x.text.join(`
`),qe(g))}else return;_.type=="cut"&&(f.state.cutIncoming=+new Date)}}he(g,"cut",y),he(g,"copy",y),he(a.scroller,"paste",function(_){if(!(oo(a,_)||ze(f,_))){if(!g.dispatchEvent){f.state.pasteIncoming=+new Date,p.focus();return}var x=new Event("paste");x.clipboardData=_.clipboardData,g.dispatchEvent(x)}}),he(a.lineSpace,"selectstart",function(_){oo(a,_)||Dt(_)}),he(g,"compositionstart",function(){var _=f.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:_,range:f.markText(_,f.getCursor("to"),{className:"CodeMirror-composing"})}}),he(g,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},pr.prototype.createField=function(a){this.wrapper=$h(),this.textarea=this.wrapper.firstChild},pr.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},pr.prototype.prepareSelection=function(){var a=this.cm,l=a.display,p=a.doc,f=Rp(a);if(a.options.moveInputWithCursor){var g=bo(a,p.sel.primary().head,"div"),y=l.wrapper.getBoundingClientRect(),_=l.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,g.top+_.top-y.top)),f.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,g.left+_.left-y.left))}return f},pr.prototype.showSelection=function(a){var l=this.cm,p=l.display;R(p.cursorDiv,a.cursors),R(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},pr.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing)){var l=this.cm;if(l.somethingSelected()){this.prevInput="";var p=l.getSelection();this.textarea.value=p,l.state.focused&&qe(this.textarea),c&&u>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",c&&u>=9&&(this.hasSelection=null))}},pr.prototype.getField=function(){return this.textarea},pr.prototype.supportsTouch=function(){return!1},pr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!W||ve()!=this.textarea))try{this.textarea.focus()}catch{}},pr.prototype.blur=function(){this.textarea.blur()},pr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},pr.prototype.receivedFocus=function(){this.slowPoll()},pr.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},pr.prototype.fastPoll=function(){var a=!1,l=this;l.pollingFast=!0;function p(){var f=l.poll();!f&&!a?(a=!0,l.polling.set(60,p)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,p)},pr.prototype.poll=function(){var a=this,l=this.cm,p=this.textarea,f=this.prevInput;if(this.contextMenuPending||!l.state.focused||Xt(p)&&!f&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var g=p.value;if(g==f&&!l.somethingSelected())return!1;if(c&&u>=9&&this.hasSelection===g||j&&/[\uf700-\uf7ff]/.test(g))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var y=g.charCodeAt(0);if(y==8203&&!f&&(f="\u200B"),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var _=0,x=Math.min(f.length,g.length);_<x&&f.charCodeAt(_)==g.charCodeAt(_);)++_;return kn(l,function(){Nd(l,g.slice(_),f.length-_,null,a.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=g,a.composing&&(a.composing.range.clear(),a.composing.range=l.markText(a.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},pr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},pr.prototype.onKeyPress=function(){c&&u>=9&&(this.hasSelection=null),this.fastPoll()},pr.prototype.onContextMenu=function(a){var l=this,p=l.cm,f=p.display,g=l.textarea;l.contextMenuPending&&l.contextMenuPending();var y=Gi(p,a),_=f.scroller.scrollTop;if(!y||m)return;var x=p.options.resetSelectionOnContextMenu;x&&p.doc.sel.contains(y)==-1&&Lr(p,Yr)(p.doc,Si(y),Ne);var S=g.style.cssText,E=l.wrapper.style.cssText,G=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-G.top-5)+"px; left: "+(a.clientX-G.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Z;d&&(Z=window.scrollY),f.input.focus(),d&&window.scrollTo(null,Z),f.input.reset(),p.somethingSelected()||(g.value=l.prevInput=" "),l.contextMenuPending=ne,f.selForContextMenu=p.doc.sel,clearTimeout(f.detectingSelectAll);function fe(){if(g.selectionStart!=null){var Pe=p.somethingSelected(),Fe="\u200B"+(Pe?g.value:"");g.value="\u21DA",g.value=Fe,l.prevInput=Pe?"":"\u200B",g.selectionStart=1,g.selectionEnd=Fe.length,f.selForContextMenu=p.doc.sel}}function ne(){if(l.contextMenuPending==ne&&(l.contextMenuPending=!1,l.wrapper.style.cssText=E,g.style.cssText=S,c&&u<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=_),g.selectionStart!=null)){(!c||c&&u<9)&&fe();var Pe=0,Fe=function(){f.selForContextMenu==p.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&l.prevInput=="\u200B"?Lr(p,dh)(p):Pe++<10?f.detectingSelectAll=setTimeout(Fe,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(Fe,200)}}if(c&&u>=9&&fe(),le){N(a);var we=function(){Ze(window,"mouseup",we),setTimeout(ne,20)};he(window,"mouseup",we)}else setTimeout(ne,50)},pr.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},pr.prototype.setUneditable=function(){},pr.prototype.needsContentAttribute=!1;function Dw(a,l){if(l=l?ht(l):{},l.value=a.value,!l.tabindex&&a.tabIndex&&(l.tabindex=a.tabIndex),!l.placeholder&&a.placeholder&&(l.placeholder=a.placeholder),l.autofocus==null){var p=ve();l.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function f(){a.value=x.getValue()}var g;if(a.form&&(he(a.form,"submit",f),!l.leaveSubmitMethodAlone)){var y=a.form;g=y.submit;try{var _=y.submit=function(){f(),y.submit=g,y.submit(),y.submit=_}}catch{}}l.finishInit=function(S){S.save=f,S.getTextArea=function(){return a},S.toTextArea=function(){S.toTextArea=isNaN,f(),a.parentNode.removeChild(S.getWrapperElement()),a.style.display="",a.form&&(Ze(a.form,"submit",f),!l.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=g))}},a.style.display="none";var x=Qt(function(S){return a.parentNode.insertBefore(S,a.nextSibling)},l);return x}function Mw(a){a.off=Ze,a.on=he,a.wheelEventPixels=B_,a.Doc=cn,a.splitLines=Kt,a.countColumn=be,a.findColumn=re,a.isWordChar=K,a.Pass=Be,a.signal=Xe,a.Line=Mr,a.changeEnd=Oi,a.scrollbarModel=Hp,a.Pos=Ae,a.cmpPos=mt,a.modes=Bn,a.mimeModes=Gt,a.resolveMode=wn,a.getMode=Nt,a.modeExtensions=Qr,a.extendMode=_t,a.copyState=Vr,a.startState=en,a.innerMode=fr,a.commands=Ws,a.keyMap=Yo,a.keyName=kh,a.isModifierKey=Oh,a.lookupKey=Ia,a.normalizeKeyMap=sw,a.StringStream=Vt,a.SharedTextMarker=Bs,a.TextMarker=ki,a.LineWidget=js,a.e_preventDefault=Dt,a.e_stopPropagation=nr,a.e_stop=N,a.addClass=ge,a.contains=P,a.rmClass=oe,a.keyNames=Ei}xw(Qt),kw(Qt);var Lw="iter insert remove copy getEditor constructor".split(" ");for(var sc in cn.prototype)cn.prototype.hasOwnProperty(sc)&&Re(Lw,sc)<0&&(Qt.prototype[sc]=function(a){return function(){return a.apply(this.doc,arguments)}}(cn.prototype[sc]));return Lt(cn),Qt.inputStyles={textarea:pr,contenteditable:Ut},Qt.defineMode=function(a){!Qt.defaults.mode&&a!="null"&&(Qt.defaults.mode=a),Jt.apply(this,arguments)},Qt.defineMIME=or,Qt.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),Qt.defineMIME("text/plain","null"),Qt.defineExtension=function(a,l){Qt.prototype[a]=l},Qt.defineDocExtension=function(a,l){cn.prototype[a]=l},Qt.fromTextArea=Dw,Mw(Qt),Qt.version="5.63.0",Qt})},7389:(i,n,e)=>{(function(t){t(e(4408))})(function(t){"use strict";t.defineMode("css",function(V,R){var U=R.inline;R.propertyKeywords||(R=t.resolveMode("text/css"));var H=V.indentUnit,te=R.tokenHooks,P=R.documentTypes||{},ve=R.mediaTypes||{},ge=R.mediaFeatures||{},De=R.mediaValueKeywords||{},qe=R.propertyKeywords||{},Ye=R.nonStandardPropertyKeywords||{},ht=R.fontProperties||{},be=R.counterDescriptors||{},_e=R.colorKeywords||{},Re=R.valueKeywords||{},Ve=R.allowNested,Be=R.lineComment,Ne=R.supportsAtComponent===!0,nt=V.highlightNonStandardPropertyKeywords!==!1,at,re;function Ce($,de){return at=de,$}function Je($,de){var ae=$.next();if(te[ae]){var rt=te[ae]($,de);if(rt!==!1)return rt}if(ae=="@")return $.eatWhile(/[\w\\\-]/),Ce("def",$.current());if(ae=="="||(ae=="~"||ae=="|")&&$.eat("="))return Ce(null,"compare");if(ae=='"'||ae=="'")return de.tokenize=He(ae),de.tokenize($,de);if(ae=="#")return $.eatWhile(/[\w\\\-]/),Ce("atom","hash");if(ae=="!")return $.match(/^\s*\w*/),Ce("keyword","important");if(/\d/.test(ae)||ae=="."&&$.eat(/\d/))return $.eatWhile(/[\w.%]/),Ce("number","unit");if(ae==="-"){if(/[\d.]/.test($.peek()))return $.eatWhile(/[\w.%]/),Ce("number","unit");if($.match(/^-[\w\\\-]*/))return $.eatWhile(/[\w\\\-]/),$.match(/^\s*:/,!1)?Ce("variable-2","variable-definition"):Ce("variable-2","variable");if($.match(/^\w+-/))return Ce("meta","meta")}else return/[,+>*\/]/.test(ae)?Ce(null,"select-op"):ae=="."&&$.match(/^-?[_a-z][_a-z0-9-]*/i)?Ce("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(ae)?Ce(null,ae):$.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test($.current())&&(de.tokenize=ot),Ce("variable callee","variable")):/[\w\\\-]/.test(ae)?($.eatWhile(/[\w\\\-]/),Ce("property","word")):Ce(null,null)}function He($){return function(de,ae){for(var rt=!1,Ct;(Ct=de.next())!=null;){if(Ct==$&&!rt){$==")"&&de.backUp(1);break}rt=!rt&&Ct=="\\"}return(Ct==$||!rt&&$!=")")&&(ae.tokenize=null),Ce("string","string")}}function ot($,de){return $.next(),$.match(/^\s*[\"\')]/,!1)?de.tokenize=null:de.tokenize=He(")"),Ce(null,"(")}function gt($,de,ae){this.type=$,this.indent=de,this.prev=ae}function it($,de,ae,rt){return $.context=new gt(ae,de.indentation()+(rt===!1?0:H),$.context),ae}function k($){return $.context.prev&&($.context=$.context.prev),$.context.type}function F($,de,ae){return me[ae.context.type]($,de,ae)}function K($,de,ae,rt){for(var Ct=rt||1;Ct>0;Ct--)ae.context=ae.context.prev;return F($,de,ae)}function ie($){var de=$.current().toLowerCase();Re.hasOwnProperty(de)?re="atom":_e.hasOwnProperty(de)?re="keyword":re="variable"}var me={};return me.top=function($,de,ae){if($=="{")return it(ae,de,"block");if($=="}"&&ae.context.prev)return k(ae);if(Ne&&/@component/i.test($))return it(ae,de,"atComponentBlock");if(/^@(-moz-)?document$/i.test($))return it(ae,de,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test($))return it(ae,de,"atBlock");if(/^@(font-face|counter-style)/i.test($))return ae.stateArg=$,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test($))return"keyframes";if($&&$.charAt(0)=="@")return it(ae,de,"at");if($=="hash")re="builtin";else if($=="word")re="tag";else{if($=="variable-definition")return"maybeprop";if($=="interpolation")return it(ae,de,"interpolation");if($==":")return"pseudo";if(Ve&&$=="(")return it(ae,de,"parens")}return ae.context.type},me.block=function($,de,ae){if($=="word"){var rt=de.current().toLowerCase();return qe.hasOwnProperty(rt)?(re="property","maybeprop"):Ye.hasOwnProperty(rt)?(re=nt?"string-2":"property","maybeprop"):Ve?(re=de.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(re+=" error","maybeprop")}else return $=="meta"?"block":!Ve&&($=="hash"||$=="qualifier")?(re="error","block"):me.top($,de,ae)},me.maybeprop=function($,de,ae){return $==":"?it(ae,de,"prop"):F($,de,ae)},me.prop=function($,de,ae){if($==";")return k(ae);if($=="{"&&Ve)return it(ae,de,"propBlock");if($=="}"||$=="{")return K($,de,ae);if($=="(")return it(ae,de,"parens");if($=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(de.current()))re+=" error";else if($=="word")ie(de);else if($=="interpolation")return it(ae,de,"interpolation");return"prop"},me.propBlock=function($,de,ae){return $=="}"?k(ae):$=="word"?(re="property","maybeprop"):ae.context.type},me.parens=function($,de,ae){return $=="{"||$=="}"?K($,de,ae):$==")"?k(ae):$=="("?it(ae,de,"parens"):$=="interpolation"?it(ae,de,"interpolation"):($=="word"&&ie(de),"parens")},me.pseudo=function($,de,ae){return $=="meta"?"pseudo":$=="word"?(re="variable-3",ae.context.type):F($,de,ae)},me.documentTypes=function($,de,ae){return $=="word"&&P.hasOwnProperty(de.current())?(re="tag",ae.context.type):me.atBlock($,de,ae)},me.atBlock=function($,de,ae){if($=="(")return it(ae,de,"atBlock_parens");if($=="}"||$==";")return K($,de,ae);if($=="{")return k(ae)&&it(ae,de,Ve?"block":"top");if($=="interpolation")return it(ae,de,"interpolation");if($=="word"){var rt=de.current().toLowerCase();rt=="only"||rt=="not"||rt=="and"||rt=="or"?re="keyword":ve.hasOwnProperty(rt)?re="attribute":ge.hasOwnProperty(rt)?re="property":De.hasOwnProperty(rt)?re="keyword":qe.hasOwnProperty(rt)?re="property":Ye.hasOwnProperty(rt)?re=nt?"string-2":"property":Re.hasOwnProperty(rt)?re="atom":_e.hasOwnProperty(rt)?re="keyword":re="error"}return ae.context.type},me.atComponentBlock=function($,de,ae){return $=="}"?K($,de,ae):$=="{"?k(ae)&&it(ae,de,Ve?"block":"top",!1):($=="word"&&(re="error"),ae.context.type)},me.atBlock_parens=function($,de,ae){return $==")"?k(ae):$=="{"||$=="}"?K($,de,ae,2):me.atBlock($,de,ae)},me.restricted_atBlock_before=function($,de,ae){return $=="{"?it(ae,de,"restricted_atBlock"):$=="word"&&ae.stateArg=="@counter-style"?(re="variable","restricted_atBlock_before"):F($,de,ae)},me.restricted_atBlock=function($,de,ae){return $=="}"?(ae.stateArg=null,k(ae)):$=="word"?(ae.stateArg=="@font-face"&&!ht.hasOwnProperty(de.current().toLowerCase())||ae.stateArg=="@counter-style"&&!be.hasOwnProperty(de.current().toLowerCase())?re="error":re="property","maybeprop"):"restricted_atBlock"},me.keyframes=function($,de,ae){return $=="word"?(re="variable","keyframes"):$=="{"?it(ae,de,"top"):F($,de,ae)},me.at=function($,de,ae){return $==";"?k(ae):$=="{"||$=="}"?K($,de,ae):($=="word"?re="tag":$=="hash"&&(re="builtin"),"at")},me.interpolation=function($,de,ae){return $=="}"?k(ae):$=="{"||$==";"?K($,de,ae):($=="word"?re="variable":$!="variable"&&$!="("&&$!=")"&&(re="error"),"interpolation")},{startState:function($){return{tokenize:null,state:U?"block":"top",stateArg:null,context:new gt(U?"block":"top",$||0,null)}},token:function($,de){if(!de.tokenize&&$.eatSpace())return null;var ae=(de.tokenize||Je)($,de);return ae&&typeof ae=="object"&&(at=ae[1],ae=ae[0]),re=ae,at!="comment"&&(de.state=me[de.state](at,$,de)),re},indent:function($,de){var ae=$.context,rt=de&&de.charAt(0),Ct=ae.indent;return ae.type=="prop"&&(rt=="}"||rt==")")&&(ae=ae.prev),ae.prev&&(rt=="}"&&(ae.type=="block"||ae.type=="top"||ae.type=="interpolation"||ae.type=="restricted_atBlock")?(ae=ae.prev,Ct=ae.indent):(rt==")"&&(ae.type=="parens"||ae.type=="atBlock_parens")||rt=="{"&&(ae.type=="at"||ae.type=="atBlock"))&&(Ct=Math.max(0,ae.indent-H))),Ct},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Be,fold:"brace"}});function r(V){for(var R={},U=0;U<V.length;++U)R[V[U].toLowerCase()]=!0;return R}var o=["domain","regexp","url","url-prefix"],s=r(o),c=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],u=r(c),d=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],h=r(d),v=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],m=r(v),b=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],w=r(b),C=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],T=r(C),I=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],W=r(I),j=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],z=r(j),ue=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],ye=r(ue),xe=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],le=r(xe),Y=o.concat(c).concat(d).concat(v).concat(b).concat(C).concat(ue).concat(xe);t.registerHelper("hintWords","css",Y);function oe(V,R){for(var U=!1,H;(H=V.next())!=null;){if(U&&H=="/"){R.tokenize=null;break}U=H=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:s,mediaTypes:u,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:T,fontProperties:W,counterDescriptors:z,colorKeywords:ye,valueKeywords:le,tokenHooks:{"/":function(V,R){return V.eat("*")?(R.tokenize=oe,oe(V,R)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:u,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:T,colorKeywords:ye,valueKeywords:le,fontProperties:W,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(V,R){return V.eat("/")?(V.skipToEnd(),["comment","comment"]):V.eat("*")?(R.tokenize=oe,oe(V,R)):["operator","operator"]},":":function(V){return V.match(/^\s*\{/,!1)?[null,null]:!1},$:function(V){return V.match(/^[\w-]+/),V.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(V){return V.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:u,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:T,colorKeywords:ye,valueKeywords:le,fontProperties:W,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(V,R){return V.eat("/")?(V.skipToEnd(),["comment","comment"]):V.eat("*")?(R.tokenize=oe,oe(V,R)):["operator","operator"]},"@":function(V){return V.eat("{")?[null,"interpolation"]:V.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(V.eatWhile(/[\w\\\-]/),V.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:s,mediaTypes:u,mediaFeatures:h,propertyKeywords:w,nonStandardPropertyKeywords:T,fontProperties:W,counterDescriptors:z,colorKeywords:ye,valueKeywords:le,supportsAtComponent:!0,tokenHooks:{"/":function(V,R){return V.eat("*")?(R.tokenize=oe,oe(V,R)):!1}},name:"css",helperType:"gss"})})},8253:(i,n,e)=>{(function(t){t(e(4408),e(9701),e(6061),e(7389))})(function(t){"use strict";var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function o(m,b,w){var C=m.current(),T=C.search(b);return T>-1?m.backUp(C.length-T):C.match(/<\/?$/)&&(m.backUp(C.length),m.match(b,!1)||m.match(C)),w}var s={};function c(m){var b=s[m];return b||(s[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function u(m,b){var w=m.match(c(b));return w?/^\s*(.*?)\s*$/.exec(w[2])[1]:""}function d(m,b){return new RegExp((b?"^":"")+"</s*"+m+"s*>","i")}function h(m,b){for(var w in m)for(var C=b[w]||(b[w]=[]),T=m[w],I=T.length-1;I>=0;I--)C.unshift(T[I])}function v(m,b){for(var w=0;w<m.length;w++){var C=m[w];if(!C[0]||C[1].test(u(b,C[0])))return C[2]}}t.defineMode("htmlmixed",function(m,b){var w=t.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:b.multilineTagIndentFactor,multilineTagIndentPastTag:b.multilineTagIndentPastTag,allowMissingTagName:b.allowMissingTagName}),C={},T=b&&b.tags,I=b&&b.scriptTypes;if(h(r,C),T&&h(T,C),I)for(var W=I.length-1;W>=0;W--)C.script.unshift(["type",I[W].matches,I[W].mode]);function j(z,ue){var ye=w.token(z,ue.htmlState),xe=/\btag\b/.test(ye),le;if(xe&&!/[<>\s\/]/.test(z.current())&&(le=ue.htmlState.tagName&&ue.htmlState.tagName.toLowerCase())&&C.hasOwnProperty(le))ue.inTag=le+" ";else if(ue.inTag&&xe&&/>$/.test(z.current())){var Y=/^([\S]+) (.*)/.exec(ue.inTag);ue.inTag=null;var oe=z.current()==">"&&v(C[Y[1]],Y[2]),V=t.getMode(m,oe),R=d(Y[1],!0),U=d(Y[1],!1);ue.token=function(H,te){return H.match(R,!1)?(te.token=j,te.localState=te.localMode=null,null):o(H,U,te.localMode.token(H,te.localState))},ue.localMode=V,ue.localState=t.startState(V,w.indent(ue.htmlState,"",""))}else ue.inTag&&(ue.inTag+=z.current(),z.eol()&&(ue.inTag+=" "));return ye}return{startState:function(){var z=t.startState(w);return{token:j,inTag:null,localMode:null,localState:null,htmlState:z}},copyState:function(z){var ue;return z.localState&&(ue=t.copyState(z.localMode,z.localState)),{token:z.token,inTag:z.inTag,localMode:z.localMode,localState:ue,htmlState:t.copyState(w,z.htmlState)}},token:function(z,ue){return ue.token(z,ue)},indent:function(z,ue,ye){return!z.localMode||/^\s*<\//.test(ue)?w.indent(z.htmlState,ue,ye):z.localMode.indent?z.localMode.indent(z.localState,ue,ye):t.Pass},innerMode:function(z){return{state:z.localState||z.htmlState,mode:z.localMode||w}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")})},6061:(i,n,e)=>{(function(t){t(e(4408))})(function(t){"use strict";t.defineMode("javascript",function(r,o){var s=r.indentUnit,c=o.statementIndent,u=o.jsonld,d=o.json||u,h=o.trackScope!==!1,v=o.typescript,m=o.wordCharacters||/[\w$\xa1-\uffff]/,b=function(){function M(Wt){return{type:Wt,style:"keyword"}}var X=M("keyword a"),Se=M("keyword b"),Le=M("keyword c"),Ie=M("keyword d"),Et=M("operator"),Mt={type:"atom",style:"atom"};return{if:M("if"),while:X,with:X,else:Se,do:Se,try:Se,finally:Se,return:Ie,break:Ie,continue:Ie,new:M("new"),delete:Le,void:Le,throw:Le,debugger:M("debugger"),var:M("var"),const:M("var"),let:M("var"),function:M("function"),catch:M("catch"),for:M("for"),switch:M("switch"),case:M("case"),default:M("default"),in:Et,typeof:Et,instanceof:Et,true:Mt,false:Mt,null:Mt,undefined:Mt,NaN:Mt,Infinity:Mt,this:M("this"),class:M("class"),super:M("atom"),yield:Le,export:M("export"),import:M("import"),extends:Le,await:Le}}(),w=/[+\-*&%=<>!?|~^@]/,C=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function T(M){for(var X=!1,Se,Le=!1;(Se=M.next())!=null;){if(!X){if(Se=="/"&&!Le)return;Se=="["?Le=!0:Le&&Se=="]"&&(Le=!1)}X=!X&&Se=="\\"}}var I,W;function j(M,X,Se){return I=M,W=Se,X}function z(M,X){var Se=M.next();if(Se=='"'||Se=="'")return X.tokenize=ue(Se),X.tokenize(M,X);if(Se=="."&&M.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return j("number","number");if(Se=="."&&M.match(".."))return j("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Se))return j(Se);if(Se=="="&&M.eat(">"))return j("=>","operator");if(Se=="0"&&M.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return j("number","number");if(/\d/.test(Se))return M.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),j("number","number");if(Se=="/")return M.eat("*")?(X.tokenize=ye,ye(M,X)):M.eat("/")?(M.skipToEnd(),j("comment","comment")):an(M,X,1)?(T(M),M.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),j("regexp","string-2")):(M.eat("="),j("operator","operator",M.current()));if(Se=="`")return X.tokenize=xe,xe(M,X);if(Se=="#"&&M.peek()=="!")return M.skipToEnd(),j("meta","meta");if(Se=="#"&&M.eatWhile(m))return j("variable","property");if(Se=="<"&&M.match("!--")||Se=="-"&&M.match("->")&&!/\S/.test(M.string.slice(0,M.start)))return M.skipToEnd(),j("comment","comment");if(w.test(Se))return(Se!=">"||!X.lexical||X.lexical.type!=">")&&(M.eat("=")?(Se=="!"||Se=="=")&&M.eat("="):/[<>*+\-|&?]/.test(Se)&&(M.eat(Se),Se==">"&&M.eat(Se))),Se=="?"&&M.eat(".")?j("."):j("operator","operator",M.current());if(m.test(Se)){M.eatWhile(m);var Le=M.current();if(X.lastType!="."){if(b.propertyIsEnumerable(Le)){var Ie=b[Le];return j(Ie.type,Ie.style,Le)}if(Le=="async"&&M.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return j("async","keyword",Le)}return j("variable","variable",Le)}}function ue(M){return function(X,Se){var Le=!1,Ie;if(u&&X.peek()=="@"&&X.match(C))return Se.tokenize=z,j("jsonld-keyword","meta");for(;(Ie=X.next())!=null&&!(Ie==M&&!Le);)Le=!Le&&Ie=="\\";return Le||(Se.tokenize=z),j("string","string")}}function ye(M,X){for(var Se=!1,Le;Le=M.next();){if(Le=="/"&&Se){X.tokenize=z;break}Se=Le=="*"}return j("comment","comment")}function xe(M,X){for(var Se=!1,Le;(Le=M.next())!=null;){if(!Se&&(Le=="`"||Le=="$"&&M.eat("{"))){X.tokenize=z;break}Se=!Se&&Le=="\\"}return j("quasi","string-2",M.current())}var le="([{}])";function Y(M,X){X.fatArrowAt&&(X.fatArrowAt=null);var Se=M.string.indexOf("=>",M.start);if(!(Se<0)){if(v){var Le=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(M.string.slice(M.start,Se));Le&&(Se=Le.index)}for(var Ie=0,Et=!1,Mt=Se-1;Mt>=0;--Mt){var Wt=M.string.charAt(Mt),zt=le.indexOf(Wt);if(zt>=0&&zt<3){if(!Ie){++Mt;break}if(--Ie==0){Wt=="("&&(Et=!0);break}}else if(zt>=3&&zt<6)++Ie;else if(m.test(Wt))Et=!0;else if(/["'\/`]/.test(Wt))for(;;--Mt){if(Mt==0)return;var li=M.string.charAt(Mt-1);if(li==Wt&&M.string.charAt(Mt-2)!="\\"){Mt--;break}}else if(Et&&!Ie){++Mt;break}}Et&&!Ie&&(X.fatArrowAt=Mt)}}var oe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function V(M,X,Se,Le,Ie,Et){this.indented=M,this.column=X,this.type=Se,this.prev=Ie,this.info=Et,Le!=null&&(this.align=Le)}function R(M,X){if(!h)return!1;for(var Se=M.localVars;Se;Se=Se.next)if(Se.name==X)return!0;for(var Le=M.context;Le;Le=Le.prev)for(var Se=Le.vars;Se;Se=Se.next)if(Se.name==X)return!0}function U(M,X,Se,Le,Ie){var Et=M.cc;for(H.state=M,H.stream=Ie,H.marked=null,H.cc=Et,H.style=X,M.lexical.hasOwnProperty("align")||(M.lexical.align=!0);;){var Mt=Et.length?Et.pop():d?Ce:at;if(Mt(Se,Le)){for(;Et.length&&Et[Et.length-1].lex;)Et.pop()();return H.marked?H.marked:Se=="variable"&&R(M,Le)?"variable-2":X}}}var H={state:null,column:null,marked:null,cc:null};function te(){for(var M=arguments.length-1;M>=0;M--)H.cc.push(arguments[M])}function P(){return te.apply(null,arguments),!0}function ve(M,X){for(var Se=X;Se;Se=Se.next)if(Se.name==M)return!0;return!1}function ge(M){var X=H.state;if(H.marked="def",!!h){if(X.context){if(X.lexical.info=="var"&&X.context&&X.context.block){var Se=De(M,X.context);if(Se!=null){X.context=Se;return}}else if(!ve(M,X.localVars)){X.localVars=new ht(M,X.localVars);return}}o.globalVars&&!ve(M,X.globalVars)&&(X.globalVars=new ht(M,X.globalVars))}}function De(M,X){if(X)if(X.block){var Se=De(M,X.prev);return Se?Se==X.prev?X:new Ye(Se,X.vars,!0):null}else return ve(M,X.vars)?X:new Ye(X.prev,new ht(M,X.vars),!1);else return null}function qe(M){return M=="public"||M=="private"||M=="protected"||M=="abstract"||M=="readonly"}function Ye(M,X,Se){this.prev=M,this.vars=X,this.block=Se}function ht(M,X){this.name=M,this.next=X}var be=new ht("this",new ht("arguments",null));function _e(){H.state.context=new Ye(H.state.context,H.state.localVars,!1),H.state.localVars=be}function Re(){H.state.context=new Ye(H.state.context,H.state.localVars,!0),H.state.localVars=null}function Ve(){H.state.localVars=H.state.context.vars,H.state.context=H.state.context.prev}Ve.lex=!0;function Be(M,X){var Se=function(){var Le=H.state,Ie=Le.indented;if(Le.lexical.type=="stat")Ie=Le.lexical.indented;else for(var Et=Le.lexical;Et&&Et.type==")"&&Et.align;Et=Et.prev)Ie=Et.indented;Le.lexical=new V(Ie,H.stream.column(),M,null,Le.lexical,X)};return Se.lex=!0,Se}function Ne(){var M=H.state;M.lexical.prev&&(M.lexical.type==")"&&(M.indented=M.lexical.indented),M.lexical=M.lexical.prev)}Ne.lex=!0;function nt(M){function X(Se){return Se==M?P():M==";"||Se=="}"||Se==")"||Se=="]"?te():P(X)}return X}function at(M,X){return M=="var"?P(Be("vardef",X),lt,nt(";"),Ne):M=="keyword a"?P(Be("form"),He,at,Ne):M=="keyword b"?P(Be("form"),at,Ne):M=="keyword d"?H.stream.match(/^\s*$/,!1)?P():P(Be("stat"),gt,nt(";"),Ne):M=="debugger"?P(nt(";")):M=="{"?P(Be("}"),Re,he,Ne,Ve):M==";"?P():M=="if"?(H.state.lexical.info=="else"&&H.state.cc[H.state.cc.length-1]==Ne&&H.state.cc.pop()(),P(Be("form"),He,at,Ne,Or)):M=="function"?P(Jt):M=="for"?P(Be("form"),Re,Zt,at,Ve,Ne):M=="class"||v&&X=="interface"?(H.marked="keyword",P(Be("form",M=="class"?M:X),_t,Ne)):M=="variable"?v&&X=="declare"?(H.marked="keyword",P(at)):v&&(X=="module"||X=="enum"||X=="type")&&H.stream.match(/^\s*\w/,!1)?(H.marked="keyword",X=="enum"?P(Hn):X=="type"?P(wn,nt("operator"),st,nt(";")):P(Be("form"),wt,nt("{"),Be("}"),he,Ne,Ne)):v&&X=="namespace"?(H.marked="keyword",P(Be("form"),Ce,at,Ne)):v&&X=="abstract"?(H.marked="keyword",P(at)):P(Be("stat"),rt):M=="switch"?P(Be("form"),He,nt("{"),Be("}","switch"),Re,he,Ne,Ne,Ve):M=="case"?P(Ce,nt(":")):M=="default"?P(nt(":")):M=="catch"?P(Be("form"),_e,re,at,Ne,Ve):M=="export"?P(Be("stat"),Vt,Ne):M=="import"?P(Be("stat"),Tr,Ne):M=="async"?P(at):X=="@"?P(Ce,at):te(Be("stat"),Ce,nt(";"),Ne)}function re(M){if(M=="(")return P(Nt,nt(")"))}function Ce(M,X){return ot(M,X,!1)}function Je(M,X){return ot(M,X,!0)}function He(M){return M!="("?te():P(Be(")"),gt,nt(")"),Ne)}function ot(M,X,Se){if(H.state.fatArrowAt==H.stream.start){var Le=Se?me:ie;if(M=="(")return P(_e,Be(")"),D(Nt,")"),Ne,nt("=>"),Le,Ve);if(M=="variable")return te(_e,wt,nt("=>"),Le,Ve)}var Ie=Se?k:it;return oe.hasOwnProperty(M)?P(Ie):M=="function"?P(Jt,Ie):M=="class"||v&&X=="interface"?(H.marked="keyword",P(Be("form"),Qr,Ne)):M=="keyword c"||M=="async"?P(Se?Je:Ce):M=="("?P(Be(")"),gt,nt(")"),Ne,Ie):M=="operator"||M=="spread"?P(Se?Je:Ce):M=="["?P(Be("]"),Vn,Ne,Ie):M=="{"?Oe(yt,"}",null,Ie):M=="quasi"?te(F,Ie):M=="new"?P($(Se)):P()}function gt(M){return M.match(/[;\}\)\],]/)?te():te(Ce)}function it(M,X){return M==","?P(gt):k(M,X,!1)}function k(M,X,Se){var Le=Se==!1?it:k,Ie=Se==!1?Ce:Je;if(M=="=>")return P(_e,Se?me:ie,Ve);if(M=="operator")return/\+\+|--/.test(X)||v&&X=="!"?P(Le):v&&X=="<"&&H.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?P(Be(">"),D(st,">"),Ne,Le):X=="?"?P(Ce,nt(":"),Ie):P(Ie);if(M=="quasi")return te(F,Le);if(M!=";"){if(M=="(")return Oe(Je,")","call",Le);if(M==".")return P(Ct,Le);if(M=="[")return P(Be("]"),gt,nt("]"),Ne,Le);if(v&&X=="as")return H.marked="keyword",P(st,Le);if(M=="regexp")return H.state.lastType=H.marked="operator",H.stream.backUp(H.stream.pos-H.stream.start-1),P(Ie)}}function F(M,X){return M!="quasi"?te():X.slice(X.length-2)!="${"?P(F):P(gt,K)}function K(M){if(M=="}")return H.marked="string-2",H.state.tokenize=xe,P(F)}function ie(M){return Y(H.stream,H.state),te(M=="{"?at:Ce)}function me(M){return Y(H.stream,H.state),te(M=="{"?at:Je)}function $(M){return function(X){return X=="."?P(M?ae:de):X=="variable"&&v?P(se,M?k:it):te(M?Je:Ce)}}function de(M,X){if(X=="target")return H.marked="keyword",P(it)}function ae(M,X){if(X=="target")return H.marked="keyword",P(k)}function rt(M){return M==":"?P(Ne,at):te(it,nt(";"),Ne)}function Ct(M){if(M=="variable")return H.marked="property",P()}function yt(M,X){if(M=="async")return H.marked="property",P(yt);if(M=="variable"||H.style=="keyword"){if(H.marked="property",X=="get"||X=="set")return P(B);var Se;return v&&H.state.fatArrowAt==H.stream.start&&(Se=H.stream.match(/^\s*:\s*/,!1))&&(H.state.fatArrowAt=H.stream.pos+Se[0].length),P(ee)}else{if(M=="number"||M=="string")return H.marked=u?"property":H.style+" property",P(ee);if(M=="jsonld-keyword")return P(ee);if(v&&qe(X))return H.marked="keyword",P(yt);if(M=="[")return P(Ce,Me,nt("]"),ee);if(M=="spread")return P(Je,ee);if(X=="*")return H.marked="keyword",P(yt);if(M==":")return te(ee)}}function B(M){return M!="variable"?te(ee):(H.marked="property",P(Jt))}function ee(M){if(M==":")return P(Je);if(M=="(")return te(Jt)}function D(M,X,Se){function Le(Ie,Et){if(Se?Se.indexOf(Ie)>-1:Ie==","){var Mt=H.state.lexical;return Mt.info=="call"&&(Mt.pos=(Mt.pos||0)+1),P(function(Wt,zt){return Wt==X||zt==X?te():te(M)},Le)}return Ie==X||Et==X?P():Se&&Se.indexOf(";")>-1?te(M):P(nt(X))}return function(Ie,Et){return Ie==X||Et==X?P():te(M,Le)}}function Oe(M,X,Se){for(var Le=3;Le<arguments.length;Le++)H.cc.push(arguments[Le]);return P(Be(X,Se),D(M,X),Ne)}function he(M){return M=="}"?P():te(at,he)}function Me(M,X){if(v){if(M==":")return P(st);if(X=="?")return P(Me)}}function Ze(M,X){if(v&&(M==":"||X=="in"))return P(st)}function Xe(M){if(v&&M==":")return H.stream.match(/^\s*\w+\s+is\b/,!1)?P(Ce,ze,st):P(st)}function ze(M,X){if(X=="is")return H.marked="keyword",P()}function st(M,X){if(X=="keyof"||X=="typeof"||X=="infer"||X=="readonly")return H.marked="keyword",P(X=="typeof"?Je:st);if(M=="variable"||X=="void")return H.marked="type",P(J);if(X=="|"||X=="&")return P(st);if(M=="string"||M=="number"||M=="atom")return P(J);if(M=="[")return P(Be("]"),D(st,"]",","),Ne,J);if(M=="{")return P(Be("}"),Lt,Ne,J);if(M=="(")return P(D(N,")"),Pt,J);if(M=="<")return P(D(st,">"),st);if(M=="quasi")return te(nr,J)}function Pt(M){if(M=="=>")return P(st)}function Lt(M){return M.match(/[\}\)\]]/)?P():M==","||M==";"?P(Lt):te(Dt,Lt)}function Dt(M,X){if(M=="variable"||H.style=="keyword")return H.marked="property",P(Dt);if(X=="?"||M=="number"||M=="string")return P(Dt);if(M==":")return P(st);if(M=="[")return P(nt("variable"),Ze,nt("]"),Dt);if(M=="(")return te(or,Dt);if(!M.match(/[;\}\)\],]/))return P()}function nr(M,X){return M!="quasi"?te():X.slice(X.length-2)!="${"?P(nr):P(st,Sr)}function Sr(M){if(M=="}")return H.marked="string-2",H.state.tokenize=xe,P(nr)}function N(M,X){return M=="variable"&&H.stream.match(/^\s*[?:]/,!1)||X=="?"?P(N):M==":"?P(st):M=="spread"?P(N):te(st)}function J(M,X){if(X=="<")return P(Be(">"),D(st,">"),Ne,J);if(X=="|"||M=="."||X=="&")return P(st);if(M=="[")return P(st,nt("]"),J);if(X=="extends"||X=="implements")return H.marked="keyword",P(st);if(X=="?")return P(st,nt(":"),st)}function se(M,X){if(X=="<")return P(Be(">"),D(st,">"),Ne,J)}function ke(){return te(st,$e)}function $e(M,X){if(X=="=")return P(st)}function lt(M,X){return X=="enum"?(H.marked="keyword",P(Hn)):te(wt,Me,Xt,_n)}function wt(M,X){if(v&&qe(X))return H.marked="keyword",P(wt);if(M=="variable")return ge(X),P();if(M=="spread")return P(wt);if(M=="[")return Oe(Kt,"]");if(M=="{")return Oe(mr,"}")}function mr(M,X){return M=="variable"&&!H.stream.match(/^\s*:/,!1)?(ge(X),P(Xt)):(M=="variable"&&(H.marked="property"),M=="spread"?P(wt):M=="}"?te():M=="["?P(Ce,nt("]"),nt(":"),mr):P(nt(":"),wt,Xt))}function Kt(){return te(wt,Xt)}function Xt(M,X){if(X=="=")return P(Je)}function _n(M){if(M==",")return P(lt)}function Or(M,X){if(M=="keyword b"&&X=="else")return P(Be("form","else"),at,Ne)}function Zt(M,X){if(X=="await")return P(Zt);if(M=="(")return P(Be(")"),Bn,Ne)}function Bn(M){return M=="var"?P(lt,Gt):M=="variable"?P(Gt):te(Gt)}function Gt(M,X){return M==")"?P():M==";"?P(Gt):X=="in"||X=="of"?(H.marked="keyword",P(Ce,Gt)):te(Ce,Gt)}function Jt(M,X){if(X=="*")return H.marked="keyword",P(Jt);if(M=="variable")return ge(X),P(Jt);if(M=="(")return P(_e,Be(")"),D(Nt,")"),Ne,Xe,at,Ve);if(v&&X=="<")return P(Be(">"),D(ke,">"),Ne,Jt)}function or(M,X){if(X=="*")return H.marked="keyword",P(or);if(M=="variable")return ge(X),P(or);if(M=="(")return P(_e,Be(")"),D(Nt,")"),Ne,Xe,Ve);if(v&&X=="<")return P(Be(">"),D(ke,">"),Ne,or)}function wn(M,X){if(M=="keyword"||M=="variable")return H.marked="type",P(wn);if(X=="<")return P(Be(">"),D(ke,">"),Ne)}function Nt(M,X){return X=="@"&&P(Ce,Nt),M=="spread"?P(Nt):v&&qe(X)?(H.marked="keyword",P(Nt)):v&&M=="this"?P(Me,Xt):te(wt,Me,Xt)}function Qr(M,X){return M=="variable"?_t(M,X):Vr(M,X)}function _t(M,X){if(M=="variable")return ge(X),P(Vr)}function Vr(M,X){if(X=="<")return P(Be(">"),D(ke,">"),Ne,Vr);if(X=="extends"||X=="implements"||v&&M==",")return X=="implements"&&(H.marked="keyword"),P(v?st:Ce,Vr);if(M=="{")return P(Be("}"),fr,Ne)}function fr(M,X){if(M=="async"||M=="variable"&&(X=="static"||X=="get"||X=="set"||v&&qe(X))&&H.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return H.marked="keyword",P(fr);if(M=="variable"||H.style=="keyword")return H.marked="property",P(en,fr);if(M=="number"||M=="string")return P(en,fr);if(M=="[")return P(Ce,Me,nt("]"),en,fr);if(X=="*")return H.marked="keyword",P(fr);if(v&&M=="(")return te(or,fr);if(M==";"||M==",")return P(fr);if(M=="}")return P();if(X=="@")return P(Ce,fr)}function en(M,X){if(X=="!"||X=="?")return P(en);if(M==":")return P(st,Xt);if(X=="=")return P(Je);var Se=H.state.lexical.prev,Le=Se&&Se.info=="interface";return te(Le?or:Jt)}function Vt(M,X){return X=="*"?(H.marked="keyword",P($t,nt(";"))):X=="default"?(H.marked="keyword",P(Ce,nt(";"))):M=="{"?P(D(Qe,"}"),$t,nt(";")):te(at)}function Qe(M,X){if(X=="as")return H.marked="keyword",P(nt("variable"));if(M=="variable")return te(Je,Qe)}function Tr(M){return M=="string"?P():M=="("?te(Ce):M=="."?te(it):te($r,yr,$t)}function $r(M,X){return M=="{"?Oe($r,"}"):(M=="variable"&&ge(X),X=="*"&&(H.marked="keyword"),P(St))}function yr(M){if(M==",")return P($r,yr)}function St(M,X){if(X=="as")return H.marked="keyword",P($r)}function $t(M,X){if(X=="from")return H.marked="keyword",P(Ce)}function Vn(M){return M=="]"?P():te(D(Je,"]"))}function Hn(){return te(Be("form"),wt,nt("{"),Be("}"),D(Ae,"}"),Ne,Ne)}function Ae(){return te(wt,Xt)}function mt(M,X){return M.lastType=="operator"||M.lastType==","||w.test(X.charAt(0))||/[,.]/.test(X.charAt(0))}function an(M,X,Se){return X.tokenize==z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(X.lastType)||X.lastType=="quasi"&&/\{\s*$/.test(M.string.slice(0,M.pos-(Se||0)))}return{startState:function(M){var X={tokenize:z,lastType:"sof",cc:[],lexical:new V((M||0)-s,0,"block",!1),localVars:o.localVars,context:o.localVars&&new Ye(null,null,!1),indented:M||0};return o.globalVars&&typeof o.globalVars=="object"&&(X.globalVars=o.globalVars),X},token:function(M,X){if(M.sol()&&(X.lexical.hasOwnProperty("align")||(X.lexical.align=!1),X.indented=M.indentation(),Y(M,X)),X.tokenize!=ye&&M.eatSpace())return null;var Se=X.tokenize(M,X);return I=="comment"?Se:(X.lastType=I=="operator"&&(W=="++"||W=="--")?"incdec":I,U(X,Se,I,W,M))},indent:function(M,X){if(M.tokenize==ye||M.tokenize==xe)return t.Pass;if(M.tokenize!=z)return 0;var Se=X&&X.charAt(0),Le=M.lexical,Ie;if(!/^\s*else\b/.test(X))for(var Et=M.cc.length-1;Et>=0;--Et){var Mt=M.cc[Et];if(Mt==Ne)Le=Le.prev;else if(Mt!=Or&&Mt!=Ve)break}for(;(Le.type=="stat"||Le.type=="form")&&(Se=="}"||(Ie=M.cc[M.cc.length-1])&&(Ie==it||Ie==k)&&!/^[,\.=+\-*:?[\(]/.test(X));)Le=Le.prev;c&&Le.type==")"&&Le.prev.type=="stat"&&(Le=Le.prev);var Wt=Le.type,zt=Se==Wt;return Wt=="vardef"?Le.indented+(M.lastType=="operator"||M.lastType==","?Le.info.length+1:0):Wt=="form"&&Se=="{"?Le.indented:Wt=="form"?Le.indented+s:Wt=="stat"?Le.indented+(mt(M,X)?c||s:0):Le.info=="switch"&&!zt&&o.doubleIndentSwitch!=!1?Le.indented+(/^(?:case|default)\b/.test(X)?s:2*s):Le.align?Le.column+(zt?0:1):Le.indented+(zt?0:s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:d?null:"/*",blockCommentEnd:d?null:"*/",blockCommentContinue:d?null:" * ",lineComment:d?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:d?"json":"javascript",jsonldMode:u,jsonMode:d,expressionAllowed:an,skipExpression:function(M){U(M,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(i,n,e)=>{(function(t){t(e(4408))})(function(t){"use strict";var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(s,c){var u=s.indentUnit,d={},h=c.htmlMode?r:o;for(var v in h)d[v]=h[v];for(var v in c)d[v]=c[v];var m,b;function w(P,ve){function ge(Ye){return ve.tokenize=Ye,Ye(P,ve)}var De=P.next();if(De=="<")return P.eat("!")?P.eat("[")?P.match("CDATA[")?ge(I("atom","]]>")):null:P.match("--")?ge(I("comment","-->")):P.match("DOCTYPE",!0,!0)?(P.eatWhile(/[\w\._\-]/),ge(W(1))):null:P.eat("?")?(P.eatWhile(/[\w\._\-]/),ve.tokenize=I("meta","?>"),"meta"):(m=P.eat("/")?"closeTag":"openTag",ve.tokenize=C,"tag bracket");if(De=="&"){var qe;return P.eat("#")?P.eat("x")?qe=P.eatWhile(/[a-fA-F\d]/)&&P.eat(";"):qe=P.eatWhile(/[\d]/)&&P.eat(";"):qe=P.eatWhile(/[\w\.\-:]/)&&P.eat(";"),qe?"atom":"error"}else return P.eatWhile(/[^&<]/),null}w.isInText=!0;function C(P,ve){var ge=P.next();if(ge==">"||ge=="/"&&P.eat(">"))return ve.tokenize=w,m=ge==">"?"endTag":"selfcloseTag","tag bracket";if(ge=="=")return m="equals",null;if(ge=="<"){ve.tokenize=w,ve.state=xe,ve.tagName=ve.tagStart=null;var De=ve.tokenize(P,ve);return De?De+" tag error":"tag error"}else return/[\'\"]/.test(ge)?(ve.tokenize=T(ge),ve.stringStartCol=P.column(),ve.tokenize(P,ve)):(P.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function T(P){var ve=function(ge,De){for(;!ge.eol();)if(ge.next()==P){De.tokenize=C;break}return"string"};return ve.isInAttribute=!0,ve}function I(P,ve){return function(ge,De){for(;!ge.eol();){if(ge.match(ve)){De.tokenize=w;break}ge.next()}return P}}function W(P){return function(ve,ge){for(var De;(De=ve.next())!=null;){if(De=="<")return ge.tokenize=W(P+1),ge.tokenize(ve,ge);if(De==">")if(P==1){ge.tokenize=w;break}else return ge.tokenize=W(P-1),ge.tokenize(ve,ge)}return"meta"}}function j(P){return P&&P.toLowerCase()}function z(P,ve,ge){this.prev=P.context,this.tagName=ve||"",this.indent=P.indented,this.startOfLine=ge,(d.doNotIndent.hasOwnProperty(ve)||P.context&&P.context.noIndent)&&(this.noIndent=!0)}function ue(P){P.context&&(P.context=P.context.prev)}function ye(P,ve){for(var ge;;){if(!P.context||(ge=P.context.tagName,!d.contextGrabbers.hasOwnProperty(j(ge))||!d.contextGrabbers[j(ge)].hasOwnProperty(j(ve))))return;ue(P)}}function xe(P,ve,ge){return P=="openTag"?(ge.tagStart=ve.column(),le):P=="closeTag"?Y:xe}function le(P,ve,ge){return P=="word"?(ge.tagName=ve.current(),b="tag",R):d.allowMissingTagName&&P=="endTag"?(b="tag bracket",R(P,ve,ge)):(b="error",le)}function Y(P,ve,ge){if(P=="word"){var De=ve.current();return ge.context&&ge.context.tagName!=De&&d.implicitlyClosed.hasOwnProperty(j(ge.context.tagName))&&ue(ge),ge.context&&ge.context.tagName==De||d.matchClosing===!1?(b="tag",oe):(b="tag error",V)}else return d.allowMissingTagName&&P=="endTag"?(b="tag bracket",oe(P,ve,ge)):(b="error",V)}function oe(P,ve,ge){return P!="endTag"?(b="error",oe):(ue(ge),xe)}function V(P,ve,ge){return b="error",oe(P,ve,ge)}function R(P,ve,ge){if(P=="word")return b="attribute",U;if(P=="endTag"||P=="selfcloseTag"){var De=ge.tagName,qe=ge.tagStart;return ge.tagName=ge.tagStart=null,P=="selfcloseTag"||d.autoSelfClosers.hasOwnProperty(j(De))?ye(ge,De):(ye(ge,De),ge.context=new z(ge,De,qe==ge.indented)),xe}return b="error",R}function U(P,ve,ge){return P=="equals"?H:(d.allowMissing||(b="error"),R(P,ve,ge))}function H(P,ve,ge){return P=="string"?te:P=="word"&&d.allowUnquoted?(b="string",R):(b="error",R(P,ve,ge))}function te(P,ve,ge){return P=="string"?te:R(P,ve,ge)}return{startState:function(P){var ve={tokenize:w,state:xe,indented:P||0,tagName:null,tagStart:null,context:null};return P!=null&&(ve.baseIndent=P),ve},token:function(P,ve){if(!ve.tagName&&P.sol()&&(ve.indented=P.indentation()),P.eatSpace())return null;m=null;var ge=ve.tokenize(P,ve);return(ge||m)&&ge!="comment"&&(b=null,ve.state=ve.state(m||ge,P,ve),b&&(ge=b=="error"?ge+" error":b)),ge},indent:function(P,ve,ge){var De=P.context;if(P.tokenize.isInAttribute)return P.tagStart==P.indented?P.stringStartCol+1:P.indented+u;if(De&&De.noIndent)return t.Pass;if(P.tokenize!=C&&P.tokenize!=w)return ge?ge.match(/^(\s*)/)[0].length:0;if(P.tagName)return d.multilineTagIndentPastTag!==!1?P.tagStart+P.tagName.length+2:P.tagStart+u*(d.multilineTagIndentFactor||1);if(d.alignCDATA&&/<!\[CDATA\[/.test(ve))return 0;var qe=ve&&/^<(\/)?([\w_:\.-]*)/.exec(ve);if(qe&&qe[1])for(;De;)if(De.tagName==qe[2]){De=De.prev;break}else if(d.implicitlyClosed.hasOwnProperty(j(De.tagName)))De=De.prev;else break;else if(qe)for(;De;){var Ye=d.contextGrabbers[j(De.tagName)];if(Ye&&Ye.hasOwnProperty(j(qe[2])))De=De.prev;else break}for(;De&&De.prev&&!De.startOfLine;)De=De.prev;return De?De.indent+u:P.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:d.htmlMode?"html":"xml",helperType:d.htmlMode?"html":"xml",skipAttribute:function(P){P.state==H&&(P.state=R)},xmlCurrentTag:function(P){return P.tagName?{name:P.tagName,close:P.type=="closeTag"}:null},xmlCurrentContext:function(P){for(var ve=[],ge=P.context;ge;ge=ge.prev)ve.push(ge.tagName);return ve.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})},3023:(i,n,e)=>{e.d(n,{A:()=>s});var t=e(1749),r=function(){var c=function(u,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(h[m]=v[m])},c(u,d)};return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),o=function(c){r(u,c);function u(d,h,v){var m=c.call(this,h,v)||this;return m._module=d,m}return Object.defineProperty(u.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),u}(t.Kx);let s=o},2820:(i,n,e)=>{e.d(n,{A:()=>c,F:()=>o});var t=e(3023),r=function(){var u=function(d,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(v[b]=m[b])},u(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function v(){this.constructor=d}d.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),o=function(u){return u.Select="select",u.Hover="hover",u.Spacing="spacing",u.Target="target",u.Resize="resize",u}(o||{}),s=function(u){r(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(d.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"component",{get:function(){var h,v=this.get("component");return v||((h=this.get("componentView"))===null||h===void 0?void 0:h.model)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"componentView",{get:function(){var h,v=this.get("componentView");return v||((h=this.get("component"))===null||h===void 0?void 0:h.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"el",{get:function(){var h;return(h=this.componentView)===null||h===void 0?void 0:h.el},enumerable:!1,configurable:!0}),d.prototype.getBoxRect=function(h){var v=this,m=v.el,b=v.em,w=b.Canvas.getCanvasView(),C=this.get("boxRect");return C||(m&&w?w.getElBoxRect(m,h):{x:0,y:0,width:0,height:0})},d.prototype.getStyle=function(h){h===void 0&&(h={});var v=h.boxRect||this.getBoxRect(h),m=v.width,b=v.height,w=v.x,C=v.y;return{width:"".concat(m,"px"),height:"".concat(b,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(w,"px ").concat(C,"px")}},d.prototype.isType=function(h){return this.type===h},d}(t.A);let c=s},8351:(i,n,e)=>{e.d(n,{A:()=>r});var t=function(o){return o.run="command:run",o._run="run",o.runCommand="command:run:",o._runCommand="run:",o.runBeforeCommand="command:run:before:",o.abort="command:abort:",o._abort="abort:",o.stop="command:stop",o._stop="stop",o.stopCommand="command:stop:",o._stopCommand="stop:",o.stopBeforeCommand="command:stop:before:",o}(t||{});let r=t},371:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){r.Components.clear(),r.Css.clear()}}},6301:(i,n,e)=>{e.r(n),e.d(n,{default:()=>s});var t=e(5706),r=e(5633),o=e(2097);let s={run:function(c){(0,t.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=c,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(c){this.toggleMove(),this.disableDragger()},onKeyUp:function(c){(0,o.Ch)(c)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(c){this.toggleDragger(1,c)},disableDragger:function(c){this.toggleDragger(0,c)},toggleDragger:function(c,u){var d=this,h=d.canvasModel,v=d.em,m=this.dragger,b=c?"add":"remove";this.getCanvas().classList[b]("".concat(this.ppfx,"is__grabbing")),m||(m=new r.A({getPosition:function(){return{x:h.get("x"),y:h.get("y")}},setPosition:function(w){var C=w.x,T=w.y;h.set({x:C,y:T})},onStart:function(w,C){v.trigger("canvas:move:start",C)},onDrag:function(w,C){v.trigger("canvas:move",C)},onEnd:function(w,C){v.trigger("canvas:move:end",C)}}),this.dragger=m),c?m.start(u):m.stop()},toggleMove:function(c){var u=this.ppfx,d=c?"add":"remove",h=c?"on":"off",v={on:o.on,off:o.AU},m=this.getCanvas(),b=["".concat(u,"is__grab")];!c&&b.push("".concat(u,"is__grabbing")),b.forEach(function(w){return m.classList[d](w)}),v[h](document,"keyup",this.onKeyUp),v[h](m,"mousedown",this.enableDragger),v[h](document,"mouseup",this.disableDragger)}}},5301:(i,n,e)=>{e.r(n),e.d(n,{default:()=>u,defineCommand:()=>s});var t=e(1749),r=e(8351),o=function(){var d=function(h,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(m[w]=b[w])},d(h,v)};return function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(h,v);function m(){this.constructor=h}h.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}();function s(d){return d}var c=function(d){o(h,d);function h(v){var m=d.call(this,0)||this;m.config=v||{},m.em=m.config.em||{};var b=m.config.stylePrefix;return m.pfx=b,m.ppfx=m.config.pStylePrefix,m.hoverClass="".concat(b,"hover"),m.badgeClass="".concat(b,"badge"),m.plhClass="".concat(b,"placeholder"),m.freezClass="".concat(m.ppfx,"freezed"),m.canvas=m.em.Canvas,m.init(m.config),m}return h.prototype.onFrameScroll=function(v){},h.prototype.getCanvas=function(){return this.canvas.getElement()},h.prototype.getCanvasBody=function(){return this.canvas.getBody()},h.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},h.prototype.offset=function(v){var m=v.getBoundingClientRect();return{top:m.top+v.ownerDocument.body.scrollTop,left:m.left+v.ownerDocument.body.scrollLeft}},h.prototype.init=function(v){},h.prototype.callRun=function(v,m){m===void 0&&(m={});var b=this.id;if(v.trigger("".concat(r.A.runBeforeCommand).concat(b),{options:m}),v.trigger("".concat(r.A._runCommand).concat(b,":before"),m),m.abort){v.trigger("".concat(r.A.abort).concat(b),{options:m}),v.trigger("".concat(r.A._abort).concat(b),m);return}var w=m.sender||v,C=this.run(v,w,m),T={id:b,result:C,options:m};return v.trigger("".concat(r.A.runCommand).concat(b),T),v.trigger(r.A.run,T),v.trigger("".concat(r.A._runCommand).concat(b),C,m),v.trigger(r.A._run,b,C,m),C},h.prototype.callStop=function(v,m){m===void 0&&(m={});var b=this.id,w=m.sender||v;v.trigger("".concat(r.A.stopBeforeCommand).concat(b),{options:m}),v.trigger("".concat(r.A._stopCommand).concat(b,":before"),m);var C=this.stop(v,w,m),T={id:b,result:C,options:m};return v.trigger("".concat(r.A.stopCommand).concat(b),T),v.trigger(r.A.stop,T),v.trigger("".concat(r.A._stopCommand).concat(b),C,m),v.trigger(r.A._stop,b,C,m),C},h.prototype.stopCommand=function(v){this.em.Commands.stop(this.id,v)},h.prototype.run=function(v,m,b){},h.prototype.stop=function(v,m,b){},h}(t.Kx);let u=c},8542:(i,n,e)=>{e.r(n),e.d(n,{default:()=>s});var t=e(5706),r=function(c,u,d){if(d||arguments.length===2)for(var h=0,v=u.length,m;h<v;h++)(m||!(h in u))&&(m||(m=Array.prototype.slice.call(u,0,h)),m[h]=u[h]);return c.concat(m||Array.prototype.slice.call(u))},o={run:function(c,u,d){var h=this;d===void 0&&(d={});var v=[],m=d.component||c.getSelectedAll();return m=(0,t.isArray)(m)?r([],m,!0):[m],m.filter(Boolean).forEach(function(b){var w,C;if(!b.get("removable"))return h.em.logWarning("The element is not removable",{component:b});v.push(b);var T=((C=(w=b.delegate)===null||w===void 0?void 0:w.remove)===null||C===void 0?void 0:C.call(w,b))||b;T.remove()}),c.selectRemove(v),v}};let s=o},1319:(i,n,e)=>{e.r(n),e.d(n,{default:()=>c});var t=e(5706),r=e(5633),o=function(){return o=Object.assign||function(u){for(var d,h=1,v=arguments.length;h<v;h++){d=arguments[h];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])}return u},o.apply(this,arguments)},s="dmode";let c={run:function(u,d,h){var v=this;h===void 0&&(h={}),(0,t.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var m=h.target,b=h.event,w=h.mode,C=h.dragger,T=C===void 0?{}:C,I=m.getEl(),W=o({doc:I.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return v.guidesStatic},guidesTarget:function(){return v.guidesTarget}},T);this.setupGuides(),this.opts=h,this.editor=u,this.em=u.getModel(),this.target=m,this.isTran=w=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var j=this.dragger;return j?j.setOptions(W):(j=new r.A(W),this.dragger=j),b&&j.start(b),this.toggleDrag(1),this.em.trigger("".concat(s,":start"),this.getEventOpts()),j},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(u){var d=u.guide;d&&d.parentNode.removeChild(d)}),this.guides=[]},getGuidesContainer:function(){var u=this,d=this.guidesEl;if(!d){var h=this,v=h.editor,m=h.em,b=h.opts,w=v.getConfig().stylePrefix,C=document.createElement("div"),T=document.createElement("div"),I='<div class="'.concat(w,"guide-info__line ").concat(w,`danger-bg">
        <div class="`).concat(w,"guide-info__content ").concat(w,`danger-color"></div>
      </div>`);d=document.createElement("div"),d.className="".concat(w,"guides"),C.className="".concat(w,"guide-info ").concat(w,"guide-info__x"),T.className="".concat(w,"guide-info ").concat(w,"guide-info__y"),C.innerHTML=I,T.innerHTML=I,d.appendChild(C),d.appendChild(T),v.Canvas.getGlobalToolsEl().appendChild(d),this.guidesEl=d,this.elGuideInfoX=C,this.elGuideInfoY=T,this.elGuideInfoContentX=C.querySelector(".".concat(w,"guide-info__content")),this.elGuideInfoContentY=T.querySelector(".".concat(w,"guide-info__content")),m.on("canvas:update frame:scroll",(0,t.debounce)(function(){var W;u.updateGuides(),b.debug&&((W=u.guides)===null||W===void 0||W.forEach(function(j){return u.renderGuide(j)}))},200))}return d},getGuidesStatic:function(){var u=this,d=[],h=this.target.getEl(),v=h.parentNode,m=v===void 0?{}:v;return(0,t.each)(m.children,function(b){return d=d.concat(h!==b?u.getElementGuides(b):[])}),d.concat(this.getElementGuides(m))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(u){var d=this,h,v;(u||this.guides).forEach(function(m){var b=m.origin,w=h===b?v:d.getElementPos(b);h=b,v=w,(0,t.each)(d.getGuidePosUpdate(m,w),function(C,T){return m[T]=C}),m.originRect=w})},getGuidePosUpdate:function(u,d){var h={},v=d.top,m=d.height,b=d.left,w=d.width;switch(u.type){case"t":h.y=v;break;case"b":h.y=v+m;break;case"l":h.x=b;break;case"r":h.x=b+w;break;case"x":h.x=b+w/2;break;case"y":h.y=v+m/2;break}return h},renderGuide:function(u){u===void 0&&(u={});var d=u.guide||document.createElement("div"),h="px",v=u.active?2:1,m=d.children[0];return d.style="position: absolute; background-color: ".concat(u.active?"green":"red",";"),d.children.length||(m=document.createElement("div"),m.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",d.appendChild(m)),u.y?(d.style.width="100%",d.style.height="".concat(v).concat(h),d.style.top="".concat(u.y).concat(h),d.style.left=0):(d.style.width="".concat(v).concat(h),d.style.height="100%",d.style.left="".concat(u.x).concat(h),d.style.top="0".concat(h)),!u.guide&&this.guidesContainer.appendChild(d),d},getElementPos:function(u){return this.editor.Canvas.getElementPos(u,{noScroll:1})},getElementGuides:function(u){var d=this,h=this.opts,v=this.getElementPos(u),m=v.top,b=v.height,w=v.left,C=v.width,T=[{type:"t",y:m},{type:"b",y:m+b},{type:"l",x:w},{type:"r",x:w+C},{type:"x",x:w+C/2},{type:"y",y:m+b/2}].map(function(I){return o(o({},I),{origin:u,originRect:v,guide:h.debug&&d.renderGuide(I)})});return T.forEach(function(I){var W;return(W=d.guides)===null||W===void 0?void 0:W.push(I)}),T},getTranslate:function(u,d){d===void 0&&(d="x");var h=0;return(u||"").split(" ").forEach(function(v){var m=v.trim(),b="translate".concat(d.toUpperCase(),"(");m.indexOf(b)===0&&(h=parseFloat(m.replace(b,"")))}),h},setTranslate:function(u,d,h){var v="translate".concat(d.toUpperCase(),"("),m="".concat(v).concat(h,")"),b=(u||"").split(" ").map(function(w){var C=w.trim();return C.indexOf(v)===0&&(w=m),w}).join(" ");return b.indexOf(v)<0&&(b+=" ".concat(m)),b},getPosition:function(){var u=this,d=u.target,h=u.isTran,v=d.getStyle(),m=v.left,b=v.top,w=v.transform,C=0,T=0;return h?(C=this.getTranslate(w),T=this.getTranslate(w,"y")):(C=parseFloat(m||0),T=parseFloat(b||0)),{x:C,y:T}},setPosition:function(u){var d=u.x,h=u.y,v=u.end,m=u.position,b=u.width,w=u.height,C=this,T=C.target,I=C.isTran,W=C.em,j="px",z=!v,ue="".concat(parseInt(d,10)).concat(j),ye="".concat(parseInt(h,10)).concat(j),xe={};if(I){var le=T.getStyle().transform||"";le=this.setTranslate(le,"x",ue),le=this.setTranslate(le,"y",ye),xe={transform:le,__p:z},T.addStyle(xe,{avoidStore:!v})}else{var Y={position:m,width:b,height:w},oe={left:ue,top:ye,__p:z};(0,t.keys)(Y).forEach(function(V){var R=Y[V];R&&(oe[V]=R)}),xe=oe,T.addStyle(xe,{avoidStore:!v})}W?.Styles.__emitCmpStyleUpdate(xe,{components:W.getSelected()})},_getDragData:function(){var u=this.target;return{target:u,parent:u.parent(),index:u.index()}},onStart:function(u){var d=this,h=d.target,v=d.editor,m=d.isTran,b=d.opts,w=b.center,C=b.onStart,T=v.Canvas,I=h.getStyle(),W="absolute",j=[W,"relative"];if(C&&C(this._getDragData()),!m&&I.position!==W){var z=T.offset(h.getEl()),ue=z.left,ye=z.top,xe=z.width,le=z.height,Y=h.parent(),oe=void 0;do{var V=Y.getStyle();oe=j.indexOf(V.position)>=0?Y:null,Y=Y.parent()}while(Y&&!oe);if(w){var R=T.getMouseRelativeCanvas(u),U=R.x,H=R.y;ue=U,ye=H}else if(oe){var te=T.offset(oe.getEl());ue=ue-te.left,ye=ye-te.top}this.setPosition({x:ue,y:ye,width:"".concat(xe,"px"),height:"".concat(le,"px"),position:W})}},onDrag:function(){for(var u=this,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var v=this,m=v.guidesTarget,b=v.opts,w=b.onDrag;this.updateGuides(m),b.debug&&m.forEach(function(C){return u.renderGuide(C)}),b.guidesInfo&&this.renderGuideInfo(m.filter(function(C){return C.active})),w&&w(this._getDragData())},onEnd:function(u,d,h){h===void 0&&(h={});var v=this,m=v.editor,b=v.opts,w=v.id,C=b.onEnd;C&&C(u,h,o(o({event:u},h),this._getDragData())),m.stopCommand(w),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var u=this;["X","Y"].forEach(function(d){var h=u["elGuideInfo".concat(d)];h&&(h.style.display="none")})},renderGuideInfo:function(u){var d=this;u===void 0&&(u=[]);var h=this.guidesStatic;this.hideGuidesInfo(),u.forEach(function(v){var m=v.origin,b=v.x,w=d.getElementPos(m),C=(0,t.isUndefined)(b)?"y":"x",T=C==="y",I=w[T?"left":"top"],W=w.rect[T?"left":"top"],j=T?I+w.width:I+w.height,z=T?W+w.rect.width:W+w.rect.height,ue=d["elGuideInfo".concat(C.toUpperCase())],ye=d["elGuideInfoContent".concat(C.toUpperCase())],xe=ue.style,le=h?.filter(function(Re){return Re.type===v.type}).map(function(Re){var Ve=Re.originRect,Be=Ve.left,Ne=Ve.width,nt=Ve.top,at=Ve.height,re=T?Be:nt,Ce=T?Be+Ne:nt+at;return{gap:Ce<I?I-Ce:re-j,guide:Re}}).filter(function(Re){return Re.gap>0}).sort(function(Re,Ve){return Re.gap-Ve.gap}).map(function(Re){return Re.guide})[0];if(le){var Y=le.originRect,oe=Y.left,V=Y.width,R=Y.top,U=Y.height,H=Y.rect,te=T?oe<w.left:R<w.top,P=T?oe:R,ve=T?H.left:H.top,ge=T?oe+V:R+U,De=T?H.left+H.width:H.top+H.height,qe=T?v.y:v.x,Ye=te?ge:j,ht="".concat(qe,"px"),be=te?I-ge:P-j,_e=te?W-De:ve-z;xe.display="",xe[T?"top":"left"]=ht,xe[T?"left":"top"]="".concat(Ye,"px"),xe[T?"width":"height"]="".concat(be,"px"),ye.innerHTML="".concat(Math.round(_e),"px"),d.em.trigger("".concat(s,":active"),o(o({},d.getEventOpts()),{guide:v,guidesStatic:h,matched:le,posFirst:qe,posSecond:Ye,size:be,sizeRaw:_e,elGuideInfo:ue,elGuideInfoCnt:ye}))}})},toggleDrag:function(u){var d=this,h=d.ppfx,v=d.editor,m=u?"add":"remove",b=["".concat(h,"is__grabbing")],w=v.Canvas,C=w.getBody();b.forEach(function(T){return C.classList[m](T)}),w[u?"startAutoscroll":"stopAutoscroll"]()}}},1859:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){if(r.Canvas.hasFocus()){var o=[];r.getSelectedAll().forEach(function(s){var c=s.components(),u=c&&c.filter(function(d){return d.get("selectable")})[0];u&&o.push(u)}),o.length&&r.select(o)}}}},3709:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r,o,s){if(s===void 0&&(s={}),!(!r.Canvas.hasFocus()&&!s.force)){var c=[];r.getSelectedAll().forEach(function(u){for(var d=u.parent();d&&!d.get("selectable");)d=d.parent();d&&c.push(d)}),c.length&&r.select(c)}}}},2860:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){if(r.Canvas.hasFocus()){var o=[];r.getSelectedAll().forEach(function(s){var c=s.parent();if(c){var u=c.components().length,d=0,h=0,v;do d++,h=s.index()+d,v=h<=u?c.getChildAt(h):null;while(v&&!v.get("selectable"));o.push(v||s)}}),o.length&&r.select(o)}}}},4944:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){if(r.Canvas.hasFocus()){var o=[];r.getSelectedAll().forEach(function(s){var c=s.parent();if(c){var u=0,d=0,h;do u++,d=s.index()-u,h=d>=0?c.getChildAt(d):null;while(h&&!h.get("selectable"));o.push(h||s)}}),o.length&&r.select(o)}}}},767:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(5706);let r={run:function(o,s,c){c===void 0&&(c={});var u=c.target,d=[];if(!u.get("styles"))return d;var h=u.get("type"),v=o.Pages.getAllWrappers(),m=(0,t.flatten)(v.map(function(w){return w.findType(h)})).length;if(!m){var b=o.CssComposer.getAll();d=b.filter(function(w){return w.get("group")==="cmp:".concat(h)}),b.remove(d)}return d}}},2126:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=function(o,s,c){if(c||arguments.length===2)for(var u=0,d=s.length,h;u<d;u++)(h||!(u in s))&&(h||(h=Array.prototype.slice.call(s,0,u)),h[u]=s[u]);return o.concat(h||Array.prototype.slice.call(s))};let r={run:function(o){var s=o.getModel(),c=t([],o.getSelectedAll(),!0).map(function(u){var d,h;return((h=(d=u.delegate)===null||d===void 0?void 0:d.copy)===null||h===void 0?void 0:h.call(d,u))||u}).filter(Boolean);c.length&&s.set("clipboard",c)}}},4860:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(2097);let r={run:function(o,s,c){var u=this;c===void 0&&(c={}),s&&s.set&&s.set("active",0);var d=o.getConfig(),h=o.Modal,v=d.stylePrefix;if(this.cm=o.CodeManager||null,!this.editors){var m=this.buildEditor("htmlmixed","hopscotch","HTML"),b=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=m.model,this.cssEditor=b.model;var w=(0,t.a_)("div",{class:"".concat(v,"export-dl")});w.appendChild(m.el),w.appendChild(b.el),this.editors=w}h.open({title:d.textViewCode,content:this.editors}).getModel().once("change:open",function(){return o.stopCommand("".concat(u.id))}),this.htmlEditor.setContent(o.getHtml(c.optsHtml)),this.cssEditor.setContent(o.getCss(c.optsCss))},stop:function(o){var s=o.Modal;s&&s.close()},buildEditor:function(o,s,c){var u=this.em.CodeManager,d=u.createViewer({label:c,codeName:o,theme:s}),h=new u.EditorView({model:d,config:u.getConfig()}).render().el;return{model:d,el:h}}}},1085:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(5706);let r={isEnabled:function(){var o=document;return!!(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement)},enable:function(o){var s="";return o.requestFullscreen?o.requestFullscreen():o.webkitRequestFullscreen?(s="webkit",o.webkitRequestFullscreen()):o.mozRequestFullScreen?(s="moz",o.mozRequestFullScreen()):o.msRequestFullscreen&&o.msRequestFullscreen(),s},disable:function(){var o=document;this.isEnabled()&&(o.exitFullscreen?o.exitFullscreen():o.webkitExitFullscreen?o.webkitExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.msExitFullscreen&&o.msExitFullscreen())},fsChanged:function(o){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(o||"","fullscreenchange"),this.fsChanged))},run:function(o,s,c){c===void 0&&(c={}),this.sender=s;var u=c.target,d=(0,t.isElement)(u)?u:document.querySelector(u),h=this.enable(d||o.getContainer());this.fsChanged=this.fsChanged.bind(this,h),document.addEventListener(h+"fullscreenchange",this.fsChanged)},stop:function(o,s){s&&s.set&&s.set("active",!1),this.disable()}}},9622:(i,n,e)=>{e.r(n),e.d(n,{default:()=>u});var t=e(5706),r=e(6411),o=e(2097),s=e(4596),c=e(2983);let u=(0,t.extend)({},c.default,s.default,{init:function(d){s.default.init.apply(this,arguments),(0,t.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=d,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];s.default.enable.apply(this,d),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var v=this.$wrapper;v.css("cursor","move"),v.on("mousedown",this.initSorter),v.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(d){var h=(0,r.default)(d.target).data("model"),v=h.get("draggable");v&&(this.cacheEl=null,this.startSelectPosition(d.target,this.frameEl.contentDocument),this.sorter.draggable=v,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,o.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(d){var h=d.get("draggable");if(h){this.cacheEl=null;var v=d.view.el;this.startSelectPosition(v,this.frameEl.contentDocument),this.sorter.draggable=h,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(d){this.cacheEl=null;var h=d[d.length-1],v=this.em.getCurrentFrame(),m=h.getEl(v?.model),b=m.ownerDocument,w=d.map(function(C){var T;return(T=C?.view)===null||T===void 0?void 0:T.el});this.startSelectPosition(w,b,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(d,h){},rollback:function(d,h){var v=d.which||d.keyCode;(v==27||h)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,r.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,r.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];s.default.stop.apply(this,d),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var v=this.$wrapper;v.css("cursor","").unbind().removeClass(this.noSelClass)}})},8481:(i,n,e)=>{e.r(n),e.d(n,{default:()=>o});var t=e(5706),r=e(2097);let o={open:function(s){var c=this,u=this,d=u.editor,h=u.title,v=u.config,m=u.am,b=v.custom;if((0,t.isFunction)(b.open))return b.open(m.__customData());var w=d.Modal;w.open({title:h,content:s}).onceClose(function(){return d.stopCommand(c.id)})},close:function(){var s=this.config.custom;if((0,t.isFunction)(s.close))return s.close(this.am.__customData());var c=this.editor.Modal;c&&c.close()},run:function(s,c,u){u===void 0&&(u={});var d=s.AssetManager,h=d.getConfig(),v=u.types,m=v===void 0?[]:v,b=u.accept,w=u.select;if(this.title=u.modalTitle||s.t("assetManager.modalTitle")||"",this.editor=s,this.config=h,this.am=d,d.setTarget(u.target),d.onClick(u.onClick),d.onDblClick(u.onDblClick),d.onSelect(u.onSelect),d.__behaviour({select:w,types:m,options:u}),h.custom)this.rendered=this.rendered||(0,r.a_)("div"),this.rendered.className="".concat(h.stylePrefix,"custom-wrp"),d.__behaviour({container:this.rendered}),d.__trgCustom();else{if(!this.rendered||m){var C=d.getAll().filter(function(I){return I});m&&m.length&&(C=C.filter(function(I){return m.indexOf(I.get("type"))!==-1})),d.render(C),this.rendered=d.getContainer()}if(b){var T=this.rendered.querySelector("input#".concat(h.stylePrefix,"uploadFile"));T&&T.setAttribute("accept",b)}}return this.open(this.rendered),this},stop:function(s){this.editor=s,this.close(this.rendered)}}},3666:(i,n,e)=>{e.r(n),e.d(n,{default:()=>o});var t=e(5706),r=e(2097);let o={open:function(){var s=this,c=s.container,u=s.editor,d=s.bm,h=s.config,v=h.custom,m=h.appendTo;if((0,t.isFunction)(v.open))return v.open(d.__customData());if(this.firstRender&&!m){var b="views-container",w=u.Panels,C=w.getPanel(b)||w.addPanel({id:b});C.set("appendContent",c).trigger("change:appendContent"),v||c.appendChild(d.render())}c&&(c.style.display="block")},close:function(){var s=this,c=s.container,u=s.config,d=u.custom;if((0,t.isFunction)(d.close))return d.close(this.bm.__customData());c&&(c.style.display="none")},run:function(s){var c=s.Blocks;this.config=c.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,r.a_)("div"),this.editor=s,this.bm=c;var u=this.container;c.__behaviour({container:u}),this.config.custom&&c.__trgCustom(),this.open()},stop:function(){this.close()}}},5838:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){var o=r.LayerManager,s=r.Panels,c=o.getConfig();if(!c.appendTo){if(!this.layers){var u="views-container",d=document.createElement("div"),h=s.getPanel(u)||s.addPanel({id:u});c.custom?o.__trgCustom({container:d}):d.appendChild(o.render()),h.set("appendContent",d).trigger("change:appendContent"),this.layers=d}this.layers.style.display="block"}},stop:function(){var r=this.layers;r&&(r.style.display="none")}}},8692:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(6411);let r={run:function(o,s){if(this.sender=s,!this.$cnt){var c=o.getConfig(),u=o.Panels,d=o.DeviceManager,h=o.SelectorManager,v=o.StyleManager,m="change:appendContent",b=(0,t.default)("<div></div>"),w=(0,t.default)("<div></div>"),C=(0,t.default)("<div></div>"),T=(0,t.default)("<div></div>");if(this.$cnt=b,this.$cntInner=w,w.append(C),w.append(T),b.append(w),d&&c.showDevices){var I=u.addPanel({id:"devices-c"}),W=d.render();I.set("appendContent",W).trigger(m)}var j=h.getConfig();j.custom?h.__trgCustom({container:C.get(0)}):j.appendTo||C.append(h.render([])),this.sm=v;var z=v.getConfig(),ue=z.stylePrefix;this.$header=(0,t.default)('<div class="'.concat(ue,'header">').concat(o.t("styleManager.empty"),"</div>")),b.append(this.$header),z.custom?v.__trgCustom({container:T.get(0)}):z.appendTo||T.append(v.render());var ye="views-container",xe=u.getPanel(ye)||u.addPanel({id:ye});xe.set("appendContent",b).trigger(m);var le=o.getModel();this.listenTo(le,v.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var o=this,s=o.sender,c=o.sm,u=o.$cntInner,d=o.$header;s&&s.get&&!s.get("active")||!c||(c.getSelected()?(u?.show(),d?.hide()):(u?.hide(),d?.show()))},stop:function(){var o,s;(o=this.$cntInner)===null||o===void 0||o.hide(),(s=this.$header)===null||s===void 0||s.hide()}}},9163:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(6411);let r={run:function(o,s){this.sender=s;var c=o.getModel(),u=o.Config,d=u.stylePrefix,h=o.TraitManager,v=h.getConfig(),m;if(!v.appendTo){if(!this.$cn){this.$cn=(0,t.default)("<div></div>"),this.$cn2=(0,t.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,t.default)("<div>").append('<div class="'.concat(v.stylePrefix,'header">').concat(c.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),v.custom?h.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(d,'traits-label">').concat(c.t("traitManager.label"),"</div>")),this.$cn2.append(h.render()));var b=o.Panels;b.getPanel("views-container")?m=b.getPanel("views-container"):m=b.addPanel({id:"views-container"}),m?.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=o.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var o=this.sender;o&&o.get&&!o.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},9298:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(5706);let r={run:function(s,c,u){u===void 0&&(u={});var d=s.getModel(),h=d.get("clipboard"),v=s.getSelected();h?.length&&v&&(s.getSelectedAll().forEach(function(m){var b,w,C,T=((w=(b=m.delegate)===null||b===void 0?void 0:b.copy)===null||w===void 0?void 0:w.call(b,m))||m,I=T.collection,W;if(I){var j=T.index()+1,z={at:j,action:u.action||"paste-component"};(0,t.contains)(h,T)&&T.get("copyable")?W=I.add(T.clone(),z):W=o(s,h,T.parent(),z)}else{var ue=(C=d.Pages.getSelected())===null||C===void 0?void 0:C.getMainComponent(),z={at:ue?.components().length||0,action:u.action||"paste-component"};W=o(s,h,ue,z)}W=(0,t.isArray)(W)?W:[W],W.forEach(function(ye){return s.trigger("component:paste",ye)})}),v.emitUpdate())}};function o(s,c,u,d){var h=c.filter(function(m){return m.get("copyable")}),v=h.filter(function(m){return s.Components.canMove(u,m).result});return u.components().add(v.map(function(m){return m.clone()}),d)}},8594:(i,n,e)=>{e.r(n),e.d(n,{default:()=>s});var t=e(5706),r=function(c,u,d){if(d||arguments.length===2)for(var h=0,v=u.length,m;h<v;h++)(m||!(h in u))&&(m||(m=Array.prototype.slice.call(u,0,h)),m[h]=u[h]);return c.concat(m||Array.prototype.slice.call(u))},o="core:component-outline";let s={getPanels:function(c){return this.panels||(this.panels=c.Panels.getPanels()),this.panels},preventDrag:function(c){c.abort=1},tglEffects:function(c){var u=this.em,d=c?"on":"off";if(u){var h=u.Canvas,v=h.getBody(),m=h.getToolbarEl();m&&(m.style.display=c?"none":"");var b=v.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,t.each)(b,function(w){return w.style.pointerEvents=c?"all":""}),u[d]("run:tlb-move:before",this.preventDrag)}},run:function(c,u){var d=this;this.sender=u,this.selected=r([],c.getSelectedAll(),!0),c.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=c.Commands.isActive(o)),this.shouldRunSwVisibility&&c.stopCommand(o),c.getModel().stopDefault();var h=this.getPanels(c),v=c.Canvas.getElement(),m=c.getEl(),b=c.Config.stylePrefix;if(!this.helper){var w=document.createElement("span");w.className="".concat(b,"off-prv fa fa-eye-slash"),m.appendChild(w),w.onclick=function(){return d.stopCommand()},this.helper=w}this.helper.style.display="inline-block",h.forEach(function(T){return T.set("visible",!1)});var C=v.style;C.width="100%",C.height="100%",C.top="0",C.left="0",C.padding="0",C.margin="0",c.refresh(),this.tglEffects(1)},stop:function(c){var u=this,d=u.sender,h=d===void 0?{}:d,v=u.selected;h.set&&h.set("active",0);var m=this.getPanels(c);this.shouldRunSwVisibility&&(c.runCommand(o),this.shouldRunSwVisibility=!1),c.getModel().runDefault(),m.forEach(function(w){return w.set("visible",!0)});var b=c.Canvas.getElement();b.setAttribute("style",""),v&&c.select(v),delete this.selected,this.helper&&(this.helper.style.display="none"),c.refresh(),this.tglEffects()}}},7604:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=function(){return t=Object.assign||function(o){for(var s,c=1,u=arguments.length;c<u;c++){s=arguments[c];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])}return o},t.apply(this,arguments)};let r={run:function(o,s,c){var u=c||{},d=o.Canvas,h=d.getCanvasView(),v=t({appendTo:d.getResizerEl(),prefix:o.getConfig().stylePrefix,posFetcher:h.getElementPos.bind(h),mousePosFetcher:d.getMouseRelativePos.bind(d)},u.options||{}),m=this.canvasResizer;return(!m||u.forceNew)&&(this.canvasResizer=new o.Utils.Resizer(v),m=this.canvasResizer),m.setOptions(v,!0),m.blur(),m.focus(u.el),m},stop:function(){var o;(o=this.canvasResizer)===null||o===void 0||o.blur()}}},4596:(i,n,e)=>{e.r(n),e.d(n,{default:()=>oe});var t=e(5706),r=e(1749),o=function(){var V=function(R,U){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,te){H.__proto__=te}||function(H,te){for(var P in te)Object.prototype.hasOwnProperty.call(te,P)&&(H[P]=te[P])},V(R,U)};return function(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");V(R,U);function H(){this.constructor=R}R.prototype=U===null?Object.create(U):(H.prototype=U.prototype,new H)}}(),s=function(V){o(R,V);function R(){return V!==null&&V.apply(this,arguments)||this}return R.prototype.defaults=function(){return{command:"",attributes:{}}},R}(r.Kx);let c=s;var u=function(){var V=function(R,U){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,te){H.__proto__=te}||function(H,te){for(var P in te)Object.prototype.hasOwnProperty.call(te,P)&&(H[P]=te[P])},V(R,U)};return function(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");V(R,U);function H(){this.constructor=R}R.prototype=U===null?Object.create(U):(H.prototype=U.prototype,new H)}}(),d=function(V){u(R,V);function R(){return V!==null&&V.apply(this,arguments)||this}return R}(r.pM);let h=d;d.prototype.model=c;var v=e(91),m=function(){var V=function(R,U){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,te){H.__proto__=te}||function(H,te){for(var P in te)Object.prototype.hasOwnProperty.call(te,P)&&(H[P]=te[P])},V(R,U)};return function(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");V(R,U);function H(){this.constructor=R}R.prototype=U===null?Object.create(U):(H.prototype=U.prototype,new H)}}(),b=function(){return b=Object.assign||function(V){for(var R,U=1,H=arguments.length;U<H;U++){R=arguments[U];for(var te in R)Object.prototype.hasOwnProperty.call(R,te)&&(V[te]=R[te])}return V},b.apply(this,arguments)},w=function(V){m(R,V);function R(U){var H=V.call(this,U)||this;return H.em=U.config.em,H}return R.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},R.prototype.attributes=function(){return this.model.get("attributes")},R.prototype.handleClick=function(U){U.preventDefault(),U.stopPropagation();var H=this.em,te=H.Canvas.getFrameEl().getBoundingClientRect(),P=te.left,ve=te.top,ge=b(b({},U),{clientX:U.clientX-P,clientY:U.clientY-ve});H.trigger("toolbar:run:before",{event:ge}),this.execCommand(ge)},R.prototype.execCommand=function(U){var H=this,te=H.em,P=H.model,ve={event:U},ge=P.get("command"),De=te.Editor;(0,t.isFunction)(ge)&&ge(De,null,ve),(0,t.isString)(ge)&&De.runCommand(ge,ve)},R.prototype.render=function(){var U=this,H=U.em,te=U.$el,P=U.model,ve=P.get("id"),ge=P.get("label"),De=H.getConfig().stylePrefix;return te.addClass("".concat(De,"toolbar-item")),ve&&te.addClass("".concat(De,"toolbar-item__").concat(ve)),ge&&te.append(ge),this},R}(r.Ss);let C=w;var T=function(){var V=function(R,U){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,te){H.__proto__=te}||function(H,te){for(var P in te)Object.prototype.hasOwnProperty.call(te,P)&&(H[P]=te[P])},V(R,U)};return function(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");V(R,U);function H(){this.constructor=R}R.prototype=U===null?Object.create(U):(H.prototype=U.prototype,new H)}}(),I=function(V){T(R,V);function R(U){var H=V.call(this,U)||this,te=U.em;return H.em=te,H.config={em:te},H.listenTo(H.collection,"reset",H.render),H}return R.prototype.onRender=function(){var U=this.em.config.stylePrefix;this.el.className="".concat(U,"toolbar-items")},R}(v.A);let W=I;I.prototype.itemView=C;var j=e(2097),z=e(9195),ue=e(2820),ye=e(3172),xe=function(){return xe=Object.assign||function(V){for(var R,U=1,H=arguments.length;U<H;U++){R=arguments[U];for(var te in R)Object.prototype.hasOwnProperty.call(R,te)&&(V[te]=R[te])}return V},xe.apply(this,arguments)},le=function(V,R){var U={};for(var H in V)Object.prototype.hasOwnProperty.call(V,H)&&R.indexOf(H)<0&&(U[H]=V[H]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,H=Object.getOwnPropertySymbols(V);te<H.length;te++)R.indexOf(H[te])<0&&Object.prototype.propertyIsEnumerable.call(V,H[te])&&(U[H[te]]=V[H[te]]);return U},Y;let oe={activeResizer:!1,init:function(){this.onSelect=(0,t.debounce)(this.onSelect,0),(0,t.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),Y=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(V){var R=this,U=this.em,H=U.getConfig().listenToEl,te=U.getContainer().parentNode,P=V?"on":"off",ve={on:j.on,off:j.AU},ge=ye.I.update;!H.length&&te&&H.push(te);var De=function(qe,Ye){ve[P](Ye,"mouseover",R.onHover),ve[P](Ye,"mouseleave",R.onOut),ve[P](Ye,"click",R.onClick),ve[P](qe,"scroll",R.onFrameScroll,!0),ve[P](qe,"resize",R.onFrameResize)};ve[P](window,"resize",this.onFrameUpdated),ve[P](H,"scroll",this.onContainerChange),U[P]("component:toggled ".concat(ge," undo redo"),this.onSelect,this),U[P]("change:componentHovered",this.onHovered,this),U[P]("component:resize styleable:change component:input",this.updateGlobalPos,this),U[P]("".concat(ge,":toolbar"),this._upToolbar,this),U[P]("frame:updated",this.onFrameUpdated,this),U[P]("canvas:updateTools",this.onFrameUpdated,this),U[P](U.Canvas.events.refresh,this.updateAttached,this),U.Canvas.getFrames().forEach(function(qe){var Ye=qe.view,ht=Ye?.getWindow();ht&&De(ht,Ye?.getBody())})},onHover:function(V){V.stopPropagation();var R=this.em,U=V.target,H=(0,z.getComponentView)(U),te=H?.frameView,P=H?.model;if(!P)for(var ve=U.parentNode;!P&&ve&&!(0,j.ZQ)(ve);)P=(0,z.getComponentModel)(ve),ve=ve.parentNode;this.currentDoc=U.ownerDocument,R.setHovered(P,{useValid:!0}),te&&R.setCurrentFrame(te)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(V,R){var U=this,H,te={};R?(H=R.views)===null||H===void 0||H.forEach(function(P){var ve=P.el,ge=U.getElementPos(ve);te={el:ve,pos:ge,component:R,view:(0,z.getViewEl)(ve)},ve.ownerDocument===U.currentDoc&&(U.elHovered=te),U.updateToolsLocal(te)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(P){var ve=P.view,ge=ve&&ve.getToolsEl();ge&&U.toggleToolsEl(0,0,{el:ge})}))},onSelect:function(){var V=this.em,R=V.getSelected(),U=V.getCurrentFrame(),H=R&&R.getView(U?.model),te=H&&H.el,P={};if(te&&(0,j.zN)(te)){var ve=this.getElementPos(te);P={el:te,pos:ve,component:R,view:(0,z.getViewEl)(te)}}this.elSelected=P,this.updateToolsGlobal(),this.updateLocalPos(P),this.initResize(R)},updateGlobalPos:function(){var V=this.getElSelected();V.el&&(V.pos=this.getElementPos(V.el),this.updateToolsGlobal())},updateLocalPos:function(V){var R=this.getElHovered();R.el&&(R.pos=this.getElementPos(R.el),this.updateToolsLocal(V))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(V,R,U){U===void 0&&(U={});var H=U.el||this.canvas.getToolsEl(R);return H&&(H.style.display=V?"":"none"),H||{}},showElementOffset:function(V,R,U){U===void 0&&(U={}),Y&&this.editor.runCommand("show-offset",{el:V,elPos:R,view:U.view,force:1,top:0,left:0})},hideElementOffset:function(V){this.editor.stopCommand("show-offset",{view:V})},showFixedElementOffset:function(V,R){this.editor.runCommand("show-offset",{el:V,elPos:R,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(V){this.canvas.getHighlighter(V).style.opacity=0},onClick:function(V){V.stopPropagation(),V.preventDefault();var R=this.em;if(R.get("_cmpDrag"))return R.set("_cmpDrag");var U=V.target,H=(0,z.getComponentModel)(U);if(!H)for(var te=U.parentNode;!H&&te&&!(0,j.ZQ)(te);)H=(0,z.getComponentModel)(te),te=te.parentNode;if(H){if(R.isEditing()&&(!H.get("textable")&&H.isChildOf("text")||R.getEditing()!==H))return;this.select(H,V)}},select:function(V,R){if(R===void 0&&(R={}),!!V){var U=this.em;U.setSelected(V,{event:R,useValid:!0}),this.initResize(U.getSelected())}},updateBadge:function(V,R,U){U===void 0&&(U={});var H=this.canvas,te=(0,z.getComponentModel)(V),P=this.getBadge(U),ve=P.style;if(!te||!te.get("badgable")){ve.display="none";return}if(!U.posOnly){var ge=this.canvas.getConfig(),De=te.getIcon(),qe=ge.pStylePrefix||"",Ye="".concat(qe,"badge"),ht=ge.customBadgeLabel,be="".concat(De?'<div class="'.concat(Ye,'__icon">').concat(De,"</div>"):"",`
        <div class="`).concat(Ye,'__name">').concat(te.getName(),"</div>");P.innerHTML=ht?ht(te):be}var _e="px";ve.display="block";var Re=H.getTargetToElementFixed(V,P,{pos:R}),Ve=Re.top,Be=U.leftOff<0?-U.leftOff:0;ve.top=Ve+_e,ve.left=Be+_e},showHighlighter:function(V){this.canvas.getHighlighter(V).style.opacity=""},initResize:function(V){var R=this,U=R.em,H=R.canvas,te=U.Editor,P=!(0,t.isElement)(V)&&(0,j.GW)(V)?V:U.getSelected(),ve=P?.get("resizable"),ge=ue.F.Resize,De=H.hasCustomSpot(ge);if(H.removeSpots({type:ge}),P&&ve){H.addSpot({type:ge,component:P});var qe=(0,t.isElement)(V)?V:P.getEl(),Ye=(0,z.isObject)(ve)?ve:{},ht=Ye.onStart,be=ht===void 0?function(){}:ht,_e=Ye.onMove,Re=_e===void 0?function(){}:_e,Ve=Ye.onEnd,Be=Ve===void 0?function(){}:Ve,Ne=Ye.updateTarget,nt=Ne===void 0?function(){}:Ne,at=le(Ye,["onStart","onMove","onEnd","updateTarget"]);if(De||!qe||this.activeResizer)return;var re,Ce=U.config,Je=Ce.stylePrefix||"",He="".concat(Je,"resizing"),ot=this,gt={component:P,el:qe},it=function(F,K,ie){var me=ie.docs;me&&me.forEach(function($){var de=$.body,ae=de.className||"";de.className=(F=="add"?"".concat(ae," ").concat(He):ae.replace(He,"")).trim()})},k=xe({onStart:function(F,K){be(F,K);var ie=K.el,me=K.config,$=K.resizer,de=me.keyHeight,ae=me.keyWidth,rt=me.currentUnit,Ct=me.keepAutoHeight,yt=me.keepAutoWidth;it("add",F,K),re=U.Styles.getModelToStyle(P),H.toggleFramesEvents(!1);var B=getComputedStyle(ie),ee=re.getStyle(),D=ee[ae];me.autoWidth=yt&&D==="auto",isNaN(parseFloat(D))&&(D=B[ae]);var Oe=ee[de];me.autoHeight=Ct&&Oe==="auto",isNaN(parseFloat(Oe))&&(Oe=B[de]),$.startDim.w=parseFloat(D),$.startDim.h=parseFloat(Oe),Y=!1,rt&&(me.unitHeight=(0,z.getUnitFromValue)(Oe),me.unitWidth=(0,z.getUnitFromValue)(D)),ot.activeResizer=!0,te.trigger("component:resize",xe(xe({},gt),{type:"start"}))},onMove:function(F){Re(F),te.trigger("component:resize",xe(xe({},gt),{type:"move"}))},onEnd:function(F,K){Be(F,K),it("remove",F,K),te.trigger("component:resize",xe(xe({},gt),{type:"end"})),H.toggleFramesEvents(!0),Y=!0,ot.activeResizer=!1},updateTarget:function(F,K,ie){if(nt(F,K,ie),!!re){var me=ie.store,$=ie.selectedHandler,de=ie.config,ae=de.keyHeight,rt=de.keyWidth,Ct=de.autoHeight,yt=de.autoWidth,B=de.unitWidth,ee=de.unitHeight,D=["tc","bc"].indexOf($)>=0,Oe=["cl","cr"].indexOf($)>=0,he={};if(!D){var Me=H.getBody().offsetWidth,Ze=K.w<Me?K.w:Me;he[rt]=yt?"auto":"".concat(Ze).concat(B)}Oe||(he[ae]=Ct?"auto":"".concat(K.h).concat(ee)),U.getDragMode(P)&&(he.top="".concat(K.t).concat(ee),he.left="".concat(K.l).concat(B));var Xe=xe(xe({},he),{__p:!me});re.addStyle(Xe,{avoidStore:!me}),U.Styles.__emitCmpStyleUpdate(Xe,{components:U.getSelected()})}}},at);this.resizer=te.runCommand("resize",{el:qe,options:k,force:1})}else{if(De)return;te.stopCommand("resize"),this.resizer=null}},updateToolbar:function(V){var R=this.canvas,U=this.config.em,H=V===U?U.getSelected():V,te=R.getToolbarEl(),P=te.style,ve=H.get("toolbar"),ge=U.config.showToolbar,De=!R.hasCustomSpot(ue.F.Select);if(H&&ge&&ve&&ve.length&&De){if(P.display="",!this.toolbar){te.innerHTML="",this.toolbar=new h(ve);var qe=new W({collection:this.toolbar,em:U});te.appendChild(qe.render().el)}this.toolbar.reset(ve),P.top="-100px",P.left="0"}else P.display="none"},updateToolbarPos:function(V){var R="px",U=this.canvas.getToolbarEl().style;U.top="".concat(V.top).concat(R),U.left="".concat(V.left).concat(R),U.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(V){return V===void 0&&(V={}),this.canvas.getBadgeEl(V.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(V){return V&&V.get("status")==="selected"},updateToolsLocal:function(V){var R=this.em.getConfig(),U=V||this.getElHovered(),H=U.el,te=U.pos,P=U.view,ve=U.component;if(!H){this.lastHovered=0;return}var ge=ve.get("hoverable"),De=this.lastHovered!==H,qe=De?{}:{posOnly:1},Ye=this.canvas.hasCustomSpot(ue.F.Hover);De&&ge&&(this.lastHovered=H,Ye?this.hideHighlighter(P):this.showHighlighter(P),this.showElementOffset(H,te,{view:P})),this.isCompSelected(ve)&&(this.hideHighlighter(P),!R.showOffsetsSelected&&this.hideElementOffset(P));var ht="px",be=this.toggleToolsEl(1,P),_e=be.style,Re=this.canvas.canvasRectOffset(H,te),Ve=Re.top,Be=Re.left;!Ye&&this.updateBadge(H,te,xe(xe({},qe),{view:P,topOff:Ve,leftOff:Be})),_e.top=Ve+ht,_e.left=Be+ht,_e.width=te.width+ht,_e.height=te.height+ht,this._trgToolUp("local",{component:ve,el:be,top:Ve,left:Be,width:te.width,height:te.height})},_upToolbar:(0,t.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(V,R){R===void 0&&(R={}),this.em.trigger("canvas:tools:update",xe({type:V},R))},updateToolsGlobal:function(V){V===void 0&&(V={});var R=this.getElSelected(),U=R.el,H=R.pos,te=R.component;if(!U){this.toggleToolsEl(),this.lastSelected=0;return}var P=this.canvas,ve=this.lastSelected!==U;(ve||V.force)&&(this.lastSelected=U,this.updateToolbar(te));var ge="px",De=this.toggleToolsEl(1),qe=De.style,Ye=P.getTargetToElementFixed(U,P.getToolbarEl(),{pos:H}),ht=Ye.canvasOffsetTop,be=Ye.canvasOffsetLeft;qe.top=ht+ge,qe.left=be+ge,qe.width=H.width+ge,qe.height=H.height+ge,this.updateToolbarPos({top:Ye.top,left:Ye.left}),this._trgToolUp("global",{component:te,el:De,top:ht,left:be,width:H.width,height:H.height})},updateAttached:(0,t.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,t.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(V){return this.canvas.getCanvasView().getElementPos(V,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(V){V&&V.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(V){(0,z.hasWin)()&&(this.editor=V&&V.get("Editor"),this.enable())},stop:function(V,R,U){if(U===void 0&&(U={}),!!(0,z.hasWin)()){var H=this,te=H.em,P=H.editor;this.onHovered(),this.stopSelectComponent(),!U.preserveSelected&&te.setSelected(),this.toggleToolsEl(),P&&P.stopCommand("resize")}}}},2983:(i,n,e)=>{e.r(n),e.d(n,{default:()=>s});var t=e(6411),r=e(6778),o=e(2128);let s={startSelectPosition:function(c,u,d){d===void 0&&(d={}),this.isPointed=!1;var h=this.em.Utils,v=c[0].ownerDocument.body;h&&(this.sorter=new h.ComponentSorter({em:this.em,treeClass:r.A,containerContext:{container:v,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:u,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:o.A.BothDirections,nested:!0}})),d.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=d.onStart),c&&c.length>0&&this.sorter.startSort(c.map(function(m){return{element:m}}))},getOffsetDim:function(){var c=this.offset(this.canvas.getFrameEl()),u=this.offset(this.canvas.getElement()),d=c.top-u.top,h=c.left-u.left;return{top:d,left:h}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,t.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,t.default)(this.cDim[this.posIndex][5]).parent():(0,t.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(c,u,d){var h=c||0,v=u||"before",m=d.length,b=m!==0&&v=="after"&&h==m;return m!==0&&(!b&&!d[h][4]||d[h-1]&&!d[h-1][4]||b&&!d[h-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9490:(i,n,e)=>{e.r(n),e.d(n,{default:()=>c});var t=e(5706),r=e(2820),o=e(6411),s=function(){return s=Object.assign||function(u){for(var d,h=1,v=arguments.length;h<v;h++){d=arguments[h];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])}return u},s.apply(this,arguments)};let c={getOffsetMethod:function(u){var d=u||"";return"get"+d+"OffsetViewerEl"},run:function(u,d,h){var v=this.canvas,m=h||{},b=m.state||"",w=u.getConfig(),C=this.em.getZoomDecimal(),T=m.el;if(!w.showOffsets||!(T instanceof HTMLElement)||!w.showOffsetsSelected&&b=="Fixed"){u.stopCommand("".concat(this.id),h);return}if(!v.hasCustomSpot(r.F.Spacing)){var I=s({},m.elPos||v.getElementPos(T));(0,t.isUndefined)(m.top)||(I.top=m.top),(0,t.isUndefined)(m.left)||(I.left=m.left);var W=window.getComputedStyle(T),j=this.ppfx,z=b+"State",ue=this.getOffsetMethod(b),ye=v[ue](h.view);ye.style.opacity="";var xe=this["marginT"+b],le=this["marginB"+b],Y=this["marginL"+b],oe=this["marginR"+b],V=this["padT"+b],R=this["padB"+b],U=this["padL"+b],H=this["padR"+b];if(ye.childNodes.length&&(this[z]="1",xe=ye.querySelector("[data-offset-m-t]"),le=ye.querySelector("[data-offset-m-b]"),Y=ye.querySelector("[data-offset-m-l]"),oe=ye.querySelector("[data-offset-m-r]"),V=ye.querySelector("[data-offset-p-t]"),R=ye.querySelector("[data-offset-p-b]"),U=ye.querySelector("[data-offset-p-l]"),H=ye.querySelector("[data-offset-p-r]")),!this[z]){var te=b.toLowerCase(),P=te+"margin-v",ve=te+"padding-v",ge=(0,o.default)('<div class="'.concat(j,'marginName">')).get(0),De=(0,o.default)('<div class="'.concat(j,'paddingName">')).get(0),qe=j+P+"-el",Ye=j+ve+"-el",ht="".concat(qe," ").concat(j+P),be="".concat(Ye," ").concat(j+ve);xe=(0,o.default)('<div class="'.concat(ht,'-top"></div>')).get(0),le=(0,o.default)('<div class="'.concat(ht,'-bottom"></div>')).get(0),Y=(0,o.default)('<div class="'.concat(ht,'-left"></div>')).get(0),oe=(0,o.default)('<div class="'.concat(ht,'-right"></div>')).get(0),V=(0,o.default)('<div class="'.concat(be,'-top"></div>')).get(0),R=(0,o.default)('<div class="'.concat(be,'-bottom"></div>')).get(0),U=(0,o.default)('<div class="'.concat(be,'-left"></div>')).get(0),H=(0,o.default)('<div class="'.concat(be,'-right"></div>')).get(0),this["marginT"+b]=xe,this["marginB"+b]=le,this["marginL"+b]=Y,this["marginR"+b]=oe,this["padT"+b]=V,this["padB"+b]=R,this["padL"+b]=U,this["padR"+b]=H,ge.appendChild(xe),ge.appendChild(le),ge.appendChild(Y),ge.appendChild(oe),De.appendChild(V),De.appendChild(R),De.appendChild(U),De.appendChild(H),ye.appendChild(ge),ye.appendChild(De),this[z]="1"}var _e="px",Re=parseFloat(W.marginLeft.replace(_e,""))*C,Ve=parseFloat(W.marginRight.replace(_e,""))*C,Be=parseFloat(W.marginTop.replace(_e,""))*C,Ne=parseFloat(W.marginBottom.replace(_e,""))*C,nt=xe.style,at=le.style,re=Y.style,Ce=oe.style,Je=V.style,He=R.style,ot=U.style,gt=H.style,it=parseFloat(I.left),k=parseFloat(W.width)*C+_e;nt.height=Be+_e,nt.width=k,nt.top=I.top-Be+_e,nt.left=it+_e,at.height=Ne+_e,at.width=k,at.top=I.top+I.height+_e,at.left=it+_e;var F=I.height+Be+Ne+_e,K=I.top-Be+_e;re.height=F,re.width=Re+_e,re.top=K,re.left=it-Re+_e,Ce.height=F,Ce.width=Ve+_e,Ce.top=K,Ce.left=it+I.width+_e;var ie=parseFloat(W.paddingTop)*C;Je.height=ie+_e;var me=parseFloat(W.paddingBottom)*C;He.height=me+_e;var $=I.height-me-ie+_e,de=I.top+ie+_e;ot.height=$,ot.width=parseFloat(W.paddingLeft)*C+_e,ot.top=de;var ae=parseFloat(W.paddingRight)*C;gt.height=$,gt.width=ae+_e,gt.top=de}},stop:function(u,d,h){h===void 0&&(h={});var v=h||{},m=v.state||"",b=this.getOffsetMethod(m),w=h.view,C=this.canvas,T=C[b](w);T.style.opacity=0}}},1396:(i,n,e)=>{e.r(n),e.d(n,{default:()=>o});var t=e(5706),r=e(9195);let o={init:function(){(0,t.bindAll)(this,"_onFramesChange")},run:function(s){this.toggleVis(s,!0)},stop:function(s){this.toggleVis(s,!1)},toggleVis:function(s,c){if(c===void 0&&(c=!0),!s.Commands.isActive("preview")){var u=s.Canvas,d=c?"on":"off",h=u.getModel();h[d]("change:frames",this._onFramesChange),this.handleFrames(u.getFrames(),c)}},handleFrames:function(s,c){var u=this;s.forEach(function(d){var h;!((h=d.view)===null||h===void 0)&&h.loaded&&u._upFrame(d,c),d.__ol||(d.on("loaded",function(){return u._upFrame(d)}),d.__ol=!0)})},_onFramesChange:function(s,c){this.handleFrames(c)},_upFrame:function(s,c){var u,d=this,h=d.ppfx,v=d.em,m=d.id,b=(0,r.isDef)(c)?c:v.Commands.isActive(m),w=b?"add":"remove",C="".concat(h,"dashed");(u=s.view)===null||u===void 0||u.getBody().classList[w](C)}}},1749:(i,n,e)=>{e.d(n,{Kx:()=>u,Ss:()=>h,e2:()=>c,lK:()=>m,pM:()=>d,x2:()=>v});var t=e(4193),r=e.n(t),o=function(){var w=function(C,T){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,W){I.__proto__=W}||function(I,W){for(var j in W)Object.prototype.hasOwnProperty.call(W,j)&&(I[j]=W[j])},w(C,T)};return function(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");w(C,T);function I(){this.constructor=C}C.prototype=T===null?Object.create(T):(I.prototype=T.prototype,new I)}}(),s=function(){return s=Object.assign||function(w){for(var C,T=1,I=arguments.length;T<I;T++){C=arguments[T];for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&(w[W]=C[W])}return w},s.apply(this,arguments)},c="add remove reset change",u=function(w){o(C,w);function C(){return w!==null&&w.apply(this,arguments)||this}return C}(r().Model),d=function(w){o(C,w);function C(){return w!==null&&w.apply(this,arguments)||this}return C}(r().Collection),h=function(w){o(C,w);function C(){return w!==null&&w.apply(this,arguments)||this}return C}(r().View),v=function(w){return w.Screen="screen",w.World="world",w}(v||{}),m={x:0,y:0},b=s(s({},m),{width:0,height:0})},3172:(i,n,e)=>{e.d(n,{I:()=>r,t:()=>t});var t=function(o){return o.remove="component:remove",o.add="component:add",o.move="component:move",o}(t||{}),r=function(o){return o.add="component:add",o.remove="component:remove",o.removeBefore="component:remove:before",o.create="component:create",o.update="component:update",o.updateInside="component:update-inside",o.select="component:select",o.selectBefore="component:select:before",o.scriptMount="component:script:mount",o.scriptMountBefore="component:script:mount:before",o.scriptUnmount="component:script:unmount",o.symbolMainAdd="symbol:main:add",o.symbolMainUpdate="symbol:main:update",o.symbolMainUpdateDeep="symbol:main:update-deep",o.symbolMainRemove="symbol:main:remove",o.symbolMain="symbol:main",o.symbolInstanceAdd="symbol:instance:add",o.symbolInstanceRemove="symbol:instance:remove",o.symbolInstance="symbol:instance",o.symbol="symbol",o}(r||{})},91:(i,n,e)=>{e.d(n,{A:()=>c});var t=e(5706),r=e(1749),o=function(){var u=function(d,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(v[b]=m[b])},u(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function v(){this.constructor=d}d.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),s=function(u){o(d,u);function d(h,v,m){h===void 0&&(h={}),m===void 0&&(m=!1);var b=u.call(this,h)||this;return b.itemsView="",b.itemType="type",b.reuseView=!1,b.config=v||h.config||{},m&&b.listenTo(b.collection,"add",b.addTo),b.items=[],b}return d.prototype.addTo=function(h){this.add(h)},d.prototype.itemViewNotFound=function(h){var v=this,m=v.config,b=v.ns,w=m.em,C="".concat(b?"[".concat(b,"]: "):"","'").concat(h,"' type not found");w&&w.logWarning(C)},d.prototype.add=function(h,v){var m=this,b=m.config,w=m.reuseView,C=m.items,T=this.itemsView||{},I=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],W=v||null,j=this.itemView,z=h.get(this.itemType),ue;T[z]?j=T[z]:z&&!T[z]&&!(0,t.includes)(I,z)&&this.itemViewNotFound(z),h.view&&w?ue=h.view:ue=new j({model:h,config:b},b),C&&C.push(ue);var ye=ue.render().el;W?W.appendChild(ye):this.$el.append(ye)},d.prototype.render=function(){var h=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(v){this.add(v,h)},this),this.$el.append(h),this.onRender(),this},d.prototype.onRender=function(){},d.prototype.onRemoveBefore=function(h,v){},d.prototype.onRemove=function(h,v){},d.prototype.remove=function(h){h===void 0&&(h={});var v=this.items;return this.onRemoveBefore(v,h),this.clearItems(),u.prototype.remove.call(this),this.onRemove(v,h),this},d.prototype.clearItems=function(){var h=this.items||[]},d}(r.Ss);let c=s;s.prototype.itemView=""},5633:(i,n,e)=>{e.d(n,{A:()=>d});var t=e(5706),r=e(2097),o=function(){return o=Object.assign||function(h){for(var v,m=1,b=arguments.length;m<b;m++){v=arguments[m];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(h[w]=v[w])}return h},o.apply(this,arguments)},s=function(){return{x:0,y:0}},c=["x","y"],u=function(){function h(v){return v===void 0&&(v={}),this.opts={snapOffset:5,scale:1},(0,t.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(v),this.delta=s(),this.lastScroll=s(),this.lastScrollDiff=s(),this.startPointer=s(),this.startPosition=s(),this.globScrollDiff=s(),this.currentPointer=s(),this.position=s(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return h.prototype.setOptions=function(v){v===void 0&&(v={}),this.opts=o(o({},this.opts),v)},h.prototype.toggleDrag=function(v){var m=this.getDocumentEl(),b=this.getContainerEl(),w=this.getWindowEl(),C=v?"on":"off",T={on:r.on,off:r.AU};T[C](b,"mousemove dragover",this.drag),T[C](m,"mouseup dragend touchend",this.stop),T[C](m,"keydown",this.keyHandle),T[C](w,"scroll",this.handleScroll)},h.prototype.handleScroll=function(){var v=this,m=v.lastScroll,b=v.delta,w=this.getScrollInfo(),C={x:w.x-m.x,y:w.y-m.y};this.move(b.x+C.x,b.y+C.y),this.lastScrollDiff=C},h.prototype.start=function(v){var m=this.opts,b=m.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(v),this.guidesStatic=(0,t.result)(m,"guidesStatic")||[],this.guidesTarget=(0,t.result)(m,"guidesTarget")||[],(0,t.isFunction)(b)&&b(v,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=s(),this.globScrollDiff=s(),this.drag(v)},h.prototype.drag=function(v){var m=this,b=this,w=b.opts,C=b.lastScrollDiff,T=b.globScrollDiff,I=w.onDrag,W=this.startPointer,j=this.getPointerPos(v),z={x:T.x+C.x,y:T.y+C.y};this.globScrollDiff=z;var ue={x:j.x-W.x+z.x,y:j.y-W.y+z.y};this.lastScrollDiff=s();var ye=this.lockedAxis;v.shiftKey?ye=!ye&&this.detectAxisLock(ue.x,ue.y):ye=null,ye==="x"?ue.x=W.x:ye==="y"&&(ue.y=W.y);var xe=function(U){c.forEach(function(H){return U[H]=U[H]*(0,t.result)(w,"scale")}),m.delta=U,m.move(U.x,U.y),(0,t.isFunction)(I)&&I(v,m)},le=o({},ue);if(this.currentPointer=j,this.lockedAxis=ye,this.lastScroll=this.getScrollInfo(),xe(ue),this.guidesTarget.length){var Y=this.snapGuides(le),oe=Y.newDelta,V=Y.trgX,R=Y.trgY;(V||R)&&xe(oe)}v.which===0&&this.stop(v)},h.prototype.snapGuides=function(v){var m=this,b=v,w=this,C=w.trgX,T=w.trgY;return this.guidesTarget.forEach(function(I){I.x&&m.trgX||I.y&&m.trgY||(I.active=!1,m.guidesStatic.forEach(function(W){if(!(I.y&&W.x||I.x&&W.y)){var j=I.y&&W.y,z=j?"y":"x",ue=I[z],ye=W[z],xe=v[z],le=j?T:C;if(m.isPointIn(ue,ye)&&(0,t.isUndefined)(le)){var Y=xe-(ue-ye);m.setGuideLock(I,Y)}}}))}),C=this.trgX,T=this.trgY,c.forEach(function(I){var W=I.toUpperCase(),j=m["trg".concat(W)];j&&!m.isPointIn(v[I],j.lock)&&(m.setGuideLock(j,null),j=null),j&&!(0,t.isUndefined)(j.lock)&&(b[I]=j.lock)}),{newDelta:b,trgX:this.trgX,trgY:this.trgY}},h.prototype.isPointIn=function(v,m,b){var w=b===void 0?{}:b,C=w.offset,T=C||this.opts.snapOffset||0;return v>=m&&v<=m+T||v<=m&&v>=m-T},h.prototype.setGuideLock=function(v,m){var b=(0,t.isUndefined)(v.x)?"Y":"X",w="trg".concat(b);return m!==null?(v.active=!0,v.lock=m,this[w]=v):(delete v.active,delete v.lock,delete this[w]),v},h.prototype.stop=function(v,m){m===void 0&&(m={});var b=this.delta,w=!!m.cancel,C=w?0:b.x,T=w?0:b.y;this.toggleDrag(),this.lockedAxis=null,this.move(C,T,!0);var I=this.opts.onEnd;(0,t.isFunction)(I)&&I(v,this,{cancelled:w})},h.prototype.keyHandle=function(v){(0,r.v$)(v)&&this.stop(v,{cancel:!0})},h.prototype.move=function(v,m,b){var w=this,C=w.el,T=w.opts,I=this.startPosition;if(I){var W=T.setPosition,j=I.x+v,z=I.y+m;this.position={x:j,y:z,end:b},(0,t.isFunction)(W)&&W(this.position),C&&(C.style.left="".concat(j,"px"),C.style.top="".concat(z,"px"))}},h.prototype.getContainerEl=function(){var v=this.opts.container;return v?[v]:this.getDocumentEl()},h.prototype.getWindowEl=function(){var v=this.getContainerEl();return v.map(function(m){var b=m.ownerDocument||m;return b.defaultView||b.parentWindow})},h.prototype.getDocumentEl=function(v){var m=this.opts.doc;if(v=v||this.el,!this.docs.length){var b=[document];v&&b.push(v.ownerDocument),m&&b.push(m),this.docs=b}return this.docs},h.prototype.getPointerPos=function(v){var m=this.opts.getPointerPosition,b=(0,r.G2)(v);return m?m(v):{x:b.clientX,y:b.clientY}},h.prototype.getStartPosition=function(){var v=this,m=v.el,b=v.opts,w=b.getPosition,C=s();return(0,t.isFunction)(w)?C=w():m&&(C={x:parseFloat(m.style.left),y:parseFloat(m.style.top)}),C},h.prototype.getScrollInfo=function(){var v=this.opts.doc,m=v&&v.body;return{y:m?m.scrollTop:0,x:m?m.scrollLeft:0}},h.prototype.detectAxisLock=function(v,m){var b=v,w=m,C=Math.abs(b),T=Math.abs(w);if(w>=C||w<=-C)return"x";if(b>T||b<-T)return"y"},h}();let d=u},6411:(i,n,e)=>{e.r(n),e.d(n,{default:()=>Sr});var t=typeof document<"u"?document:null,r=typeof window<"u"?window:null,o=Array.prototype,s=o.filter,c=o.indexOf,u=o.map,d=o.push,h=o.reverse,v=o.slice,m=o.splice,b=/^#[\w-]*$/,w=/^\.[\w-]*$/,C=/<.+>/,T=/^\w+$/;function I(N,J){return J===void 0&&(J=t),w.test(N)?J.getElementsByClassName(N.slice(1)):T.test(N)?J.getElementsByTagName(N):J.querySelectorAll(N)}function W(N,J){if(J===void 0&&(J=t),!!N){if(N.__cash)return N;var se=N;if(U(N)){if(J.__cash&&(J=J[0]),se=b.test(N)?J.getElementById(N.slice(1)):C.test(N)?Pt(N):I(N,J),!se)return}else if(R(N))return this.ready(N);(se.nodeType||se===r)&&(se=[se]),this.length=se.length;for(var ke=0,$e=this.length;ke<$e;ke++)this[ke]=se[ke]}}function j(N,J){return new W(N,J)}var z=j.fn=j.prototype=W.prototype={constructor:j,__cash:!0,length:0,splice:m};z.get=function(N){return N===void 0?v.call(this):this[N<0?N+this.length:N]},z.eq=function(N){return j(this.get(N))},z.first=function(){return this.eq(0)},z.last=function(){return this.eq(-1)},z.map=function(N){return j(u.call(this,function(J,se){return N.call(J,se,J)}))},z.slice=function(){return j(v.apply(this,arguments))};var ue=/(?:^\w|[A-Z]|\b\w)/g,ye=/[\s-_]+/g;function xe(N){return N.replace(ue,function(J,se){return J[se?"toUpperCase":"toLowerCase"]()}).replace(ye,"")}j.camelCase=xe;function le(N,J){for(var se=0,ke=N.length;se<ke&&J.call(N[se],N[se],se,N)!==!1;se++);}j.each=le,z.each=function(N){return le(this,function(J,se){return N.call(J,se,J)}),this},z.removeProp=function(N){return this.each(function(J,se){delete se[N]})};function Y(N){N===void 0&&(N=this);for(var J=arguments,se=J.length,ke=se<2?0:1;ke<se;ke++)for(var $e in J[ke])N[$e]=J[ke][$e];return N}j.extend=z.extend=Y;var oe=1;j.guid=oe;function V(N,J){var se=N&&(N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.msMatchesSelector||N.oMatchesSelector);return!!se&&se.call(N,J)}j.matches=V;function R(N){return typeof N=="function"}j.isFunction=R;function U(N){return typeof N=="string"}j.isString=U;function H(N){return!isNaN(parseFloat(N))&&isFinite(N)}j.isNumeric=H;var te=Array.isArray;j.isArray=te,z.prop=function(N,J){if(N){if(U(N))return arguments.length<2?this[0]&&this[0][N]:this.each(function(ke,$e){$e[N]=J});for(var se in N)this.prop(se,N[se]);return this}};function P(N){return U(N)?function(J,se){return V(se,N)}:N.__cash?function(J,se){return N.is(se)}:function(J,se,ke){return se===ke}}z.filter=function(N){if(!N)return j();var J=R(N)?N:P(N);return j(s.call(this,function(se,ke){return J.call(se,ke,se,N)}))};var ve=/\S+/g;function ge(N){return U(N)?N.match(ve)||[]:[]}z.hasClass=function(N){var J=ge(N),se=!1;return J.length&&this.each(function(ke,$e){return se=$e.classList.contains(J[0]),!se}),se},z.removeAttr=function(N){var J=ge(N);return J.length?this.each(function(se,ke){le(J,function($e){ke.removeAttribute($e)})}):this},z.attr=function(N,J){if(N){if(U(N)){if(arguments.length<2){if(!this[0])return;var se=this[0].getAttribute(N);return se===null?void 0:se}return J===null?this.removeAttr(N):this.each(function($e,lt){lt.setAttribute(N,J)})}for(var ke in N)this.attr(ke,N[ke]);return this}},z.toggleClass=function(N,J){var se=ge(N),ke=J!==void 0;return se.length?this.each(function($e,lt){le(se,function(wt){ke?J?lt.classList.add(wt):lt.classList.remove(wt):lt.classList.toggle(wt)})}):this},z.addClass=function(N){return this.toggleClass(N,!0)},z.removeClass=function(N){return arguments.length?this.toggleClass(N,!1):this.attr("class","")};function De(N){return N.filter(function(J,se,ke){return ke.indexOf(J)===se})}j.unique=De,z.add=function(N,J){return j(De(this.get().concat(j(N,J).get())))};function qe(N,J,se){if(N.nodeType===1){var ke=r.getComputedStyle(N,null);return J?se?ke.getPropertyValue(J):ke[J]:ke}}function Ye(N,J){return parseInt(qe(N,J),10)||0}var ht=/^--/;function be(N){return ht.test(N)}var _e={},Re=t&&t.createElement("div"),Ve=Re?Re.style:{},Be=["webkit","moz","ms","o"];function Ne(N,J){if(J===void 0&&(J=be(N)),J)return N;if(!_e[N]){var se=xe(N),ke=""+se.charAt(0).toUpperCase()+se.slice(1),$e=(se+" "+Be.join(ke+" ")+ke).split(" ");le($e,function(lt){if(lt in Ve)return _e[N]=lt,!1})}return _e[N]}j.prefixedProp=Ne;var nt={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function at(N,J,se){return se===void 0&&(se=be(N)),!se&&!nt[N]&&H(J)?J+"px":J}z.css=function(N,J){if(U(N)){var se=be(N);return N=Ne(N,se),arguments.length<2?this[0]&&qe(this[0],N,se):N?(J=at(N,J,se),this.each(function($e,lt){lt.nodeType===1&&(se?lt.style.setProperty(N,J):lt.style[N]=J)})):this}for(var ke in N)this.css(ke,N[ke]);return this};var re="__cashData",Ce=/^data-(.*)/;j.hasData=function(N){return re in N};function Je(N){return N[re]=N[re]||{}}function He(N,J){var se=Je(N);if(J){if(!(J in se)){var ke=N.dataset?N.dataset[J]||N.dataset[xe(J)]:j(N).attr("data-"+J);if(ke!==void 0){try{ke=JSON.parse(ke)}catch{}se[J]=ke}}return se[J]}return se}function ot(N,J){J===void 0?delete N[re]:delete Je(N)[J]}function gt(N,J,se){Je(N)[J]=se}z.data=function(N,J){var se=this;if(!N)return this[0]?(le(this[0].attributes,function($e){var lt=$e.name.match(Ce);lt&&se.data(lt[1])}),He(this[0])):void 0;if(U(N))return J===void 0?this[0]&&He(this[0],N):this.each(function($e,lt){return gt(lt,N,J)});for(var ke in N)this.data(ke,N[ke]);return this},z.removeData=function(N){return this.each(function(J,se){return ot(se,N)})};function it(N,J){return Ye(N,"border"+(J?"Left":"Top")+"Width")+Ye(N,"padding"+(J?"Left":"Top"))+Ye(N,"padding"+(J?"Right":"Bottom"))+Ye(N,"border"+(J?"Right":"Bottom")+"Width")}le(["Width","Height"],function(N){z["inner"+N]=function(){if(this[0])return this[0]===r?r["inner"+N]:this[0]["client"+N]}}),le(["width","height"],function(N,J){z[N]=function(se){return this[0]?arguments.length?(se=parseInt(se,10),this.each(function(ke,$e){if($e.nodeType===1){var lt=qe($e,"boxSizing");$e.style[N]=at(N,se+(lt==="border-box"?it($e,!J):0))}})):this[0]===r?this[0][xe("outer-"+N)]:this[0].getBoundingClientRect()[N]-it(this[0],!J):se===void 0?void 0:this}}),le(["Width","Height"],function(N,J){z["outer"+N]=function(se){if(this[0])return this[0]===r?r["outer"+N]:this[0]["offset"+N]+(se?Ye(this[0],"margin"+(J?"Top":"Left"))+Ye(this[0],"margin"+(J?"Bottom":"Right")):0)}});function k(N,J){for(var se=0,ke=J.length;se<ke;se++)if(N.indexOf(J[se])<0)return!1;return!0}function F(N,J,se){le(N[se],function(ke){var $e=ke[0],lt=ke[1];J.removeEventListener(se,lt)}),delete N[se]}var K="__cashEvents",ie=".";function me(N){return N[K]=N[K]||{}}function $(N,J,se,ke){ke.guid=ke.guid||oe++;var $e=me(N);$e[J]=$e[J]||[],$e[J].push([se,ke]),N.addEventListener(J,ke)}function de(N){var J=N.split(ie);return[J[0],J.slice(1).sort()]}function ae(N,J,se,ke){var $e=me(N);if(J){var lt=$e[J];if(!lt)return;ke&&(ke.guid=ke.guid||oe++),$e[J]=lt.filter(function(wt){var mr=wt[0],Kt=wt[1];if(ke&&Kt.guid!==ke.guid||!k(mr,se))return!0;N.removeEventListener(J,Kt)})}else if(!se||!se.length)for(J in $e)F($e,N,J);else for(J in $e)ae(N,J,se,ke)}z.off=function(N,J){var se=this;return N===void 0?this.each(function(ke,$e){return ae($e)}):le(ge(N),function(ke){var $e=de(ke),lt=$e[0],wt=$e[1];se.each(function(mr,Kt){return ae(Kt,lt,wt,J)})}),this},z.on=function(N,J,se,ke){var $e=this;if(!U(N)){for(var lt in N)this.on(lt,J,N[lt]);return this}return R(J)&&(se=J,J=!1),le(ge(N),function(wt){var mr=de(wt),Kt=mr[0],Xt=mr[1];$e.each(function(_n,Or){var Zt=function Bn(Gt){if(!(Gt.namespace&&!k(Xt,Gt.namespace.split(ie)))){var Jt=Or;if(J){for(var or=Gt.target;!V(or,J);)if(or===Or||(or=or.parentNode,!or))return;Jt=or}Gt.namespace=Gt.namespace||"";var wn=se.call(Jt,Gt,Gt.data);ke&&ae(Or,Kt,Xt,Bn),wn===!1&&(Gt.preventDefault(),Gt.stopPropagation())}};Zt.guid=se.guid=se.guid||oe++,$(Or,Kt,Xt,Zt)})}),this},z.one=function(N,J,se){return this.on(N,J,se,!0)},z.ready=function(N){var J=function(){return N(j)};return t.readyState!=="loading"?setTimeout(J):t.addEventListener("DOMContentLoaded",J),this},z.trigger=function(N,J){var se=N;if(U(N)){var ke=de(N),$e=ke[0],lt=ke[1];se=t.createEvent("HTMLEvents"),se.initEvent($e,!0,!0),se.namespace=lt.join(ie)}return se.data=J,this.each(function(wt,mr){mr.dispatchEvent(se)})};function rt(N){var J=[];return le(N.options,function(se){se.selected&&!se.disabled&&!se.parentNode.disabled&&J.push(se.value)}),J}function Ct(N){return N.selectedIndex<0?null:N.options[N.selectedIndex].value}var yt=/select-one/i,B=/select-multiple/i;function ee(N){var J=N.type;return yt.test(J)?Ct(N):B.test(J)?rt(N):N.value}var D=/%20/g;function Oe(N,J){return"&"+encodeURIComponent(N)+"="+encodeURIComponent(J).replace(D,"+")}var he=/file|reset|submit|button|image/i,Me=/radio|checkbox/i;z.serialize=function(){var N="";return this.each(function(J,se){le(se.elements||[se],function(ke){if(!(ke.disabled||!ke.name||ke.tagName==="FIELDSET")&&!he.test(ke.type)&&!(Me.test(ke.type)&&!ke.checked)){var $e=ee(ke);if($e!==void 0){var lt=te($e)?$e:[$e];le(lt,function(wt){N+=Oe(ke.name,wt)})}}})}),N.substr(1)},z.val=function(N){return N===void 0?this[0]&&ee(this[0]):this.each(function(J,se){var ke=B.test(se.type),$e=N===null?ke?[]:"":N;ke&&te($e)?le(se.options,function(lt){lt.selected=$e.indexOf(lt.value)>=0}):se.value=$e})},z.clone=function(){return this.map(function(N,J){return J.cloneNode(!0)})},z.detach=function(){return this.each(function(N,J){J.parentNode&&J.parentNode.removeChild(J)})};var Ze=/^\s*<(\w+)[^>]*>/,Xe=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,ze;function st(){if(!ze){var N=t.createElement("table"),J=t.createElement("tr");ze={"*":t.createElement("div"),tr:t.createElement("tbody"),td:J,th:J,thead:N,tbody:N,tfoot:N}}}function Pt(N){if(st(),!U(N))return[];if(Xe.test(N))return[t.createElement(RegExp.$1)];var J=Ze.test(N)&&RegExp.$1,se=ze[J]||ze["*"];return se.innerHTML=N,j(se.childNodes).detach().get()}j.parseHTML=Pt,z.empty=function(){var N=this[0];if(N)for(;N.firstChild;)N.removeChild(N.firstChild);return this};function Lt(N,J,se){se?N.insertBefore(J,N.childNodes[0]):N.appendChild(J)}function Dt(N,J,se){if(J!==void 0){var ke=U(J);!ke&&J.length?le(J,function($e){return Dt(N,$e,se)}):le(N,ke?function($e){$e.insertAdjacentHTML(se?"afterbegin":"beforeend",J)}:function($e,lt){return Lt($e,lt?J.cloneNode(!0):J,se)})}}z.append=function(){var N=this;return le(arguments,function(J){Dt(N,J)}),this},z.appendTo=function(N){return Dt(j(N),this),this},z.html=function(N){if(N===void 0)return this[0]&&this[0].innerHTML;var J=N.nodeType?N[0].outerHTML:N;return this.each(function(se,ke){ke.innerHTML=J})},z.insertAfter=function(N){var J=this;return j(N).each(function(se,ke){var $e=ke.parentNode;J.each(function(lt,wt){$e.insertBefore(se?wt.cloneNode(!0):wt,ke.nextSibling)})}),this},z.after=function(){var N=this;return le(h.apply(arguments),function(J){h.apply(j(J).slice()).insertAfter(N)}),this},z.insertBefore=function(N){var J=this;return j(N).each(function(se,ke){var $e=ke.parentNode;J.each(function(lt,wt){$e.insertBefore(se?wt.cloneNode(!0):wt,ke)})}),this},z.before=function(){var N=this;return le(arguments,function(J){j(J).insertBefore(N)}),this},z.prepend=function(){var N=this;return le(arguments,function(J){Dt(N,J,!0)}),this},z.prependTo=function(N){return Dt(j(N),h.apply(this.slice()),!0),this},z.remove=function(){return this.detach().off()},z.replaceWith=function(N){var J=this;return this.each(function(se,ke){var $e=ke.parentNode;if($e){var lt=se?j(N).clone():j(N);if(!lt[0])return J.remove(),!1;$e.replaceChild(lt[0],ke),j(lt[0]).after(lt.slice(1))}})},z.replaceAll=function(N){return j(N).replaceWith(this),this},z.text=function(N){return N===void 0?this[0]?this[0].textContent:"":this.each(function(J,se){se.textContent=N})};var nr=t&&t.documentElement;z.offset=function(){var N=this[0];if(N){var J=N.getBoundingClientRect();return{top:J.top+r.pageYOffset-nr.clientTop,left:J.left+r.pageXOffset-nr.clientLeft}}},z.offsetParent=function(){return j(this[0]&&this[0].offsetParent)},z.position=function(){var N=this[0];if(N)return{left:N.offsetLeft,top:N.offsetTop}},z.children=function(N){var J=[];return this.each(function(se,ke){d.apply(J,ke.children)}),J=j(De(J)),N?J.filter(function(se,ke){return V(ke,N)}):J},z.contents=function(){var N=[];return this.each(function(J,se){d.apply(N,se.tagName==="IFRAME"?[se.contentDocument]:se.childNodes)}),j(N.length&&De(N))},z.find=function(N){for(var J=[],se=0,ke=this.length;se<ke;se++){var $e=I(N,this[se]);$e.length&&d.apply(J,$e)}return j(J.length&&De(J))},z.has=function(N){var J=U(N)?function(se,ke){return!!I(N,ke).length}:function(se,ke){return ke.contains(N)};return this.filter(J)},z.is=function(N){if(!N||!this[0])return!1;var J=P(N),se=!1;return this.each(function(ke,$e){return se=J(ke,$e,N),!se}),se},z.next=function(){return j(this[0]&&this[0].nextElementSibling)},z.not=function(N){if(!N||!this[0])return this;var J=P(N);return this.filter(function(se,ke){return!J(se,ke,N)})},z.parent=function(){var N=[];return this.each(function(J,se){se&&se.parentNode&&N.push(se.parentNode)}),j(De(N))},z.index=function(N){var J=N?j(N)[0]:this[0],se=N?this:j(J).parent().children();return c.call(se,J)},z.closest=function(N){return!N||!this[0]?j():this.is(N)?this.filter(N):this.parent().closest(N)},z.parents=function(N){var J=[],se;return this.each(function(ke,$e){for(se=$e;se&&se.parentNode&&se!==t.body.parentNode;)se=se.parentNode,(!N||N&&V(se,N))&&J.push(se)}),j(De(J))},z.prev=function(){return j(this[0]&&this[0].previousElementSibling)},z.siblings=function(){var N=this[0];return this.parent().children().filter(function(J,se){return se!==N})};let Sr=j},2097:(i,n,e)=>{e.d(n,{AU:()=>ht,BC:()=>W,C8:()=>oe,Ch:()=>U,Ci:()=>P,D8:()=>u,G2:()=>H,GW:()=>Y,GZ:()=>z,I6:()=>m,LJ:()=>De,Sc:()=>I,X6:()=>b,Xy:()=>V,YZ:()=>h,ZQ:()=>d,a_:()=>j,af:()=>ye,bG:()=>T,cx:()=>v,ir:()=>xe,kk:()=>qe,on:()=>Ye,rp:()=>ge,v$:()=>te,yL:()=>ue,zN:()=>w});var t=e(5706),r=function(be,_e,Re){if(Re||arguments.length===2)for(var Ve=0,Be=_e.length,Ne;Ve<Be;Ve++)(Ne||!(Ve in _e))&&(Ne||(Ne=Array.prototype.slice.call(_e,0,Ve)),Ne[Ve]=_e[Ve]);return be.concat(Ne||Array.prototype.slice.call(_e))},o="tag",s="attributes",c="children",u="transitionend oTransitionEnd transitionend webkitTransitionEnd",d=function(be){return be?.nodeType===Node.DOCUMENT_NODE},h=function(be){var _e=be&&be.parentNode;_e&&_e.removeChild(be)};function v(){for(var be=[],_e=0;_e<arguments.length;_e++)be[_e]=arguments[_e];var Re=Array.isArray(be[0])?be[0]:r([],be,!0);return Re.filter(Boolean).join(" ")}var m=function(be,_e){return be.querySelectorAll(_e)},b=function(be,_e){return _e===void 0&&(_e={}),be&&be.setAttribute&&(0,t.each)(_e,function(Re,Ve){return be.setAttribute(Ve,Re)})},w=function(be){var _e;return be&&!!(be.offsetWidth||be.offsetHeight||!((_e=be.getClientRects)===null||_e===void 0)&&_e.call(be).length)},C=function(be){for(;be.firstChild;)be.removeChild(be.firstChild)},T=function(be,_e){var Re;(Re=be.parentNode)===null||Re===void 0||Re.replaceChild(_e,be)},I=function(be,_e,Re){var Ve=be.childNodes,Be=Ve.length,Ne=(0,t.isUndefined)(Re)?Be:Re;(0,t.isString)(_e)&&(be.insertAdjacentHTML("beforeEnd",_e),_e=be.lastChild,be.removeChild(_e)),Ne>=Be?be.appendChild(_e):be.insertBefore(_e,Ve[Ne])},W=function(be,_e){return I(be,_e)},j=function(be,_e,Re){_e===void 0&&(_e={});var Ve=document.createElement(be);return _e&&(0,t.each)(_e,function(Be,Ne){return Ve.setAttribute(Ne,Be)}),Re&&((0,t.isString)(Re)?Ve.innerHTML=Re:Ve.appendChild(Re)),Ve},z=function(be){return document.createTextNode(be)},ue=function(be,_e){var Re,Ve=be.type;try{Re=new window[_e](Ve,be)}catch{Re=document.createEvent(_e),Re.initEvent(Ve,!0,!0)}return Re._parentEvent=be,Ve.indexOf("key")===0&&(Re.keyCodeVal=be.keyCode,["keyCode","which"].forEach(function(Be){Object.defineProperty(Re,Be,{get:function(){return this.keyCodeVal}})})),Re},ye=function(be,_e){_e===void 0&&(_e=[]);var Re=Array.isArray(_e)?_e:[_e];Re.forEach(function(Ve){var Be=Ve[o]||"div",Ne=Ve[s]||{},nt=document.createElement(Be);(0,t.each)(Ne,function(at,re){nt.setAttribute(re,at)}),be.appendChild(nt)})},xe=function(be){return be?.nodeType===Node.TEXT_NODE},le=function(be){return be?.nodeType===Node.COMMENT_NODE},Y=function(be){return be&&!xe(be)&&!le(be)},oe=function(be){var _e={top:0,left:0,width:0,height:0};if(!be)return _e;var Re;if(xe(be)){var Ve=document.createRange();Ve.selectNode(be),Re=Ve.getBoundingClientRect(),Ve.detach()}return Re||(be.getBoundingClientRect?be.getBoundingClientRect():_e)},V=function(be){var _e=be?.ownerDocument||document,Re=_e.documentElement,Ve=_e.defaultView||window;return{x:(Ve.pageXOffset||Re.scrollLeft||0)-(Re.clientLeft||0),y:(Ve.pageYOffset||Re.scrollTop||0)-(Re.clientTop||0)}},R=function(be){return be.which||be.keyCode},U=function(be){return String.fromCharCode(R(be))},H=function(be){return be.touches&&be.touches[0]?be.touches[0]:be},te=function(be){return R(be)===27},P=function(be){return R(be)===13},ve=function(be){return be.ctrlKey},ge=function(be){return ve(be)||be.metaKey},De=function(be){if(!be)return"";var _e=be.name,Re=be.publicId,Ve=be.systemId,Be=Re?' PUBLIC "'.concat(Re,'"'):"",Ne=!Re&&Ve?' SYSTEM "'.concat(Ve,'"'):"";return"<!DOCTYPE ".concat(_e).concat(Be).concat(Ne,">")},qe=function(be){be===void 0&&(be={});var _e=[];return(0,t.each)(be,function(Re,Ve){return _e.push("".concat(Ve,'="').concat(Re,'"'))}),_e.join(" ")},Ye=function(be,_e,Re,Ve){var Be=_e.split(/\s+/),Ne=(0,t.isArray)(be)?be:[be];Be.forEach(function(nt){Ne.forEach(function(at){return at?.addEventListener(nt,Re,Ve)})})},ht=function(be,_e,Re,Ve){var Be=_e.split(/\s+/),Ne=(0,t.isArray)(be)?be:[be];Be.forEach(function(nt){Ne.forEach(function(at){return at?.removeEventListener(nt,Re,Ve)})})}},9195:(i,n,e)=>{e.r(n),e.d(n,{appendStyles:()=>xe,buildBase64UrlFromSvg:()=>at,camelCase:()=>V,capitalize:()=>ht,createId:()=>nt,deepMerge:()=>ge,escape:()=>P,escapeNodeContent:()=>ve,find:()=>te,get:()=>m,getComponentModel:()=>Be,getComponentView:()=>Ve,getElement:()=>H,getGlobal:()=>W,getModel:()=>De,getUiClass:()=>ye,getUnitFromValue:()=>Y,getViewEl:()=>_e,hasDnd:()=>U,hasWin:()=>I,isBultInMethod:()=>b,isComponent:()=>Re,isDef:()=>T,isEmptyObj:()=>Ye,isObject:()=>qe,isRule:()=>be,matches:()=>ue,normalizeFloat:()=>R,normalizeKey:()=>w,setViewEl:()=>Ne,shallowDiff:()=>le,stringToPath:()=>h,toLowerCase:()=>j,upFirst:()=>oe,wait:()=>C});var t=e(5706),r=e(2097),o=function(){return o=Object.assign||function(re){for(var Ce,Je=1,He=arguments.length;Je<He;Je++){Ce=arguments[Je];for(var ot in Ce)Object.prototype.hasOwnProperty.call(Ce,ot)&&(re[ot]=Ce[ot])}return re},o.apply(this,arguments)},s=function(re,Ce,Je){if(Je||arguments.length===2)for(var He=0,ot=Ce.length,gt;He<ot;He++)(gt||!(He in Ce))&&(gt||(gt=Array.prototype.slice.call(Ce,0,He)),gt[He]=Ce[He]);return re.concat(gt||Array.prototype.slice.call(Ce))},c={},u=/\\(\\)?/g,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=function(re){var Ce=[];return re.charCodeAt(0)===46&&Ce.push(""),re.replace(d,function(Je,He,ot,gt){return Ce.push(ot?gt.replace(u,"$1"):He||Je),""}),Ce};function v(re,Ce){return(0,t.isArray)(re)?re:Ce.hasOwnProperty(re)?[re]:h(re)}var m=function(re,Ce,Je){for(var He,ot=v(Ce,re),gt=ot.length,it=0;re!=null&&it<gt;)re=re["".concat(ot[it++])];return(He=it&&it==gt?re:void 0)!==null&&He!==void 0?He:Je},b=function(re){return(0,t.isFunction)(c[re])},w=function(re){return b(re)?"_".concat(re):re},C=function(re){return re===void 0&&(re=0),new Promise(function(Ce){return setTimeout(Ce,re)})},T=function(re){return typeof re<"u"},I=function(){return typeof window<"u"},W=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:e.g},j=function(re){return(re||"").toLowerCase()},z=I()?window.Element.prototype:{},ue=z.matches||z.webkitMatchesSelector||z.mozMatchesSelector||z.msMatchesSelector,ye=function(re,Ce){var Je=re.getConfig(),He=Je.stylePrefix,ot=Je.customUI;return[ot&&"".concat(He,"cui"),Ce].filter(function(gt){return gt}).join(" ")},xe=function(re,Ce){Ce===void 0&&(Ce={});var Je=(0,t.isArray)(re)?s([],re,!0):[re];if(Je.length){var He=Je.shift();if(He&&(!Ce.unique||!document.querySelector('link[href="'.concat(He,'"]')))){var ot=document.head,gt=document.createElement("link");gt.href=He,gt.rel="stylesheet",Ce.prepand?ot.insertBefore(gt,ot.firstChild):ot.appendChild(gt)}xe(Je)}},le=function(re,Ce){var Je={},He=(0,t.keys)(Ce);for(var ot in re)if(re.hasOwnProperty(ot)){var gt=re[ot],it=Ce[ot];He.indexOf(ot)>=0?gt!==it&&(Je[ot]=it):Je[ot]=null}for(var ot in Ce)Ce.hasOwnProperty(ot)&&(0,t.isUndefined)(re[ot])&&(Je[ot]=Ce[ot]);return Je},Y=function(re){return re.replace(parseFloat(re),"")},oe=function(re){return re[0].toUpperCase()+re.toLowerCase().slice(1)},V=function(re){return re.replace(/-./g,function(Ce){return Ce[1].toUpperCase()})},R=function(re,Ce,Je){Ce===void 0&&(Ce=1),Je===void 0&&(Je=0);var He=0;if(isNaN(re))return Je;if(re=parseFloat(re),Math.floor(re)!==re){var ot=Ce.toString().split(".")[1];He=ot?ot.length:0}return He?parseFloat(re.toFixed(He)):re},U=function(re){return"draggable"in document.createElement("i")&&(re?re.config.nativeDnD:!0)},H=function(re){if((0,t.isElement)(re)||(0,r.ir)(re))return re;if(re&&re.getEl)return re.getEl()},te=function(re,Ce){var Je=null;return re.some(function(He,ot){return Ce(He,ot,re)?(Je=He,1):0}),Je},P=function(re){return re===void 0&&(re=""),"".concat(re).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},ve=function(re){return re===void 0&&(re=""),"".concat(re).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},ge=function(){for(var re=[],Ce=0;Ce<arguments.length;Ce++)re[Ce]=arguments[Ce];for(var Je=o({},re[0]),He=1;He<re.length;He++){var ot=o({},re[He]);for(var gt in ot){var it=Je[gt],k=ot[gt];qe(it)&&qe(k)?Je[gt]=ge(it,k):Je[gt]=k}}return Je},De=function(re,Ce){var Je;return!Ce&&re&&re.__cashData?Je=re.__cashData.model:Ce&&(0,t.isElement)(re)&&(Je=Ce(re).data("model")),Je},qe=function(re){return re&&!Array.isArray(re)&&typeof re=="object"},Ye=function(re){return Object.keys(re).length<=0},ht=function(re){return re===void 0&&(re=""),re&&re.charAt(0).toUpperCase()+re.substring(1)},be=function(re){return re&&re.toCSS},_e=function(re){return re?.__gjsv},Re=function(re){return!!re?.toHTML},Ve=function(re){return _e(re)},Be=function(re){var Ce;return(Ce=Ve(re))===null||Ce===void 0?void 0:Ce.model},Ne=function(re,Ce){re.__gjsv=Ce},nt=function(re){re===void 0&&(re=16);for(var Ce="",Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",He=Je.length,ot=0;ot<re;ot++)Ce+=Je.charAt(Math.floor(Math.random()*He));return Ce},at=function(re){if(re&&re.substr(0,4)==="<svg"){var Ce="";return I()?Ce=window.btoa(re):typeof Buffer<"u"&&(Ce=Buffer.from(re,"utf8").toString("base64")),Ce?"data:image/svg+xml;base64,".concat(Ce):re}return re}},3253:(i,n,e)=>{e.d(n,{h:()=>o});var t=e(3161),r=function(){var c=function(u,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(h[m]=v[m])},c(u,d)};return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),o=function(c){r(u,c);function u(){var d=c!==null&&c.apply(this,arguments)||this;return d.displayCache=new Map,d}return u.prototype.getChildren=function(){return this.getDisplayedChildren()},u.prototype.getDisplayedChildren=function(){var d=this,h=this.model.components(),v=h.filter(function(m){return d.isChildDisplayed(m)});return v.map(function(m){return new d.constructor(m)})},u.prototype.isChildDisplayed=function(d){if(this.displayCache.has(d))return this.displayCache.get(d);var h=d.getEl(),v=s(h);return this.displayCache.set(d,v),v},u.prototype.getParent=function(){var d=this.model.parent();return d?new this.constructor(d):null},u.prototype.addChildAt=function(d,h,v){var m,b,w,C,T,I,W,j;v===void 0&&(v={action:"add-component"});var z=((b=(m=this.model)===null||m===void 0?void 0:m.isInstanceOf)===null||b===void 0?void 0:b.call(m,"text"))&&((C=(w=d?.model)===null||w===void 0?void 0:w.get)===null||C===void 0?void 0:C.call(w,"textable"));if(z)return(j=(W=(I=(T=this.model)===null||T===void 0?void 0:T.getView)===null||I===void 0?void 0:I.call(T))===null||W===void 0?void 0:W.insertComponent)===null||j===void 0?void 0:j.call(W,d?.model,{action:v.action});var ue=this.model.components().add(d.model,{at:this.getRealIndex(h),action:v.action});return new this.constructor(ue)},u.prototype.removeChildAt=function(d,h){h===void 0&&(h={temporary:!1});var v=this.model.components().at(this.getRealIndex(d));v&&this.model.components().remove(v,h)},u.prototype.indexOfChild=function(d){return this.getDisplayIndex(d)},u.prototype.getDisplayIndex=function(d){var h=this.getDisplayedChildren();return h?h.findIndex(function(v){return v.model===d.model}):-1},u.prototype.getRealIndex=function(d){if(d===-1)return-1;for(var h=0,v=this.model.components(),m=0;m<v.length;m++){var b=v.at(m),w=this.isChildDisplayed(b);if(w&&h++,h===d+1)return m}return-1},u.prototype.canMove=function(d,h){return this.model.em.Components.canMove(this.model,d.model,this.getRealIndex(h)).result},u.prototype.restNodeState=function(){this.clearState();var d=this.model;this.setContentEditable(!1),d.em.getEditing()===d&&this.disableEditing()},u.prototype.setContentEditable=function(d){this.element&&this.isTextNode()&&(this.element.contentEditable=d?"true":"false")},u.prototype.disableEditing=function(){var d,h;(h=(d=this.view)===null||d===void 0?void 0:d.disableEditing)===null||h===void 0||h.call(d)},u.prototype.clearState=function(){var d,h;(h=(d=this.model).set)===null||h===void 0||h.call(d,"status","")},u.prototype.setSelectedParentState=function(){var d,h;(h=(d=this.model).set)===null||h===void 0||h.call(d,"status","selected-parent")},u.prototype.isTextNode=function(){var d,h;return(h=(d=this.model).isInstanceOf)===null||h===void 0?void 0:h.call(d,"text")},u.prototype.isTextable=function(){var d,h;return(h=(d=this.model).get)===null||h===void 0?void 0:h.call(d,"textable")},u}(t.$);function s(c){return c?typeof c=="object"&&c.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(c).display!=="none"&&c.offsetWidth>0&&c.offsetHeight>0:!1}},6778:(i,n,e)=>{e.d(n,{A:()=>s});var t=e(3253),r=function(){var c=function(u,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(h[m]=v[m])},c(u,d)};return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),o=function(c){r(u,c);function u(){var d=c!==null&&c.apply(this,arguments)||this;return d._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},d}return Object.defineProperty(u.prototype,"view",{get:function(){var d,h;return(h=(d=this.model).getView)===null||h===void 0?void 0:h.call(d)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"element",{get:function(){var d,h;return(h=(d=this.model).getEl)===null||h===void 0?void 0:h.call(d)},enumerable:!1,configurable:!0}),u}(t.h);let s=o},3161:(i,n,e)=>{e.d(n,{$:()=>t});var t=function(){function r(o,s){s===void 0&&(s={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=o,this._dragSource=s}return Object.defineProperty(r.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropArea",{get:function(){var o,s;return this.getParent()?(s=this.nodeDimensions)===null||s===void 0?void 0:s.getDropArea(this._dropAreaConfig):(o=this.nodeDimensions)===null||o===void 0?void 0:o.clone()},enumerable:!1,configurable:!0}),r.prototype.isWithinDropBounds=function(o,s){return!!this.dropArea&&this.dropArea.isWithinBounds(o,s)},r.prototype.equals=function(o){return!!o?._model&&this._model===o._model},r.prototype.adjustDimensions=function(o){var s,c;o.topDifference===0&&o.leftDifference===0||((s=this.nodeDimensions)===null||s===void 0||s.adjustDimensions(o),(c=this.childrenDimensions)===null||c===void 0||c.forEach(function(u){return u.adjustDimensions(o)}))},r}()},2128:(i,n,e)=>{e.d(n,{A:()=>t});var t=function(r){return r.Vertical="Vertical",r.Horizontal="Horizontal",r.BothDirections="BothDirections",r}(t||{})},585:(i,n,e)=>{var t={"./CanvasClear":371,"./CanvasClear.ts":371,"./CanvasMove":6301,"./CanvasMove.ts":6301,"./CommandAbstract":5301,"./CommandAbstract.ts":5301,"./ComponentDelete":8542,"./ComponentDelete.ts":8542,"./ComponentDrag":1319,"./ComponentDrag.ts":1319,"./ComponentEnter":1859,"./ComponentEnter.ts":1859,"./ComponentExit":3709,"./ComponentExit.ts":3709,"./ComponentNext":2860,"./ComponentNext.ts":2860,"./ComponentPrev":4944,"./ComponentPrev.ts":4944,"./ComponentStyleClear":767,"./ComponentStyleClear.ts":767,"./CopyComponent":2126,"./CopyComponent.ts":2126,"./ExportTemplate":4860,"./ExportTemplate.ts":4860,"./Fullscreen":1085,"./Fullscreen.ts":1085,"./MoveComponent":9622,"./MoveComponent.ts":9622,"./OpenAssets":8481,"./OpenAssets.ts":8481,"./OpenBlocks":3666,"./OpenBlocks.ts":3666,"./OpenLayers":5838,"./OpenLayers.ts":5838,"./OpenStyleManager":8692,"./OpenStyleManager.ts":8692,"./OpenTraitManager":9163,"./OpenTraitManager.ts":9163,"./PasteComponent":9298,"./PasteComponent.ts":9298,"./Preview":8594,"./Preview.ts":8594,"./Resize":7604,"./Resize.ts":7604,"./SelectComponent":4596,"./SelectComponent.ts":4596,"./SelectPosition":2983,"./SelectPosition.ts":2983,"./ShowOffset":9490,"./ShowOffset.ts":9490,"./SwitchVisibility":1396,"./SwitchVisibility.ts":1396};function r(s){var c=o(s);return e(c)}function o(s){if(!e.o(t,s)){var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}return t[s]}r.keys=function(){return Object.keys(t)},r.resolve=o,i.exports=r,r.id=585},5706:(i,n,e)=>{e.r(n),e.d(n,{VERSION:()=>r,after:()=>no,all:()=>yo,allKeys:()=>ze,any:()=>hi,assign:()=>Zt,before:()=>pi,bind:()=>Wo,bindAll:()=>di,chain:()=>Hi,chunk:()=>oo,clone:()=>wn,collect:()=>sr,compact:()=>Rl,compose:()=>zn,constant:()=>it,contains:()=>Mr,countBy:()=>Ml,create:()=>or,debounce:()=>ro,default:()=>Go,defaults:()=>Bn,defer:()=>Kr,delay:()=>vo,detect:()=>ct,difference:()=>Cs,drop:()=>Mo,each:()=>pt,escape:()=>Le,every:()=>yo,extend:()=>Or,extendOwn:()=>Zt,filter:()=>Hr,find:()=>ct,findIndex:()=>mo,findKey:()=>Cn,findLastIndex:()=>Uo,findWhere:()=>Tt,first:()=>vi,flatten:()=>ws,foldl:()=>Sn,foldr:()=>Dr,forEach:()=>pt,functions:()=>Xt,get:()=>fr,groupBy:()=>Dl,has:()=>en,head:()=>vi,identity:()=>Vt,include:()=>Mr,includes:()=>Mr,indexBy:()=>ys,indexOf:()=>$n,initial:()=>lr,inject:()=>Sn,intersection:()=>Nl,invert:()=>Kt,invoke:()=>kl,isArguments:()=>He,isArray:()=>re,isArrayBuffer:()=>Ye,isBoolean:()=>R,isDataView:()=>at,isDate:()=>ve,isElement:()=>U,isEmpty:()=>B,isEqual:()=>Xe,isError:()=>De,isFinite:()=>ot,isFunction:()=>_e,isMap:()=>se,isMatch:()=>ee,isNaN:()=>gt,isNull:()=>oe,isNumber:()=>P,isObject:()=>Y,isRegExp:()=>ge,isSet:()=>$e,isString:()=>te,isSymbol:()=>qe,isTypedArray:()=>de,isUndefined:()=>V,isWeakMap:()=>ke,isWeakSet:()=>lt,iteratee:()=>St,keys:()=>yt,last:()=>mi,lastIndexOf:()=>dt,map:()=>sr,mapObject:()=>Vn,matcher:()=>Qe,matches:()=>Qe,max:()=>vs,memoize:()=>Wi,methods:()=>Xt,min:()=>ms,mixin:()=>$i,negate:()=>fi,noop:()=>Hn,now:()=>M,object:()=>Fl,omit:()=>gi,once:()=>Un,pairs:()=>mr,partial:()=>go,partition:()=>bs,pick:()=>_s,pluck:()=>_a,property:()=>Tr,propertyOf:()=>Ae,random:()=>an,range:()=>_i,reduce:()=>Sn,reduceRight:()=>Dr,reject:()=>On,rest:()=>Mo,restArguments:()=>le,result:()=>Vi,sample:()=>wa,select:()=>Hr,shuffle:()=>Pl,size:()=>Ll,some:()=>hi,sortBy:()=>Al,sortedIndex:()=>$o,tail:()=>Mo,take:()=>vi,tap:()=>Nt,template:()=>Do,templateSettings:()=>Mt,throttle:()=>zi,times:()=>mt,toArray:()=>Ko,toPath:()=>Qr,transpose:()=>bi,unescape:()=>Et,union:()=>Il,uniq:()=>yi,unique:()=>yi,uniqueId:()=>Vo,unzip:()=>bi,values:()=>wt,where:()=>El,without:()=>Sa,wrap:()=>Er,zip:()=>xs});var t={};e.r(t),e.d(t,{VERSION:()=>r,after:()=>no,all:()=>yo,allKeys:()=>ze,any:()=>hi,assign:()=>Zt,before:()=>pi,bind:()=>Wo,bindAll:()=>di,chain:()=>Hi,chunk:()=>oo,clone:()=>wn,collect:()=>sr,compact:()=>Rl,compose:()=>zn,constant:()=>it,contains:()=>Mr,countBy:()=>Ml,create:()=>or,debounce:()=>ro,default:()=>jl,defaults:()=>Bn,defer:()=>Kr,delay:()=>vo,detect:()=>ct,difference:()=>Cs,drop:()=>Mo,each:()=>pt,escape:()=>Le,every:()=>yo,extend:()=>Or,extendOwn:()=>Zt,filter:()=>Hr,find:()=>ct,findIndex:()=>mo,findKey:()=>Cn,findLastIndex:()=>Uo,findWhere:()=>Tt,first:()=>vi,flatten:()=>ws,foldl:()=>Sn,foldr:()=>Dr,forEach:()=>pt,functions:()=>Xt,get:()=>fr,groupBy:()=>Dl,has:()=>en,head:()=>vi,identity:()=>Vt,include:()=>Mr,includes:()=>Mr,indexBy:()=>ys,indexOf:()=>$n,initial:()=>lr,inject:()=>Sn,intersection:()=>Nl,invert:()=>Kt,invoke:()=>kl,isArguments:()=>He,isArray:()=>re,isArrayBuffer:()=>Ye,isBoolean:()=>R,isDataView:()=>at,isDate:()=>ve,isElement:()=>U,isEmpty:()=>B,isEqual:()=>Xe,isError:()=>De,isFinite:()=>ot,isFunction:()=>_e,isMap:()=>se,isMatch:()=>ee,isNaN:()=>gt,isNull:()=>oe,isNumber:()=>P,isObject:()=>Y,isRegExp:()=>ge,isSet:()=>$e,isString:()=>te,isSymbol:()=>qe,isTypedArray:()=>de,isUndefined:()=>V,isWeakMap:()=>ke,isWeakSet:()=>lt,iteratee:()=>St,keys:()=>yt,last:()=>mi,lastIndexOf:()=>dt,map:()=>sr,mapObject:()=>Vn,matcher:()=>Qe,matches:()=>Qe,max:()=>vs,memoize:()=>Wi,methods:()=>Xt,min:()=>ms,mixin:()=>$i,negate:()=>fi,noop:()=>Hn,now:()=>M,object:()=>Fl,omit:()=>gi,once:()=>Un,pairs:()=>mr,partial:()=>go,partition:()=>bs,pick:()=>_s,pluck:()=>_a,property:()=>Tr,propertyOf:()=>Ae,random:()=>an,range:()=>_i,reduce:()=>Sn,reduceRight:()=>Dr,reject:()=>On,rest:()=>Mo,restArguments:()=>le,result:()=>Vi,sample:()=>wa,select:()=>Hr,shuffle:()=>Pl,size:()=>Ll,some:()=>hi,sortBy:()=>Al,sortedIndex:()=>$o,tail:()=>Mo,take:()=>vi,tap:()=>Nt,template:()=>Do,templateSettings:()=>Mt,throttle:()=>zi,times:()=>mt,toArray:()=>Ko,toPath:()=>Qr,transpose:()=>bi,unescape:()=>Et,union:()=>Il,uniq:()=>yi,unique:()=>yi,uniqueId:()=>Vo,unzip:()=>bi,values:()=>wt,where:()=>El,without:()=>Sa,wrap:()=>Er,zip:()=>xs});var r="1.13.1",o=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,c=Object.prototype,u=typeof Symbol<"u"?Symbol.prototype:null,d=s.push,h=s.slice,v=c.toString,m=c.hasOwnProperty,b=typeof ArrayBuffer<"u",w=typeof DataView<"u",C=Array.isArray,T=Object.keys,I=Object.create,W=b&&ArrayBuffer.isView,j=isNaN,z=isFinite,ue=!{toString:null}.propertyIsEnumerable("toString"),ye=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],xe=Math.pow(2,53)-1;function le(O,L){return L=L==null?O.length-1:+L,function(){for(var q=Math.max(arguments.length-L,0),Q=Array(q),pe=0;pe<q;pe++)Q[pe]=arguments[pe+L];switch(L){case 0:return O.call(this,Q);case 1:return O.call(this,arguments[0],Q);case 2:return O.call(this,arguments[0],arguments[1],Q)}var ce=Array(L+1);for(pe=0;pe<L;pe++)ce[pe]=arguments[pe];return ce[L]=Q,O.apply(this,ce)}}function Y(O){var L=typeof O;return L==="function"||L==="object"&&!!O}function oe(O){return O===null}function V(O){return O===void 0}function R(O){return O===!0||O===!1||v.call(O)==="[object Boolean]"}function U(O){return!!(O&&O.nodeType===1)}function H(O){var L="[object "+O+"]";return function(q){return v.call(q)===L}}let te=H("String"),P=H("Number"),ve=H("Date"),ge=H("RegExp"),De=H("Error"),qe=H("Symbol"),Ye=H("ArrayBuffer");var ht=H("Function"),be=o.document&&o.document.childNodes;typeof Int8Array!="object"&&typeof be!="function"&&(ht=function(O){return typeof O=="function"||!1});let _e=ht,Re=H("Object");var Ve=w&&Re(new DataView(new ArrayBuffer(8))),Be=typeof Map<"u"&&Re(new Map),Ne=H("DataView");function nt(O){return O!=null&&_e(O.getInt8)&&Ye(O.buffer)}let at=Ve?nt:Ne,re=C||H("Array");function Ce(O,L){return O!=null&&m.call(O,L)}var Je=H("Arguments");(function(){Je(arguments)||(Je=function(O){return Ce(O,"callee")})})();let He=Je;function ot(O){return!qe(O)&&z(O)&&!isNaN(parseFloat(O))}function gt(O){return P(O)&&j(O)}function it(O){return function(){return O}}function k(O){return function(L){var q=O(L);return typeof q=="number"&&q>=0&&q<=xe}}function F(O){return function(L){return L?.[O]}}let K=F("byteLength"),ie=k(K);var me=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function $(O){return W?W(O)&&!at(O):ie(O)&&me.test(v.call(O))}let de=b?$:it(!1),ae=F("length");function rt(O){for(var L={},q=O.length,Q=0;Q<q;++Q)L[O[Q]]=!0;return{contains:function(pe){return L[pe]},push:function(pe){return L[pe]=!0,O.push(pe)}}}function Ct(O,L){L=rt(L);var q=ye.length,Q=O.constructor,pe=_e(Q)&&Q.prototype||c,ce="constructor";for(Ce(O,ce)&&!L.contains(ce)&&L.push(ce);q--;)ce=ye[q],ce in O&&O[ce]!==pe[ce]&&!L.contains(ce)&&L.push(ce)}function yt(O){if(!Y(O))return[];if(T)return T(O);var L=[];for(var q in O)Ce(O,q)&&L.push(q);return ue&&Ct(O,L),L}function B(O){if(O==null)return!0;var L=ae(O);return typeof L=="number"&&(re(O)||te(O)||He(O))?L===0:ae(yt(O))===0}function ee(O,L){var q=yt(L),Q=q.length;if(O==null)return!Q;for(var pe=Object(O),ce=0;ce<Q;ce++){var Te=q[ce];if(L[Te]!==pe[Te]||!(Te in pe))return!1}return!0}function D(O){if(O instanceof D)return O;if(!(this instanceof D))return new D(O);this._wrapped=O}D.VERSION=r,D.prototype.value=function(){return this._wrapped},D.prototype.valueOf=D.prototype.toJSON=D.prototype.value,D.prototype.toString=function(){return String(this._wrapped)};function Oe(O){return new Uint8Array(O.buffer||O,O.byteOffset||0,K(O))}var he="[object DataView]";function Me(O,L,q,Q){if(O===L)return O!==0||1/O===1/L;if(O==null||L==null)return!1;if(O!==O)return L!==L;var pe=typeof O;return pe!=="function"&&pe!=="object"&&typeof L!="object"?!1:Ze(O,L,q,Q)}function Ze(O,L,q,Q){O instanceof D&&(O=O._wrapped),L instanceof D&&(L=L._wrapped);var pe=v.call(O);if(pe!==v.call(L))return!1;if(Ve&&pe=="[object Object]"&&at(O)){if(!at(L))return!1;pe=he}switch(pe){case"[object RegExp]":case"[object String]":return""+O==""+L;case"[object Number]":return+O!=+O?+L!=+L:+O==0?1/+O===1/L:+O==+L;case"[object Date]":case"[object Boolean]":return+O==+L;case"[object Symbol]":return u.valueOf.call(O)===u.valueOf.call(L);case"[object ArrayBuffer]":case he:return Ze(Oe(O),Oe(L),q,Q)}var ce=pe==="[object Array]";if(!ce&&de(O)){var Te=K(O);if(Te!==K(L))return!1;if(O.buffer===L.buffer&&O.byteOffset===L.byteOffset)return!0;ce=!0}if(!ce){if(typeof O!="object"||typeof L!="object")return!1;var We=O.constructor,kt=L.constructor;if(We!==kt&&!(_e(We)&&We instanceof We&&_e(kt)&&kt instanceof kt)&&"constructor"in O&&"constructor"in L)return!1}q=q||[],Q=Q||[];for(var xt=q.length;xt--;)if(q[xt]===O)return Q[xt]===L;if(q.push(O),Q.push(L),ce){if(xt=O.length,xt!==L.length)return!1;for(;xt--;)if(!Me(O[xt],L[xt],q,Q))return!1}else{var Pr=yt(O),Gr;if(xt=Pr.length,yt(L).length!==xt)return!1;for(;xt--;)if(Gr=Pr[xt],!(Ce(L,Gr)&&Me(O[Gr],L[Gr],q,Q)))return!1}return q.pop(),Q.pop(),!0}function Xe(O,L){return Me(O,L)}function ze(O){if(!Y(O))return[];var L=[];for(var q in O)L.push(q);return ue&&Ct(O,L),L}function st(O){var L=ae(O);return function(q){if(q==null)return!1;var Q=ze(q);if(ae(Q))return!1;for(var pe=0;pe<L;pe++)if(!_e(q[O[pe]]))return!1;return O!==N||!_e(q[Pt])}}var Pt="forEach",Lt="has",Dt=["clear","delete"],nr=["get",Lt,"set"],Sr=Dt.concat(Pt,nr),N=Dt.concat(nr),J=["add"].concat(Dt,Pt,Lt);let se=Be?st(Sr):H("Map"),ke=Be?st(N):H("WeakMap"),$e=Be?st(J):H("Set"),lt=H("WeakSet");function wt(O){for(var L=yt(O),q=L.length,Q=Array(q),pe=0;pe<q;pe++)Q[pe]=O[L[pe]];return Q}function mr(O){for(var L=yt(O),q=L.length,Q=Array(q),pe=0;pe<q;pe++)Q[pe]=[L[pe],O[L[pe]]];return Q}function Kt(O){for(var L={},q=yt(O),Q=0,pe=q.length;Q<pe;Q++)L[O[q[Q]]]=q[Q];return L}function Xt(O){var L=[];for(var q in O)_e(O[q])&&L.push(q);return L.sort()}function _n(O,L){return function(q){var Q=arguments.length;if(L&&(q=Object(q)),Q<2||q==null)return q;for(var pe=1;pe<Q;pe++)for(var ce=arguments[pe],Te=O(ce),We=Te.length,kt=0;kt<We;kt++){var xt=Te[kt];(!L||q[xt]===void 0)&&(q[xt]=ce[xt])}return q}}let Or=_n(ze),Zt=_n(yt),Bn=_n(ze,!0);function Gt(){return function(){}}function Jt(O){if(!Y(O))return{};if(I)return I(O);var L=Gt();L.prototype=O;var q=new L;return L.prototype=null,q}function or(O,L){var q=Jt(O);return L&&Zt(q,L),q}function wn(O){return Y(O)?re(O)?O.slice():Or({},O):O}function Nt(O,L){return L(O),O}function Qr(O){return re(O)?O:[O]}D.toPath=Qr;function _t(O){return D.toPath(O)}function Vr(O,L){for(var q=L.length,Q=0;Q<q;Q++){if(O==null)return;O=O[L[Q]]}return q?O:void 0}function fr(O,L,q){var Q=Vr(O,_t(L));return V(Q)?q:Q}function en(O,L){L=_t(L);for(var q=L.length,Q=0;Q<q;Q++){var pe=L[Q];if(!Ce(O,pe))return!1;O=O[pe]}return!!q}function Vt(O){return O}function Qe(O){return O=Zt({},O),function(L){return ee(L,O)}}function Tr(O){return O=_t(O),function(L){return Vr(L,O)}}function $r(O,L,q){if(L===void 0)return O;switch(q??3){case 1:return function(Q){return O.call(L,Q)};case 3:return function(Q,pe,ce){return O.call(L,Q,pe,ce)};case 4:return function(Q,pe,ce,Te){return O.call(L,Q,pe,ce,Te)}}return function(){return O.apply(L,arguments)}}function yr(O,L,q){return O==null?Vt:_e(O)?$r(O,L,q):Y(O)&&!re(O)?Qe(O):Tr(O)}function St(O,L){return yr(O,L,1/0)}D.iteratee=St;function $t(O,L,q){return D.iteratee!==St?D.iteratee(O,L):yr(O,L,q)}function Vn(O,L,q){L=$t(L,q);for(var Q=yt(O),pe=Q.length,ce={},Te=0;Te<pe;Te++){var We=Q[Te];ce[We]=L(O[We],We,O)}return ce}function Hn(){}function Ae(O){return O==null?Hn:function(L){return fr(O,L)}}function mt(O,L,q){var Q=Array(Math.max(0,O));L=$r(L,q,1);for(var pe=0;pe<O;pe++)Q[pe]=L(pe);return Q}function an(O,L){return L==null&&(L=O,O=0),O+Math.floor(Math.random()*(L-O+1))}let M=Date.now||function(){return new Date().getTime()};function X(O){var L=function(ce){return O[ce]},q="(?:"+yt(O).join("|")+")",Q=RegExp(q),pe=RegExp(q,"g");return function(ce){return ce=ce==null?"":""+ce,Q.test(ce)?ce.replace(pe,L):ce}}let Se={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Le=X(Se),Ie=Kt(Se),Et=X(Ie),Mt=D.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Wt=/(.)^/,zt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},li=/\\|'|\r|\n|\u2028|\u2029/g;function Wn(O){return"\\"+zt[O]}var sn=/^\s*(\w|\$)+\s*$/;function Do(O,L,q){!L&&q&&(L=q),L=Bn({},L,D.templateSettings);var Q=RegExp([(L.escape||Wt).source,(L.interpolate||Wt).source,(L.evaluate||Wt).source].join("|")+"|$","g"),pe=0,ce="__p+='";O.replace(Q,function(xt,Pr,Gr,Bl,Ss){return ce+=O.slice(pe,Ss).replace(li,Wn),pe=Ss+xt.length,Pr?ce+=`'+
((__t=(`+Pr+`))==null?'':_.escape(__t))+
'`:Gr?ce+=`'+
((__t=(`+Gr+`))==null?'':__t)+
'`:Bl&&(ce+=`';
`+Bl+`
__p+='`),xt}),ce+=`';
`;var Te=L.variable;if(Te){if(!sn.test(Te))throw new Error("variable is not a bare identifier: "+Te)}else ce=`with(obj||{}){
`+ce+`}
`,Te="obj";ce=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+ce+`return __p;
`;var We;try{We=new Function(Te,"_",ce)}catch(xt){throw xt.source=ce,xt}var kt=function(xt){return We.call(this,xt,D)};return kt.source="function("+Te+`){
`+ce+"}",kt}function Vi(O,L,q){L=_t(L);var Q=L.length;if(!Q)return _e(q)?q.call(O):q;for(var pe=0;pe<Q;pe++){var ce=O?.[L[pe]];ce===void 0&&(ce=q,pe=Q),O=_e(ce)?ce.call(O):ce}return O}var ci=0;function Vo(O){var L=++ci+"";return O?O+L:L}function Hi(O){var L=D(O);return L._chain=!0,L}function ui(O,L,q,Q,pe){if(!(Q instanceof L))return O.apply(q,pe);var ce=Jt(O.prototype),Te=O.apply(ce,pe);return Y(Te)?Te:ce}var Ho=le(function(O,L){var q=Ho.placeholder,Q=function(){for(var pe=0,ce=L.length,Te=Array(ce),We=0;We<ce;We++)Te[We]=L[We]===q?arguments[pe++]:L[We];for(;pe<arguments.length;)Te.push(arguments[pe++]);return ui(O,Q,this,this,Te)};return Q});Ho.placeholder=D;let go=Ho,Wo=le(function(O,L,q){if(!_e(O))throw new TypeError("Bind must be called on a function");var Q=le(function(pe){return ui(O,Q,L,this,q.concat(pe))});return Q}),br=k(ae);function kr(O,L,q,Q){if(Q=Q||[],!L&&L!==0)L=1/0;else if(L<=0)return Q.concat(O);for(var pe=Q.length,ce=0,Te=ae(O);ce<Te;ce++){var We=O[ce];if(br(We)&&(re(We)||He(We)))if(L>1)kr(We,L-1,q,Q),pe=Q.length;else for(var kt=0,xt=We.length;kt<xt;)Q[pe++]=We[kt++];else q||(Q[pe++]=We)}return Q}let di=le(function(O,L){L=kr(L,!1,!1);var q=L.length;if(q<1)throw new Error("bindAll must be passed function names");for(;q--;){var Q=L[q];O[Q]=Wo(O[Q],O)}return O});function Wi(O,L){var q=function(Q){var pe=q.cache,ce=""+(L?L.apply(this,arguments):Q);return Ce(pe,ce)||(pe[ce]=O.apply(this,arguments)),pe[ce]};return q.cache={},q}let vo=le(function(O,L,q){return setTimeout(function(){return O.apply(null,q)},L)}),Kr=go(vo,D,1);function zi(O,L,q){var Q,pe,ce,Te,We=0;q||(q={});var kt=function(){We=q.leading===!1?0:M(),Q=null,Te=O.apply(pe,ce),Q||(pe=ce=null)},xt=function(){var Pr=M();!We&&q.leading===!1&&(We=Pr);var Gr=L-(Pr-We);return pe=this,ce=arguments,Gr<=0||Gr>L?(Q&&(clearTimeout(Q),Q=null),We=Pr,Te=O.apply(pe,ce),Q||(pe=ce=null)):!Q&&q.trailing!==!1&&(Q=setTimeout(kt,Gr)),Te};return xt.cancel=function(){clearTimeout(Q),We=0,Q=pe=ce=null},xt}function ro(O,L,q){var Q,pe,ce,Te,We,kt=function(){var Pr=M()-pe;L>Pr?Q=setTimeout(kt,L-Pr):(Q=null,q||(Te=O.apply(We,ce)),Q||(ce=We=null))},xt=le(function(Pr){return We=this,ce=Pr,pe=M(),Q||(Q=setTimeout(kt,L),q&&(Te=O.apply(We,ce))),Te});return xt.cancel=function(){clearTimeout(Q),Q=ce=We=null},xt}function Er(O,L){return go(L,O)}function fi(O){return function(){return!O.apply(this,arguments)}}function zn(){var O=arguments,L=O.length-1;return function(){for(var q=L,Q=O[L].apply(this,arguments);q--;)Q=O[q].call(this,Q);return Q}}function no(O,L){return function(){if(--O<1)return L.apply(this,arguments)}}function pi(O,L){var q;return function(){return--O>0&&(q=L.apply(this,arguments)),O<=1&&(L=null),q}}let Un=go(pi,2);function Cn(O,L,q){L=$t(L,q);for(var Q=yt(O),pe,ce=0,Te=Q.length;ce<Te;ce++)if(pe=Q[ce],L(O[pe],pe,O))return pe}function zo(O){return function(L,q,Q){q=$t(q,Q);for(var pe=ae(L),ce=O>0?0:pe-1;ce>=0&&ce<pe;ce+=O)if(q(L[ce],ce,L))return ce;return-1}}let mo=zo(1),Uo=zo(-1);function $o(O,L,q,Q){q=$t(q,Q,1);for(var pe=q(L),ce=0,Te=ae(O);ce<Te;){var We=Math.floor((ce+Te)/2);q(O[We])<pe?ce=We+1:Te=We}return ce}function Ui(O,L,q){return function(Q,pe,ce){var Te=0,We=ae(Q);if(typeof ce=="number")O>0?Te=ce>=0?ce:Math.max(ce+We,Te):We=ce>=0?Math.min(ce+1,We):ce+We+1;else if(q&&ce&&We)return ce=q(Q,pe),Q[ce]===pe?ce:-1;if(pe!==pe)return ce=L(h.call(Q,Te,We),gt),ce>=0?ce+Te:-1;for(ce=O>0?Te:We-1;ce>=0&&ce<We;ce+=O)if(Q[ce]===pe)return ce;return-1}}let $n=Ui(1,mo,$o),dt=Ui(-1,Uo);function ct(O,L,q){var Q=br(O)?mo:Cn,pe=Q(O,L,q);if(pe!==void 0&&pe!==-1)return O[pe]}function Tt(O,L){return ct(O,Qe(L))}function pt(O,L,q){L=$r(L,q);var Q,pe;if(br(O))for(Q=0,pe=O.length;Q<pe;Q++)L(O[Q],Q,O);else{var ce=yt(O);for(Q=0,pe=ce.length;Q<pe;Q++)L(O[ce[Q]],ce[Q],O)}return O}function sr(O,L,q){L=$t(L,q);for(var Q=!br(O)&&yt(O),pe=(Q||O).length,ce=Array(pe),Te=0;Te<pe;Te++){var We=Q?Q[Te]:Te;ce[Te]=L(O[We],We,O)}return ce}function xn(O){var L=function(q,Q,pe,ce){var Te=!br(q)&&yt(q),We=(Te||q).length,kt=O>0?0:We-1;for(ce||(pe=q[Te?Te[kt]:kt],kt+=O);kt>=0&&kt<We;kt+=O){var xt=Te?Te[kt]:kt;pe=Q(pe,q[xt],xt,q)}return pe};return function(q,Q,pe,ce){var Te=arguments.length>=3;return L(q,$r(Q,ce,4),pe,Te)}}let Sn=xn(1),Dr=xn(-1);function Hr(O,L,q){var Q=[];return L=$t(L,q),pt(O,function(pe,ce,Te){L(pe,ce,Te)&&Q.push(pe)}),Q}function On(O,L,q){return Hr(O,fi($t(L)),q)}function yo(O,L,q){L=$t(L,q);for(var Q=!br(O)&&yt(O),pe=(Q||O).length,ce=0;ce<pe;ce++){var Te=Q?Q[ce]:ce;if(!L(O[Te],Te,O))return!1}return!0}function hi(O,L,q){L=$t(L,q);for(var Q=!br(O)&&yt(O),pe=(Q||O).length,ce=0;ce<pe;ce++){var Te=Q?Q[ce]:ce;if(L(O[Te],Te,O))return!0}return!1}function Mr(O,L,q,Q){return br(O)||(O=wt(O)),(typeof q!="number"||Q)&&(q=0),$n(O,L,q)>=0}let kl=le(function(O,L,q){var Q,pe;return _e(L)?pe=L:(L=_t(L),Q=L.slice(0,-1),L=L[L.length-1]),sr(O,function(ce){var Te=pe;if(!Te){if(Q&&Q.length&&(ce=Vr(ce,Q)),ce==null)return;Te=ce[L]}return Te==null?Te:Te.apply(ce,q)})});function _a(O,L){return sr(O,Tr(L))}function El(O,L){return Hr(O,Qe(L))}function vs(O,L,q){var Q=-1/0,pe=-1/0,ce,Te;if(L==null||typeof L=="number"&&typeof O[0]!="object"&&O!=null){O=br(O)?O:wt(O);for(var We=0,kt=O.length;We<kt;We++)ce=O[We],ce!=null&&ce>Q&&(Q=ce)}else L=$t(L,q),pt(O,function(xt,Pr,Gr){Te=L(xt,Pr,Gr),(Te>pe||Te===-1/0&&Q===-1/0)&&(Q=xt,pe=Te)});return Q}function ms(O,L,q){var Q=1/0,pe=1/0,ce,Te;if(L==null||typeof L=="number"&&typeof O[0]!="object"&&O!=null){O=br(O)?O:wt(O);for(var We=0,kt=O.length;We<kt;We++)ce=O[We],ce!=null&&ce<Q&&(Q=ce)}else L=$t(L,q),pt(O,function(xt,Pr,Gr){Te=L(xt,Pr,Gr),(Te<pe||Te===1/0&&Q===1/0)&&(Q=xt,pe=Te)});return Q}function wa(O,L,q){if(L==null||q)return br(O)||(O=wt(O)),O[an(O.length-1)];var Q=br(O)?wn(O):wt(O),pe=ae(Q);L=Math.max(Math.min(L,pe),0);for(var ce=pe-1,Te=0;Te<L;Te++){var We=an(Te,ce),kt=Q[Te];Q[Te]=Q[We],Q[We]=kt}return Q.slice(0,L)}function Pl(O){return wa(O,1/0)}function Al(O,L,q){var Q=0;return L=$t(L,q),_a(sr(O,function(pe,ce,Te){return{value:pe,index:Q++,criteria:L(pe,ce,Te)}}).sort(function(pe,ce){var Te=pe.criteria,We=ce.criteria;if(Te!==We){if(Te>We||Te===void 0)return 1;if(Te<We||We===void 0)return-1}return pe.index-ce.index}),"value")}function Ca(O,L){return function(q,Q,pe){var ce=L?[[],[]]:{};return Q=$t(Q,pe),pt(q,function(Te,We){var kt=Q(Te,We,q);O(ce,Te,kt)}),ce}}let Dl=Ca(function(O,L,q){Ce(O,q)?O[q].push(L):O[q]=[L]}),ys=Ca(function(O,L,q){O[q]=L}),Ml=Ca(function(O,L,q){Ce(O,q)?O[q]++:O[q]=1}),bs=Ca(function(O,L,q){O[q?0:1].push(L)},!0);var xa=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ko(O){return O?re(O)?h.call(O):te(O)?O.match(xa):br(O)?sr(O,Vt):wt(O):[]}function Ll(O){return O==null?0:br(O)?O.length:yt(O).length}function id(O,L,q){return L in q}let _s=le(function(O,L){var q={},Q=L[0];if(O==null)return q;_e(Q)?(L.length>1&&(Q=$r(Q,L[1])),L=ze(O)):(Q=id,L=kr(L,!1,!1),O=Object(O));for(var pe=0,ce=L.length;pe<ce;pe++){var Te=L[pe],We=O[Te];Q(We,Te,O)&&(q[Te]=We)}return q}),gi=le(function(O,L){var q=L[0],Q;return _e(q)?(q=fi(q),L.length>1&&(Q=L[1])):(L=sr(kr(L,!1,!1),String),q=function(pe,ce){return!Mr(L,ce)}),_s(O,q,Q)});function lr(O,L,q){return h.call(O,0,Math.max(0,O.length-(L==null||q?1:L)))}function vi(O,L,q){return O==null||O.length<1?L==null||q?void 0:[]:L==null||q?O[0]:lr(O,O.length-L)}function Mo(O,L,q){return h.call(O,L==null||q?1:L)}function mi(O,L,q){return O==null||O.length<1?L==null||q?void 0:[]:L==null||q?O[O.length-1]:Mo(O,Math.max(0,O.length-L))}function Rl(O){return Hr(O,Boolean)}function ws(O,L){return kr(O,L,!1)}let Cs=le(function(O,L){return L=kr(L,!0,!0),Hr(O,function(q){return!Mr(L,q)})}),Sa=le(function(O,L){return Cs(O,L)});function yi(O,L,q,Q){R(L)||(Q=q,q=L,L=!1),q!=null&&(q=$t(q,Q));for(var pe=[],ce=[],Te=0,We=ae(O);Te<We;Te++){var kt=O[Te],xt=q?q(kt,Te,O):kt;L&&!q?((!Te||ce!==xt)&&pe.push(kt),ce=xt):q?Mr(ce,xt)||(ce.push(xt),pe.push(kt)):Mr(pe,kt)||pe.push(kt)}return pe}let Il=le(function(O){return yi(kr(O,!0,!0))});function Nl(O){for(var L=[],q=arguments.length,Q=0,pe=ae(O);Q<pe;Q++){var ce=O[Q];if(!Mr(L,ce)){var Te;for(Te=1;Te<q&&Mr(arguments[Te],ce);Te++);Te===q&&L.push(ce)}}return L}function bi(O){for(var L=O&&vs(O,ae).length||0,q=Array(L),Q=0;Q<L;Q++)q[Q]=_a(O,Q);return q}let xs=le(bi);function Fl(O,L){for(var q={},Q=0,pe=ae(O);Q<pe;Q++)L?q[O[Q]]=L[Q]:q[O[Q][0]]=O[Q][1];return q}function _i(O,L,q){L==null&&(L=O||0,O=0),q||(q=L<O?-1:1);for(var Q=Math.max(Math.ceil((L-O)/q),0),pe=Array(Q),ce=0;ce<Q;ce++,O+=q)pe[ce]=O;return pe}function oo(O,L){if(L==null||L<1)return[];for(var q=[],Q=0,pe=O.length;Q<pe;)q.push(h.call(O,Q,Q+=L));return q}function wi(O,L){return O._chain?D(L).chain():L}function $i(O){return pt(Xt(O),function(L){var q=D[L]=O[L];D.prototype[L]=function(){var Q=[this._wrapped];return d.apply(Q,arguments),wi(this,q.apply(D,Q))}}),D}pt(["pop","push","reverse","shift","sort","splice","unshift"],function(O){var L=s[O];D.prototype[O]=function(){var q=this._wrapped;return q!=null&&(L.apply(q,arguments),(O==="shift"||O==="splice")&&q.length===0&&delete q[0]),wi(this,q)}}),pt(["concat","join","slice"],function(O){var L=s[O];D.prototype[O]=function(){var q=this._wrapped;return q!=null&&(q=L.apply(q,arguments)),wi(this,q)}});let jl=D;var Tn=$i(t);Tn._=Tn;let Go=Tn}},sy={};function jt(i){var n=sy[i];if(n!==void 0)return n.exports;var e=sy[i]={exports:{}};return ex[i].call(e.exports,e,e.exports,jt),e.exports}jt.n=i=>{var n=i&&i.__esModule?()=>i.default:()=>i;return jt.d(n,{a:n}),n};jt.d=(i,n)=>{for(var e in n)jt.o(n,e)&&!jt.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:n[e]})};jt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();jt.o=(i,n)=>Object.prototype.hasOwnProperty.call(i,n);jt.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var Ju={};jt.d(Ju,{Ay:()=>w2,I0:()=>g_,nu:()=>h_});var A=jt(5706),Ee=jt(9195);function Nn(i){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var t=i.raw;return t.reduce(function(r,o,s){var c=n[s-1],u=t[s-1];return Array.isArray(c)?c=c.join(""):u&&u.slice(-1)==="$"?r=r.slice(0,-1):c=(0,Ee.escape)(c),r+c+o})}var tx=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}},rx=tx,qc=jt(4193),nx=jt.n(qc),Br=jt(6411),ox=function(i){var n=i.$;if(n&&n.prototype&&n.prototype.constructor.name!=="jQuery"){var e=n.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var o=this.get(0);return o&&o.focus(),this},e.bind=function(o,s){return this.on(o,s)},e.unbind=function(o,s){if((0,A.isObject)(o)){for(var c in o)o.hasOwnProperty(c)&&this.off(c,o[c]);return this}else return this.off(o,s)},e.click=function(o){return o?this.on("click",o):this.trigger("click")},e.change=function(o){return o?this.on("change",o):this.trigger("change")},e.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},e.delegate=function(o,s,c,u){return u||(u=c),this.on(s,o,function(d){d.data=c,u(d)})},e.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var s=o instanceof Window?o:null;return s?s.pageXOffset:o.scrollLeft||0},e.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var s=o instanceof Window?o:null;return s?s.pageYOffset:o.scrollTop||0};var t=n.prototype.offset;e.offset=function(o){var s,c;return o&&(s=o.top,c=o.left),typeof s<"u"&&this.css("top","".concat(s,"px")),typeof c<"u"&&this.css("left","".concat(c,"px")),t.call(this)},n.map=function(o,s){for(var c=[],u=0;u<o.length;u++)c.push(s(o[u],u));return c};var r=Array.prototype.indexOf;n.inArray=function(o,s,c){return s==null?-1:r.call(s,o,c)},n.Event=function(o,s){if(!(this instanceof n.Event))return new n.Event(o,s);this.type=o,this.isDefaultPrevented=function(){return!1}}}},je=jt(1749),S0=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ix=function(i){S0(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(je.Kx),ax=function(i){S0(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.getByComponent=function(e){var t=this;return this.filter(function(r){return t.getComponent(r)===e})[0]},n.prototype.addComponent=function(e,t){var r=this,o=((0,A.isArray)(e)?e:[e]).filter(function(s){return!r.hasComponent(s)}).map(function(s){return new ix({component:s})})[0];return this.push(o,t)},n.prototype.getComponent=function(e){return e.get("component")},n.prototype.hasComponent=function(e){var t=this.getByComponent(e);return t&&this.contains(t)},n.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},n.prototype.allComponents=function(){var e=this;return this.map(function(t){return e.getComponent(t)}).filter(function(t){return t})},n.prototype.removeComponent=function(e,t){var r=this,o=((0,A.isArray)(e)?e:[e]).map(function(s){return r.getByComponent(s)});return this.remove(o,t)},n}(je.pM),sx=ax,lx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rf=function(){return Rf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Rf.apply(this,arguments)},cx=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},O0=function(){function i(n,e,t){this.debounced=[],this.collections=[],this.cls=[],this._em=n,this._name=e;var r=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,A.isUndefined)(n.config[r])?n.config[this.name]:n.config[r],s=o===!0?{}:o||{};s.pStylePrefix=n.config.pStylePrefix||"",!(0,A.isUndefined)(o)&&!o&&(s._disable=1),s.em=n,this._config=(0,Ee.deepMerge)(t||{},s)}return Object.defineProperty(i.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),i.prototype.render=function(n){},i.prototype.postLoad=function(n){},Object.defineProperty(i.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),i.prototype.getConfig=function(n){return n?this.config[n]:this.config},i.prototype.__logWarn=function(n,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(n),e)},i.prototype.destroy=function(){this.__destroy()},i.prototype.__destroy=function(){var n,e,t;(n=this.view)===null||n===void 0||n.remove(),(e=this.state)===null||e===void 0||e.stopListening(),(t=this.state)===null||t===void 0||t.clear(),this.debounced.forEach(function(r){return r.cancel()}),this.collections.forEach(function(r){r.stopListening(),r.reset()})},i.prototype.__appendTo=function(){var n=this.getConfig().appendTo;if(n){var e=(0,A.isElement)(n)?n:document.querySelector(n);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},i}(),jn=O0,si=function(i){lx(n,i);function n(e,t,r,o,s,c){c===void 0&&(c={});var u=i.call(this,e,t,s)||this;return u.cls=[],u.private=!1,u.all=r,u.events=o,!c.skipListen&&u.__initListen(),u}return n.prototype.postLoad=function(e){},n.prototype.render=function(e){},n.prototype.getProjectData=function(e){var t={},r=this.storageKey;return r&&(t[r]=e||this.getAll()),t},n.prototype.loadProjectData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r=t.all,o=t.onResult,s=t.reset,c=this.storageKey,u={action:"load"},d=r||this.all,h=e[c];if(typeof h=="string")try{h=JSON.parse(h)}catch{this.__logWarn("Data parsing failed",{input:h})}return s&&h&&d.reset(void 0,u),o?h&&o(h,u):h&&(0,Ee.isDef)(h.length)&&d.reset(h,u),h},n.prototype.clear=function(e){e===void 0&&(e={});var t=this.all;return t&&t.reset(void 0,e),this},n.prototype.getAll=function(){return cx([],this.all.models,!0)},n.prototype.getAllMap=function(){return this.getAll().reduce(function(e,t){return e[t.get(t.idAttribute)]=t,e},{})},n.prototype.__initListen=function(e){e===void 0&&(e={});var t=this,r=t.all,o=t.em,s=t.events;r&&o&&r.on("add",function(c,u,d){return o.trigger(s.add,c,d)}).on("remove",function(c,u,d){return o.trigger(s.remove,c,d)}).on("change",function(c,u){return o.trigger(s.update,c,c.changedAttributes(),u)}).on("all",this.__catchAllEvent,this),this.cls=[r].concat(e.collections||[]),(e.propagate||[]).forEach(function(c){var u=c.entity,d=c.event;u.on("all",function(h,v,m,b){var w=b||m,C=Rf({event:h},w);[o,r].map(function(T){return T.trigger(d,v,C)})})})},n.prototype.__remove=function(e,t){var r=this;t===void 0&&(t={});var o=this.em,s=(0,A.isString)(e)?this.get(e):e,c=function(){return s&&r.all.remove(s,t),s};return!t.silent&&o?.trigger(this.events.removeBefore,s,c,t),!t.abort&&c()},n.prototype.__catchAllEvent=function(e,t,r,o){var s=this,c=s.em,u=s.events,d=o||r;c&&u.all&&c.trigger(u.all,{event:e,model:t,options:d}),this.__onAllEvent()},n.prototype.__appendTo=function(e){var t=this.config.appendTo;if(t){var r=(0,A.isElement)(t)?t:document.querySelector(t);if(!r)return this.__logWarn('"appendTo" element not found');r.appendChild(this.render(e))}},n.prototype.__onAllEvent=function(){},n.prototype._createId=function(e){e===void 0&&(e=16);var t=this.getAll(),r=t.length+e,o=this.getAllMap(),s;do s=(0,Ee.createId)(r);while(o[s]);return s},n.prototype.__listenAdd=function(e,t){var r=this;e.on("add",function(o,s,c){return r.em.trigger(t,o,c)})},n.prototype.__listenRemove=function(e,t){var r=this;e.on("remove",function(o,s,c){return r.em.trigger(t,o,c)})},n.prototype.__listenUpdate=function(e,t){var r=this;e.on("change",function(o,s){return r.em.trigger(t,o,o.changedAttributes(),s)})},n.prototype.__destroy=function(){var e;this.cls.forEach(function(t){t.stopListening(),t.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},n}(O0),ux=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}},dx=ux,Bi=jt(3023),fx=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}},px=fx,hx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gx=function(i){hx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},n.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var t=["width","height","widthMedia"];t.forEach(function(r){return e.checkUnit(r)})},n.prototype.checkUnit=function(e){var t=this.get(e)||"",r=(parseFloat(t)||0).toString()===t.toString();r&&this.set(e,"".concat(t,"px"))},n.prototype.getName=function(){return this.get("name")||this.get("id")},n.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},n}(je.Kx),T0=gx,vx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),k0=function(i){vx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(je.pM),ly=k0;k0.prototype.model=T0;var mx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yx=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},bx=function(i){mx(n,i);function n(e){var t=i.call(this,e)||this;return t.config=e.config||{},t.em=t.config.em,t.ppfx=t.config.pStylePrefix||"",t.listenTo(t.em,"change:device",t.updateSelect),t}return n.prototype.template=function(e){var t=e.ppfx,r=e.label;return Nn(cy||(cy=yx([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),t,r,t,t,t,t,t,t,t)},n.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},n.prototype.startAdd=function(){},n.prototype.updateDevice=function(){var e=this.em;if(e){var t=this.devicesEl;e.set("device",t?t.val():"")}},n.prototype.updateSelect=function(){var e=this,t=e.em,r=e.devicesEl;if(t&&t.getDeviceModel&&r){var o=t.getDeviceModel();r.val(o?o.get("id"):"")}},n.prototype.getOptions=function(){var e=this,t=e.collection,r=e.em,o="";return t.forEach(function(s){var c=s.attributes,u=c.name,d=c.id,h=r&&r.t&&r.t("deviceManager.devices.".concat(d))||u;o+='<option value="'.concat(d||u,'">').concat(h,"</option>")}),o},n.prototype.render=function(){var e=this,t=e.em,r=e.ppfx,o=e.$el,s=e.el,c=t&&t.t&&t.t("deviceManager.device");return o.html(this.template({ppfx:r,label:c})),this.devicesEl=o.find(".".concat(r,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(t.get("device")),s.className="".concat(r,"devices-c"),this},n}(je.Ss),_x=bx,cy,wx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sl=function(){return sl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},sl.apply(this,arguments)},E0="device",Qu="".concat(E0,":"),P0="".concat(Qu,"select"),fB="".concat(P0,":before"),A0="".concat(Qu,"update"),D0="".concat(Qu,"add"),pB="".concat(D0,":before"),M0="".concat(Qu,"remove"),Cx="".concat(M0,":before"),xx="change:device",Sx={all:E0,select:P0,update:A0,add:D0,remove:M0,removeBefore:Cx},Ox=function(i){wx(n,i);function n(e){var t,r=i.call(this,e,"DeviceManager",new ly,Sx,px())||this;return r.Device=T0,r.Devices=ly,r.storageKey="",r.devices=r.all,(t=r.config.devices)===null||t===void 0||t.forEach(function(o){return r.add(o,{silent:!0})}),r.select(r.config.default||r.devices.at(0)),e.on(xx,r._onSelect,r),r}return n.prototype._onSelect=function(e,t,r){var o=this,s=o.em,c=o.events,u=e.previous("device"),d=this.get(t),h=c.select;s.trigger(h,d,this.get(u)),this.__catchAllEvent(h,d,r)},n.prototype.add=function(e,t){t===void 0&&(t={});var r,o=t;if((0,A.isString)(e)){var s=t;o=arguments[2]||{},r=sl(sl({},o),{id:e,name:o.name||e,width:s})}else r=e;return r.id||(r.id=r.name||this._createId()),this.devices.add(r,o)},n.prototype.get=function(e){var t=this.getAll().filter(function(r){return r.get("name")===e})[0];return t||this.devices.get(e)||null},n.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},n.prototype.getDevices=function(){return this.devices.models},n.prototype.select=function(e,t){t===void 0&&(t={});var r=(0,A.isString)(e)?this.get(e):e;return r&&this.em.set("device",r.get("id"),t),this},n.prototype.getSelected=function(){return this.get(this.em.get("device"))},n.prototype.getAll=function(){return this.devices},n.prototype.render=function(){var e,t=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new _x({collection:this.devices,config:sl({em:t},this.config)}),this.view.render().el},n.prototype.destroy=function(){this.__destroy()},n}(si),Tx=Ox,L0=function(i){return i.add="page:add",i.addBefore="page:add:before",i.remove="page:remove",i.removeBefore="page:remove:before",i.select="page:select",i.selectBefore="page:select:before",i.update="page:update",i.all="page",i}(L0||{}),If=L0,kx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ex=function(i){kx(n,i);function n(e,t,r){return i.call(this,t,{module:e,modelConstructor:r})||this}return n.prototype.add=function(e,t){var r=this,o,s=(0,A.isArray)(e)?e:(0,A.isUndefined)(e)?void 0:[e];return s=(o=s?.map(function(c){return c instanceof r.newModel?c:new r.newModel(r.module,c)}))!==null&&o!==void 0?o:[void 0],i.prototype.add.call(this,(0,A.isArray)(e)?s:s[0],t)},n.prototype.preinitialize=function(e,t){this.newModel=t.modelConstructor,this.module=t.module},n}(je.pM),ed=Ex,Px=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nf=function(){return Nf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Nf.apply(this,arguments)},uy=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},dy="__aw",fy="__ah",py=function(i,n){var e,t=i.get(n),r=(e=i.view)===null||e===void 0?void 0:e.el[n==="width"?"offsetWidth":"offsetHeight"];return(0,A.isNumber)(t)?t:(0,A.isString)(t)&&t.endsWith("px")?parseFloat(t):r||0},Ax=function(i){Px(n,i);function n(e,t){var r=i.call(this,e,t)||this,o=r.em,s=r.attributes,c=s.styles,u=s.component,d=o.Components,h=d.getConfig(),v=o.Css.getAll(),m={},b={em:o,config:h,frame:r,idMap:m};if(!(0,Ee.isComponent)(u)){var w=(0,Ee.isObject)(u)?u:{components:u};!w.type&&(w.type="wrapper");var C=d.getType("wrapper").model;r.set("component",new C(w,b))}if(!c)r.set("styles",v);else if(!(0,Ee.isObject)(c)){var T=c;(0,A.keys)(m).length&&(T=(0,A.isString)(T)?o.Parser.parseCss(T):T,o.Css.checkId(T,{idMap:m})),v.add(T),r.set("styles",v)}return!t.width&&r.set(dy,1),!t.height&&r.set(fy,1),!r.id&&r.set("id",(0,Ee.createId)()),r}return n.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(n.prototype,"width",{get:function(){return py(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return py(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var e=this.refFrame;return e?.getComponent()||this.getComponent()},enumerable:!1,configurable:!0}),n.prototype.initRefs=function(){var e=this.refFrame;if((0,A.isString)(e)){var t=this.module.framesById[e];t&&this.set({refFrame:t},{silent:!0})}},n.prototype.getBoxRect=function(){var e=this.attributes,t=e.x,r=e.y,o=this,s=o.width,c=o.height;return{x:t,y:r,width:s,height:c}},n.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},n.prototype.changesUp=function(e){e===void 0&&(e={}),!(e.temporary||e.noCount||e.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},n.prototype.getComponent=function(){return this.get("component")},n.prototype.getStyles=function(){return this.get("styles")},n.prototype.disable=function(){this.trigger("disable")},n.prototype.remove=function(){var e;(e=this.view)===null||e===void 0||e.remove(),this.view=void 0;var t=this.collection;return t&&t.remove(this)},n.prototype.getHead=function(){return uy([],this.head,!0)},n.prototype.setHead=function(e){return this.set("head",uy([],e,!0))},n.prototype.addHeadItem=function(e){this.head.push(e)},n.prototype.getHeadByAttr=function(e,t,r){return this.head.filter(function(o){return o.attributes&&o.attributes[e]==t&&(!r||r===o.tag)})[0]},n.prototype.removeHeadByAttr=function(e,t,r){var o=this.getHeadByAttr(e,t,r),s=this.head.indexOf(o);s>=0&&this.head.splice(s,1)},n.prototype.addLink=function(e){var t="link";!this.getHeadByAttr("href",e,t)&&this.addHeadItem({tag:t,attributes:{href:e,rel:"stylesheet"}})},n.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},n.prototype.addScript=function(e){var t="script";!this.getHeadByAttr("src",e,t)&&this.addHeadItem({tag:t,attributes:{src:e}})},n.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},n.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},n.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",Nf({frame:this},e))},n.prototype.hasAutoHeight=function(){var e=this.attributes.height;return!!(e==="auto"||this.config.infiniteCanvas)},n.prototype.toJSON=function(e){e===void 0&&(e={});var t=Bi.A.prototype.toJSON.call(this,e),r=(0,A.result)(this,"defaults");return e.fromUndo&&delete t.component,delete t.styles,delete t.changesCount,t[dy]&&delete t.width,t[fy]&&delete t.height,t.refFrame&&(t.refFrame=t.refFrame.id,delete t.component),(0,A.forEach)(t,function(o,s){s.indexOf("_")===0&&delete t[s]}),(0,A.forEach)(r,function(o,s){t[s]===o&&delete t[s]}),(0,A.forEach)(["attributes","head"],function(o){(0,A.isEmpty)(t[o])&&delete t[o]}),t},n}(Bi.A),R0=Ax,Dx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mx=function(i){Dx(n,i);function n(e,t){t===void 0&&(t=[]);var r=i.call(this,e,t,R0)||this;return r.loadedItems=0,r.itemsToLoad=0,(0,A.bindAll)(r,"itemLoaded"),r.on("add",r.onAdd),r.on("reset",r.onReset),r.on("remove",r.onRemove),r.forEach(function(o){return r.onAdd(o)}),r}return n.prototype.onAdd=function(e){this.module.framesById[e.id]=e},n.prototype.onReset=function(e,t){var r=this,o=t?.previousModels||[];o.map(function(s){return r.onRemove(s)})},n.prototype.onRemove=function(e){e.onRemove(),delete this.module.framesById[e.id]},n.prototype.initRefs=function(){this.forEach(function(e){return e.initRefs()})},n.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},n.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},n.prototype.listenToLoadItems=function(e){var t=this;this.forEach(function(r){return r[e?"on":"off"]("loaded",t.itemLoaded)})},n}(ed),I0=Mx,Lx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rx=function(i){Lx(n,i);function n(e){var t=this,r=e.em,o=e.config,s=o.scripts,c=o.styles;return t=i.call(this,e,{scripts:s,styles:c})||this,t.set("frames",new I0(e)),t.on("change:zoom",t.onZoomChange),t.on("change:x change:y",t.onCoordsChange),t.on("change:pointer change:pointerScreen",t.onPointerChange),t.listenTo(r,"change:device ".concat(A0),t.updateDevice),t.listenTo(r,If.select,t._pageUpdated),t}return n.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:je.lK,pointerScreen:je.lK}},Object.defineProperty(n.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),n.prototype.init=function(){var e=this.em,t=e.Pages._initPage();this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},n.prototype._pageUpdated=function(e,t){var r=this.em;r.setSelected(),r.get("readyCanvas")&&r.stopDefault(),t?.getFrames().map(function(o){return o.disable()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},n.prototype.updateDevice=function(e){e===void 0&&(e={});var t=this.em,r=t.getDeviceModel(),o=e.frame||t.getCurrentFrameModel();if(o&&r){var s=r.attributes,c=s.width,u=s.height;o.set({width:c,height:u},{noUndo:1})}},n.prototype.onZoomChange=function(){var e=this,t=e.em,r=e.module,o=this.get("zoom");o<1&&this.set("zoom",1),t.trigger(r.events.zoom)},n.prototype.onCoordsChange=function(){var e=this,t=e.em,r=e.module;t.trigger(r.events.coords)},n.prototype.onPointerChange=function(){var e=this,t=e.em,r=e.module;t.trigger(r.events.pointer)},n.prototype.getPointerCoords=function(e){e===void 0&&(e=je.x2.World);var t=this.attributes,r=t.pointer,o=t.pointerScreen;return e===je.x2.World?r:o},n}(Bi.A),Ix=Rx,po=jt(2820),ur=jt(3172),Nx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fx=function(i){Nx(n,i);function n(e,t){t===void 0&&(t=[]);var r=i.call(this,e,t,po.A)||this;r.on("add",r.onAdd),r.on("change",r.onChange),r.on("remove",r.onRemove);var o=r.em;r.refreshDbn=(0,A.debounce)(function(){return r.refresh()},0);var s="component:resize styleable:change component:input ".concat(ur.I.update," frame:updated undo redo");return r.listenTo(o,s,function(){return r.refreshDbn()}),r}return Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){var e=this,t=e.em,r=e.events;t.trigger(r.spot)},n.prototype.onAdd=function(e){this.__trgEvent(this.events.spotAdd,{spot:e})},n.prototype.onChange=function(e){this.__trgEvent(this.events.spotUpdate,{spot:e})},n.prototype.onRemove=function(e){this.__trgEvent(this.events.spotRemove,{spot:e})},n.prototype.__trgEvent=function(e,t){var r=this.module,o=r.em;o.trigger(e,t),this.refreshDbn()},n}(ed),jx=Fx,sp=function(i){return i.dragEnter="canvas:dragenter",i.dragOver="canvas:dragover",i.dragEnd="canvas:dragend",i.dragData="canvas:dragdata",i.drop="canvas:drop",i.spot="canvas:spot",i.spotAdd="canvas:spot:add",i.spotUpdate="canvas:spot:update",i.spotRemove="canvas:spot:remove",i.coords="canvas:coords",i.zoom="canvas:zoom",i.pointer="canvas:pointer",i.refresh="canvas:refresh",i.frameLoad="canvas:frame:load",i.frameLoadHead="canvas:frame:load:head",i.frameLoadBody="canvas:frame:load:body",i}(sp||{}),zc=sp,Bx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vx=function(i){Bx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"module",{get:function(){var e,t;return(t=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&t!==void 0?t:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),n.prototype.preinitialize=function(e){this.className=""},n}(je.Ss),ho=Vx,Ue=jt(2097),Hx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wx=function(i){Hx(n,i);function n(e,t){e===void 0&&(e={}),t===void 0&&(t=!1);var r=i.call(this,e)||this;return r.itemsView="",r.itemType="type",r.reuseView=!1,r.viewCollection=[],t&&r.listenTo(r.collection,"add",r.addTo),r}return n.prototype.addTo=function(e){this.add(e)},n.prototype.itemViewNotFound=function(e){},n.prototype.add=function(e,t){var r=this,o=r.reuseView,s=r.viewCollection,c=t||null,u=e.get(this.itemType),d;e.view&&o?d=e.view:d=this.renderView(e,u),s.push(d);var h=d.render().el;c?c.appendChild(h):this.$el.append(h)},n.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(r){return e.add(r,t)}),this.$el.append(t),this.onRender(),this},n.prototype.onRender=function(){},n.prototype.onRemoveBefore=function(e,t){},n.prototype.onRemove=function(e,t){},n.prototype.remove=function(e){e===void 0&&(e={});var t=this.viewCollection;return this.onRemoveBefore(t,e),this.clearItems(),je.Ss.prototype.remove.apply(this,e),this.onRemove(t,e),this},n.prototype.clearItems=function(){var e=this.viewCollection||[]},n}(ho),zx=Wx,Ux=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$x=function(i){Ux(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.config=e.config||{};var r=t.model;return t.listenTo(r,"change",t.render),t.listenTo(r,"destroy remove",t.remove),t.listenTo(r.get("selectors"),"change",t.render),r.setView(t),t}return Object.defineProperty(n.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),n.prototype.remove=function(){return i.prototype.remove.call(this),this.model.removeView(this),this},n.prototype.updateStyles=function(){this.render()},n.prototype.tagName=function(){return"style"},n.prototype.render=function(){var e=this,t=e.model,r=e.el,o=t.get("important");return r.innerHTML=t.toCSS({important:o}),this},n}(je.Ss),N0=$x,Kx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gx=function(i){Kx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this},n}(N0),Yx=Gx,qx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tf=function(i,n){return"".concat(i).concat(n?"-".concat(parseFloat(n)):"")},Xx=function(i){qx(n,i);function n(e){var t=i.call(this,e)||this;(0,A.bindAll)(t,"sortRules");var r=e.config||{};t.atRules={},t.config=r,t.em=r.em,t.pfx=r.stylePrefix||"",t.className=t.pfx+"rules";var o=t.collection;return t.listenTo(o,"add",t.addTo),t.listenTo(o,"reset",t.render),t}return n.prototype.addTo=function(e){this.addToCollection(e)},n.prototype.addToCollection=function(e,t){if(this.renderStarted){var r=t||null,o=this.config,s={model:e,config:o},c,u;if(e.get("atRuleType")==="keyframes"){var d=e.getAtRule(),h=this.atRules[d];if(!h){var v=document.createElement("style");h=document.createTextNode(""),v.appendChild(document.createTextNode("".concat(d,"{"))),v.appendChild(h),v.appendChild(document.createTextNode("}")),this.atRules[d]=h,c=v}u=new Yx(s),h.appendData(u.render().el.textContent)}else u=new N0(s),c=u.render().el;var m=this.className,b=e.get("mediaText"),w=tf(m),C=w;if(b&&(C=tf(m,this.getMediaWidth(b))),c){var T=r||this.el,I=void 0;try{I=T.querySelector("#".concat(C))}catch{}I||(I=T.querySelector("#".concat(w))),I?.appendChild(c)}return c}},n.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},n.prototype.sortRules=function(e,t){var r=this.em,o=(r.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var s=o?e:t,c=o?t:e;return s-c},n.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var t=this,r=t.em,o=t.$el,s=t.collection,c=this.className,u=document.createDocumentFragment();o.empty();var d=r.Devices.getAll().pluck("priority").sort(this.sortRules);return d.every(function(h){return h})&&d.unshift(0),d.forEach(function(h){return u.appendChild((0,Ue.a_)("div",{id:tf(c,h)}))}),s.each(function(h){return e.addToCollection(h,u)}),o.append(u),o.attr("class",c),this},n}(je.Ss),F0=Xx,j0="text/html",Zx=j0,Jx=function(i,n){n===void 0&&(n={});var e=new DOMParser,t=n.htmlType||Zx,r=t===j0,o=r?i:"<div>".concat(i,"</div>"),s=e.parseFromString(o,t),c;if(r){if(n.asDocument)return s;var u=s.head,d=s.body,h=u.querySelectorAll("script");(0,A.each)(h,function(m){return d.appendChild(m)});var v=[];(0,A.each)(u.children,function(m){return v.push(m)}),(0,A.each)(v,function(m,b){return d.insertBefore(m,d.children[b])}),c=d}else c=s.firstChild;return c},yl=function(i){return i.html="parse:html",i.htmlRoot="parse:html:root",i.css="parse:css",i.all="parse",i}(yl||{}),Po=function(){return Po=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Po.apply(this,arguments)},Qx="data-gjs-",eS=function(i,n){return n===void 0&&(n={}),{compTypes:[],modelAttrStart:Qx,getPropAttribute:function(e,t){var r=e.replace(this.modelAttrStart,""),o=t?.length||0,s=t?.substring(0,1),c=t?.substring(o-1),u=t==="true"?!0:t==="false"?!1:t;try{u=s=="{"&&c=="}"||s=="["&&c=="]"?JSON.parse(u):u}catch{}return{name:r,value:u}},splitPropsFromAttr:function(e){var t=this;e===void 0&&(e={});var r={},o={};return(0,A.each)(e,function(s,c){if(c.indexOf(t.modelAttrStart)===0){var u=t.getPropAttribute(c,s);r[u.name]=u.value}else o[c]=s}),{props:r,attrs:o}},parseStyle:function(e){for(var t={};e.indexOf("/*")>=0;){var r=e.indexOf("/*"),o=e.indexOf("*/")+2;e=e.replace(e.slice(r,o),"")}for(var s=e.split(";"),c=0,u=s.length;c<u;c++){var d=s[c].trim();if(d){var h=d.split(":"),v=h[0].trim(),m=h.slice(1).join(":").trim();t[v]?((0,A.isArray)(t[v])||(t[v]=[t[v]]),t[v].push(m)):t[v]=m}}return t},parseClass:function(e){for(var t=[],r=e.split(" "),o=0,s=r.length;o<s;o++){var c=r[o].trim();c&&t.push(c)}return t},parseNodeAttr:function(e,t){for(var r=t||{},o=e.attributes||[],s=o.length,c=0;c<s;c++){var u=o[c].nodeName,d=o[c].nodeValue;if(u=="style")r.style=this.parseStyle(d);else if(u=="class")r.classes=this.parseClass(d);else{if(u=="contenteditable")continue;if(u.indexOf(this.modelAttrStart)===0){var h=this.getPropAttribute(u,d);r[h.name]=h.value}else d===""&&e[u]===!0&&(d=!0),r.attributes||(r.attributes={}),r.attributes[u]=d}}return r},detectNode:function(e,t){var r;t===void 0&&(t={});var o=this.compTypes,s={};if(o){var c=(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"".concat(this.modelAttrStart,"type"));if(c)s={type:c};else for(var u=0;u<o.length;u++){var d=o[u],h=d.model.isComponent(e,t);if(h){typeof h!="object"&&(h={type:d.id}),s=h;break}}}return s},parseNode:function(e,t){var r;t===void 0&&(t={});var o=((r=e.content)===null||r===void 0?void 0:r.childNodes)||e.childNodes,s=o.length,c=this.detectNode(e,t);if(!c.tagName){var u=e.tagName||"",d=e.namespaceURI||"";c.tagName=u&&d==="http://www.w3.org/1999/xhtml"?u.toLowerCase():u}if(c=this.parseNodeAttr(e,c),!s&&"".concat(e.outerHTML).slice(-2)==="/>"&&(c.void=!0),s&&!c.components&&!t.skipChildren){var h=o[0];s===1&&h.nodeType===3?(!c.type&&(c.type="text"),c.components={type:"textnode",content:h.nodeValue}):c.components=this.parseNodes(e,Po(Po({},t),{inSvg:t.inSvg||c.type==="svg"}))}var v=c.components;if(!c.type&&v?.length){for(var m=n.textTypes,b=m===void 0?[]:m,w=n.textTags,C=w===void 0?[]:w,T=!0,I=!1,W=0;W<v.length;W++){var j=v[W],z=j.type;if(!b.includes(z)&&!C.includes(j.tagName)){T=!1;break}z==="textnode"&&(I=!0)}T&&I&&(c.type="text")}return c},parseNodes:function(e,t){var r;t===void 0&&(t={});for(var o=[],s=((r=e.content)===null||r===void 0?void 0:r.childNodes)||e.childNodes,c=s.length,u=0;u<c;u++){var d=s[u],h=o[o.length-1],v=this.parseNode(d,t);if(v.type==="textnode"){if(h?.type==="textnode"){h.content+=v.content;continue}if(!t.keepEmptyTextNodes){var m=d.nodeValue||"",b=u===0||u===c-1,w=m.includes(`
`);if(m!=" "&&!m.trim()&&(b||w))continue}}!v.tagName&&(0,A.isUndefined)(v.content)||o.push(v)}return o},parse:function(e,t,r){var o,s,c,u,d;r===void 0&&(r={});var h=i?.get("Config")||{},v={html:[]},m=Po(Po({},n),r),b=Po(Po(Po({},n.optionsHtml),{htmlType:((o=n.optionsHtml)===null||o===void 0?void 0:o.htmlType)||n.htmlType}),r),w=Po(Po({},b),{asDocument:this.__checkAsDocument(e,b)}),C=w.preParser,T=w.asDocument,I=(0,A.isFunction)(C)?C(e,{editor:i?.getEditor()}):e,W=(0,A.isFunction)(m.parserHtml)?m.parserHtml(I,w):Jx(I,w),j=W,z=W;T&&(j=z.documentElement,v.doctype=(0,Ue.LJ)(z.doctype));var ue=j.querySelectorAll("script"),ye=ue.length,xe=(0,A.isUndefined)(h.allowScripts)?w.allowScripts:h.allowScripts;if(!xe)for(;ye--;)(s=ue[ye].parentNode)===null||s===void 0||s.removeChild(ue[ye]);if((!w.allowUnsafeAttr||!w.allowUnsafeAttrValue)&&this.__sanitizeNode(j,w),t){for(var le=j.querySelectorAll("style"),Y=le.length,oe="";Y--;)oe=le[Y].innerHTML+oe,(c=le[Y].parentNode)===null||c===void 0||c.removeChild(le[Y]);oe&&(v.css=t.parse(oe))}(u=i?.Parser)===null||u===void 0||u.__emitEvent(yl.htmlRoot,{input:I,root:j});var V=[];if(T)v.head=this.parseNode(z.head,m),v.root=this.parseNodeAttr(j),V=this.parseNode(z.body,m);else{var R=this.parseNodes(j,m);V=R.length===1&&!m.returnArray?R[0]:R}return v.html=V,(d=i?.Parser)===null||d===void 0||d.__emitEvent(yl.html,{input:I,output:v,options:w}),v},__sanitizeNode:function(e,t){var r=this,o=e.attributes||[],s=e.childNodes||[],c=[];(0,A.each)(o,function(u){var d=u.nodeName||"",h=u.nodeValue||"";!t.allowUnsafeAttr&&d.startsWith("on")&&c.push(d),!t.allowUnsafeAttrValue&&h.startsWith("javascript:")&&c.push(d)}),c.map(function(u){return e.removeAttribute(u)}),(0,A.each)(s,function(u){return r.__sanitizeNode(u,t)})},__checkAsDocument:function(e,t){if((0,Ee.isDef)(t.asDocument))return t.asDocument;if((0,A.isFunction)(t.detectDocument))return!!t.detectDocument(e);if(t.detectDocument)return e.toLowerCase().trim().startsWith("<!doctype")}}},B0=eS,tS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jo="data-variable",rS=function(i){tS(n,i);function n(e,t){var r=i.call(this,e,t)||this;return r.em=t.em,r.listenToDataSource(),r}return n.prototype.defaults=function(){return{type:jo,defaultValue:"",path:""}},n.prototype.listenToDataSource=function(){var e=this.attributes.path,t=(0,Ee.stringToPath)(e).join(".");this.em&&this.listenTo(this.em.DataSources,"change:".concat(t),this.onDataSourceChange)},n.prototype.onDataSourceChange=function(){var e=this.getDataValue();this.set({value:e})},n.prototype.getDataValue=function(){var e,t=this.attributes,r=t.path,o=t.defaultValue;if(!this.em)throw new Error("EditorModel instance is not provided for a data variable.");var s=(e=this.em)===null||e===void 0?void 0:e.DataSources.getValue(r,o);return s},n}(je.Kx),ba=rS,nS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ff=function(){return Ff=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ff.apply(this,arguments)},oS=function(i){nS(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return Ff({},i.prototype.defaults.call(this))},n}(ba),iS=oS,bl=function(i){return i.add="data:add",i.addBefore="data:add:before",i.remove="data:remove",i.removeBefore="data:remove:before",i.update="data:update",i.path="data:path",i.all="data",i}(bl||{});function ll(i){return typeof i=="object"&&[jo,Bo].includes(i?.type)}function aS(i){return i instanceof ba||i instanceof rd}function _l(i){return i?.type===jo}function Xc(i,n){return _l(i)?new ba(i,{em:n}).getDataValue():i}function sS(i,n){var e=i.type,t;switch(e){case jo:t=new ba(i,{em:n});break;case Bo:{var r=i.condition,o=i.ifTrue,s=i.ifFalse;t=new rd(r,o,s,{em:n});break}default:throw new Error("Unsupported dynamic type: ".concat(e))}return t}function hy(i,n){var e=sS(i,n);return{variable:e,value:e.getDataValue()}}var lS=function(){function i(n,e,t){this.operator=n,this.statements=e,this.em=t.em}return i.prototype.evaluate=function(){var n=this,e=this.statements.map(function(t){var r=new H0(t,{em:n.em});return r.evaluate()});return this.operator.evaluate(e)},i}(),td=function(){function i(){}return i}(),cS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),V0=function(i){return i.equals="equals",i.isTruthy="isTruthy",i.isFalsy="isFalsy",i.isDefined="isDefined",i.isNull="isNull",i.isUndefined="isUndefined",i.isArray="isArray",i.isObject="isObject",i.isString="isString",i.isNumber="isNumber",i.isBoolean="isBoolean",i.isDefaultValue="isDefaultValue",i}(V0||{}),uS=function(i){cS(n,i);function n(e){var t=i.call(this)||this;return t.operator=e,t}return n.prototype.evaluate=function(e,t){switch(this.operator){case"equals":return e===t;case"isTruthy":return!!e;case"isFalsy":return!e;case"isDefined":return e!=null;case"isNull":return e===null;case"isUndefined":return e===void 0;case"isArray":return Array.isArray(e);case"isObject":return typeof e=="object"&&e!==null;case"isString":return typeof e=="string";case"isNumber":return typeof e=="number";case"isBoolean":return typeof e=="boolean";case"isDefaultValue":return e instanceof ba&&e.get("default")===t;default:throw new Error("Unsupported generic operator: ".concat(this.operator))}},n}(td),dS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Uc=function(i){return i.and="and",i.or="or",i.xor="xor",i}(Uc||{}),fS=function(i){dS(n,i);function n(e){var t=i.call(this)||this;return t.operator=e,t}return n.prototype.evaluate=function(e){if(!e.length)throw new Error("Expected one or more statments, got none");switch(this.operator){case Uc.and:return e.every(Boolean);case Uc.or:return e.some(Boolean);case Uc.xor:return e.filter(Boolean).length===1;default:throw new Error("Unsupported logical operator: ".concat(this.operator))}},n}(td),pS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ia=function(i){return i.greaterThan=">",i.lessThan="<",i.greaterThanOrEqual=">=",i.lessThanOrEqual="<=",i.equals="=",i.notEquals="!=",i}(ia||{}),hS=function(i){pS(n,i);function n(e){var t=i.call(this)||this;return t.operator=e,t}return n.prototype.evaluate=function(e,t){switch(this.operator){case ia.greaterThan:return e>t;case ia.lessThan:return e<t;case ia.greaterThanOrEqual:return e>=t;case ia.lessThanOrEqual:return e<=t;case ia.equals:return e===t;case ia.notEquals:return e!==t;default:throw new Error("Unsupported number operator: ".concat(this.operator))}},n}(td),gS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aa=function(i){return i.contains="contains",i.startsWith="startsWith",i.endsWith="endsWith",i.matchesRegex="matchesRegex",i.equalsIgnoreCase="equalsIgnoreCase",i.trimEquals="trimEquals",i}(aa||{}),vS=function(i){gS(n,i);function n(e){var t=i.call(this)||this;return t.operator=e,t}return n.prototype.evaluate=function(e,t){switch(this.operator){case aa.contains:return e.includes(t);case aa.startsWith:return e.startsWith(t);case aa.endsWith:return e.endsWith(t);case aa.matchesRegex:if(!t)throw new Error("Regex pattern must be provided.");return new RegExp(t).test(e);case aa.equalsIgnoreCase:return e.toLowerCase()===t.toLowerCase();case aa.trimEquals:return e.trim()===t.trim();default:throw new Error("Unsupported string operator: ".concat(this.operator))}},n}(td),mS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),H0=function(i){mS(n,i);function n(e,t){var r=i.call(this,e)||this;return r.condition=e,r.em=t.em,r}return n.prototype.evaluate=function(){return this.evaluateCondition(this.condition)},n.prototype.evaluateCondition=function(e){if(typeof e=="boolean")return e;if(this.isLogicGroup(e)){var t=e.logicalOperator,r=e.statements,o=new fS(t),s=new lS(o,r,{em:this.em});return s.evaluate()}if(this.isExpression(e)){var c=e.left,o=e.operator,u=e.right,d=Xc(c,this.em),h=Xc(u,this.em),v=this.getOperator(d,o),m=v.evaluate(d,h);return m}throw new Error("Invalid condition type.")},n.prototype.getOperator=function(e,t){if(this.isOperatorInEnum(t,V0))return new uS(t);if(typeof e=="number")return new hS(t);if(typeof e=="string")return new vS(t);throw new Error("Unsupported data type: ".concat(typeof e))},n.prototype.getDataVariables=function(){var e=[];return this.extractVariables(this.condition,e),e},n.prototype.extractVariables=function(e,t){var r=this;this.isExpression(e)?(_l(e.left)&&t.push(e.left),_l(e.right)&&t.push(e.right)):this.isLogicGroup(e)&&e.statements.forEach(function(o){return r.extractVariables(o,t)})},n.prototype.isLogicGroup=function(e){return e&&typeof e.logicalOperator<"u"&&Array.isArray(e.statements)},n.prototype.isExpression=function(e){return e&&typeof e.left<"u"&&typeof e.operator=="string"},n.prototype.isOperatorInEnum=function(e,t){return Object.values(t).includes(e)},n}(je.Kx),W0=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bo="conditional-variable",rd=function(i){W0(n,i);function n(e,t,r,o){var s=this;if(typeof e>"u")throw new yS;var c=new H0(e,{em:o.em});return s=i.call(this,{type:Bo,condition:c,ifTrue:t,ifFalse:r})||this,s.ifTrue=t,s.ifFalse=r,s.variableListeners=[],s.condition=c,s.em=o.em,s.lastEvaluationResult=s.evaluate(),s.listenToDataVariables(),s._onValueChange=o.onValueChange,s}return n.prototype.evaluate=function(){return this.condition.evaluate()},n.prototype.getDataValue=function(){return this.lastEvaluationResult?Xc(this.ifTrue,this.em):Xc(this.ifFalse,this.em)},n.prototype.reevaluate=function(){this.lastEvaluationResult=this.evaluate()},Object.defineProperty(n.prototype,"onValueChange",{set:function(e){this._onValueChange=e,this.listenToDataVariables()},enumerable:!1,configurable:!0}),n.prototype.listenToDataVariables=function(){var e=this;if(this.em){this.cleanupListeners();var t=this.getDependentDataVariables();t.forEach(function(r){var o=new ba(r,{em:e.em}),s=new nd({em:e.em,dataVariable:o,updateValueFromDataVariable:function(){var c;e.reevaluate(),(c=e._onValueChange)===null||c===void 0||c.call(e)}.bind(e)});e.variableListeners.push(s)})}},n.prototype.getDependentDataVariables=function(){var e=this.condition.getDataVariables();return _l(this.ifTrue)&&e.push(this.ifTrue),_l(this.ifFalse)&&e.push(this.ifFalse),e},n.prototype.cleanupListeners=function(){this.variableListeners.forEach(function(e){return e.destroy()}),this.variableListeners=[]},n.prototype.toJSON=function(){return{type:Bo,condition:this.condition,ifTrue:this.ifTrue,ifFalse:this.ifFalse}},n}(je.Kx),yS=function(i){W0(n,i);function n(){return i.call(this,"No condition was provided to a conditional component.")||this}return n}(Error),bS=function(){function i(n){var e=this;this.dataListeners=[],this.model=new je.Kx,this.onChange=function(){var t=e.dynamicVariable.getDataValue();e.updateValueFromDynamicVariable(t)},this.em=n.em,this.dynamicVariable=n.dataVariable,this.updateValueFromDynamicVariable=n.updateValueFromDataVariable,this.listenToDynamicVariable()}return i.prototype.listenToDynamicVariable=function(){var n=this,e=this,t=e.em,r=e.dynamicVariable;this.removeListeners();var o=r.get("type"),s=[];switch(o){case jo:s=this.listenToDataVariable(r,t);break;case Bo:s=this.listenToConditionalVariable(r,t);break}s.forEach(function(c){return n.model.listenTo(c.obj,c.event,n.onChange)}),this.dataListeners=s},i.prototype.listenToConditionalVariable=function(n,e){var t=this,r=n.getDependentDataVariables().flatMap(function(o){return t.listenToDataVariable(new ba(o,{em:t.em}),e)});return r},i.prototype.listenToDataVariable=function(n,e){var t=[],r=n.attributes.path,o=(0,Ee.stringToPath)(r||"").join("."),s=this.em.DataSources.fromPath(r),c=s[0],u=s[1];return c&&t.push({obj:c.records,event:"add remove reset"}),u&&t.push({obj:u,event:"change"}),t.push({obj:n,event:"change:path change:defaultValue"},{obj:e.DataSources.all,event:"add remove reset"},{obj:e,event:"".concat(bl.path,":").concat(o)}),t},i.prototype.removeListeners=function(){var n=this;this.dataListeners.forEach(function(e){return n.model.stopListening(e.obj,e.event,n.onChange)}),this.dataListeners=[]},i.prototype.destroy=function(){this.removeListeners()},i}(),nd=bS,_S=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ti=function(){return ti=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ti.apply(this,arguments)},wS=B0(),jf=function(i){return(0,A.isArray)(i)?i[i.length-1]:i},CS=function(i){_S(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e,t)||this;return r.dynamicVariableListeners={},r.views=[],r.em=t.em,r}return n.prototype.parseStyle=function(e){return wS.parseStyle(e)},n.prototype.extendStyle=function(e){return ti(ti({},this.getStyle("",{skipResolve:!0})),e)},n.prototype.getStyle=function(e,t){t===void 0&&(t={});var r=this.get("style")||{},o=ti({},r);if(this.em&&!t.skipResolve){var s=this.resolveDataVariables(ti({},o));return e&&(0,A.isString)(e)?s[e]:s}return e&&(0,A.isString)(e)?o[e]:o},n.prototype.setStyle=function(e,t){var r=this;e===void 0&&(e={}),t===void 0&&(t={}),(0,A.isString)(e)&&(e=this.parseStyle(e));var o=this.getStyle(t);t.partial||t.avoidStore?(t.avoidStore=!0,e.__p=!0):delete e.__p;var s=ti({},e),c=ti({},s);(0,A.keys)(c).forEach(function(d){if(c[d]===""){delete c[d];return}var h=c[d];if(ll(h)){var v=r.resolveDynamicValue(h);c[d]=v,r.manageDataVariableListener(v,d)}}),this.set("style",c,t);var u=(0,Ee.shallowDiff)(o,c);return delete u.__p,(0,A.keys)(u).forEach(function(d){var h=r.em;t.noEvent||(r.trigger("change:style:".concat(d)),h&&(h.trigger("styleable:change",r,d,t),h.trigger("styleable:change:".concat(d),r,d,t)))}),c},n.prototype.resolveDynamicValue=function(e){var t=e.type,r;switch(t){case jo:r=new iS(e,{em:this.em});break;case Bo:{var o=e.condition,s=e.ifTrue,c=e.ifFalse;r=new rd(o,s,c,{em:this.em});break}default:throw new Error("Unsupported dynamic value type for styles. Only '".concat(jo,"' and '").concat(Bo,"' are supported. Received '").concat(t,"'."))}return r},n.prototype.manageDataVariableListener=function(e,t){var r=this;this.dynamicVariableListeners[t]?this.dynamicVariableListeners[t].listenToDynamicVariable():this.dynamicVariableListeners[t]=new nd({em:this.em,dataVariable:e,updateValueFromDataVariable:function(){return r.updateView()}})},n.prototype.getView=function(e){var t=this,r=t.views,o=t.em,s=e||o?.getCurrentFrameModel();return s?r.find(function(c){return c.frameView===s.view}):r[0]},n.prototype.setView=function(e){var t=this.views;!t.includes(e)&&t.push(e)},n.prototype.removeView=function(e){var t=this.views;t.splice(t.indexOf(e),1)},n.prototype.updateView=function(){this.views.forEach(function(e){return e.updateStyles()})},n.prototype.resolveDataVariables=function(e){var t=this,r=ti({},e);return(0,A.keys)(r).forEach(function(o){var s=r[o];if(!(typeof s=="string"||Array.isArray(s))){if(ll(s)){var c=t.resolveDynamicValue(s);r[o]=c.getDataValue()}aS(s)&&(r[o]=s.getDataValue())}}),r},n.prototype.addStyle=function(e,t,r){var o;t===void 0&&(t=""),r===void 0&&(r={}),typeof e=="string"?e=(o={},o[e]=t,o):r=t||{},r.addStyle=e,e=this.extendStyle(e),this.setStyle(e,r)},n.prototype.removeStyle=function(e){var t=this.getStyle();delete t[e],this.setStyle(t)},n.prototype.styleToString=function(e){e===void 0&&(e={});var t=[],r=this.getStyle(e),o=e.important,s=function(u){var d=(0,A.isArray)(o)?o.indexOf(u)>=0:o,h=u.substring(0,2),v=h==="__";if(v)return"continue";var m=r[u],b=(0,A.isArray)(m)?m:[m];b.forEach(function(w){var C="".concat(w).concat(d?" !important":"");C&&t.push("".concat(u,":").concat(C,";"))})};for(var c in r)s(c);return t.join("")},n.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},n.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},n}(je.Kx),z0=CS,Rn=function(){return Rn=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Rn.apply(this,arguments)},U0=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},fa=function(i){return(0,A.isArray)(i.get(In))},Zc=function(i){return!!i.get(fo)},ii=function(i){return!!(fa(i)||Zc(i))},ga=function(i){var n=i.parent();return ii(i)&&(!n||!ii(n))};var Js=function(i){i.__symbReady||(i.on("change",i.__upSymbProps),i.__symbReady=!0)},Fo=function(i){var n=i.get(fo);if(n&&(0,A.isString)(n)){var e=i.__getAllById()[n];e?(n=e,i.set(fo,e)):n=0}return n||void 0},eo=function(i){var n=i?.get(In);return n&&(0,A.isArray)(n)&&(n.forEach(function(e,t){e&&(0,A.isString)(e)&&(n[t]=i.__getAllById()[e])}),n=n.filter(function(e){return e&&!(0,A.isString)(e)})),n||void 0},hs=function(i,n){n===void 0&&(n="");var e=i?.get(ul),t=n.split(":")[0],r=n!==t?[n,t]:[n];return e===!0||(0,A.isArray)(e)&&r.some(function(o){return e.indexOf(o)>=0})},pa=function(i,n){n===void 0&&(n={});var e=[],t=n.changed;if(n.fromInstance||n.noPropagate||n.fromUndo||t&&hs(i,t))return e;var r=eo(i)||[],o=Fo(i),s=o?U0([o],eo(o)||[],!0):r;return e=s.filter(function(c){return c!==i}).filter(function(c){return!(t&&hs(c,t))}),e},wl=function(i,n){for(var e=i,t=i.parent(n);t&&ii(t);)e=t,t=t.parent(n);return e},lp=function(i,n){n===void 0&&(n={});var e=Fo(i),t=e&&eo(e);!n.skipRefs&&t&&e.set(In,t.filter(function(r){return r!==i})),i.set(fo,0),i.components().forEach(function(r){return lp(r,n)})},cl=function(i,n,e,t){t===void 0&&(t={});var r=Fo(i),o=eo(i);!r&&!o||i.em.log(n,{model:i,toUp:e,context:"symbols",opts:t})},xS=function(i,n){n===void 0&&(n={});var e=i.changedAttributes()||{},t=e.attributes||{};if(delete e.status,delete e.open,delete e[In],delete e[fo],delete e[ul],delete e.attributes,delete t.id,(0,Ee.isEmptyObj)(t)||(e.attributes=t),!(0,Ee.isEmptyObj)(e)){var r=pa(i,n);(0,A.keys)(e).map(function(o){hs(i,o)&&delete e[o]}),cl(i,"props",r,{opts:n,changed:e}),r.forEach(function(o){var s=Rn({},e);(0,A.keys)(s).map(function(c){hs(o,c)&&delete s[c]}),o.set(s,Rn({fromInstance:i},n))})}},SS=function(i,n){n===void 0&&(n={});var e=pa(i,n);cl(i,"classes",e,{opts:n}),e.forEach(function(t){t.set("classes",i.get("classes"),{fromInstance:i})}),i.__changesUp(n)},$0=function(i,n,e,t){var r=t||e||{},o=r.fromInstance,s=r.fromUndo,c={fromInstance:o,fromUndo:s},u=n.opt.temporary;if(t)if(t.add){var b=[],w=!!eo(i),h=pa(i,Rn(Rn({},c),{changed:"components:add"}));if(h.length){var C=Fo(n);b=eo(C||n)||[],b=U0([],b,!0),b.push(C||n)}!u&&cl(i,"add",h,{opts:t,addedInstances:b.map(function(le){return le.cid}),added:n.cid}),h.forEach(function(le){var Y=wl(le),oe=b.filter(function(R){var U=wl(R,{prev:1});return Y&&U&&U===Y})[0],V=oe||n.clone({symbol:!0,symbolInv:w});le.append(V,Rn({fromInstance:i},t))})}else{var T=Fo(n);if(T&&!t.temporary&&T.set(In,eo(T).filter(function(xe){return xe!==n})),!ga(n)&&!t.skipRefsUp){var I="components:remove",W=t.index,j=n.parent(),z=Rn({fromInstance:n},t),ue=ga(n),ye=function(le){var Y=le.parent();Y&&!hs(Y,I)&&le.remove(z)},h=hs(j,I)?[]:pa(n,c);ue&&(h=j&&pa(j,Rn(Rn({},c),{changed:I})),ye=function(le){var Y=le.components().at(W);Y&&Y.remove(Rn({fromInstance:j},z))}),!u&&cl(i,"remove",h,{opts:t,removed:n.cid,isSymbNested:ue}),h.forEach(ye)}}else{var d=n,h=pa(i,Rn(Rn({},c),{changed:"components:reset"})),v=d.models,m=new Set;cl(i,"reset",h,{components:v}),h.forEach(function(xe){var le=xe.components(),Y=v.map(function(oe,V){return!ii(oe)||m.has(oe)?(m.add(oe),oe.clone({symbol:!0})):le.at(V)});le.reset(Y,Rn({fromInstance:i},e))})}i.__changesUp(r)},OS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qn=function(){return Qn=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Qn.apply(this,arguments)},$c=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},gy=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Qa=function(i,n){if(n===void 0&&(n=[]),!i)return[];var e=(0,A.isArray)(i)||(0,A.isFunction)(i.map)?i:[i];return e.map(function(t){n.push(t.getId()),Qa(t.components().models,n)}),n},K0=function(i,n,e){n===void 0&&(n={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var t=e.visitedCmps,r=(0,A.isArray)(i)?i:[i];return r.map(function(o){var s=o.attributes,c=s===void 0?{}:s,u=o.components,d=o.tagName,h=o.style,v=c.id,m=c.draggable,b=$c(c,["id","draggable"]),w=o;if(v){if(t[v])t[v].push(w),v=xr.getNewId(n),w.attributes.id=v;else if(t[v]=[],n[v]){w=n[v];var C=w;d&&C.set({tagName:d},Qn(Qn({},e),{silent:!0})),(0,A.keys)(b).length&&C.addAttributes(b,Qn({},e)),(0,A.keys)(h).length&&C.addStyle(h,e)}}var T=(0,A.isFunction)(w.components)?w:null;if(u){var I=K0(u,n,e);T?T.components().reset(I,e):w.components=I}else T&&T.components().reset([],e);return w})},TS=function(i){OS(n,i);function n(e,t){var r=i.call(this,e,t)||this;r.opt=t,r.listenTo(r,"add",r.onAdd),r.listenTo(r,"remove",r.removeChildren),r.listenTo(r,"reset",r.resetChildren);var o=t.em,s=t.config;return r.config=s,r.em=o,r.domc=t.domc||o?.Components,r}return Object.defineProperty(n.prototype,"events",{get:function(){var e;return(e=this.domc)===null||e===void 0?void 0:e.events},enumerable:!1,configurable:!0}),n.prototype.resetChildren=function(e,t){var r=this;t===void 0&&(t={});var o=this,s=t.previousModels||[],c=s.filter(function(h){return!e.get(h.cid)}),u=Qa(e),d=Qa(s).filter(function(h){return u.indexOf(h)>=0});t.keepIds=(t.keepIds||[]).concat(d),c.forEach(function(h){return r.removeChildren(h,o,t)}),e.each(function(h){return r.onAdd(h)})},n.prototype.resetFromString=function(e,t){var r,o;e===void 0&&(e=""),t===void 0&&(t={}),t.keepIds=Qa(this);var s=this,c=s.domc,u=s.em,d=s.parent,h=u?.Css,v=c?.allById()||{},m=this.parseString(e,t),b=K0(m,v,t),w=t.visitedCmps,C=w===void 0?{}:w;Object.keys(C).forEach(function(T){var I=C[T];if(I.length){var W=h?.getRules("#".concat(T))||[];W.length&&I.forEach(function(j){W.forEach(function(z){var ue=z.clone();ue.set("selectors",["#".concat(j.attributes.id)]),h.getAll().add(ue)})})}}),this.reset(b,t),u?.trigger("component:content",d,t,e),(o=(r=d).__checkInnerChilds)===null||o===void 0||o.call(r)},n.prototype.removeChildren=function(e,t,r){var o=this;if(r===void 0&&(r={}),!!e){var s=this,c=s.domc,u=s.em,d=r.temporary||r.fromUndo;if(e.prevColl=this,!d){var h=e.getId(),v=u.Selectors.getAll(),m=u.Css.getAll(),b=(r.keepIds||[]).indexOf(h)<0,w=c?c.allById():{};delete w[h];var C=b?m.remove(m.filter(function(W){return W.getSelectors().getFullString()==="#".concat(h)}),r):[];v.remove(C.map(function(W){return W.getSelectors().at(0)})),e.opt.temporary||(u.Commands.run("core:component-style-clear",{target:e}),e.views.forEach(function(W){W.scriptContainer&&e.emitWithEitor(ur.I.scriptUnmount,{component:e,view:W,el:W.el})}),e.removed(),e.trigger("removed"),u.trigger(ur.I.remove,e),c&&Zc(e)&&ga(e)&&c.symbols.__trgEvent(c.events.symbolInstanceRemove,{component:e},!0));var T=e.components();T.forEach(function(W){$0(W,W,T,Qn(Qn({},r),{skipRefsUp:!0})),o.removeChildren(W,t,r)})}var I=e.components();u.stopListening(I),u.stopListening(e),u.stopListening(e.get("classes")),e.__postRemove()}},n.prototype.model=function(e,t){var r=t.collection.opt,o=r.em,s,c=o.Components.componentTypes;t.em=o,t.config=r.config,t.componentTypes=c,t.domc=r.domc;for(var u=0;u<c.length;u++){var d=c[u].id;if(d==e.type){s=c[u].model;break}}return s||(s=c[c.length-1].model,o&&e.type&&o.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new s(e,t)},n.prototype.parseString=function(e,t){t===void 0&&(t={});var r=this,o=r.em,s=r.domc,c=r.parent,u=c?.is("wrapper"),d=t.asDocument&&u,h=o.Css,v=o.Parser.parseHtml(e,Qn({asDocument:d},t.parserOptions)),m=v.html;if(u&&v.doctype){var b=c,w=v.html||{},C=w.components,T=C===void 0?[]:C,I=$c(w,["components"]),W=v.head||{},j=W.components,z=$c(W,["components"]);m=T,b.set(I,t),b.head.set(z,t),b.head.components(j,t),b.docEl.set(v.root,t),b.set({doctype:v.doctype})}if(xr.checkId(m,v.css,s.componentsById,t),v.css&&h&&!t.temporary){var ue=t.at,ye=$c(t,["at"]);h.addCollection(v.css,Qn(Qn({},ye),{extend:1}))}return m},n.prototype.add=function(e,t){var r=this;if(t===void 0&&(t={}),e!=null){t.keepIds=gy(gy([],t.keepIds||[],!0),Qa(t.previousModels),!0),(0,A.isString)(e)?e=this.parseString(e,t):(0,A.isArray)(e)&&e.forEach(function(s,c){if((0,A.isString)(s)){var u=r.parseString(s,t);e[c]=(0,A.isArray)(u)&&!u.length?null:u}});var o=((0,A.isArray)(e)?e:[e]).filter(Boolean).map(function(s){return r.processDef(s)});return e=(0,A.isArray)(e)?(0,A.flatten)(o,1):o[0],i.prototype.add.call(this,e,t)}},n.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var t=this,r=t.em,o=t.config,s=o===void 0?{}:o,c=s.processor,u=e;if(c){u=Qn({},u);var d=c(u);d&&((0,A.each)(u,function(T,I){return delete u[I]}),(0,A.extend)(u,d))}if(u.$$typeof&&typeof u.props=="object"){u=Qn({},u),u.props=Qn({},u.props);var h=r.Components,v=r.Parser,m=v.parserHtml;(0,A.each)(u,function(T,I){(0,A.includes)(["props","type"],I)||delete u[I]});var b=u.props,w=b.children;delete b.children,delete u.props;var C=m.splitPropsFromAttr(b);u.attributes=C.attrs,w&&(u.components=w),u.type?h.getType(u.type)||(u.tagName=u.type,delete u.type):u.type="textnode",(0,A.extend)(u,C.props)}return u},n.prototype.onAdd=function(e,t,r){r===void 0&&(r={});var o=this,s=o.domc,c=o.em,u=e.getStyle(),d=c&&c.getConfig().avoidInlineStyle;if(s&&s.Component.ensureInList(e),!(0,A.isEmpty)(u)&&!d&&c&&c.getConfig().forceClass&&!r.temporary){var h=e.cid;c.Css.setClassRule(h,u),e.setStyle({}),e.addClass(h)}if(e.__postAdd({recursive:!0}),c&&!r.temporary){var v=function(m){c.trigger(ur.I.add,m,r),m.components().forEach(function(b){return v(b)})};v(e),s&&Zc(e)&&ga(e)&&s.symbols.__trgEvent(s.events.symbolInstanceAdd,{component:e},!0)}},n}(je.pM),Cl=TS,kS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Lc=1,rf=2,G0=function(i){kS(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e,t)||this,o=t.config,s=o===void 0?{}:o,c=r.get("name"),u=r.get("label");c?u||r.set("label",c):r.set("name",u);var d=r.get("name"),h=s.escapeName,v=h?h(d):n.escapeName(d);return r.set("name",v),r.em=t.em,r}return n.prototype.defaults=function(){return{name:"",label:"",type:Lc,active:!0,private:!1,protected:!1,_undo:!0}},n.prototype.isId=function(){return this.get("type")===rf},n.prototype.isClass=function(){return this.get("type")===Lc},n.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.escape,r=this.get("name"),o="";switch(this.get("type")){case Lc:o=".";break;case rf:o="#";break}return o+(t?t(r):r)},n.prototype.toString=function(){return this.getFullName()},n.prototype.getName=function(){return this.get("name")||""},n.prototype.getLabel=function(){return this.get("label")||""},n.prototype.setLabel=function(e){return this.set("label",e)},n.prototype.getActive=function(){return!!this.get("active")},n.prototype.setActive=function(e){return this.set("active",e)},n.prototype.toJSON=function(e){e===void 0&&(e={});var t=this.em,r=je.Kx.prototype.toJSON.call(this,[e]),o=(0,A.result)(this,"defaults");if(t?.getConfig().avoidDefaults){(0,A.forEach)(o,function(c,u){r[u]===c&&delete r[u]}),r.label===r.name&&delete r.label;var s=(0,A.keys)(r).length;s===1&&r.name&&(r=r.name),s===2&&r.name&&r.type&&(r=this.getFullName())}return r},n.escapeName=function(e){return"".concat(e).trim().replace(/\s+/g,"-")},n.TYPE_CLASS=Lc,n.TYPE_ID=rf,n}(je.Kx),yn=G0;G0.prototype.idAttribute="name";var ES=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Y0=function(i,n){return i.reduce(function(e,t,r){return e.concat(Y0(i.slice(r+1),"".concat(n).concat(t)))},[n])},q0=function(i){ES(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||yn.TYPE_CLASS)},n.prototype.getStyleable=function(){return(0,A.filter)(this.models,function(e){return e.getActive()&&!e.get("private")})},n.prototype.getValid=function(e){var t=e===void 0?{}:e,r=t.noDisabled;return(0,A.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return r?o.get("active"):1})},n.prototype.getFullString=function(e,t){t===void 0&&(t={});var r=[],o=e||this;return o.forEach(function(s){return r.push(s.getFullName(t))}),t.sort&&r.sort(),r.join("").trim()},n.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.combination,r=e.array,o=[],s=this.map(function(c){return c.getFullName(e)}).sort();return t?s.forEach(function(c,u){o=o.concat(Y0(s.slice(u+1),c))}):o=s,r?o:t?o.join(","):o.join("")},n}(je.pM),ji=q0;q0.prototype.model=yn;var PS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vy=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},AS=function(i){PS(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},n.prototype.getId=function(){return this.get("id")},n.prototype.getLabel=function(){return this.get("label")},n}(je.Kx),Sl=AS;function X0(i){var n=new Set,e=new Map,t={items:[]};i.forEach(function(o){var s=o.category;if(s){n.add(s);var c=e.get(s);c?c.push(o):e.set(s,[o])}else t.items.push(o)});var r=Array.from(n).map(function(o){return{category:o,items:e.get(o)||[]}});return vy(vy([],r,!0),[t],!1)}var DS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),my="category",Z0=function(i){DS(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.initCategory=function(e){var t=e.get(my),r=t instanceof Sl;if(t&&!r){(0,A.isString)(t)?t={id:t,label:t}:(0,Ee.isObject)(t)&&!t.id&&(t.id=t.label);var o=this.getCategories().add(t);return e.set(my,o,{silent:!0}),o}else if(r){var o=t;return this.getCategories().add(o),o}},n}(je.pM),MS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),J0=function(i){MS(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e,t)||this,o=t.events,s=t.em,c=o?.update;return s&&c&&r.on("change",function(u,d){return s.trigger(c,{category:u,changes:u.changedAttributes(),options:d})}),r}return n.prototype.add=function(e,t){var r=(0,A.isArray)(e)?e:[e];return r.forEach(function(o){return o&&(o.id=(0,Ee.normalizeKey)("".concat(o.id)))}),i.prototype.add.call(this,e,t)},n.prototype.get=function(e){return i.prototype.get.call(this,(0,A.isString)(e)?(0,Ee.normalizeKey)(e):e)},n}(je.pM),Jc=J0;J0.prototype.model=Sl;var cp=function(i){return i.select="trait:select",i.value="trait:value",i.categoryUpdate="trait:category:update",i.custom="trait:custom",i.all="trait",i}(cp||{}),Bf=cp,LS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qc=function(){return Qc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Qc.apply(this,arguments)},RS=function(i){LS(n,i);function n(e,t){var r=i.call(this,e)||this,o=r.attributes,s=o.target,c=o.name;return!r.get("id")&&r.set("id",c),s&&r.setTarget(s),r.em=t,r}return n.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"category",{get:function(){var e=this.get("category");return e instanceof Sl?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),n.prototype.setTarget=function(e){if(e){var t=this.attributes,r=t.name,o=t.changeProp,s=t.value,c=t.getValue;this.target=e,this.unset("target");var u=o?"change:".concat(r):"change:attributes:".concat(r);this.listenTo(e,u,this.targetUpdated);var d=s||(c?void 0:this.getValue());!(0,A.isUndefined)(d)&&this.set({value:d},{silent:!0})}},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(e){var t;e===void 0&&(e={});var r=e.locale,o=r===void 0?!0:r,s=this.getId(),c=this.get("label")||this.getName();return o&&((t=this.em)===null||t===void 0?void 0:t.t("traitManager.traits.labels.".concat(s)))||c},n.prototype.getValue=function(e){return this.getTargetValue(e)},n.prototype.setValue=function(e,t){var r=this;t===void 0&&(t={});var o=this,s=o.component,c=o.em,u=t.partial,d={},h=this.attributes.setValue;if(h){h({value:e,component:s,editor:c?.getEditor(),trait:this,partial:!!u,options:t,emitUpdate:function(){return r.targetUpdated()}});return}u&&(d.avoidStore=!0),this.setTargetValue(e,d)},n.prototype.getDefault=function(){return this.get("default")},n.prototype.getOptions=function(){return this.get("options")||[]},n.prototype.getOption=function(e){var t=this,r=(0,Ee.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(o){return t.getOptionId(o)===r})[0]},n.prototype.getOptionId=function(e){return e.id||e.value},n.prototype.getOptionLabel=function(e,t){var r;t===void 0&&(t={});var o=t.locale,s=o===void 0?!0:o,c=(0,A.isString)(e)?this.getOption(e):e,u=this.getOptionId(c),d=c.label||c.name||u,h=this.getName();return s&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.options.".concat(h,".").concat(u)))||d},n.prototype.getCategoryLabel=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.category,s=e.locale,c=s===void 0?!0:s,u=o?.getId(),d=o?.getLabel();return c&&r?.t("traitManager.categories.".concat(u))||d||""},n.prototype.runCommand=function(){var e=this.em,t=this.attributes.command;if(t&&e)return(0,A.isString)(t)?e.Commands.run(t):t(e.Editor,this)},n.prototype.props=function(){return this.attributes},n.prototype.targetUpdated=function(){var e=this,t=e.component,r=e.em,o=this.getTargetValue({useType:!0});this.set({value:o},{fromTarget:1});var s={trait:this,component:t,value:o};t.trigger(Bf.value,s),r?.trigger(Bf.value,s),r?.trigger("trait:update",s)},n.prototype.getTargetValue=function(e){e===void 0&&(e={});var t=this,r=t.component,o=t.em,s=this.getName(),c=this.get("getValue"),u;if(c?u=c({editor:o?.getEditor(),trait:this,component:r}):this.changeProp?u=r.get(s):u=r.getAttributes()[s],e.useType){var d=this.getType();if(d==="checkbox"){var h=this.attributes,v=h.valueTrue,m=h.valueFalse;!(0,A.isUndefined)(v)&&v===u?u=!0:!(0,A.isUndefined)(m)&&m===u&&(u=!1)}}return(0,A.isUndefined)(u)?"":u},n.prototype.setTargetValue=function(e,t){var r;t===void 0&&(t={});var o=this,s=o.component,c=o.attributes,u=this.getName();if(!(0,A.isUndefined)(e)){var d=e;if(e==="false"?d=!1:e==="true"&&(d=!0),this.getType()==="checkbox"){var h=c.valueTrue,v=c.valueFalse;d&&!(0,A.isUndefined)(h)&&(d=h),!d&&!(0,A.isUndefined)(v)&&(d=v)}var m=(r={},r[u]=d,r);m.__p=t.avoidStore?null:void 0,this.changeProp?s.set(m,t):s.addAttributes(m,t)}},n.prototype.setValueFromInput=function(e,t,r){t===void 0&&(t=!0),r===void 0&&(r={});var o={value:e};this.set(o,Qc(Qc({},r),{avoidStore:1})),t&&(this.set("value","",r),this.set(o,r))},n.prototype.getInitValue=function(){var e=this.component,t=this.getName(),r;if(e){var o=e.get("attributes");r=this.changeProp?e.get(t):o[t]}return r||this.get("value")||this.get("default")},n}(je.Kx),eu=RS,IS=function(){function i(n){n===void 0&&(n={}),this.config=n}return i.prototype.build=function(n,e){return(0,A.isString)(n)?this.buildFromString(n,e):new eu(n,e)},i.prototype.buildFromString=function(n,e){var t={name:n,type:"text"};switch(n){case"target":t.type="select",t.default=!1,t.options=this.config.optionsTarget;break}return new eu(t,e)},i}(),NS=IS,FS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jS=function(i){FS(n,i);function n(e,t){var r=i.call(this,e)||this;r.categories=new Jc;var o=t.em;r.em=o,r.categories=new Jc([],{em:o,events:{update:Bf.categoryUpdate}}),r.on("add",r.handleAdd),r.on("reset",r.handleReset);var s=r.module,c=s?.getConfig();return r.tf=new NS(c),r}return Object.defineProperty(n.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),n.prototype.getCategories=function(){return this.categories},n.prototype.handleReset=function(e,t){var r=t===void 0?{}:t,o=r.previousModels,s=o===void 0?[]:o;s.forEach(function(c){return c.trigger("remove")})},n.prototype.handleAdd=function(e){e.em=this.em;var t=this.target;t&&(e.target=t),this.initCategory(e)},n.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(t){return t.setTarget(e)})},n.prototype.add=function(e,t){if(e!=null){var r=this,o=r.target,s=r.em;if((0,A.isArray)(e)){for(var c=[],u=0,d=e.length;u<d;u++){var h=e[u];c[u]=h instanceof eu?h:this.tf.build(h,s),c[u].setTarget(o)}return i.prototype.add.call(this,c,t)}var v=e instanceof eu?e:this.tf.build(e,s);return v.setTarget(o),i.prototype.add.call(this,v,t)}},n}(Z0),tu=jS,ru=function(){return ru=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ru.apply(this,arguments)},nu=function(){function i(n,e){this.updateFn=n,this.em=e,this.dynamicVariableListeners={}}return i.getStaticValues=function(n,e){if(!n)return{};for(var t=ru({},n),r=Object.keys(n),o=0,s=r;o<s.length;o++){var c=s[o],u=n[c];if(ll(u)){var d=hy(u,e).value;t[c]=d}}return t},i.areStaticValues=function(n){return n?Object.keys(n).every(function(e){return!ll(n[e])}):!0},i.prototype.setDynamicValues=function(n){return this.removeListeners(),this.addDynamicValues(n)},i.prototype.addDynamicValues=function(n){var e=this;if(!n)return{};this.removeListeners(Object.keys(n));for(var t=this.getDynamicValues(n),r=Object.keys(t),o=function(u){var d=r[u];s.dynamicVariableListeners[d]=new nd({em:s.em,dataVariable:t[d],updateValueFromDataVariable:function(h){e.updateFn.bind(e)(d,h)}})},s=this,c=0;c<r.length;c++)o(c);return t},i.prototype.getDynamicValues=function(n){for(var e={},t=Object.keys(n),r=0;r<t.length;r++){var o=t[r];if(ll(n[o])){var s=hy(n[o],this.em).variable;e[o]=s}}return e},i.prototype.removeListeners=function(n){var e=this,t=n||Object.keys(this.dynamicVariableListeners);t.forEach(function(r){e.dynamicVariableListeners[r]&&(e.dynamicVariableListeners[r].destroy(),delete e.dynamicVariableListeners[r])})},i.prototype.getSerializableValues=function(n){if(!n)return{};for(var e=ru({},n),t=Object.keys(e),r=0;r<t.length;r++){var o=t[r];this.dynamicVariableListeners[o]&&(e[o]=this.dynamicVariableListeners[o].dynamicVariable.toJSON())}return e},i.prototype.getAllSerializableValues=function(){for(var n={},e=Object.keys(this.dynamicVariableListeners),t=0;t<e.length;t++){var r=e[t];n[r]=this.dynamicVariableListeners[r].dynamicVariable.toJSON()}return n},i}(),BS=function(){function i(n,e){this.component=n,this.propertyWatcher=new nu(this.createPropertyUpdater(),e),this.attributeWatcher=new nu(this.createAttributeUpdater(),e)}return i.prototype.createPropertyUpdater=function(){var n=this;return function(e,t){n.component.set(e,t,{fromDataSource:!0,avoidStore:!0})}},i.prototype.createAttributeUpdater=function(){var n=this;return function(e,t){var r;n.component.addAttributes((r={},r[e]=t,r),{fromDataSource:!0,avoidStore:!0})}},i.prototype.addProps=function(n){this.propertyWatcher.addDynamicValues(n)},i.prototype.addAttributes=function(n){this.attributeWatcher.addDynamicValues(n)},i.prototype.setAttributes=function(n){this.attributeWatcher.setDynamicValues(n)},i.prototype.removeAttributes=function(n){this.attributeWatcher.removeListeners(n)},i.prototype.getDynamicPropsDefs=function(){return this.propertyWatcher.getAllSerializableValues()},i.prototype.getDynamicAttributesDefs=function(){return this.attributeWatcher.getAllSerializableValues()},i.prototype.getAttributesDefsOrValues=function(n){return this.attributeWatcher.getSerializableValues(n)},i.prototype.getPropsDefsOrValues=function(n){return this.propertyWatcher.getSerializableValues(n)},i.prototype.destroy=function(){this.propertyWatcher.removeListeners(),this.attributeWatcher.removeListeners()},i}(),VS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bt=function(){return Bt=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Bt.apply(this,arguments)},HS=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},ko=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},yy=function(i){return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},rl=function(i){return!!i?.getConfig().avoidInlineStyle},up="component:drag",In="__symbols",fo="__symbol",ul="__symbol_ovrd",Kc=ur.I.update,Vf=ur.I.updateInside,WS=function(i){VS(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this;r.componentDVListener=new BS(r,t.em),r.componentDVListener.addProps(e),(0,A.bindAll)(r,"__upSymbProps","__upSymbCls","__upSymbComps");var o=t.em,s=r.parent(),c=s?.attributes,u=r.get("propagate");if(u&&r.set("propagate",(0,A.isArray)(u)?u:[u]),c&&c.propagate&&!u){var d={},h=c.propagate;h.forEach(function(C){return d[C]=s.get(C)}),d.propagate=h,r.set(Bt(Bt({},d),e))}if(t&&t.config&&t.config.voidElements.indexOf(r.get("tagName"))>=0&&r.set("void",!0),t.em=o,r.opt=t,r.em=o,r.config=t.config||{},r.setAttributes(Bt(Bt({},(0,A.result)(r,"defaults").attributes||{}),r.get("attributes")||{})),r.ccid=n.createId(r,t),r.preInit(),r.initClasses(),r.initComponents(),r.initTraits(),r.initToolbar(),r.initScriptProps(),r.listenTo(r,"change:script",r.scriptUpdated),r.listenTo(r,"change:tagName",r.tagUpdated),r.listenTo(r,"change:attributes",r.attrUpdated),r.listenTo(r,"change:attributes:id",r._idUpdated),r.on("change:toolbar",r.__emitUpdateTlb),r.on("change",r.__onChange),r.on(Vf,r.__propToParent),r.set("status",""),r.views=[],["classes","traits","components"].forEach(function(C){var T="add remove ".concat(C!=="components"?"change":"");r.listenTo(r.get(C),T.trim(),function(){for(var I=[],W=0;W<arguments.length;W++)I[W]=arguments[W];return r.emitUpdate.apply(r,ko([C],I,!1))})}),!t.temporary){var v=o&&o.Css,m=r.attributes,b=m.styles,w=m.type;b&&v&&v.addCollection(b,{avoidUpdateStyle:!0},{group:"cmp:".concat(w)}),r.__postAdd(),r.init(),ii(r)&&Js(r),o?.trigger(ur.I.create,r,t)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var e;return e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},e[fo]=0,e[In]=0,e[ul]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){var e;return(e=this.get("content"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){var e;return(e=this.frame)===null||e===void 0?void 0:e.getPage()},enumerable:!1,configurable:!0}),n.prototype.preInit=function(){},n.prototype.init=function(){},n.prototype.updated=function(e,t,r){},n.prototype.removed=function(){},n.prototype.set=function(e,t,r){var o,s,c,u={skipWatcherUpdates:!1,fromDataSource:!1};typeof e=="object"?(c=e,u=t||u):typeof e=="string"?(c=(o={},o[e]=t,o),u=r||u):(c={},u=r||u);var d=this.em||u.em,h=nu.getStaticValues(c,d),v=u.skipWatcherUpdates||u.fromDataSource;return v||(s=this.componentDVListener)===null||s===void 0||s.addProps(c),i.prototype.set.call(this,h,u)},n.prototype.__postAdd=function(e){e===void 0&&(e={});var t=this.em,r=t?.UndoManager,o=this.components();r&&!this.__hasUm&&(r.add(o),r.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&o.map(function(s){return s.__postAdd(e)})},n.prototype.__postRemove=function(){var e=this.em,t=e?.UndoManager;t&&(t.remove(this.components()),t.remove(this.getSelectors()),delete this.__hasUm)},n.prototype.__onChange=function(e,t){var r=this,o=this.changedAttributes()||{};(0,A.keys)(o).forEach(function(s){return r.emitUpdate(s)}),["status","open","toolbar","traits"].forEach(function(s){return delete o[s]}),(0,Ee.isEmptyObj)(o)||(this.__changesUp(t),this.__propSelfToParent({component:this,changed:o,options:t}))},n.prototype.__onStyleChange=function(e){var t=this,r=this.em;if(r){var o="component:styleUpdate",s=(0,A.keys)(e),c={style:e};r.trigger(o,this,c),s.forEach(function(u){return r.trigger("".concat(o,":").concat(u),t,c)})}},n.prototype.__changesUp=function(e){var t=this,r=t.em,o=t.frame;[o,r].forEach(function(s){return s&&s.changesUp(e)})},n.prototype.__propSelfToParent=function(e){this.trigger(Kc,e),this.__propToParent(e)},n.prototype.__propToParent=function(e){var t=this.parent();t&&t.trigger(Vf,e)},n.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},n.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},n.prototype.__upSymbProps=function(e,t){t===void 0&&(t={}),xS(this,t)},n.prototype.__upSymbCls=function(e,t,r){r===void 0&&(r={}),SS(this,r)},n.prototype.__upSymbComps=function(e,t,r){$0(this,e,t,r)},n.prototype.is=function(e){return this.get("type")==e},n.prototype.props=function(){return this.attributes},n.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},n.prototype.setDragMode=function(e){return this.set("dmode",e)},n.prototype.getDragMode=function(){return this.get("dmode")||""},n.prototype.setSymbolOverride=function(e){var t;this.set(ul,(t=(0,A.isString)(e)?[e]:e)!==null&&t!==void 0?t:0)},n.prototype.getSymbolOverride=function(){return this.get(ul)},n.prototype.find=function(e){var t,r=[],o=(t=this.view)===null||t===void 0?void 0:t.$el.find(e);return o?.each(function(s){var c=o.eq(s),u=c.data("model");u&&r.push(u)}),r},n.prototype.findType=function(e){var t=[],r=function(o){return o.forEach(function(s){s.is(e)&&t.push(s),r(s.components())})};return r(this.components()),t},n.prototype.findFirstType=function(e){return this.findType(e).at(0)},n.prototype.closest=function(e){var t,r=(t=this.view)===null||t===void 0?void 0:t.$el.closest(e);return r?.length?r.data("model"):void 0},n.prototype.closestType=function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t},n.prototype.contains=function(e){var t=!1;if(!e)return t;var r=function(o){!t&&o.forEach(function(s){s===e&&(t=!0),!t&&r(s.components())})};return r(this.components()),t},n.prototype.tagUpdated=function(){this.trigger("rerender")},n.prototype.replaceWith=function(e,t){t===void 0&&(t={});var r=this.collection,o=r.indexOf(this);r.remove(this);var s=r.add(e,Bt(Bt({},t),{at:o}));return(0,A.isArray)(s)?s:[s]},n.prototype.attrUpdated=function(e,t,r){var o=this;r===void 0&&(r={});var s=this.get("attributes"),c=s.class;c&&this.setClass(c),delete s.class;var u=s.style;u&&this.setStyle(u,r),delete s.style;var d=Bt({},this.previous("attributes")),h=(0,Ee.shallowDiff)(d,this.get("attributes"));(0,A.keys)(h).forEach(function(v){var m,b="attributes:".concat(v);o.trigger("change:".concat(b),o,h[v],r),(m=o.em)===null||m===void 0||m.trigger("".concat(Kc,":").concat(b),o,h[v],r)})},n.prototype.setAttributes=function(e,t){t===void 0&&(t={skipWatcherUpdates:!1,fromDataSource:!1});var r=this.em||t.em,o=nu.getStaticValues(e,r),s=t.skipWatcherUpdates||t.fromDataSource;return s||this.componentDVListener.setAttributes(e),this.set("attributes",Bt({},o),t),this},n.prototype.addAttributes=function(e,t){t===void 0&&(t={});var r=this.componentDVListener.getDynamicAttributesDefs();return this.setAttributes(Bt(Bt(Bt({},this.getAttributes({noClass:!0})),r),e),t)},n.prototype.removeAttributes=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var r=Array.isArray(e)?e:[e];this.componentDVListener.removeAttributes(r);var o=this.getAttributes();return r.map(function(s){return delete o[s]}),this.setAttributes(o,t)},n.prototype.getStyle=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r=this.em,o=(0,A.isString)(e)?e:"",s=o?t:e;if(rl(r)&&!s.inline){var c=r.get("state"),u=r.Css,d=u.getIdRule(this.getId(),Bt({state:c},s));return this.rule=d,d?d.getStyle(o):{}}return i.prototype.getStyle.call(this,o)},n.prototype.setStyle=function(e,t){var r=this;e===void 0&&(e={}),t===void 0&&(t={});var o=this,s=o.opt,c=o.em;if(rl(c)&&!s.temporary&&!t.inline){var u=this.get("style")||{};e=(0,A.isString)(e)?this.parseStyle(e):e,e=Bt(Bt({},e),u);var d=c.get("state"),h=c.Css,v=this.getStyle(t);this.rule=h.setIdRule(this.getId(),e,Bt({state:d},t));var m=(0,Ee.shallowDiff)(v,e);this.set("style","",{silent:!0}),(0,A.keys)(m).forEach(function(b){return r.trigger("change:style:".concat(b))})}else e=i.prototype.setStyle.apply(this,arguments);return s.temporary||this.__onStyleChange(t.addStyle||e),e},n.prototype.getAttributes=function(e){e===void 0&&(e={});var t=this.em,r=[],o=Bt({},this.get("attributes")),s=t?.Selectors,c=this.getId();if(e.noClass?delete o.class:(this.classes.forEach(function(h){return r.push((0,A.isString)(h)?h:h.getName())}),r.length&&(o.class=r.join(" "))),!e.noStyle){var u=this.getStyle({inline:!0});(0,Ee.isObject)(u)&&!(0,Ee.isEmptyObj)(u)&&(o.style=this.styleToString({inline:!0}))}if(!(0,A.has)(o,"id")){var d=!1;(rl(t)||!(0,A.isEmpty)(this.getStyle()))&&(d=!!s?.get(c,s.Selector.TYPE_ID)),(ii(this)||this.get("script-export")||this.get("script"))&&(d=!0),d&&(o.id=c)}return o},n.prototype.addClass=function(e){var t=this.em.Selectors.addClass(e);return this.classes.add(t)},n.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},n.prototype.removeClass=function(e){var t=[];e=(0,A.isArray)(e)?e:[e];var r=this.classes,o=yn.TYPE_CLASS;return e.forEach(function(s){var c=s.split(" ");c.forEach(function(u){var d=r.where({name:u,type:o})[0];d&&t.push(r.remove(d))})}),t},n.prototype.getClasses=function(){var e=this.getAttributes(),t=e.class;return t?t.split(" "):[]},n.prototype.initClasses=function(e,t,r){r===void 0&&(r={});var o="change:classes",s=this.get("attributes")||{},c=s.class,u=HS(s,["class"]),d=[this,o,this.initClasses],h=this.get("classes")||c||[],v=(0,A.isString)(h)?h.split(" "):h;this.stopListening.apply(this,d);var m=this.normalizeClasses(v),b=new ji([]);return this.set("classes",b,r),b.add(m),b.on("add remove reset",this.__upSymbCls),c&&m.length&&this.set("attributes",u),this.listenTo.apply(this,d),this},n.prototype.initComponents=function(){var e="change:components",t=[this,e,this.initComponents];this.stopListening.apply(this,t);var r=new Cl([],this.opt);r.parent=this;var o=this.get("components"),s=!this.opt.avoidChildren;return this.set("components",r),s&&o&&r.add((0,A.isFunction)(o)?o(this):o,this.opt),r.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},n.prototype.initTraits=function(e){var t=this,r=this.em,o="change:traits";this.off(o,this.initTraits),this.__loadTraits();var s=Bt({},this.get("attributes")),c=this.traits;c.each(function(d){var h=d.getName(),v=d.getInitValue();d.changeProp?t.set(h,v):h&&v&&(s[h]=v)});var u=this.componentDVListener.getDynamicAttributesDefs();return c.length&&this.setAttributes(Bt(Bt({},s),u)),this.on(o,this.initTraits),e&&r&&r.trigger("component:toggled"),this},n.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",t=["change:".concat(e),this.initScriptProps];this.off.apply(this,t);var r=this.previous(e)||[],o=this.get(e)||[],s=r.map(function(u){return"change:".concat(u)}).join(" "),c=o.map(function(u){return"change:".concat(u)}).join(" ");s&&this.off(s,this.__scriptPropsChange),c&&this.on(c,this.__scriptPropsChange),this.on.apply(this,t)}},n.prototype.__scriptPropsChange=function(e,t,r){r===void 0&&(r={}),!r.avoidStore&&this.trigger("rerender")},n.prototype.append=function(e,t){t===void 0&&(t={});var r=(0,A.isArray)(e)?ko([],e,!0):[e],o=r.map(function(c){return(0,A.isString)(c)||c.collection&&c.collection.remove(c,{temporary:!0}),c}),s=this.components().add(o,Bt({action:ur.t.add},t));return s},n.prototype.components=function(e,t){t===void 0&&(t={});var r=this.get("components");return(0,A.isUndefined)(e)?r:(r.reset(void 0,t),e?this.append(e,t):[])},n.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},n.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},n.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},n.prototype.parent=function(e){e===void 0&&(e={});var t=this.collection||e.prev&&this.prevColl;return t?t.parent:void 0},n.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},n.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},n.prototype.initToolbar=function(){var e=this.em,t=this,r=e&&e.getConfig().stylePrefix||"";if(!t.get("toolbar")&&e){var o=[];t.collection&&o.push({label:e.getIcon("arrowUp"),command:function(s){return s.runCommand("core:component-exit",{force:1})}}),t.get("draggable")&&o.push({attributes:{class:"".concat(r,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),t.get("copyable")&&o.push({label:e.getIcon("copy"),command:"tlb-clone"}),t.get("removable")&&o.push({label:e.getIcon("delete"),command:"tlb-delete"}),t.set("toolbar",o)}},n.prototype.__loadTraits=function(e,t){t===void 0&&(t={});var r=e||this.traits;if(!(r instanceof tu)){r=(0,A.isFunction)(r)?r(this):r;var o=new tu([],this.opt);o.setTarget(this),r.length&&o.add(r),this.set({traits:o},t)}return this},n.prototype.getTraits=function(){return this.__loadTraits(),ko([],this.traits.models,!0)},n.prototype.setTraits=function(e){var t=(0,A.isArray)(e)?e:[e];return this.set({traits:t}),this.getTraits()},n.prototype.getTrait=function(e){return this.getTraits().filter(function(t){return t.get("id")===e||t.get("name")===e})[0]||null},n.prototype.updateTrait=function(e,t){var r,o=this.getTrait(e);return o&&o.set(t),(r=this.em)===null||r===void 0||r.trigger("component:toggled"),this},n.prototype.getTraitIndex=function(e){var t=this.getTrait(e);return t?this.traits.indexOf(t):-1},n.prototype.removeTrait=function(e){var t=this,r,o=(0,A.isArray)(e)?e:[e],s=o.map(function(d){return t.getTrait(d)}),c=this.traits,u=s.length?c.remove(s):[];return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,A.isArray)(u)?u:[u]},n.prototype.addTrait=function(e,t){var r;t===void 0&&(t={}),this.__loadTraits();var o=this.traits.add(e,t);return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,A.isArray)(o)?o:[o]},n.prototype.normalizeClasses=function(e){var t=[],r=this.em,o=r?.Selectors;return o?e.models?ko([],e.models,!0):(e.forEach(function(s){return t.push(o.add(s))}),t):[]},n.prototype.clone=function(e){e===void 0&&(e={});var t=this.em,r=Bt({},this.componentDVListener.getPropsDefsOrValues(this.attributes)),o=Bt({},this.opt),s=this.getId(),c=t?.Css;r.attributes=Bt({},r.attributes?this.componentDVListener.getAttributesDefsOrValues(r.attributes):void 0),r.components=[],r.classes=[],r.traits=[],ga(this)&&(e.symbol=!0),this.get("components").each(function(w,C){r.components[C]=w.clone(Bt(Bt({},e),{_inner:1}))}),this.get("traits").each(function(w,C){r.traits[C]=w.clone()}),this.get("classes").each(function(w,C){r.classes[C]=w.get("name")}),r.status="",o.collection=null;var u=new this.constructor(r,o),d="#".concat(u.getId()),h=c?c.getRules("#".concat(s)):[];h.forEach(function(w){var C=w.clone();C.set("selectors",[d]),c.getAll().add(C)}),u.set(In,0);var v=Fo(this),m=eo(this);!e.symbol&&(v||m)?(u.set(fo,0),u.set(In,0)):v?(v.set(In,ko(ko([],eo(v),!0),[u],!1)),Js(u)):e.symbol&&(fa(this)?(this.set(In,ko(ko([],m,!0),[u],!1)),u.set(fo,this),Js(u)):e.symbolInv?(this.set(In,[u]),u.set(fo,this),[this,u].map(function(w){return Js(w)})):(u.set(In,[this]),[this,u].map(function(w){return Js(w)}),this.set(fo,u)));var b="component:clone";return t&&t.trigger(b,u),this.trigger(b,u),u},n.prototype.getName=function(e){e===void 0&&(e={});var t=this.em,r=this.attributes,o=r.type,s=r.tagName,c=r.name,u=o||s,d=o?"":s,h="domComponents.names.",v=c&&t?.t("".concat(h).concat(c)),m=d&&t?.t("".concat(h).concat(d)),b=t&&(t.t("".concat(h).concat(o))||t.t("".concat(h).concat(s))),w=this.get("custom-name");return(e.noCustom?"":w)||v||c||m||(0,Ee.capitalize)(d)||b||(0,Ee.capitalize)(u)},n.prototype.setName=function(e,t){t===void 0&&(t={}),this.set("custom-name",e,t)},n.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},n.prototype.toHTML=function(e){e===void 0&&(e={});var t=e.tag,r=t||this.get("tagName");delete e.tag;var o=this.__attrToString(e),s=o?" ".concat(o):"",c=this.getInnerHTML(e),u=!c&&this.get("void"),d="<".concat(r).concat(s).concat(u?"/":"",">").concat(c);return!u&&(d+="</".concat(r,">")),d},n.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},n.prototype.__innerHTML=function(e){e===void 0&&(e={});var t=this.components();return t.length?t.map(function(r){return r.toHTML(e)}).join(""):this.content},n.prototype.__attrToString=function(e){e===void 0&&(e={});var t=[],r=e.attributes,o=this.getAttrToHTML(e);if(r&&((0,A.isFunction)(r)?o=r(this,o)||{}:(0,Ee.isObject)(r)&&(o=r)),e.withProps){var s=this.toJSON();(0,A.forEach)(s,function(v,m){var b=["classes","attributes","components"];m[0]!=="_"&&b.indexOf(m)<0&&(o["data-gjs-".concat(m)]=(0,A.isArray)(v)||(0,Ee.isObject)(v)?JSON.stringify(v):(0,A.isBoolean)(v)?"".concat(v):v)})}for(var c in o){var u=o[c];if(!(0,A.isUndefined)(u)&&u!==null)if((0,A.isBoolean)(u))u&&t.push(c);else{var d="";if(e.altQuoteAttr&&(0,A.isString)(u)&&u.indexOf('"')>=0)d="'".concat(u.replace(/'/g,"&apos;"),"'");else{var h=(0,A.isString)(u)?u.replace(/"/g,"&quot;"):u;d='"'.concat(h,'"')}t.push("".concat(c,"=").concat(d))}}return t.join(" ")},n.prototype.getAttrToHTML=function(e){var t=this.getAttributes();return rl(this.em)&&e?.keepInlineStyle!==!0&&delete t.style,t},n.prototype.toJSON=function(e){e===void 0&&(e={});var t=qc.Model.prototype.toJSON.call(this,e);if(t=Bt(Bt({},t),this.componentDVListener.getDynamicPropsDefs()),t.attributes=this.componentDVListener.getAttributesDefsOrValues(this.getAttributes()),delete t.componentDVListener,delete t.attributes.class,delete t.toolbar,delete t.traits,delete t.status,delete t.open,delete t._undoexc,delete t.delegate,!e.fromUndo){var r=t[fo],o=t[In];o&&(0,A.isArray)(o)&&(t[In]=o.filter(function(s){return s}).map(function(s){return s.getId?s.getId():s})),r&&!(0,A.isString)(r)&&(t[fo]=r.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(t),t},n.prototype.getChangedProps=function(e){var t=e||qc.Model.prototype.toJSON.apply(this),r=(0,A.result)(this,"defaults");return(0,A.forEach)(r,function(o,s){["type"].indexOf(s)===-1&&t[s]===o&&delete t[s]}),(0,A.isEmpty)(t.type)&&delete t.type,(0,A.forEach)(["attributes","style"],function(o){(0,A.isEmpty)(r[o])&&(0,A.isEmpty)(t[o])&&delete t[o]}),(0,A.forEach)(["classes","components"],function(o){(!t[o]||(0,A.isEmpty)(r[o])&&!t[o].length)&&delete t[o]}),t},n.prototype.getId=function(){var e=this.get("attributes")||{};return e.id||this.ccid||this.cid},n.prototype.setId=function(e,t){var r=Bt({},this.get("attributes"));return r.id=e,this.set("attributes",r,t),this},n.prototype.getEl=function(e){var t=this.getView(e);return t&&t.el},n.prototype.getView=function(e){var t=this,r=t.view,o=t.views,s=t.em,c=e||s?.getCurrentFrameModel();return c&&(r=o.filter(function(u){return u.frameView===c.view})[0]),r},n.prototype.getCurrentView=function(){var e=this.em.getCurrentFrame(),t=e?.model;return this.getView(t)},n.prototype.__getScriptProps=function(){var e=this.props(),t=this.get("script-props")||[];return t.reduce(function(r,o){return r[o]=e[o],r},{})},n.prototype.getScriptString=function(e){var t=this,r=e||this.get("script")||"";if(!r)return r;if(this.get("script-props"))r=r.toString().trim();else{if((0,A.isFunction)(r)){var o=r.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),r=o.trim()}var s=this.em.getConfig(),c=yy(s.tagVarStart||"{[ "),u=yy(s.tagVarEnd||" ]}"),d=new RegExp("".concat(c,"([\\w\\d-]*)").concat(u),"g");r=r.replace(d,function(h,v){t.scriptUpdated();var m=t.attributes[v]||"";return(0,A.isArray)(m)||typeof m=="object"?JSON.stringify(m):m})}return r},n.prototype.emitUpdate=function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=this.em,c=Kc+(e?":".concat(e):""),u=e&&this.get(e);e&&this.updated.apply(this,ko([e,u,e&&this.previous(e)],r,!1)),this.trigger.apply(this,ko([c],r,!1)),s&&s.trigger.apply(s,ko([c,this],r,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(t={},t[e]=u,t),options:r[2]||r[1]||{}})},n.prototype.emitWithEitor=function(e,t){[this.em,this].forEach(function(r){return r?.trigger(e,t)})},n.prototype.onAll=function(e){return(0,A.isFunction)(e)&&(e(this),this.components().forEach(function(t){return t.onAll(e)})),this},n.prototype.forEachChild=function(e){(0,A.isFunction)(e)&&this.components().forEach(function(t){e(t),t.forEachChild(e)})},n.prototype.remove=function(e){var t=this;e===void 0&&(e={});var r=this.em,o=this.collection,s=function(){o&&o.remove(t,Bt({action:ur.t.remove},e)),o||(t.components("",e),t.components().removeChildren(t,void 0,e))},c=Bt({},e);return[this,r].map(function(u){return u.trigger(ur.I.removeBefore,t,s,c)}),!c.abort&&s(),this},n.prototype.destroy=function(e){return this.componentDVListener.destroy(),i.prototype.destroy.call(this,e)},n.prototype.move=function(e,t){if(t===void 0&&(t={}),e){var r=t.at,o=this.index(),s=e===this.parent(),c=o===r||o===r-1;if(!s||!c){s&&r&&r>o&&(t.at=r-1);var u=ur.t.move;this.remove({action:u,temporary:1}),e.append(this,Bt({action:u},t)),this.emitUpdate()}}return this},n.prototype.isInstanceOf=function(e){var t,r,o=(r=(t=this.em)===null||t===void 0?void 0:t.Components.getType(e))===null||r===void 0?void 0:r.model;if(!o)return!1;var s=this.constructor.typeExtends;return this instanceof o||s.has(e)},n.prototype.isChildOf=function(e){for(var t=(0,A.isString)(e),r=this.parent();r;){if(t){if(r.isInstanceOf(e))return!0}else if(r===e)return!0;r=r.parent()}return!1},n.prototype.resetId=function(e){e===void 0&&(e={});var t=this.em,r=this.getId();if(!r)return this;var o=n.createId(this);this.setId(o);var s=t?.Css.getIdRule(r),c=s?.get("selectors").at(0);return c?.set("name",o),this},n.prototype._getStyleRule=function(e){var t=e===void 0?{}:e,r=t.id,o=this.em,s=r||this.getId();return o?.Css.getIdRule(s)},n.prototype._getStyleSelector=function(e){var t=this._getStyleRule(e);return t?.get("selectors").at(0)},n.prototype._idUpdated=function(e,t,r){if(r===void 0&&(r={}),!r.idUpdate){var o=this.ccid,s=(this.get("attributes")||{}).id,c=(this.previous("attributes")||{}).id||o,u=n.getList(this);if(u[s]||!s&&c)return this.setId(c,{idUpdate:!0});delete u[c],u[s]=this,this.ccid=s;var d=this._getStyleSelector({id:c});d&&d.set({name:s,label:s})}},n.getDefaults=function(){return(0,A.result)(this.prototype,"defaults")},n.isComponent=function(e,t){return{tagName:(0,Ee.toLowerCase)(e.tagName)}},n.ensureInList=function(e){var t=n.getList(e),r=e.getId(),o=t[r];if(!o)t[r]=e;else if(o!==e){var s=n.getIncrementId(r,t);e.setId(s),t[s]=e}e.components().forEach(function(c){return n.ensureInList(c)})},n.createId=function(e,t){t===void 0&&(t={});var r=n.getList(e),o=t.idMap,s=o===void 0?{}:o,c=e.get("attributes").id,u;return c?(u=n.getIncrementId(c,r,t),e.setId(u),c!==u&&(s[c]=u)):u=n.getNewId(r),r[u]=e,u},n.getNewId=function(e){for(var t=Object.keys(e).length,r=t.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-r),s="i".concat(o);e[s];)s=n.getNewId(e);return s},n.getIncrementId=function(e,t,r){r===void 0&&(r={});var o=r.keepIds,s=o===void 0?[]:o,c=1,u=e;if(s.indexOf(e)<0)for(;t[u];)c++,u="".concat(e,"-").concat(c);return u},n.getList=function(e){var t,r=e.em,o=r?.Components;return(t=o?.componentsById)!==null&&t!==void 0?t:{}},n.checkId=function(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r={}),o===void 0&&(o={});var s=(0,A.isArray)(e)?e:[e],c=o.keepIds,u=c===void 0?[]:c,d=o.idMap,h=d===void 0?{}:d;s.forEach(function(v){v.attributes;var m=v.attributes,b=m===void 0?{}:m,w=v.components,C=b.id;if(C&&r[C]&&u.indexOf(C)<0){var T=n.getIncrementId(C,r);h[C]=T,b.id=T,(0,A.isArray)(t)&&t.forEach(function(I){var W=I.selectors;W.forEach(function(j,z){j==="#".concat(C)&&(W[z]="#".concat(T))})})}w&&n.checkId(w,t,r,o)})},n.typeExtends=new Set,n}(z0),xr=WS,zS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ou=function(){return ou=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ou.apply(this,arguments)},fs="head",US=["title","style","base","link","meta","script","noscript"],$S=function(i){zS(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return ou(ou({},i.prototype.defaults),{type:fs,tagName:fs,draggable:!1,highlightable:!1,droppable:function(e){var t=e.tagName;return!t||US.includes((0,Ee.toLowerCase)(t))}})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===fs},n}(xr),KS=$S,va=jt(2128),GS=jt(6778),YS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qS=function(i){YS(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.canMove=function(e,t){var r=this,o=this.getRealIndex(t),s=e._dragSource,c=s.model,u=s.content,d=s.dragDef,h=!c||!this.isSourceSameSymbol(c),v=((0,A.isFunction)(u)?d:u)||e.model;return Array.isArray(v)?h&&v.every(function(m,b){return r.canMoveSingleContent(m,o+b)}):h&&this.canMoveSingleContent(v,o)},n.prototype.canMoveSingleContent=function(e,t){return this.model.em.Components.canMove(this.model,e,t).result},n.prototype.addChildAt=function(e,t){var r=e._dragSource,o=r.content,s=this.isTextNode()&&e.isTextable(),c=(0,A.isFunction)(o)?o():o;return Array.isArray(c)?this.addMultipleChildren(c,t,s):this.addSingleChild(c,t,s)},n.prototype.addSingleChild=function(e,t,r){var o,s,c,u,d;return r?d=(u=(c=(s=(o=this.model)===null||o===void 0?void 0:o.getView)===null||s===void 0?void 0:s.call(o))===null||c===void 0?void 0:c.insertComponent)===null||u===void 0?void 0:u.call(c,e,{action:"add-component"}):d=this.model.components().add(e,{at:this.getRealIndex(t),action:"add-component"}),new this.constructor(d)},n.prototype.addMultipleChildren=function(e,t,r){var o=this,s;return e.forEach(function(c,u){s=o.addSingleChild(c,t+u,r)}),s},n.prototype.isSourceSameSymbol=function(e){if(ii(this.model)){var t=wl(this.model),r=fa(t)?t:Fo(t);if(r===e)return!0}return!1},Object.defineProperty(n.prototype,"content",{set:function(e){this._dragSource.content=e},enumerable:!1,configurable:!0}),n}(GS.A),Q0=qS,es=function(){return es=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},es.apply(this,arguments)},XS=function(){function i(n,e){var t=this;this.em=n,this.canvas=n.Canvas;var r=e||this.canvas.getFrames().map(function(s){return s.getComponent().getEl()}),o=Array.isArray(r)?r:[r];this.el=o[0],this.counter=0,(0,A.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),o.forEach(function(s){return t.toggleEffects(s,!0)})}return i.prototype.toggleEffects=function(n,e){var t={on:Ue.on,off:Ue.AU},r=e?"on":"off";t[r](n,"dragenter",this.handleDragEnter),t[r](n,"dragover",this.handleDragOver),t[r](n,"drop",this.handleDrop),t[r](n,"dragleave",this.handleDragLeave)},i.prototype.__customTglEff=function(n){var e,t=n?Ue.on:Ue.AU,r=this.el.ownerDocument,o=(e=r.defaultView)===null||e===void 0?void 0:e.frameElement,s=function(c){return{legacyOnStartSort:function(){(0,Ue.on)(o,"pointermove",c.onMove)},legacyOnEnd:function(){(0,Ue.AU)(o,"pointermove",c.onMove)},customTarget:function(u){var d=u.event;return r.elementFromPoint(d.clientX,d.clientY)}}};this.getSorterOptions=n?s:void 0,t(o,"pointerenter",this.handleDragEnter),t(o,"pointermove",this.handleDragOver),t(document,"pointerup",this.handleDrop),t(o,"pointerout",this.handleDragLeave)},i.prototype.startCustom=function(){this.__customTglEff(!0)},i.prototype.endCustom=function(n){this.over?this.endDrop(n):this.__customTglEff(!1)},i.prototype.endDrop=function(n,e){var t=this,r=t.em,o=t.dragStop;this.counter=0,o&&o(n||!this.over),this.__customTglEff(!1),r.trigger("canvas:dragend",e)},i.prototype.handleDragLeave=function(n){this.updateCounter(-1,n)},i.prototype.updateCounter=function(n,e){this.counter+=n,this.counter===0&&this.endDrop(!0,e)},i.prototype.handleDragEnter=function(n){var e=this,t,r,o,s=this,c=s.em,u=s.canvas,d=n.dataTransfer,h=c.get("dragSource");if(!(!h?.content&&!u.getConfig().allowExternalDrop)&&(this.updateCounter(1,n),!this.over)){this.over=!0;var v=c.Utils,m=h?.content||"<br>",b;if(c.stopDefault(),c.inAbsoluteMode()){var w=c.Components.getWrapper(),C=w.append({})[0],T=c.Commands.run("core:component-drag",{event:n,guidesInfo:1,center:1,target:C,onEnd:function(ye,xe,le){var Y=le.cancelled,oe;if(!Y&&m){oe=w.append(m)[0];var V=u.getOffset(),R=C.getStyle(),U=R.top,H=R.left,te=R.position,P=(0,Ue.Xy)(ye.target),ve=parseInt("".concat(parseFloat(H)+P.x-V.left),10),ge=parseInt("".concat(parseFloat(U)+P.y-V.top),10);oe.addStyle({left:ve+"px",top:ge+"px",position:te})}e.handleDragEnd(oe,d),C.remove()}});b=function(ye){return T.stop(n,{cancel:ye})},this.setAbsoluteDragContent=function(ye){return m=ye}}else{var I=new v.ComponentSorter({em:c,treeClass:Q0,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:u.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:va.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),W=(t=this.getSorterOptions)===null||t===void 0?void 0:t.call(this,I);W&&(I.eventHandlers.legacyOnStartSort=W.legacyOnStart,I.eventHandlers.legacyOnEnd=W.legacyOnEnd,I.containerContext.customTarget=W.customTarget);var j=this.getTempDropModel(m),z=(r=j.view)===null||r===void 0?void 0:r.el,ue=z?[{element:z,dragSource:h}]:[];I.startSort(ue),this.sorter=I,this.draggedNode=(o=I.sourceNodes)===null||o===void 0?void 0:o[0],b=function(ye){ye?I.cancelDrag():I.endDrag()}}this.dragStop=b,c.trigger("canvas:dragenter",d,m)}},i.prototype.getTempDropModel=function(n){var e,t=this.em.Components.getComponents(),r={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},o=t.add(n,es(es({},r),{temporary:!0})),s=t.remove(o,es(es({},r),{temporary:!0}));return s=s instanceof Array?s[0]:s,(e=s.view)===null||e===void 0||e.$el.data("model",s),s},i.prototype.handleDragEnd=function(n,e){var t=this.em;this.over=!1,n&&(t.set("dragResult",n),t.trigger("canvas:drop",e,n)),t.runDefault({preserveSelected:1})},i.prototype.handleDragOver=function(n){n.preventDefault(),this.em.trigger("canvas:dragover",n)},i.prototype.handleDrop=function(n){var e;n.preventDefault();var t=n.dataTransfer,r=this.getContentByData(t).content;this.draggedNode&&(this.draggedNode.content=r),(e=this.setAbsoluteDragContent)===null||e===void 0||e.call(this,r),this.endDrop(!r,n)},i.prototype.getContentByData=function(n){var e=this.em,t=n&&n.types,r=n&&n.files||[],o=e.get("dragSource"),s=n&&n.getData("text");if(r.length){s=[];for(var c=0;c<r.length;c++){var u=r[c],d=u.type.split("/")[0];d=="image"&&s.push({type:d,file:u,attributes:{alt:u.name}})}}else if(o?.content)s=o.content;else if((0,A.indexOf)(t,"text/html")>=0)s=n&&n.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,A.indexOf)(t,"text/uri-list")>=0)s={type:"link",attributes:{href:s},content:s};else if((0,A.indexOf)(t,"text/json")>=0){var h=n&&n.getData("text/json");h&&(s=JSON.parse(h))}else t.length===1&&t[0]==="text/plain"&&(s="<div>".concat(s,"</div>"));var v={content:s};return e.trigger("canvas:dragdata",n,v),v},i}(),ZS=XS,JS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uo=function(){return uo=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},uo.apply(this,arguments)},QS=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},e1=function(i){JS(n,i);function n(e,t){var r=i.call(this,{model:e})||this;r.dragging=!1,r.loaded=!1,r.lastMaxHeight=0,r.tools={},(0,A.bindAll)(r,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var o=r.el;r.module._config=uo(uo({},r.config||{}),{frameView:r}),r.frameWrapView=t,r.showGlobalTools=(0,A.debounce)(r.showGlobalTools.bind(r),50);var s=r.getCanvasModel();return r.listenTo(e,"change:head",r.updateHead),r.listenTo(s,"change:styles",r.renderStyles),e.view=r,(0,Ee.setViewEl)(o,r),r}return Object.defineProperty(n.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),n.prototype.getBoxRect=function(){var e=this,t=e.el,r=e.module,o=r.getCanvasView(),s=r.getCoords(),c=t.getBoundingClientRect(),u=o.getCanvasOffset(),d=o.getViewportDelta(),h=r.getZoomMultiplier(),v=(c.x-u.left-d.x-s.x)*h,m=(c.y-u.top-d.y-s.y)*h,b=c.width*h,w=c.height*h;return{x:v,y:m,width:b,height:w}},n.prototype.updateHead=function(){var e=this.model,t=this.getHead(),r=[],o=[],s=e.head,c=e.previous("head"),u=function(h){return h===void 0&&(h={}),Object.keys(h).sort().map(function(v){return"[".concat(v,'="').concat(h[v],'"]')}).join("")},d=function(h,v,m){h.forEach(function(b){var w=b.tag,C=b.attributes,T=v.some(function(I){return I.tag===w&&u(I.attributes)===u(C)});!T&&m.push(b)})};d(s,c,o),d(c,s,r),r.forEach(function(h){var v,m=t.querySelector("".concat(h.tag).concat(u(h.attributes)));(v=m?.parentNode)===null||v===void 0||v.removeChild(m)}),(0,Ue.af)(t,o)},n.prototype.getEl=function(){return this.el},n.prototype.getCanvasModel=function(){var e;return(e=this===null||this===void 0?void 0:this.em.Canvas)===null||e===void 0?void 0:e.getModel()},n.prototype.getWindow=function(){return this.getEl().contentWindow},n.prototype.getDoc=function(){return this.getEl().contentDocument},n.prototype.getHead=function(){return this.getDoc().querySelector("head")},n.prototype.getBody=function(){return this.getDoc().querySelector("body")},n.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},n.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,Ue.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},n.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},n.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},n.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},n.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},n.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},n.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},n.prototype.getOffsetRect=function(){var e=this.el,t=this.getBody(),r=t.scrollTop,o=t.scrollLeft,s=e.offsetHeight,c=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:s,width:c,scrollTop:r,scrollLeft:o,scrollBottom:r+s,scrollRight:o+c}},n.prototype._getTool=function(e){var t=this.tools,r=this.getToolsEl();return t[e]||(t[e]=r.querySelector(e)),t[e]},n.prototype.remove=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this._toggleEffects(!1),this.tools={},(e=this.wrapper)===null||e===void 0||e.remove(),ho.prototype.remove.apply(this,t),this},n.prototype.startAutoscroll=function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(!0),requestAnimationFrame(e.autoscroll)},0)},n.prototype.autoscroll=function(){if(this.dragging){var e=this.lastClientY,t=this.em.Canvas,r=this.getWindow(),o=r.pageYOffset,s=e||0,c=t.getConfig().autoscrollLimit,u=this.getRect().height-c,d=o;if(s<c&&(d-=c-s),s>u&&(d+=s-u),!(0,A.isUndefined)(e)&&d!==o&&d>0&&d<this.lastMaxHeight){var h=this.getGlobalToolsEl();h.style.opacity="0",this.showGlobalTools(),r.scrollTo(0,d),t.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},n.prototype.updateClientY=function(e){e.preventDefault(),this.lastClientY=(0,Ue.G2)(e).clientY*this.em.getZoomDecimal()},n.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},n.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},n.prototype._toggleAutoscrollFx=function(e){this.dragging=e;var t=this.getWindow(),r=e?"on":"off",o={on:Ue.on,off:Ue.AU};o[r](t,"mousemove dragover",this.updateClientY),o[r](t,"mouseup",this.stopAutoscroll)},n.prototype.render=function(){var e=this,t=e.$el,r=e.ppfx,o=e.em;return t.attr({class:"".concat(r,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},n.prototype.renderScripts=function(){var e=this,t=this,r=t.el,o=t.model,s=t.em,c="frame:load",u={el:r,model:o,view:this},d=this.getCanvasModel(),h=function(v){var m;if(v.length>0){var b=v.shift(),w=(0,Ue.a_)("script",uo({type:"text/javascript"},(0,A.isString)(b)?{src:b}:b));(m=r.contentDocument)===null||m===void 0||m.head.appendChild(w),w.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?h(v):w.onerror=w.onload=h.bind(null,v)}else s?.trigger(zc.frameLoadHead,u),e.renderBody(),s?.trigger(zc.frameLoadBody,u),s?.trigger(c,u)};r.onload=function(){var v=e.config.frameContent;if(v){var m=e.getDoc();m.open(),m.write(v),m.close()}u.window=e.getWindow(),s?.trigger("".concat(c,":before"),u),s?.trigger(zc.frameLoad,u),e.renderHead(),h(QS([],d.get("scripts"),!0))}},n.prototype.renderStyles=function(e){e===void 0&&(e={});var t=this.getHead(),r=this.getCanvasModel(),o=function(v){return v===void 0&&(v=[]),v.map(function(m){return{tag:"link",attributes:uo({rel:"stylesheet"},(0,A.isString)(m)?{href:m}:m)}})},s=o(e.prev||r.previous("styles")),c=o(r?.get("styles")),u=[],d=[],h=function(v,m,b){v.forEach(function(w){var C=w.attributes.href,T=m.some(function(I){return I.attributes.href===C});!T&&b.push(w)})};h(c,s,d),h(s,c,u),u.forEach(function(v){var m,b=t.querySelector('link[href="'.concat(v.attributes.href,'"]'));(m=b?.parentNode)===null||m===void 0||m.removeChild(b)}),(0,Ue.af)(t,d)},n.prototype.renderHead=function(){var e,t=this,r=t.model,o=t.em,s=r.root,c=(e=o?.Components)===null||e===void 0?void 0:e.getType(fs).view;c&&(this.headView=new c({el:this.getHead(),model:s.head,config:uo(uo({},s.config),{frameView:this})}).render())},n.prototype.renderBody=function(){var e=this,t,r,o,s=this,c=s.config,u=s.em,d=s.model,h=s.ppfx,v=this.getDoc(),m=this.getBody(),b=this.getWindow(),w=d.hasAutoHeight(),C=u.config;b._isEditor=!0,this.renderStyles({prev:[]});var T="#ffca6f";(0,Ue.BC)(m,`<style>
      `.concat(C.baseCss||c.frameStyle||"",`

      `).concat(w?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(w?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(h,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(h,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(h,`selected-parent {
        outline: 2px solid `).concat(T,` !important
      }

      .`).concat(h,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(h,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(h,`no-pointer {
        pointer-events: none;
      }

      .`).concat(h,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(h,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(h,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(h,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(h,`is__grabbing,
      .`).concat(h,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(C.canvasCss||"",`
      `).concat(C.protectedCss||"",`
    </style>`));var I=d.root,W=(((t=u?.Components)===null||t===void 0?void 0:t.getType("wrapper"))||{}).view;W&&(this.wrapper=new W({model:I,config:uo(uo({},I.config),{em:u,frameView:this})}).render(),(0,Ue.BC)(m,(r=this.wrapper)===null||r===void 0?void 0:r.el),(0,Ue.BC)(m,new F0({collection:d.getStyles(),config:uo(uo({},u.Css.getConfig()),{frameView:this})}).render().el),(0,Ue.BC)(m,this.getJsContainer()),(0,Ue.on)(m,"click",function(j){var z;return j&&((z=j.target)===null||z===void 0?void 0:z.tagName)=="A"&&j.preventDefault()}),(0,Ue.on)(m,"submit",function(j){return j&&j.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!c.infiniteCanvas}}].forEach(function(j){return j.event.split(" ").forEach(function(z){v.addEventListener(z,function(ue){return e.el.dispatchEvent((0,Ue.yL)(ue,j.class))},j.opts)})}),this._toggleEffects(!0),(0,Ee.hasDnd)(u)&&(this.droppable=new ZS(u,(o=this.wrapper)===null||o===void 0?void 0:o.el)),this.loaded=!0,d.trigger("loaded"))},n.prototype._toggleEffects=function(e){var t=e?Ue.on:Ue.AU,r=this.getWindow();r&&t(r,"".concat(Ue.D8," resize"),this._emitUpdate)},n.prototype._emitUpdate=function(){this.model._emitUpdated()},n}(ho),t1=e1,eb=jt(5633),r1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ts=function(){return ts=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ts.apply(this,arguments)},n1=function(i){r1(n,i);function n(e,t){var r=i.call(this,{model:e})||this;(0,A.bindAll)(r,"onScroll","frameLoaded","updateOffset","remove","startDrag");var o=ts(ts({},e.config),{frameWrapView:r});return r.cv=t,r.frame=new t1(e,r),r.classAnim="".concat(r.ppfx,"frame-wrapper--anim"),r.updateOffset=(0,A.debounce)(r.updateOffset.bind(r),0),r.updateSize=(0,A.debounce)(r.updateSize.bind(r),0),r.listenTo(e,"loaded",r.frameLoaded),r.listenTo(e,"change:x change:y",r.updatePos),r.listenTo(e,"change:width change:height",r.updateSize),r.listenTo(e,"destroy remove",r.remove),r.updatePos(),r.setupDragger(),r}return n.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},n.prototype.setupDragger=function(){var e=this,t=this,r=t.module,o=t.model,s,c,u,d=function(h){r.toggleFramesEvents(h)};this.dragger=new eb.A({onStart:function(){var h=o.attributes,v=h.x,m=h.y;u=e.em.getZoomMultiplier(),s=v,c=m,d(!1)},onEnd:function(){return d(!0)},setPosition:function(h){o.set({x:s+h.x*u,y:c+h.y*u})}})},n.prototype.startDrag=function(e){var t;e&&((t=this.dragger)===null||t===void 0||t.start(e))},n.prototype.__clear=function(e){var t=this.frame;t&&t.remove(e),(0,Ue.YZ)(this.elTools)},n.prototype.remove=function(e){var t=this;return this.__clear(e),ho.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(r){return t[r]=0}),this},n.prototype.updateOffset=function(){var e,t=this,r=t.em,o=t.$el,s=t.frame;!r||r.destroyed||(r.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(e=s?.model)===null||e===void 0||e._emitUpdated())},n.prototype.updatePos=function(e){var t=this,r=t.model,o=t.el,s=r.attributes,c=s.x,u=s.y,d=o.style;this.frame.rect=void 0,d.left=isNaN(c)?c:"".concat(c,"px"),d.top=isNaN(u)?u:"".concat(u,"px"),e&&this.updateOffset()},n.prototype.updateSize=function(){this.updateDim()},n.prototype.updateDim=function(){var e=this,t=e.em,r=e.el,o=e.$el,s=e.model,c=e.classAnim,u=e.frame;if(u){u.rect=void 0,o.addClass(c);var d=this.__handleSize(),h=d.noChanges,v=d.width,m=d.height;((0,A.isNull)(v)||(0,A.isNull)(m))&&s.set(ts(ts({},v?{}:{width:r.offsetWidth}),m?{}:{height:r.offsetHeight}),{silent:1}),t.stopDefault({preserveSelected:1}),h?this.updateOffset():setTimeout(this.updateOffset,350)}},n.prototype.onScroll=function(){var e=this,t=e.frame,r=e.em;r.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},n.prototype.frameLoaded=function(){var e=this,t=e.frame,r=e.config;t.getWindow().onscroll=this.onScroll,this.updateDim()},n.prototype.__handleSize=function(){var e,t,r="px",o=this,s=o.model,c=o.el,u=c.style,d=s.attributes,h=d.width,v=d.height,m=u.width||"",b=u.height||"",w=h||"",C=v||"",T=m==w&&b==C,I=(0,A.isNumber)(w)?"".concat(w).concat(r):w,W=(0,A.isNumber)(C)?"".concat(C).concat(r):C;if(u.width=I,s.hasAutoHeight()){var j=this.frame.el;if(j.contentDocument){var z=j.contentDocument,ue=new ResizeObserver(function(){u.height="".concat(z.body.scrollHeight,"px")});ue.observe(z.body),(e=this.sizeObserver)===null||e===void 0||e.disconnect(),this.sizeObserver=ue}}else u.height=W,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),delete this.sizeObserver;return{noChanges:T,width:h,height:v,newW:w,newH:C}},n.prototype.render=function(){var e=this,t=e.frame,r=e.$el,o=e.ppfx,s=e.cv,c=e.model,u=e.el,d=c.attributes.onRender;this.__clear(),this.__handleSize(),t.render(),r.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(c.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(t.el);var h=(0,Ue.a_)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=h;var v=s?.toolsWrapper;return v&&v.appendChild(h),d&&d({el:u,elTop:u.querySelector("[data-frame-top]"),elRight:u.querySelector("[data-frame-right]"),elBottom:u.querySelector("[data-frame-bottom]"),elLeft:u.querySelector("[data-frame-left]"),frame:c,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},n}(ho),o1=n1,i1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),a1=function(i){i1(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,!0)||this;return r.listenTo(r.collection,"reset",r.render),r.canvasView=t.canvasView,r._module=t.module,r}return n.prototype.onRemoveBefore=function(e,t){t===void 0&&(t={}),e.forEach(function(r){return r.remove(t)})},n.prototype.onRender=function(){var e=this,t=e.$el,r=e.ppfx;t.attr({class:"".concat(r,"frames")})},n.prototype.clearItems=function(){var e=this.viewCollection||[];e.forEach(function(t){return t.remove()}),this.viewCollection=[]},n.prototype.renderView=function(e,t){return new o1(e,this.canvasView)},n}(zx),s1=a1,l1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),iu=function(){return iu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},iu.apply(this,arguments)},c1=function(i){l1(n,i);function n(e){var t=i.call(this,{model:e})||this;t.ready=!1,(0,A.bindAll)(t,"clearOff","onKeyPress","onWheel","onPointer");var r=t,o=r.em,s=r.pfx,c=r.ppfx,u=t.module.events;return t.className="".concat(s,"canvas ").concat(c,"no-touch-actions").concat(o.config.customUI?"":" ".concat(s,"canvas-bg")),t.clsUnscale="".concat(s,"unscale"),t._initFrames(),t.listenTo(o,u.refresh,t.clearOff),t.listenTo(o,"component:selected",t.checkSelected),t.listenTo(o,"".concat(u.coords," ").concat(u.zoom),t.updateFrames),t.listenTo(e,"change:frames",t._onFramesUpdate),t.toggleListeners(!0),t}return n.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames>
        <div class="`).concat(e,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},n.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},n.prototype._initFrames=function(){var e=this,t=e.frames,r=e.model,o=e.config,s=e.em,c=r.frames;s.set("readyCanvas",0),c.once("loaded:all",function(){return s.set("readyCanvas",1)}),t?.remove(),this.frames=new s1({collection:c},iu(iu({},o),{canvasView:this}))},n.prototype.checkSelected=function(e,t){var r;t===void 0&&(t={});var o=t.scroll,s=this.em.getCurrentFrame();o&&((r=e.views)===null||r===void 0||r.forEach(function(c){c.frameView===s&&c.scrollIntoView(o)}))},n.prototype.remove=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,ho.prototype.remove.apply(this,t),this.toggleListeners(!1),this},n.prototype.preventDefault=function(e){var t;e&&(e.preventDefault(),(t=e._parentEvent)===null||t===void 0||t.preventDefault())},n.prototype.toggleListeners=function(e){var t=this,r=t.el,o=t.config,s=e?Ue.on:Ue.AU;s(document,"keypress",this.onKeyPress),s(window,"scroll resize",this.clearOff),s(r,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),s(r,"pointermove",this.onPointer)},n.prototype.screenToWorld=function(e,t){var r=this.module,o=r.getCoords(),s=r.getZoomMultiplier(),c=this.getViewportDelta();return{x:(e-o.x-c.x)*s,y:(t-o.y-c.y)*s}},n.prototype.onPointer=function(e){if(this.config.infiniteCanvas){var t=this.getCanvasOffset(),r=(0,Ue.Xy)(),o={x:e.clientX-t.left+r.x,y:e.clientY-t.top+r.y};if(e._parentEvent){var s=e.target.getBoundingClientRect(),c=this.module.getZoomDecimal();o.x=s.left-t.left+r.x+e.clientX*c,o.y=s.top-t.top+r.y+e.clientY*c}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},n.prototype.onKeyPress=function(e){var t=this.em,r=(0,Ue.Ch)(e);r===" "&&t.getZoomDecimal()!==1&&!t.Canvas.isInputFocused()&&(this.preventDefault(e),t.Editor.runCommand("core:canvas-move"))},n.prototype.onWheel=function(e){var t=this,r=t.module,o=t.config;if(o.infiniteCanvas){this.preventDefault(e);var s=e.deltaX,c=e.deltaY,u=r.getZoomDecimal(),d=(0,Ue.rp)(e),h=r.getCoords();if(d){var v=u-c*u*.01;r.setZoom(v*100);var m=this.model.getPointerCoords(je.x2.Screen),b=this.getCanvasOffset(),w=m.x-b.width/2,C=m.y-b.height/2,T=v/u,I=w-(w-h.x)*T,W=C-(C-h.y)*T;r.setCoords(I,W)}else this.onPointer(e),r.setCoords(h.x-s,h.y-c)}},n.prototype.updateFrames=function(e){var t=this.em,r=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),r.style.display="none",t.trigger("canvas:update",e),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){t.stopDefault(o),t.runDefault(o),r.style.display=""},300)},n.prototype.updateFramesArea=function(){var e=this,t=e.framesArea,r=e.model,o=e.module,s=e.cvStyle,c=e.clsUnscale,u=o.getZoomMultiplier();if(t){var d=r.attributes,h=d.x,v=d.y,m=o.getZoomDecimal();t.style.transform="scale(".concat(m,") translate(").concat(h*u,"px, ").concat(v*u,"px)")}s&&(s.innerHTML=`
        .`.concat(c," { scale: ").concat(u,` }
      `))},n.prototype.fitViewport=function(e){var t,r;e===void 0&&(e={});var o=this,s=o.em,c=o.module,u=o.model,d=this.getCanvasOffset(),h=e.el,v=h&&((t=(0,Ee.getComponentView)(h))===null||t===void 0?void 0:t.frameView),m=v?v.model:e.frame||s.getCurrentFrameModel()||u.frames.at(0),b=m.attributes,w=b.x,C=b.y,T={x:w??0,y:C??0,width:m.width,height:m.height};if(h){var I=this.getElBoxRect(h);T.x=T.x+I.x,T.y=T.y+I.y,T.width=I.width,T.height=I.height}var W=e.ignoreHeight,j=(r=e.gap)!==null&&r!==void 0?r:0,z=(0,A.isNumber)(j),ue=z?j:j.x,ye=z?j:j.y,xe=T.width+ue*2,le=T.height+ye*2,Y=d.width,oe=d.height,V=Y/xe,R=oe/le,U=W?V:Math.min(V,R),H=U*100;c.setZoom(H);var te=-T.x+(m.width>=Y?Y/2-xe/2:-ue),P=-T.y+oe/2-le/2,ve={x:(te+ue)*U,y:(P+ye)*U};if(W){var ge=c.getZoomMultiplier(),De=oe*ge,qe=De-oe,Ye=qe/2;ve.y=(-T.y+ye)*U-Ye/ge}c.setCoords(ve.x,ve.y)},n.prototype.isElInViewport=function(e){var t=(0,Ee.getElement)(e),r=(0,Ue.C8)(t),o=this.getFrameOffset(t),s=r.top,c=r.left;return s>=0&&c>=0&&s<=o.height&&c<=o.width},n.prototype.offset=function(e,t){t===void 0&&(t={});var r=t.noScroll,o=(0,Ue.C8)(e),s=r?{x:0,y:0}:(0,Ue.Xy)(e);return{top:o.top+s.y,left:o.left+s.x,width:o.width,height:o.height}},n.prototype.getRectToScreen=function(e){var t,r,o,s,c=this.module.getZoomDecimal(),u=this.module.getCoords(),d=this.getViewportDelta(),h=((t=e.x)!==null&&t!==void 0?t:0)*c+u.x+d.x||0,v=((r=e.y)!==null&&r!==void 0?r:0)*c+u.y+d.y||0;return{x:h,y:v,width:((o=e.width)!==null&&o!==void 0?o:0)*c,height:((s=e.height)!==null&&s!==void 0?s:0)*c}},n.prototype.getElBoxRect=function(e,t){var r,o,s;t===void 0&&(t={});var c=this.module,u=(0,Ue.C8)(e),d=u.width,h=u.height,v=u.left,m=u.top,b=(r=(0,Ee.getComponentView)(e))===null||r===void 0?void 0:r.frameView,w=b?.getBoxRect(),C=c.getZoomMultiplier(),T=(o=w?.x)!==null&&o!==void 0?o:0,I=(s=w?.y)!==null&&s!==void 0?s:0,W=this.el,j=(0,Ue.Xy)(),z=v+T+(W.scrollLeft+j.x)*C,ue=m+I+(W.scrollTop+j.y)*C,ye={x:z,y:ue,width:d,height:h};return t.local&&(ye.x=v,ye.y=m),t.toScreen?this.getRectToScreen(ye):ye},n.prototype.getViewportRect=function(e){e===void 0&&(e={});var t=this.getCanvasOffset(),r=t.top,o=t.left,s=t.width,c=t.height,u=this.module;if(e.toWorld){var d=u.getZoomMultiplier(),h=u.getCoords(),v=this.getViewportDelta(),m=-h.x-v.x||0,b=-h.y-v.y||0;return{x:m*d,y:b*d,width:s*d,height:c*d}}else return{x:o,y:r,width:s,height:c}},n.prototype.getViewportDelta=function(e){e===void 0&&(e={});var t=this.module.getZoomMultiplier(),r=this.getCanvasOffset(),o=r.width,s=r.height,c=o*t,u=s*t,d=c-o,h=u-s;return{x:d/2/t,y:h/2/t}},n.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},n.prototype.getFrameOffset=function(e){var t;if(!this.frmOff||e){var r=(t=this.frame)===null||t===void 0?void 0:t.el,o=e?.ownerDocument.defaultView,s=o?o.frameElement:r;this.frmOff=this.offset(s||r)}return this.frmOff},n.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},n.prototype.getElementPos=function(e,t){t===void 0&&(t={});var r=this.module.getZoomDecimal(),o=this.getFrameOffset(e),s=this.el,c=this.getCanvasOffset(),u=this.offset(e,t),d=t.avoidFrameOffset?0:o.top,h=t.avoidFrameOffset?0:o.left,v=t.avoidFrameZoom?u.top:u.top*r,m=t.avoidFrameZoom?u.left:u.left*r,b=t.avoidFrameOffset?v:v+d-c.top+s.scrollTop,w=t.avoidFrameOffset?m:m+h-c.left+s.scrollLeft,C=t.avoidFrameZoom?u.height:u.height*r,T=t.avoidFrameZoom?u.width:u.width*r;return{top:b,left:w,height:C,width:T,zoom:r,rect:u}},n.prototype.getElementOffsets=function(e){if(!e||(0,Ue.ir)(e))return{};var t={},r=window.getComputedStyle(e),o=this.module.getZoomDecimal(),s=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return s.forEach(function(c){t[c]=parseFloat(r[c])*o}),t},n.prototype.getPosition=function(e){var t;e===void 0&&(e={});var r=(t=this.frame)===null||t===void 0?void 0:t.el.contentDocument;if(!r)return{top:0,left:0,width:0,height:0};var o=r.body,s=this.module.getZoomDecimal(),c=this.getFrameOffset(),u=this.getCanvasOffset(),d=e.noScroll;return{top:c.top+(d?0:o.scrollTop)*s-u.top,left:c.left+(d?0:o.scrollLeft)*s-u.left,width:u.width,height:u.height}},n.prototype.updateScript=function(e){var t=e.model,r=t.getId(),o={component:t,view:e,el:e.el};if(!e.scriptContainer){e.scriptContainer=(0,Ue.a_)("div",{"data-id":r});var s=this.getJsContainer();s?.appendChild(e.scriptContainer)}e.el.id=r,e.scriptContainer.innerHTML="";var c=document.createElement("script"),u=t.getScriptString(),d=t.get("script-props")?u:`function(){
`.concat(u,`
;}`),h=JSON.stringify(t.__getScriptProps());c.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(r,`');
        if (!item) return;
        var script = (`).concat(d,`).bind(item);
        script(`).concat(h,`, { el: item });
      }, 1);`),setTimeout(function(){t.emitWithEitor(ur.I.scriptMountBefore,o);var v=e.scriptContainer;v?.appendChild(c),t.emitWithEitor(ur.I.scriptMount,o)},0)},n.prototype.getJsContainer=function(e){var t=this.getFrameView(e);return t?.getJsContainer()},n.prototype.getFrameView=function(e){return e?.frameView||this.em.getCurrentFrame()},n.prototype._renderFrames=function(){if(this.ready){var e=this,t=e.model,r=e.frames,o=e.em,s=e.framesArea,c=t.frames;c.listenToLoad(),r.render();var u=c.at(0),d=u?.view;o.setCurrentFrame(d),s?.appendChild(r.el),this.frame=d,this.updateFramesArea()}},n.prototype.renderFrames=function(){this._renderFrames()},n.prototype.render=function(){var e=this,t=e.el,r=e.$el,o=e.ppfx,s=e.config,c=e.em;r.html(this.template());var u=r.find("[data-frames]");this.framesArea=u.get(0);var d=r.find("[data-tools]");return this.toolsWrapper=d.get(0),d.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(s.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=t.querySelector("#".concat(o,"tools")),this.hlEl=t.querySelector(".".concat(o,"highlighter")),this.badgeEl=t.querySelector(".".concat(o,"badge")),this.placerEl=t.querySelector(".".concat(o,"placeholder")),this.ghostEl=t.querySelector(".".concat(o,"ghost")),this.toolbarEl=t.querySelector(".".concat(o,"toolbar")),this.resizerEl=t.querySelector(".".concat(o,"resizer")),this.offsetEl=t.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=t.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=t.querySelector(".".concat(o,"tools-gl")),this.spotsEl=t.querySelector("[data-spots]"),this.cvStyle=t.querySelector("[data-canvas-style]"),this.el.className=(0,Ee.getUiClass)(c,this.className),this.ready=!0,this._renderFrames(),this},n}(ho),u1=c1,d1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sa=function(){return sa=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},sa.apply(this,arguments)},f1=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},p1=function(i){d1(n,i);function n(e){var t=i.call(this,e,"Canvas",dx())||this;return t.events=sp,t.framesById={},t.canvas=new Ix(t),t.spots=new jx(t),t.model=t.canvas,t.startAutoscroll=t.startAutoscroll.bind(t),t.stopAutoscroll=t.stopAutoscroll.bind(t),t}return n.prototype.getCanvasView=function(){return this.canvasView},n.prototype.postLoad=function(){this.model.init()},n.prototype.getModel=function(){return this.canvas},n.prototype.getElement=function(){return this.getCanvasView().el},n.prototype.getFrame=function(e){return this.getFrames()[e||0]},n.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e?.el},n.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},n.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e?.getWindow()},n.prototype.getDocument=function(){var e=this.getFrameEl();return e?.contentDocument},n.prototype.getBody=function(){var e=this.getDocument();return e?.body},n.prototype._getLocalEl=function(e,t,r){var o=e,s=t?.frameView;return o=s?s[r]():o,o},n.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},n.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},n.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},n.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},n.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},n.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},n.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},n.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},n.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},n.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},n.prototype.getSpotsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.spotsEl},n.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new u1(this.canvas),this.canvasView.render().el},n.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},n.prototype.offset=function(e){return this.getCanvasView().offset(e)},n.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},n.prototype.getElementPos=function(e,t){return this.getCanvasView().getElementPos(e,t)},n.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},n.prototype.getRect=function(){var e,t=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},r=t.top,o=r===void 0?0:r,s=t.left,c=s===void 0?0:s;return sa(sa({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:c})},n.prototype.getTargetToElementDim=function(e,t,r){r===void 0&&(r={});var o=r||{},s=this.getCanvasView().getPosition();if(s){var c=o.elPos||this.getCanvasView().getElementPos(t),u=r.toRight||0,d=o.targetHeight||e.offsetHeight,h=o.targetWidth||e.offsetWidth,v=o.event||null,m=c.top-d,b=c.left;b+=u?c.width:0,b=u?b-h:b;var w=b<s.left?s.left:b,C=m<s.top?s.top:m;C=C>c.top+c.height?c.top+c.height:C;var T={top:C,left:w,elementTop:c.top,elementLeft:c.left,elementWidth:c.width,elementHeight:c.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:s.top,canvasLeft:s.left,canvasWidth:s.width,canvasHeight:s.height};return v&&this.em&&this.em.trigger(v,T),T}},n.prototype.canvasRectOffset=function(e,t,r){var o=this;r===void 0&&(r={});var s=function(u){var d=u.defaultView;return d?.frameElement},c=function(u,d,h){d===void 0&&(d=1);var v=o.em.getZoomDecimal(),m=d?"top":"left",b=u.ownerDocument,w=r.offset?s(b):{},C=w.offsetTop,T=C===void 0?0:C,I=w.offsetLeft,W=I===void 0?0:I,j=b.body||{},z=j.scrollTop,ue=z===void 0?0:z,ye=j.scrollLeft,xe=ye===void 0?0:ye,le=d?ue:xe,Y=d?T:W;return h[m]-(le-Y)*v};return{top:c(e,1,t),left:c(e,0,t)}},n.prototype.getTargetToElementFixed=function(e,t,r){r===void 0&&(r={});var o=r.pos||this.getElementPos(e,{noScroll:!0}),s=r.canvasOff||this.canvasRectOffset(e,o),c=t.offsetHeight||0,u=t.offsetWidth||0,d=o.left+o.width,h=this.getCanvasView(),v=h.getPosition(),m=h.getFrameOffset(e),b=r.event,w=-c,C=(0,A.isUndefined)(r.left)?o.width-u:r.left;if(C=o.left<-C?-o.left:C,C=d>v.width?C-(d-v.width):C,s.top<c){var T=o.height+c,I=T<m.height;I?w=w+T:w=-s.top<o.height?-s.top:o.height}var W={top:w,left:C,canvasOffsetTop:s.top,canvasOffsetLeft:s.left,elRect:o,canvasOffset:s,canvasRect:v,targetWidth:u,targetHeight:c};return b&&this.em.trigger(b,W),W},n.prototype.getMouseRelativePos=function(e,t){t===void 0&&(t={});var r=t.subWinOffset,o=e.target.ownerDocument,s=o.defaultView||o.parentWindow,c=s.frameElement,u=r?s.pageYOffset:0,d=r?s.pageXOffset:0,h=this.getZoomMultiplier(),v=0,m=0;if(c){var b=c.getBoundingClientRect();v=b.top||0,m=b.left||0}return{y:(e.clientY+v-u)*h,x:(e.clientX+m-d)*h}},n.prototype.getMouseRelativeCanvas=function(e,t){var r,o=this.getZoomDecimal(),s=(r=this.getCanvasView().getPosition(t))!==null&&r!==void 0?r:{},c=s.top,u=c===void 0?0:c,d=s.left,h=d===void 0?0:d;return{y:e.clientY*o+u,x:e.clientX*o+h}},n.prototype.startDrag=function(e){this.em.set("dragSource",e)},n.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},n.prototype.hasFocus=function(){return this.getDocument().hasFocus()},n.prototype.isInputFocused=function(){var e=this.getDocument(),t=this.getFrameEl(),r=f1(["body"],this.config.notTextable,!0),o=t&&document.activeElement===t,s=o?e&&e.activeElement:document.activeElement;return s&&!r.some(function(c){return s.matches(c)})},n.prototype.scrollTo=function(e,t){t===void 0&&(t={});var r=(0,Ee.getElement)(e),o=r&&(0,Ee.getViewEl)(r);o&&o.scrollIntoView(t)},n.prototype.startAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.startAutoscroll()},n.prototype.stopAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll()},n.prototype.setZoom=function(e){return this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e),this},n.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},n.prototype.setCoords=function(e,t,r){var o;r===void 0&&(r={});var s=e||e===0,c=t||t===0,u={x:this.canvas.get("x"),y:this.canvas.get("y")};if(s&&(u.x=parseFloat("".concat(e))),c&&(u.y=parseFloat("".concat(t))),r.toWorld){var d=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();d&&(s&&(u.x=u.x-d.x),c&&(u.y=u.y-d.y))}return this.canvas.set(u),this},n.prototype.getCoords=function(){var e=this.canvas.attributes,t=e.x,r=e.y;return{x:t,y:r}},n.prototype.getPointer=function(e){var t=this.canvas.attributes,r=t.pointer,o=t.pointerScreen;return e?o:r},n.prototype.getZoomDecimal=function(){return this.getZoom()/100},n.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},n.prototype.fitViewport=function(e){var t;(t=this.canvasView)===null||t===void 0||t.fitViewport(e)},n.prototype.toggleFramesEvents=function(e){var t=this.getFramesEl().style;t.pointerEvents=e?"":"none"},n.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},n.prototype.addFrame=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this.canvas.frames.add(new R0(this,sa({},e)),t)},n.prototype.getLastDragResult=function(){return this.em.get("dragResult")},n.prototype.addSpot=function(e,t){var r;t===void 0&&(t={});var o=e,s=this.getSpots(o);if(s.length){var c=s[0];return c.set(o),c}var u=o.componentView||((r=o.component)===null||r===void 0?void 0:r.view),d=new po.A(this,sa(sa({},o),{id:o.id||"cs_".concat(o.type,"_").concat(u?.cid),type:o.type||""}));return this.spots.add(d,t),d},n.prototype.getSpots=function(e){return e===void 0&&(e={}),this.spots.where(e.id?{id:e.id}:e)},n.prototype.removeSpots=function(e){e===void 0&&(e={});var t=(0,A.isArray)(e)?e:this.getSpots(e),r=this.spots.remove(t);return r},n.prototype.hasCustomSpot=function(e){var t=this.config.customSpots;return!!(t===!0||t&&e&&t[e])},n.prototype.getWorldRectToScreen=function(e){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.getRectToScreen(e)},n.prototype.refresh=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.events,s=t.canvasView;s?.clearOff(),(e.spots||e.all)&&(this.refreshSpots(),r.trigger("canvas:updateTools")),r.set("canvasOffset",this.getOffset()),r.trigger(o.refresh,e)},n.prototype.refreshSpots=function(){this.spots.refresh()},n.prototype.destroy=function(){var e=this,t;this.canvas.stopListening(),(t=this.canvasView)===null||t===void 0||t.remove(),["model","droppable"].forEach(function(r){return e[r]={}})},n}(jn),h1=p1,g1=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}},v1=g1,m1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),au=function(){return au=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},au.apply(this,arguments)},y1=function(i){m1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return au(au({},i.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){var e=this.content,t=this.parent();return t?.is("script")?e:this.__escapeContent(e)},n.prototype.__escapeContent=function(e){return(0,Ee.escapeNodeContent)(e)},n.isComponent=function(e){var t;if(e.nodeType===3)return{type:"textnode",content:(t=e.textContent)!==null&&t!==void 0?t:""}},n}(xr),tb=y1,b1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hf=function(){return Hf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Hf.apply(this,arguments)},_1=function(i){b1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Hf({},i.prototype.defaults)},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},n.isComponent=function(e){var t;if(e.nodeType==8)return{type:"comment",content:(t=e.textContent)!==null&&t!==void 0?t:""}},n}(tb),w1=_1,C1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),su=function(){return su=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},su.apply(this,arguments)},nf="iframe",x1=function(i){C1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return su(su({},i.prototype.defaults),{type:nf,tagName:nf,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===nf},n}(xr),S1=x1,O1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lu=function(){return lu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},lu.apply(this,arguments)},by='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',T1=function(i){O1(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this,o=r.get("attributes").src;return o&&(0,Ee.buildBase64UrlFromSvg)((0,A.result)(r,"defaults").src)!==o&&r.set("src",o,{silent:!0}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return lu(lu({},i.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(by,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(by,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),n.prototype.initToolbar=function(){i.prototype.initToolbar.call(this);var e=this.em;if(e){var t=e.Commands,r="image-editor";if(t.has(r)){for(var o=!1,s=this.get("toolbar"),c=0;c<s.length;c++)if(s[c].command==="image-editor"){o=!0;break}o||(s.push({attributes:{class:"fa fa-pencil"},command:r}),this.set("toolbar",s))}}},n.prototype.getAttrToHTML=function(){var e=i.prototype.getAttrToHTML.call(this),t=this.getSrcResult();return t&&(e.src=t),e},n.prototype.getSrcResult=function(e){e===void 0&&(e={});var t=this.get(e.fallback?"fallback":"src")||"",r=t;return t&&t.substr(0,4)==="<svg"&&(r=(0,Ee.buildBase64UrlFromSvg)(t)),r},n.prototype.isDefaultSrc=function(){var e=this.get("src"),t=(0,A.result)(this,"defaults").src;return e===t||e===(0,Ee.buildBase64UrlFromSvg)(t)},n.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),r=t.attributes;return r&&t.src===r.src&&delete t.src,t},n.prototype.parseUri=function(e){var t={},r=function(o){o===void 0&&(o="");for(var s={},c=o.substring(1).split("&"),u=0;u<c.length;u++){var d=c[u].split("="),h=decodeURIComponent(d[0]);h&&(s[h]=decodeURIComponent(d[1]||""))}return s};if((0,Ee.hasWin)())t=document.createElement("a"),t.href=e;else if(typeof URL<"u")try{t=new URL(e)}catch{}return{hostname:t.hostname||"",pathname:t.pathname||"",protocol:t.protocol||"",search:t.search||"",hash:t.hash||"",port:t.port||"",query:r(t.search)}},n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)==="img"},n}(xr),dp=T1,k1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cu=function(){return cu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},cu.apply(this,arguments)},E1=function(i){k1(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this;return r.__checkInnerChilds(),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return cu(cu({},i.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var t=function(r){r.isInstanceOf("textnode")||r.set({locked:!0,layerable:!1})};(0,A.isFunction)(e)?this.forEachChild(function(r){e(r)&&t(r)}):this.forEachChild(t)}},n}(xr),fp=E1,P1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uu=function(){return uu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},uu.apply(this,arguments)},of="label",A1=function(i){P1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return uu(uu({},i.prototype.defaults),{type:of,tagName:of,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===of},n}(fp),D1=A1,M1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),du=function(){return du=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},du.apply(this,arguments)},_y="link",L1=function(i){M1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return du(du({},i.prototype.defaults),{type:_y,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e,t){t===void 0&&(t={});var r;if((0,Ee.toLowerCase)(e.tagName)==="a"){var o=t.textTags||[];r={type:_y,editable:!1};var s=e.childNodes,c=s.length;c||delete r.editable,(0,A.forEach)(s,function(u){var d=u.tagName;(u.nodeType==3&&u.textContent.trim()!==""||d&&o.indexOf((0,Ee.toLowerCase)(d))>=0)&&delete r.editable})}return r},n}(fp),R1=L1,I1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fu=function(){return fu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},fu.apply(this,arguments)},N1=function(i){I1(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this;return r.get("src")?r.parseFromSrc():r.updateSrc(),r.listenTo(r,"change:address change:zoom change:mapType",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var e=i.prototype.defaults;return fu(fu({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),n.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},n.prototype.getMapUrl=function(){var e=this.get("address"),t=this.get("zoom"),r=this.get("mapType");e=e?"&q="+e:"",t=t?"&z="+t:"",r=r?"&t="+r:"";var o=this.get("mapUrl")+"?"+e+t+r;return o+="&output=embed",o},n.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")),t=e.query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)},n.isComponent=function(e){if((0,Ee.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},n}(dp),F1=N1,j1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pu=function(){return pu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},pu.apply(this,arguments)},af="script",B1=function(i){j1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return pu(pu({},i.prototype.defaults),{type:af,tagName:af,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===af},n}(xr),V1=B1,H1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hu=function(){return hu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},hu.apply(this,arguments)},sf="svg",W1=function(i){H1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return hu(hu({},i.prototype.defaults),{type:sf,tagName:sf,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),n.prototype.getName=function(){var e=this.get("tagName"),t=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),t||e},n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===sf},n}(xr),rb=W1,z1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gu=function(){return gu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},gu.apply(this,arguments)},U1=function(i){z1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return gu(gu({},i.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(e,t){return t===void 0&&(t={}),!!t.inSvg},n}(rb),$1=U1,K1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vu=function(){return vu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},vu.apply(this,arguments)},lf="table",G1=function(i){K1(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this,o=r.get("components");return!o.length&&o.add({type:"tbody"}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return vu(vu({},i.prototype.defaults),{type:lf,tagName:lf,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===lf},n}(xr),Y1=G1,q1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mu=function(){return mu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},mu.apply(this,arguments)},cf="tbody",X1=function(i){q1(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this,o=r.get("components"),s=r.get("columns"),c=r.get("rows");if(!o.length){for(var u=[];c--;){for(var d=[],h=s;h--;)d.push({type:"cell",classes:["cell"]});u.push({type:"row",classes:["row"],components:d})}o.add(u)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return mu(mu({},i.prototype.defaults),{type:cf,tagName:cf,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===cf},n}(xr),pp=X1,Z1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yu=function(){return yu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},yu.apply(this,arguments)},J1=function(i){Z1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return yu(yu({},i.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return["td","th"].indexOf((0,Ee.toLowerCase)(e.tagName))>=0},n}(xr),Q1=J1,eO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bu=function(){return bu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},bu.apply(this,arguments)},uf="tfoot",tO=function(i){eO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return bu(bu({},i.prototype.defaults),{type:uf,tagName:uf})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===uf},n}(pp),rO=tO,nO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_u=function(){return _u=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},_u.apply(this,arguments)},df="thead",oO=function(i){nO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return _u(_u({},i.prototype.defaults),{type:df,tagName:df})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===df},n}(pp),iO=oO,aO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wu=function(){return wu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},wu.apply(this,arguments)},wy="tr",sO=function(i){aO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return wu(wu({},i.prototype.defaults),{tagName:wy,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===wy},n}(xr),lO=sO,cO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cu=function(){return Cu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Cu.apply(this,arguments)},ff="video",qa="yt",Xa="vi",Za="ytnc",Cy="so",pf=function(i){return i&&i!=="0"},uO=function(i){cO(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this;return r.get("src")&&r.parseFromSrc(),r.updatePropsFromAttr(),r.updateTraits(),r.on("change:provider",r.updateTraits),r.on("change:videoId change:provider",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Cu(Cu({},i.prototype.defaults),{type:ff,tagName:ff,videoId:"",void:!1,provider:Cy,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),n.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Cy){var e=this.get("attributes"),t=e.controls,r=e.autoplay,o=e.loop,s={};(0,Ee.isDef)(t)&&(s.controls=!!t),(0,Ee.isDef)(r)&&(s.autoplay=!!r),(0,Ee.isDef)(o)&&(s.loop=!!o),(0,Ee.isEmptyObj)(s)||this.set(s)}},n.prototype.updateTraits=function(){var e=this.em,t=this.get("provider"),r="iframe",o;switch(t){case qa:case Za:o=this.getYoutubeTraits();break;case Xa:o=this.getVimeoTraits();break;default:r="video",o=this.getSourceTraits()}this.set({tagName:r},{silent:!0}),this.set({traits:o}),e.get("ready")&&e.trigger("component:toggled")},n.prototype.parseFromSrc=function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),r=t.query;switch(e){case qa:case Za:case Xa:this.set("videoId",t.pathname.split("/").pop()),r.list&&this.set("list",r.list),pf(r.autoplay)&&this.set("autoplay",!0),pf(r.loop)&&this.set("loop",!0),parseInt(r.controls)===0&&this.set("controls",!1),pf(r.color)&&this.set("color",r.color),r.rel==="0"&&this.set("rel",0),r.modestbranding==="1"&&this.set("modestbranding",1);break;default:}},n.prototype.updateSrc=function(){var e=this.get("provider"),t="";switch(e){case qa:t=this.getYoutubeSrc();break;case Za:t=this.getYoutubeNoCookieSrc();break;case Xa:t=this.getVimeoSrc();break}this.set({src:t})},n.prototype.getAttrToHTML=function(){var e=i.prototype.getAttrToHTML.call(this),t=this.get("provider");switch(t){case qa:case Za:case Xa:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls")}return e},n.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:qa,name:"Youtube"},{value:Za,name:"Youtube (no cookie)"},{value:Xa,name:"Vimeo"}]}},n.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},n.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},n.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},n.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},n.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},n.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},n.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),t=this.get("ytUrl"),r=this.get("list");return t+=e+(e.indexOf("?")<0?"?":""),t+=r?"&list=".concat(r):"",t+=this.get("autoplay")?"&autoplay=1&mute=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",t+=this.get("rel")?"":"&rel=0",t+=this.get("modestbranding")?"&modestbranding=1":"",t},n.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e=e.replace(this.get("ytUrl"),this.get("ytncUrl")),e},n.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1&muted=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):"",e},n.isComponent=function(e){var t=e.tagName,r=e.src,o=/youtube\.com\/embed/.test(r),s=/youtube-nocookie\.com\/embed/.test(r),c=/player\.vimeo\.com\/video/.test(r),u=o||s||c;if((0,Ee.toLowerCase)(t)==ff||(0,Ee.toLowerCase)(t)=="iframe"&&u){var d={type:"video"};return r&&(d.src=r),u&&(o?d.provider=qa:s?d.provider=Za:c&&(d.provider=Xa)),d}},n}(dp),dO=uO,fO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rs=function(){return rs=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},rs.apply(this,arguments)},pO=function(i){fO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return rs(rs({},i.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),n.prototype.preInit=function(){var e,t,r=this,o=r.opt,s=r.attributes,c=(e=this.em)===null||e===void 0?void 0:e.Components,u=(t=c?.getType(fs))===null||t===void 0?void 0:t.model,d=c?.getType("default").model;if(u){var h=s.head,v=s.docEl;this.set({head:h&&h instanceof xr?h:new u(rs({},h),o),docEl:v&&v instanceof xr?v:new d(rs({tagName:"html"},v),o)},{silent:!0})}},Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),n.prototype.clone=function(e){var t=i.prototype.clone.call(this,e);return t.set("head",this.get("head").clone(e)),t.set("docEl",this.get("docEl").clone(e)),t},n.prototype.toHTML=function(e){e===void 0&&(e={});var t=this.doctype,r=(0,A.isUndefined)(e.asDocument)?!!t:e.asDocument,o=this,s=o.head,c=o.docEl,u=i.prototype.toHTML.call(this,e),d=r&&s?.toHTML(e)||"",h=r&&(0,Ue.kk)(c?.getAttrToHTML())||"",v=h?" ".concat(h):"";return r?"".concat(t,"<html").concat(v,">").concat(d).concat(u,"</html>"):u},n.prototype.__postAdd=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&t?.add(this),i.prototype.__postAdd.call(this)},n.prototype.__postRemove=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return t?.remove(this),i.prototype.__postRemove.call(this)},n.isComponent=function(){return!1},n}(xr),hO=pO,gO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vO=function(i){gO(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e.compView=vr,e}return n.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)},n.prototype.removeChildren=function(e,t,r){var o=this;r===void 0&&(r={}),e.views.forEach(function(c){if(c){var u=c.childrenView,d=c.scriptContainer;u&&u.stopListening(),(0,Ue.YZ)(d),c.remove.apply(c)}});var s=e.components();s.forEach(function(c){return o.removeChildren(c,t,r)})},n.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},n.prototype.addToCollection=function(e,t,r){for(var o=this,s=o.config,c=o.opts,u=o.em,d=s.frameView,h=d?.model&&e.getView(d.model),v=c.componentTypes||u?.Components.getTypes(),m=e.get("type")||"default",b=this.compView,w=0;w<v.length;w++)if(v[w].id==m){b=v[w].view;break}var C=h||new b({model:e,config:s,componentTypes:v}),T;try{T=C.render().el}catch(z){T=document.createTextNode(""),u.logError(z)}if(t)t.appendChild(T);else{var I=this.parentEl,W=I.childNodes;if((0,A.isUndefined)(r))I.appendChild(T);else{var j=W.length==r;j&&r--,j||!W.length?I.appendChild(T):I.insertBefore(T,W[r])}}return e.opt.temporary||u?.trigger("component:mount",e),T},n.prototype.resetChildren=function(e,t){var r=this;t===void 0&&(t={});var o=t.previousModels;t.skipDomReset||(this.parentEl.innerHTML=""),o?.forEach(function(s){return r.removeChildren(s,r.collection)}),e.each(function(s){return r.addToCollection(s)})},n.prototype.render=function(e){var t=this,r=this.el,o=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(s){return t.addToCollection(s,o)}),r.innerHTML="",r.appendChild(o),this},n}(je.Ss),nb=vO,mO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),No=function(){return No=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},No.apply(this,arguments)},yO=function(i){mO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.className=function(){return this.getClasses()},n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.preinitialize=function(e){e===void 0&&(e={}),this.opts=e},n.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,r=e.config||{},o=r.em,s=t.opt||{},c=this,u=c.$el,d=c.el;this.opts=e,this.modelOpt=s,this.config=r,this.em=o,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.attr=t.get("attributes"),this.classe=this.attr.class||[],this.listenTo(t,"change:style",this.updateStyle),this.listenTo(t,"change:attributes",this.renderAttributes),this.listenTo(t,"change:highlightable",this.updateHighlight),this.listenTo(t,"change:status change:locked",this.updateStatus),this.listenTo(t,"change:script rerender",this.reset),this.listenTo(t,"change:content",this.updateContent),this.listenTo(t,"change",this.handleChange),this.listenTo(t,"active",this.onActive),this.listenTo(t,"disable",this.onDisable),u.data("model",t),(0,Ee.setViewEl)(d,this),t.view=this,this.frameView&&t.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=No(No({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!s.temporary&&this.init(this._clbObj())},Object.defineProperty(n.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"createDoc",{get:function(){var e,t,r=((e=this.frameView)===null||e===void 0?void 0:e.getDoc())||document;return!((t=this.opts.config)===null||t===void 0)&&t.useFrameDoc?r:document},enumerable:!1,configurable:!0}),n.prototype.__isDraggable=function(){var e=this,t=e.model,r=e.config,o=t.attributes.draggable;return r.draggableComponents&&o},n.prototype._clbObj=function(){var e=this,t=e.em,r=e.model,o=e.el;return{editor:t?.getEditor(),model:r,el:o}},n.prototype.init=function(e){},n.prototype.removed=function(e){},n.prototype.onRender=function(e){},n.prototype.onActive=function(e){},n.prototype.onDisable=function(e){},n.prototype.remove=function(){var e;i.prototype.remove.call(this);var t=this,r=t.model,o=t.$el,s=r.views,c=this.frameView||{};return r.components().forEach(function(u){var d=u.getView(c.model);d?.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),s.splice(s.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},n.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault();var t=this.em.getSelectedAll(),r=t.includes(this.model)?t:[this.model];this.em.Commands.run("tlb-move",{target:r,event:e})},n.prototype.initClasses=function(){var e=this.model,t=e.classes,r="change:classes";t instanceof ji&&(this.stopListening(e,r,this.initClasses),this.listenTo(e,r,this.initClasses),this.listenTo(t,"add remove change reset",this.updateClasses),t.length&&this.importClasses())},n.prototype.initComponents=function(e){e===void 0&&(e={});var t=this,r=t.model,o=t.$el,s=t.childrenView,c="change:components",u=r.get("components"),d=[r,c,this.initComponents];u instanceof Cl&&(o.data("collection",u),s&&s.remove(),this.stopListening.apply(this,d),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,d))},n.prototype.handleChange=function(){var e=this.model,t=(0,A.keys)(e.changed);if(!(t.length===1&&t[0]==="status")){e.emitUpdate();for(var r in e.changed)e.emitUpdate(r)}},n.prototype.importClasses=function(){var e=this,t=e.em,r=e.model,o=t.Selectors;o&&r.classes.forEach(function(s){return o.add(s.getName())})},n.prototype.updateStatus=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.el,s=t.ppfx,c=t.model,u=r?.Canvas,d=u?.config.extHl,h=c.get("status"),v="".concat(s,"selected"),m="".concat(v,"-parent"),b="".concat(s,"freezed"),w="".concat(s,"hovered"),C="".concat(s,"no-pointer"),T="".concat(s,"pointer-init"),I=[v,m,b,w,C,T],W=d&&!e.noExtHl?"":v;this.$el.removeClass(I.join(" "));var j=o.getAttribute("class")||"",z=[j],ue=!u?.hasCustomSpot(po.F.Select),ye=!u?.hasCustomSpot(po.F.Target);switch(h){case"selected":ue&&z.push(W);break;case"selected-parent":ye&&z.push(m);break;case"freezed":z.push(b);break;case"freezed-selected":z.push(b),ue&&z.push(W);break;case"hovered":!e.avoidHover&&z.push(w);break}(0,A.isBoolean)(c.locked)&&z.push(c.locked?C:T);var xe=z.filter(Boolean).join(" ");xe&&o.setAttribute("class",xe)},n.prototype.updateHighlight=function(){var e=this.model,t=e.get("textable"),r=e.get("highlightable")&&(t||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",r?!0:"")},n.prototype.updateStyle=function(e,t,r){r===void 0&&(r={});var o=this,s=o.model,c=o.em;if(rl(c)&&!r.inline){var u=this.__cmpStyleOpts,d=s.getStyle(No({inline:!0},u));!(0,A.isEmpty)(d)&&s.setStyle(d,u)}else this.setAttribute("style",s.styleToString(r))},n.prototype.updateStyles=function(){this.updateStyle()},n.prototype.updateClasses=function(){var e=this.model.classes.pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()},n.prototype.setAttribute=function(e,t){var r=this.$el;t?r.attr(e,t):r.removeAttr(e)},n.prototype.getClasses=function(){return this.model.getClasses().join(" ")},n.prototype.updateAttributes=function(){var e=[],t=this,r=t.model,o=t.$el,s=t.el,c=r.attributes,u=c.textable,d=c.type,h=No(No({id:r.getId(),"data-gjs-type":d||"default"},this.__isDraggable()&&{draggable:!0}),u&&{contenteditable:"false"});(0,A.each)(s.attributes,function(m){return e.push(m.nodeName)}),e.forEach(function(m){return o.removeAttr(m)}),this.updateStyle(),this.updateHighlight();var v=No(No({},h),r.getAttributes());(0,A.keys)(v).forEach(function(m){return v[m]===!1&&delete v[m]}),o.attr(v)},n.prototype.updateContent=function(){var e=this.model.content,t=this.model.components().length;this.getChildrenContainer().innerHTML=t?"":e},n.prototype.prevDef=function(e){e.preventDefault()},n.prototype.updateScript=function(){var e=this,t=e.model,r=e.em;t.get("script")&&r?.Canvas.getCanvasView().updateScript(this)},n.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},n.prototype.getOffsetRect=function(){var e={top:0,left:0,bottom:0,right:0},t=this.el,r=0,o=0,s=function(c){var u=c.offsetParent;u?(r+=u.offsetTop,o+=u.offsetLeft,s(u)):(e.top=t.offsetTop+r,e.left=t.offsetLeft+o,e.bottom=e.top+t.offsetHeight,e.right=e.left+t.offsetWidth)};return s(t),e},n.prototype.isInViewport=function(){var e=this,t=e.el,r=e.em,o=e.frameView,s=r.Canvas.getCanvasView(),c=s.getElBoxRect(t,{local:!0}),u=o.el,d=u.clientHeight,h=u.clientWidth,v=c.y,m=c.x,b=v+c.height,w=m+c.width,C=v>=0&&v<d,T=b>0&&b<d,I=w>=0&&w<h,W=m>0&&m<=h,j=(C||T)&&(I||W);return j},n.prototype.scrollIntoView=function(e){var t;e===void 0&&(e={});var r=this.isInViewport();if(!r||e.force){var o=this.el;if(e.behavior!=="smooth"){var s=this.getOffsetRect();(t=o.ownerDocument.defaultView)===null||t===void 0||t.scrollTo(0,s.top)}else o.scrollIntoView(No({behavior:"smooth",block:"nearest"},e))}},n.prototype.reset=function(){var e=this,t=e.el,r=e.model;e.scriptContainer&&r.emitWithEitor(ur.I.scriptUnmount,{component:r,view:e,el:t}),this.el="",this._ensureElement(),this._setData(),(0,Ue.bG)(t,this.el),this.render()},n.prototype._setData=function(){var e=this.model,t=e.components(),r=this;this.$el.data({model:e,collection:t,view:r})},n.prototype._createElement=function(e){return this.createDoc.createElement(e)},n.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new nb({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var r=Array.prototype.slice.call(t.el.childNodes),o=0,s=r.length;o<s;o++)e.appendChild(r.shift())},n.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},n.prototype.onAttrUpdate=function(){},n.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Ee.setViewEl)(this.el,this),this.postRender(),this)},n.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},n.getEvents=function(){return(0,A.result)(this.prototype,"events")},n}(je.Ss),vr=yO,bO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_O=function(i){bO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype._setAttributes=function(){},n.prototype.renderAttributes=function(){},n.prototype.updateStatus=function(){},n.prototype.updateClasses=function(){},n.prototype.setAttribute=function(){},n.prototype.updateAttributes=function(){},n.prototype.initClasses=function(){},n.prototype.initComponents=function(){},n.prototype.delegateEvents=function(){return this},n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var e=this,t=e.model,r=e.el;return t.opt.temporary?this:(r.textContent=t.content,this)},n}(vr),ob=_O,wO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),CO=function(i){wO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createComment(this.model.content)},n}(ob),xO=CO,SO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),OO=function(i){SO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.initialize=function(e){i.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},n.prototype.updateSrc=function(){var e=(0,Ue.I6)(this.el,"iframe")[0];e&&(0,Ue.X6)(e,{src:this.__getSrc()})},n.prototype.render=function(){i.prototype.render.call(this);var e=(0,Ue.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},n.prototype.__getSrc=function(){return this.model.getAttributes().src||""},n}(vr),TO=OO,kO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),EO=function(i){kO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"img"},n.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},n.prototype.initialize=function(e){i.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},n.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this,t=e.model,r=e.em,o=t.get("file");if(o&&r){var s=r.Assets.FileUploader();s?.uploadFile({dataTransfer:{files:[o]}},function(c){var u=c&&c.data&&c.data[0],d=u&&((0,A.isString)(u)?u:u.src);d&&t.set({src:d})}),t.set("file","")}}},n.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},n.prototype.updateClasses=function(){i.prototype.updateClasses.call(this);var e=this,t=e.el,r=e.classEmpty,o=e.model,s=o.getSrcResult()&&!o.isDefaultSrc(),c=s?"remove":"add";t.classList[c](r)},n.prototype.onActive=function(e){e?.stopPropagation();var t=this,r=t.em,o=t.model,s=r?.Assets;s&&o.get("editable")&&s.open({select:function(c,u){o.set({src:c.getSrc()}),u&&s.close()},target:o,types:["image"],accept:"image/*"})},n.prototype.onError=function(){var e=this,t=e.model,r=e.el,o=t.getSrcResult({fallback:!0});o&&(r.srcset&&(r.srcset=""),r.src=o)},n.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},n.prototype.noDrag=function(e){return e.preventDefault(),!1},n.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this,t=e.$el,r=e.model,o=t.attr("class")||"";return!r.get("src")&&t.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},n}(vr),hp=EO,PO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),la=function(){return la=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},la.apply(this,arguments)},Rc=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?o(h.value):r(h.value).then(c,u)}d((t=t.apply(i,n||[])).next())})},Ic=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,r&&(o=d[0]&2?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(i,e)}catch(h){d=[6,h],r=0}finally{t=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},AO=function(i){PO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},n.prototype.initialize=function(e){i.prototype.initialize.call(this,e),(0,A.bindAll)(this,"disableEditing","onDisable");var t=this.model,r=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=r?.RichTextEditor},n.prototype.updateContentText=function(e,t,r){r===void 0&&(r={}),!r.fromDisable&&this.disableEditing()},n.prototype.canActivate=function(){var e=this,t=e.model,r=e.rteEnabled,o=e.em,s=o?.getEditing(),c=s===t,u=!0,d=!1,h;if((r||!t.get("editable")||c||(d=t.isChildOf("text")))&&(u=!1,d&&!t.get("textable"))){for(var v=t.parent();v&&!v.isInstanceOf("text");)v=v.parent();v&&v.get("editable")?h=v:u=!0}return{result:u,delegate:h}},n.prototype.onActive=function(e){return Rc(this,void 0,void 0,function(){var t,r,o,s,c,u,d,h,v,m,b,w;return Ic(this,function(C){switch(C.label){case 0:return t=this,r=t.rte,o=t.em,s=this.canActivate(),c=s.result,u=s.delegate,c?((w=e?.stopPropagation)===null||w===void 0||w.call(e),d=this,[4,this.getContent()]):(u&&((b=e?.stopPropagation)===null||b===void 0||b.call(e),o.setSelected(u),u.trigger("active",e)),[2]);case 1:if(d.lastContent=C.sent(),!r)return[3,5];C.label=2;case 2:return C.trys.push([2,4,,5]),h=this,v=this,[4,r.enable(h,this.activeRte,{event:e,view:h})];case 3:return v.activeRte=C.sent(),[3,5];case 4:return m=C.sent(),o.logError(m),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},n.prototype.onDisable=function(e){this.disableEditing(e)},n.prototype.disableEditing=function(){return Rc(this,arguments,void 0,function(e){var t,r,o,s,c,u,d,h,v;return e===void 0&&(e={}),Ic(this,function(m){switch(m.label){case 0:return t=this,r=t.model,o=t.rte,s=t.activeRte,c=t.em,u=r&&r.get("editable"),o?(d={},[4,this.getContent()]):[3,7];case 1:h=m.sent(),m.label=2;case 2:return m.trys.push([2,4,,5]),[4,o.disable(this,s,e)];case 3:return d=m.sent(),[3,5];case 4:return v=m.sent(),c.logError(v),[3,5];case 5:return u&&(h!==this.lastContent||d.forceSync)?[4,this.syncContent(la(la({},e),{content:h}))]:[3,7];case 6:m.sent(),this.lastContent="",m.label=7;case 7:return this.toggleEvents(),[2]}})})},n.prototype.getContent=function(){return Rc(this,void 0,void 0,function(){var e,t,r,o;return Ic(this,function(s){switch(s.label){case 0:return e=this,t=e.rte,r=e.activeRte,o="",t?[4,t.getContent(this,r)]:[3,2];case 1:o=s.sent(),s.label=2;case 2:return[2,o]}})})},n.prototype.syncContent=function(){return Rc(this,arguments,void 0,function(e){var t,r,o,s,c,u,d,h,v;return e===void 0&&(e={}),Ic(this,function(m){switch(m.label){case 0:return t=this,r=t.model,o=t.rte,s=t.rteEnabled,!s&&!e.force?[2]:(v=e.content)!==null&&v!==void 0?(u=v,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:u=m.sent(),m.label=3;case 3:return c=u,d=r.components(),h=la({fromDisable:1},e),r.set("content","",h),o?.customRte&&!o.customRte.parseContent?(d.length&&d.reset(void 0,la(la({},e),{keepIds:Qa(d)})),r.set("content",c,h)):d.resetFromString(c,e),[2]}})})},n.prototype.insertComponent=function(e,t){var r;t===void 0&&(t={});var o=this,s=o.model,c=o.el,u=c.ownerDocument,d=u.getSelection();if(d?.rangeCount){var h=d.getRangeAt(0),v=h.startContainer,m=h.startOffset,b=(0,Ee.getComponentModel)(v),w=[];if(b&&(!((r=b.is)===null||r===void 0)&&r.call(b,"textnode"))){var C=b.collection;C.forEach(function(W){if(W===b){var j="textnode",z=t.useDomContent?v.textContent||"":W.content;w.push({type:j,content:z.slice(0,m)}),w.push(e),w.push({type:j,content:z.slice(m)})}else w.push(W)});var T=w.filter(Boolean),I=T.indexOf(e);return C.reset(T,t),C.at(I)}}return s.append(e,t)},n.prototype.onInput=function(){var e,t="component",r=["".concat(t,":update"),"".concat(t,":input")].join(" ");(e=this.em)===null||e===void 0||e.trigger(r,this.model)},n.prototype.disablePropagation=function(e){e.stopPropagation()},n.prototype.toggleEvents=function(e){var t=this,r=t.em,o=t.model,s=t.$el,c={on:Ue.on,off:Ue.AU},u=e?"on":"off";r.setEditing(e?this:!1),this.rteEnabled=!!e;var d=[this.el.ownerDocument,document];if(c.off(d,"mousedown",this.onDisable),c[u](d,"mousedown",this.onDisable),r[u]("toolbar:run:before",this.onDisable),o&&(o[u]("removed",this.onDisable),o.trigger("rte:".concat(e?"enable":"disable"))),s?.off("mousedown",this.disablePropagation),s&&s[u]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var h=this.el;h;)h.draggable=!e,h=h.parentNode,h&&h.tagName=="BODY"&&(h=0)},n}(vr),ib=AO,DO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),MO=function(i){DO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.render=function(){return i.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},n}(ib),ab=MO,LO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),RO=function(i){LO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(ab),IO=RO,NO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),FO=function(i){NO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(e){i.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},n.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},n.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},n.prototype.render=function(){return i.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},n}(hp),jO=FO,BO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),VO=function(i){BO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"script"},n.prototype.events=function(){return{}},n}(vr),HO=VO,WO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zO=function(i){WO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},n}(vr),xy=zO,UO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$O=function(i){UO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(vr),KO=$O,GO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),YO=function(i){GO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(vr),qO=YO,XO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ZO=function(i){XO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(vr),JO=ZO,QO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),eT=function(i){QO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(vr),tT=eT,rT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nT=function(i){rT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(vr),oT=nT,iT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aT=function(i){iT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return{}},n}(vr),sT=aT,lT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cT=function(i){lT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(){vr.prototype.initialize.apply(this,arguments);var e=this.model,t=["loop","autoplay","controls","color","rel","modestbranding","poster"],r=t.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,r,this.updateVideo)},n.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},n.prototype.updateSrc=function(){var e=this,t=e.model,r=e.videoEl;if(r){var o=t.get("provider"),s=t.get("src");switch(o){case"yt":s=t.getYoutubeSrc();break;case"ytnc":s=t.getYoutubeNoCookieSrc();break;case"vi":s=t.getVimeoSrc();break}r.src=s}},n.prototype.updateVideo=function(){var e=this,t=e.model,r=e.videoEl,o=t.get("provider");switch(o){case"yt":case"ytnc":case"vi":t.trigger("change:videoId");break;default:if(r){var s=r;s.loop=t.get("loop"),s.autoplay=t.get("autoplay"),s.controls=t.get("controls"),s.poster=t.get("poster")}}},n.prototype.renderByProvider=function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t,t},n.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},n.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},n.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},n.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},n.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},n.prototype.render=function(){vr.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},n}(hp),uT=cT,dT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fT=function(i){dT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n}(vr),pT=fT,hT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xu=function(){return xu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},xu.apply(this,arguments)},gT=function(i){hT(n,i);function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.apply(this,e)||this;r.refreshDbn=(0,A.debounce)(function(){return r.refresh()},0);var o=r.events;return r.on(o.update,r.onUpdate),r.on(o.updateInside,r.onUpdateDeep),r}return n.prototype.removeChildren=function(e,t,r){var o;r===void 0&&(r={}),i.prototype.removeChildren.call(this,e,t,r),(o=eo(e))===null||o===void 0||o.forEach(function(s){return lp(s,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:e})},n.prototype.onAdd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.prototype.onAdd.apply(this,e);var r=e[0];this.__trgEvent(this.events.symbolMainAdd,{component:r})},n.prototype.onUpdate=function(e){this.__trgEvent(this.events.symbolMainUpdate,e)},n.prototype.onUpdateDeep=function(e){this.__trgEvent(this.events.symbolMainUpdateDeep,e)},n.prototype.refresh=function(){var e=this,t=e.em,r=e.events;t.trigger(r.symbol)},n.prototype.__trgEvent=function(e,t,r){r===void 0&&(r=!1);var o=this,s=o.em,c=o.events,u=r?c.symbolInstance:c.symbolMain;s.trigger(e,t),s.trigger(u,xu(xu({},t),{event:e})),this.refreshDbn()},n}(Cl),vT=gT,mT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Su=function(){return Su=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Su.apply(this,arguments)},yT=function(i){mT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Su(Su({},i.prototype.defaults),{type:jo,path:"",defaultValue:""})},enumerable:!1,configurable:!0}),n.prototype.getDataValue=function(){var e=this.attributes,t=e.path,r=e.defaultValue;return this.em.DataSources.getValue(t,r)},n.prototype.getInnerHTML=function(){return this.getDataValue()},n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===jo},n}(xr),bT=yT,_T=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wT=function(i){_T(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.initialize=function(e){var t=this;e===void 0&&(e={}),i.prototype.initialize.call(this,e),this.dynamicVariableListener=new nd({em:this.em,dataVariable:this.model,updateValueFromDataVariable:function(){return t.postRender()}})},n.prototype.postRender=function(){var e=this,t=e.model,r=e.el,o=e.em,s=t.attributes,c=s.path,u=s.defaultValue;r.innerHTML=o.DataSources.getValue(c,u),i.prototype.postRender.call(this)},n}(vr),CT=wT,xT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ST=function(i){xT(n,i);function n(e,t){var r=this,o=e.condition,s=e.ifTrue,c=e.ifFalse,u=new rd(o,s,c,{em:t.em}),d=u.getDataValue(),h={type:Bo,components:d};return r=i.call(this,h,t)||this,r.componentDefinition=e,r.dataCondition=u,r.dataCondition.onValueChange=r.handleConditionChange.bind(r),r}return n.prototype.handleConditionChange=function(){this.dataCondition.reevaluate();var e=this.dataCondition.getDataValue();this.components().reset(),this.components().add(e)},n.isComponent=function(e){return(0,Ee.toLowerCase)(e.tagName)===Bo},n.prototype.toJSON=function(){return this.dataCondition.toJSON()},n}(xr),OT=ST,TT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kT=function(i){TT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(vr),ET=kT,PT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ur=function(){return Ur=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ur.apply(this,arguments)},AT=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},DT=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},nl=function(i){return i[i.InvalidSource=0]="InvalidSource",i[i.SourceReject=1]="SourceReject",i[i.TargetReject=2]="TargetReject",i}(nl||{}),MT=function(i){PT(n,i);function n(e){var t=i.call(this,e,"DomComponents",new Cl(void 0,{em:e}),ur.I,v1())||this;t.componentTypes=[{id:Bo,model:OT,view:ET},{id:jo,model:bT,view:CT},{id:"cell",model:Q1,view:qO},{id:"row",model:lO,view:oT},{id:"table",model:Y1,view:sT},{id:"thead",model:iO,view:tT},{id:"tbody",model:pp,view:KO},{id:"tfoot",model:rO,view:JO},{id:"map",model:F1,view:jO},{id:"link",model:R1,view:ab},{id:"label",model:D1,view:IO},{id:"video",model:dO,view:uT},{id:"image",model:dp,view:hp},{id:"script",model:V1,view:HO},{id:"svg-in",model:$1,view:xy},{id:"svg",model:rb,view:xy},{id:"iframe",model:S1,view:TO},{id:"comment",model:w1,view:xO},{id:"textnode",model:tb,view:ob},{id:fs,model:KS,view:vr},{id:"wrapper",model:hO,view:pT},{id:"text",model:fp,view:ib},{id:"default",model:xr,view:vr}],t.componentsById={},t.Component=xr,t.Components=Cl,t.ComponentView=vr,t.ComponentsView=nb,t.storageKey="components",t.keySymbols="symbols",t.events=ur.I;var r=t.config;t.symbols=new vT([],{em:e,config:r,domc:t}),e&&(t.config.components=e.config.components||t.config.components);var o=t.config.pStylePrefix;if(o&&(t.config.stylePrefix=o+t.config.stylePrefix),e){e.get("Parser").compTypes=t.componentTypes,e.on("change:componentHovered",t.componentHovered,t);var s=e.get("selected");e.listenTo(s,"add",function(c,u,d){return t.selectAdd(s.getComponent(c),d)}),e.listenTo(s,"remove",function(c,u,d){return t.selectRemove(s.getComponent(c),d)})}return t}return n.prototype.postLoad=function(){var e=this,t=e.em,r=e.symbols,o=t.UndoManager;o.add(r)},n.prototype.load=function(e){var t=this,r=this.loadProjectData(e,{onResult:function(o){var s=t.getWrapper();if(s||(t.em.Pages.add({},{select:!0}),s=t.getWrapper()),(0,A.isArray)(o))o.length&&s.components(o);else{var c=o.components,u=c===void 0?[]:c,d=AT(o,["components"]);s.set(d),s.components(u)}}});return this.symbols.reset(e[this.keySymbols]||[]),r},n.prototype.store=function(){var e;return e={},e[this.keySymbols]=this.symbols,e},n.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),t=e?.getMainFrame();return t?.getComponent()},n.prototype.getWrapper=function(){return this.getComponent()},n.prototype.getComponents=function(){var e=this.getWrapper();return e?.components()},n.prototype.addComponent=function(e,t){return t===void 0&&(t={}),this.getComponents().add(e,t)},n.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},n.prototype.clear=function(e){e===void 0&&(e={});var t=this.getComponents();return t?.filter(Boolean).forEach(function(r){return r.remove(e)}),this},n.prototype.setComponents=function(e,t){t===void 0&&(t={}),this.clear(t).addComponent(e,t)},n.prototype.addType=function(e,t){var r=this.em,o=t.model,s=o===void 0?{}:o,c=t.view,u=c===void 0?{}:c,d=t.isComponent,h=t.extend,v=t.extendView,m=t.extendFn,b=m===void 0?[]:m,w=t.extendFnView,C=w===void 0?[]:w,T=t.block,I=this.getType(e),W=this.getType(h),j=this.getType(v),z=W||I||this.getType("default"),ue=z.model,ye=j?j.view:z.view,xe=function(U,H,te){return U.reduce(function(P,ve){var ge=H[ve],De=te.prototype[ve];return ge&&De&&(P[ve]=function(){for(var qe=[],Ye=0;Ye<arguments.length;Ye++)qe[Ye]=arguments[Ye];De.bind(this).apply(void 0,qe),ge.bind(this).apply(void 0,qe)}),P},{})};if(typeof s=="object"){var le={defaults:s.defaults};delete s.defaults;var Y=new Set(ue.typeExtends);Y.add(ue.getDefaults().type),t.model=ue.extend(Ur(Ur({},s),xe(b,s,ue)),{typeExtends:Y,isComponent:I&&!W&&!d?ue.isComponent:d||function(){return 0}}),Object.defineProperty(t.model.prototype,"defaults",{get:function(){return Ur(Ur({},(0,A.result)(ue.prototype,"defaults")||{}),(0,A.result)(le,"defaults")||{})}})}if(typeof u=="object"&&(t.view=ye.extend(Ur(Ur({},u),xe(C,u,ye)))),I?(I.model=t.model,I.view=t.view):(t.id=e,this.componentTypes.unshift(t)),T){var oe={id:e,label:e,content:{type:e}},V=T===!0?oe:Ur(Ur({},oe),T);r.Blocks.add(V.id||e,V)}var R="component:type:".concat(I?"update":"add");return r?.trigger(R,I||t),this},n.prototype.getType=function(e){for(var t=this.componentTypes,r=0;r<t.length;r++){var o=t[r].id;if(o==e)return t[r]}},n.prototype.removeType=function(e){var t=this.componentTypes,r=this.getType(e);if(r){var o=t.indexOf(r);return t.splice(o,1),r}},n.prototype.getTypes=function(){return this.componentTypes},n.prototype.selectAdd=function(e,t){var r=this;t===void 0&&(t={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return r.em.trigger(o,e,t)}))},n.prototype.selectRemove=function(e,t){var r=this;if(t===void 0&&(t={}),e){var o=this.em;e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(s){return r.em.trigger(s,e,t)})}},n.prototype.componentHovered=function(){var e=this.em,t=e.get("componentHovered"),r=e.previous("componentHovered"),o="hovered";r&&r.get("status")==o&&r.set({status:"",state:""}),t&&(0,A.isEmpty)(t.get("status"))&&t.set("status",o)},n.prototype.getShallowWrapper=function(){var e=this,t=e.shallow,r=e.em;if(!t&&r){var o=r.shallow;if(!o)return;var s=o.Components;if(s.componentTypes=this.componentTypes,t=s.getWrapper(),t){var c=[Kc,Vf].join(" ");t.on(c,(0,A.debounce)(function(){return t?.components("")},100))}this.shallow=t}return t},n.prototype.isComponent=function(e){return(0,Ee.isComponent)(e)},n.prototype.addSymbol=function(e){if(!((0,A.isSymbol)(e)&&!ga(e))){var t=e.clone({symbol:!0});return fa(t)&&this.symbols.add(t),this.em.trigger("component:toggled"),t}},n.prototype.getSymbols=function(){return DT([],this.symbols.models,!0)},n.prototype.detachSymbol=function(e){Zc(e)&&lp(e)},n.prototype.getSymbolInfo=function(e,t){t===void 0&&(t={});var r=fa(e),o=Fo(e),s=!!o,c=eo(r?e:o)||[],u=o||(r?e:void 0),d=pa(e,{changed:t.withChanges}),h=r||s,v=h&&ga(e);return{isSymbol:h,isMain:r,isInstance:s,isRoot:v,main:u,instances:c,relatives:d||[]}},n.prototype.canMove=function(e,t,r){var o={result:!1,reason:nl.InvalidSource,target:e,source:null};if(!t||!e)return o;if(ii(e)&&t instanceof xr&&ii(t)){var s=wl(e),c=fa(s)?s:Fo(s),u=wl(t),d=fa(u)?u:Fo(u),h=c===d,v=s!==u;if(h&&v)return Ur(Ur({},o),{reason:nl.TargetReject})}var m=(0,Ee.isComponent)(t)?t:null;if(!m){var b=this.getShallowWrapper();m=b?.append(t,{temporary:!0})[0]||null}if(o.source=m,!m)return o;var w=m.get("draggable");if((0,A.isFunction)(w))w=!!w(m,e,r);else{var C=e.getEl();w=(0,A.isArray)(w)?w.join(","):w,w=(0,A.isString)(w)?C?.matches(w):w}if(!w)return Ur(Ur({},o),{reason:nl.SourceReject});var T=e.get("droppable");if((0,A.isFunction)(T))T=!!T(m,e,r);else if(T===!1&&e.isInstanceOf("text")&&m.get("textable"))T=!0;else{var C=m.getEl();T=(0,A.isArray)(T)?T.join(","):T,T=(0,A.isString)(T)?C?.matches(T):T}var I=[e].concat(e.parents()).indexOf(m)>-1;return!T||I?Ur(Ur({},o),{reason:nl.TargetReject}):Ur(Ur({},o),{result:!0})},n.prototype.allById=function(){return this.componentsById},n.prototype.getById=function(e){return this.componentsById[e]||null},n.prototype.destroy=function(){var e,t=this.allById();Object.keys(t).forEach(function(r){return t[r]&&t[r].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(r){return r={}})},n}(si),LT=MT,RT=function(){return{stylePrefix:"css-",rules:[]}},IT=RT,NT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),FT=Number.MAX_VALUE,jT=function(i){var n=/(-?\d*\.?\d+)\w{0,}/.exec(i);return n?n[0]:""},BT=function(i){NT(n,i);function n(){var e=i.call(this)||this;return(0,A.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return n.prototype.buildFromModel=function(e,t){var r=this;t===void 0&&(t={});var o="",s=this.em,c=s&&s.getConfig().avoidInlineStyle,u=e.styleToString(),d=e.classes;this.ids.push("#".concat(e.getId())),d.forEach(function(v){return r.compCls.push(v.getFullName())}),!c&&u&&(o="#".concat(e.getId(),"{").concat(u,"}"));var h=e.components();return h.forEach(function(v){return o+=r.buildFromModel(v,t)}),o},n.prototype.build=function(e,t){var r=this;t===void 0&&(t={});var o=t.json,s=t.em,c=t.cssc||s?.Css;this.em=s,this.compCls=[],this.ids=[],this.model=e;var u=[],d=e?this.buildFromModel(e,t):"",h=(0,A.isUndefined)(t.clearStyles)&&s?s.getConfig().clearStyles:t.clearStyles;if(c){var v=t.rules||c.getAll(),m={},b=[];t.onlyMatched&&e&&(0,Ee.hasWin)()&&(v=this.matchedRules(e,v)),v.forEach(function(w){var C=w.getAtRule();if(C){var T=m[C];T?T.push(w):m[C]=[w];return}var I=r.buildFromRule(w,b,t);o?u.push(I):d+=I}),this.sortMediaObject(m).forEach(function(w){var C="",T=w.key,I=w.value;I.forEach(function(W){var j=r.buildFromRule(W,b,t);W.get("singleAtRule")?d+="".concat(T,"{").concat(j,"}"):C+=j,o&&u.push(j)}),C&&(d+="".concat(T,"{").concat(C,"}"))}),s&&h&&v.remove&&v.remove(b)}return o?u.filter(function(w){return w}):d},n.prototype.buildFromRule=function(e,t,r){var o=this,s;r===void 0&&(r={});var c="",u=this.model,d=e.selectorsToString({skipAdd:1}),h=e.get("selectorsAdd"),v=e.get("singleAtRule"),m;if((s=e.get("selectors"))===null||s===void 0||s.forEach(function(w){var C=w.getFullName();(o.compCls.indexOf(C)>=0||o.ids.indexOf(C)>=0||r.keepUnusedStyles)&&(m=1)}),d&&m||h||v||!u){var b=e.getDeclaration({body:1});b&&(r.json?c=e:c+=b)}else t.push(e);return c},n.prototype.matchedRules=function(e,t){var r=this,o=e.getEl(),s=[];return t.forEach(function(c){try{c.selectorsToString().split(",").some(function(u){return o?.matches(r.__cleanSelector(u))})&&s.push(c)}catch{}}),e.components().forEach(function(c){s=s.concat(r.matchedRules(c,t))}),s=s.filter(function(c,u){return s.indexOf(c)===u}),s},n.prototype.getQueryLength=function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):FT},n.prototype.sortMediaObject=function(e){var t=this;e===void 0&&(e={});var r=[];return(0,A.each)(e,function(o,s){return r.push({key:s,value:o})}),r.sort(function(o,s){var c=[o.key,s.key].every(function(h){return h.indexOf("min-width")!==-1}),u=c?o.key:s.key,d=c?s.key:o.key;return t.getQueryLength(u)-t.getQueryLength(d)})},n.prototype.sortRules=function(e,t){var r=function(u){return u.get("mediaText")||""},o=[r(e),r(t)].every(function(u){return u.indexOf("min-width")!==-1}),s=r(o?e:t),c=r(o?t:e);return this.getQueryLength(s)-this.getQueryLength(c)},n.prototype.__cleanSelector=function(e){return e.split(" ").map(function(t){return t.split(":")[0]}).join(" ")},n}(je.Kx),VT=BT,HT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dl=function(){return dl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},dl.apply(this,arguments)},WT=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},hf=((0,Ee.hasWin)()?window:{}).CSS,zT=function(i){HT(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e)||this;return r.views=[],r.dynamicVariableListeners={},r.config=e||{},r.opt=t,r.em=t.em,r.ensureSelectors(null,null,{}),r.on("change",r.__onChange),r.setStyle(r.get("style")),r}return n.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},n.prototype.__onChange=function(e,t){var r=this.em,o=this.changedAttributes();o&&!(0,Ee.isEmptyObj)(o)&&r?.changesUp(t)},n.prototype.clone=function(){var e=dl({},this.opt),t=dl({},this.attributes);return t.selectors=this.get("selectors").map(function(r){return r.clone()}),new this.constructor(t,e)},n.prototype.ensureSelectors=function(e,t,r){var o=this.em,s=o?.Selectors,c=[this,"change:selectors",this.ensureSelectors],u=this.getSelectors();if(this.stopListening.apply(this,c),u.models&&(u=WT([],u.models,!0)),u=(0,A.isString)(u)?[u]:u,Array.isArray(u)){var d=u.filter(function(h){return h}).map(function(h){return s?s.add(h):h});u=new ji(d)}this.set("selectors",u,r),this.listenTo.apply(this,c)},n.prototype.getAtRule=function(){var e=this.get("atRuleType"),t=this.get("mediaText"),r=e?"@".concat(e):t?"@media":"";return r+(t&&r?" ".concat(t):"")},n.prototype.selectorsToString=function(e){e===void 0&&(e={});var t=[],r=this.get("state"),o=this.get("selectorsAdd"),s={escape:function(d){return hf&&hf.escape?hf.escape(d):d}},c=this.getSelectors().getFullString(0,s),u=r&&!e.skipState?":".concat(r):"";return c&&t.push("".concat(c).concat(u)),o&&!e.skipAdd&&t.push(o),t.join(", ")},n.prototype.getDeclaration=function(e){e===void 0&&(e={});var t="",r=this.attributes.important,o=this.selectorsToString(e),s=this.styleToString(dl({important:r},e)),c=this.get("singleAtRule");return(o||c)&&(s||e.allowEmpty)&&(t=c?s:"".concat(o,"{").concat(s,"}")),t},n.prototype.getDevice=function(){var e=this.em,t=this.attributes,r=t.atRuleType,o=t.mediaText,s=e?.Devices.getDevices()||[],c=s.filter(function(u){return u.getWidthMedia()===""})[0];return r!=="media"||!o?c||null:s.filter(function(u){return u.getWidthMedia()===jT(o)})[0]||null},n.prototype.getState=function(){var e=this.em,t=this.get("state"),r=e?.Selectors.getStates()||[];return r.filter(function(o){return o.getName()===t})[0]||null},n.prototype.getComponent=function(){var e,t=this.getSelectors(),r=t.length==1&&t.at(0),o=r&&r.isId()&&r.get("name");return o&&((e=this.em)===null||e===void 0?void 0:e.Components.getById(o))||null},n.prototype.toCSS=function(e){e===void 0&&(e={});var t="",r=this.getAtRule(),o=this.getDeclaration(e);return(o||e.allowEmpty)&&(t=o),r&&t&&(t="".concat(r,"{").concat(t,"}")),t},n.prototype.toJSON=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=je.Kx.prototype.toJSON.apply(this,t);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var s=this.defaults();(0,A.forEach)(s,function(c,u){o[u]===c&&delete o[u]}),delete o.style.__p,(0,A.isEmpty)(o.selectors)&&delete o.selectors,(0,A.isEmpty)(o.style)&&delete o.style}return o},n.prototype.compare=function(e,t,r,o){var s;o===void 0&&(o={});var c=t||"",u=r||"",d=o.selectorsAdd||"",h=o.atRuleType||"",v=!(0,A.isArray)(e)&&!e.models?[e]:e.models||e;u&&!h&&(h="media");var m=v.map(function(T){return T.getFullName()}),b=(s=this.get("selectors"))===null||s===void 0?void 0:s.map(function(T){return T.getFullName()}),w=m.slice().sort(),C=b.slice().sort();return!(m.length!==b.length||!w.every(function(T,I){return T===C[I]})||this.get("state")!==c||this.get("mediaText")!==u||this.get("selectorsAdd")!==d||this.get("atRuleType")!==h)},n}(z0),sb=zT,UT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lb=function(i){UT(n,i);function n(e,t){var r=i.call(this,e)||this;return r.editor=t?.em,setTimeout(function(){r.on("remove",r.onRemove),r.on("add",r.onAdd)}),r}return n.prototype.toJSON=function(e){var t=je.pM.prototype.toJSON.call(this,e);return t.filter(function(r){return r.style&&!r.shallow})},n.prototype.onAdd=function(e,t,r){e.ensureSelectors(e,t,r)},n.prototype.onRemove=function(e){var t=this.editor;t.stopListening(e),t.UndoManager.remove(e)},n.prototype.add=function(e,t){return t===void 0&&(t={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),t.em=this.editor,je.pM.prototype.add.apply(this,[e,t])},n}(je.pM),$T=lb;lb.prototype.model=sb;var KT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ca=function(){return ca=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ca.apply(this,arguments)},GT=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},YT=function(i){KT(n,i);function n(e){var t=i.call(this,e,"CssComposer",null,{},IT())||this;t.Selectors=ji,t.storageKey="styles";var r=t.config,o=r.pStylePrefix;return o&&(r.stylePrefix=o+r.stylePrefix),r.rules=t.em.config.style||r.rules||"",t.rules=new $T([],r),t}return n.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},n.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},n.prototype.add=function(e,t,r,o,s){o===void 0&&(o={}),s===void 0&&(s={});var c=t||"",u=r||"",d=ca({},o),h=this.get(e,c,u,d);return h&&h.config&&!h.config.singleAtRule||(d.state=c,d.mediaText=u,d.selectors=[],u&&!d.atRuleType&&(d.atRuleType="media"),h=new sb(d,this.config),h.get("selectors").add(e,s),this.rules.add(h,s)),h},n.prototype.get=function(e,t,r,o){var s=e;if((0,A.isString)(e)){var c=this.em.Selectors,u=e.split(",")[0].trim(),d=this.em.Parser.parserCss.checkNode({selectors:u})[0];s=c.get(d.selectors)}return this.rules.find(function(h){return h.compare(s,t,r,o)})||null},n.prototype.getAll=function(){return this.rules},n.prototype.addCollection=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=this.em,s=[];(0,A.isString)(e)&&(e=o.Parser.parseCss(e));for(var c=e instanceof Array?e:[e],u=0,d=c.length;u<d;u++){var h=c[u]||{};if(h.selectors){var v=o?.Selectors;v||console.warn("Selector Manager not found");for(var m=h.selectors,b=m instanceof Array?m:[m],w=[],C=0,T=b.length;C<T;C++){var I=v.add(b[C]);w.push(I)}var W=this.get(w,h.state,h.mediaText,h),j=this.add(w,h.state,h.mediaText,h,t),z=!W||!t.avoidUpdateStyle,ue=h.style||{};if((0,Ee.isObject)(r)&&j.set(r,t),z){var ye=t.extend?ca(ca({},j.get("style")),ue):ue;j.setStyle(ye,t)}s.push(j)}}return s},n.prototype.addRules=function(e){return this.addCollection(e)},n.prototype.setRule=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=r.atRuleType,s=r.atRuleParams,c=this.em.Parser.parserCss.checkNode({selectors:e,style:t})[0],u=c.state,d=c.selectorsAdd,h=this.em.Selectors,v=h.add(c.selectors),m=this.add(v,u,s,{selectorsAdd:d,atRule:o});return r.addStyles?m.addStyle(t,r):m.setStyle(t,r),m},n.prototype.getRule=function(e,t){t===void 0&&(t={});var r=this.em,o=r.Selectors,s=r.Parser.parserCss.checkNode({selectors:e})[0],c=o.get(s.selectors),u=s.state,d=s.selectorsAdd,h=t.atRuleType,v=t.atRuleParams;return c?this.get(c,u,v,{selectorsAdd:d,atRuleType:h}):void 0},n.prototype.getRules=function(e){var t=this.getAll();if(!e)return GT([],t.models,!0);var r={sort:!0},o=(0,A.isString)(e)?e.split(",").map(function(c){return c.trim()}):e,s=t.filter(function(c){return o.indexOf(c.getSelectors().getFullString(null,r))>=0});return s},n.prototype.setIdRule=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=r.addOpts,s=o===void 0?{}:o,c=r.mediaText,u=r.state||"",d=(0,A.isUndefined)(c)?this.em.getCurrentMedia():c,h=this.em.Selectors,v=h.add({name:e,type:yn.TYPE_ID},s),m=this.add(v,u,d,{},s);return m.setStyle(t,ca(ca({},r),s)),m},n.prototype.getIdRule=function(e,t){t===void 0&&(t={});var r=t.mediaText,o=t.state||"",s=(0,A.isUndefined)(r)?this.em.getCurrentMedia():r,c=this.em.Selectors.get(e,yn.TYPE_ID);return c&&this.get(c,o,s)},n.prototype.setClassRule=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=r.state||"",s=r.mediaText||this.em.getCurrentMedia(),c=this.em.Selectors,u=c.add({name:e,type:yn.TYPE_CLASS}),d=this.add(u,o,s);return d.setStyle(t,r),d},n.prototype.getClassRule=function(e,t){t===void 0&&(t={});var r=t.state||"",o=t.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors.get(e,yn.TYPE_CLASS);return s&&this.get(s,r,o)},n.prototype.remove=function(e,t){var r=(0,A.isString)(e)?this.getRules(e):e,o=this.getAll().remove(r,t);return(0,A.isArray)(o)?o:[o]},n.prototype.clear=function(e){return e===void 0&&(e={}),this.getAll().reset([],e),this},n.prototype.getComponentRules=function(e,t){t===void 0&&(t={});var r=t.state,o=t.mediaText,s=t.current;s&&(r=this.em.get("state")||"",o=this.em.getCurrentMedia());var c=e.getId(),u=this.getAll().filter(function(d){return!(0,A.isUndefined)(r)&&d.get("state")!==r||!(0,A.isUndefined)(o)&&d.get("mediaText")!==o?!1:d.getSelectorsString()==="#".concat(c)});return u},n.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new F0({collection:this.rules,config:this.config}),this.rulesView.render().el},n.prototype.checkId=function(e,t){t===void 0&&(t={});var r=t.idMap,o=r===void 0?{}:r,s=[];if(!Object.keys(o).length)return s;var c=Array.isArray(e)?e:[e];return c.forEach(function(u){var d=u.selectors;if(d&&d.length==1){var h=d[0];if((0,A.isString)(h)){if(h[0]==="#"){var v=h.substring(1),m=o[v];v&&m&&(d[0]="#".concat(m),s.push(u))}}else if(h.name&&h.type===yn.TYPE_ID){var m=o[h.name];m&&(h.name=m,s.push(u))}}}),s},n.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},n}(si),qT=YT,XT=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}},ZT=XT,JT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),QT=function(i){JT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(n.prototype,"category",{get:function(){var e=this.get("category");return e instanceof Sl?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){return this.get("label")},n.prototype.getMedia=function(){return this.get("media")},n.prototype.getContent=function(){return this.get("content")},n.prototype.getDragDef=function(){return this.get("dragDef")},n.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,A.isFunction)(e?.get)?e.get("label"):e?.label?e?.label:e},n}(je.Kx),cb=QT,ek=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ub=function(i){ek(n,i);function n(e,t){var r=i.call(this,e)||this;return r.em=t.em,r.on("add",r.handleAdd),r}return n.prototype.getCategories=function(){return this.em.Blocks.getCategories()},n.prototype.handleAdd=function(e){this.initCategory(e)},n}(Z0),Nc=ub;ub.prototype.model=cb;var Gc=function(i){return i.add="block:add",i.remove="block:remove",i.removeBefore="block:remove:before",i.update="block:update",i.dragStart="block:drag:start",i.drag="block:drag",i.dragEnd="block:drag:stop",i.categoryUpdate="block:category:update",i.custom="block:custom",i.all="block",i}(Gc||{});var tk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ns=function(){return ns=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ns.apply(this,arguments)},rk=function(i){tk(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e)||this,o=r.model;return r.em=t.em,r.config=t,r.endDrag=r.endDrag.bind(r),r.ppfx=t.pStylePrefix||"",r.listenTo(o,"destroy remove",r.remove),r.listenTo(o,"change",r.render),r}return n.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.handleClick=function(e){var t,r,o=this,s=o.config,c=o.model,u=o.em,d=c.get("onClick")||s.appendOnClick;if(u.trigger("block:click",c,e),d){if((0,A.isFunction)(d))return d(c,u?.getEditor(),{event:e})}else return;var h=(t=s.getSorter)===null||t===void 0?void 0:t.call(s);if(h){var v=c.get("content"),m=this.getTempDropModel(v),b=(r=m.view)===null||r===void 0?void 0:r.el,w=b?[{element:b,dragSource:{content:v}}]:[],C=u.getSelected(),T,I,W,j=0;if(C)if(I=h.validTarget(C.getEl(),w,j),I)T=C;else{var z=C.parent();z&&(I=h.validTarget(z.getEl(),w,j),I&&(T=z,W=z.components().indexOf(C)+1))}if(!T){var ue=u.getWrapper();I=h.validTarget(ue.getEl(),w,j),I&&(T=ue)}var ye=T&&T.append(v,{at:W})[0];ye&&u.setSelected(ye,{scroll:1})}},n.prototype.startDrag=function(e){var t,r=this,o=r.config,s=r.em,c=r.model,u=c.get("disable");if(!(e.button!==0||!o.getSorter||this.el.draggable||u)){s.refreshCanvas();var d=o.getSorter();d.__currentBlock=c;var h=this.model.get("content"),v=this.getTempDropModel(h),m=(t=v.view)===null||t===void 0?void 0:t.el,b=m?[{element:m,dragSource:{content:h}}]:[];d.startSort(b),(0,Ue.on)(document,"mouseup",this.endDrag)}},n.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},n.prototype.handleDrag=function(e){this.__getModule().__drag(e)},n.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},n.prototype.endDrag=function(){var e,t;(0,Ue.AU)(document,"mouseup",this.endDrag);var r=(t=(e=this.config).getSorter)===null||t===void 0?void 0:t.call(e);r&&r.endDrag()},n.prototype.getTempDropModel=function(e){var t,r=this.em.Components.getComponents(),o={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},s=r.add(e,ns(ns({},o),{temporary:!0})),c=r.remove(s,ns(ns({},o),{temporary:!0}));return c=c instanceof Array?c[0]:c,(t=c.view)===null||t===void 0||t.$el.data("model",c),c},n.prototype.render=function(){var e,t=this,r=t.em,o=t.el,s=t.$el,c=t.ppfx,u=t.model,d=u.get("disable"),h=u.get("attributes")||{},v=h.class||"",m="".concat(c,"block"),b=r&&r.t("blockManager.labels.".concat(u.id))||u.get("label"),w=u.get("render"),C=u.get("media"),T=d?"".concat(m,"--disable"):"".concat(c,"four-color-h");s.attr(h),o.className="".concat(v," ").concat(m," ").concat(c,"one-bg ").concat(T).trim(),o.innerHTML=`
      `.concat(C?'<div class="'.concat(m,'__media">').concat(C,"</div>"):"",`
      <div class="`).concat(m,'-label">').concat(b,`</div>
    `),o.title=h.title||((e=o.textContent)===null||e===void 0?void 0:e.trim()),o.setAttribute("draggable","".concat(!!((0,Ee.hasDnd)(r)&&!d)));var I=w&&w({el:o,model:u,className:m,prefix:c});return I&&(o.innerHTML=I),this},n}(je.Ss),nk=rk,ok=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ik=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},ak=function(i){ok(n,i);function n(e,t,r){var o=i.call(this,e)||this;o.config=t;var s=t.pStylePrefix||"";return o.em=t.em,o.catName=r,o.pfx=s,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(s,"caret-icon"),o.activeClass="".concat(s,"open"),o.className="".concat(s).concat(r,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return n.prototype.events=function(){return{"click [data-title]":"toggle"}},n.prototype.template=function(e){var t=e.pfx,r=e.label,o=e.catName;return Nn(Sy||(Sy=ik([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),t,t,r,t,o)},n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},n.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},n.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},n.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},n.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},n.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},n.prototype.append=function(e){this.getTypeEl().appendChild(e)},n.prototype.render=function(){var e=this,t=e.em,r=e.el,o=e.$el,s=e.model,c=e.pfx,u=e.catName,d=t.t("".concat(u,"Manager.categories.").concat(s.id))||s.get("label");return r.innerHTML=this.template({pfx:c,label:d,catName:u}),o.addClass(this.className),o.css({order:s.get("order")}),this.updateVisibility(),this},n}(je.Ss),db=ak,Sy,sk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ou=function(){return Ou=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ou.apply(this,arguments)},lk=function(i){sk(n,i);function n(e,t){var r=i.call(this,e)||this;r.renderedCategories=new Map,(0,A.bindAll)(r,"getSorter","onDrag","onDrop","onMove"),r.config=t||{},r.categories=e.categories||"";var o=r.config.pStylePrefix||"";r.ppfx=o,r.noCatClass="".concat(o,"blocks-no-cat"),r.blockContClass="".concat(o,"blocks-c"),r.catsClass="".concat(o,"block-categories");var s=r.collection;return r.listenTo(s,"add",r.addTo),r.listenTo(s,"reset",r.render),r.em=r.config.em,r.em&&(r.config.getSorter=r.getSorter),r}return n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=Ou(Ou({},this.config),e)},n.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var t=e.Utils,r=e.Canvas;this.sorter=new t.ComponentSorter({em:e,treeClass:Q0,containerContext:{container:r.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:r.getPlacerEl(),document:r.getBody().ownerDocument},dragBehavior:{dragDirection:va.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},n.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},n.prototype.onMove=function(e){this.__getModule().__drag(e)},n.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},n.prototype.addTo=function(e){this.add(e)},n.prototype.add=function(e,t){var r=this,o=r.config,s=r.renderedCategories,c=e.get("attributes"),u=new nk({model:e,attributes:c},o),d=u.render().el,h=e.parent.initCategory(e);if(h&&this.categories&&!o.ignoreCategories){var v=h.getId(),m=this.getCategoriesEl(),b=s.get(v);!b&&m&&(b=new db({model:h},o,"block").render(),s.set(v,b),m.appendChild(b.el)),b?.append(d);return}t?t.appendChild(d):this.append(d)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},n.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},n.prototype.append=function(e){var t=this.getBlocksEl();t&&t.appendChild(e)},n.prototype.render=function(){var e=this,t=this.ppfx,r=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(s){return e.add(s,r)}),this.append(r);var o="".concat(this.blockContClass,"s ").concat(t,"one-bg ").concat(t,"two-color");return this.$el.addClass(o),this.rendered=!0,this},n}(je.Ss),Oy=lk,ck=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ii=function(){return Ii=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ii.apply(this,arguments)},uk=function(i){ck(n,i);function n(e){var t,r=i.call(this,e,"BlockManager",new Nc(((t=e.config.blockManager)===null||t===void 0?void 0:t.blocks)||[],{em:e}),Gc,ZT())||this;return r.events=Gc,r.Block=cb,r.Blocks=Nc,r.Category=Sl,r.Categories=Jc,r.storageKey="",r.blocks=r.all,r.blocksVisible=new Nc(r.blocks.models,{em:e}),r.categories=new Jc([],{em:e,events:{update:Gc.categoryUpdate}}),r.blocks.on("add",function(o){return r.blocksVisible.add(o)}),r.blocks.on("remove",function(o){return r.blocksVisible.remove(o)}),r.blocks.on("reset",function(o){return r.blocksVisible.reset(o.models)}),r.__onAllEvent=(0,A.debounce)(function(){return r.__trgCustom()},0),r}return n.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:t.container,dragStart:function(r,o){return e.startDrag(r,o)},drag:function(r){return e.__drag(r)},dragStop:function(r){return e.endDrag(r)}}},n.prototype.__startDrag=function(e,t){var r=this,o=r.em,s=r.events,c=r.blocks,u=e.getContent?e.getContent():e;this._dragBlock=e,o.set({dragResult:null,dragSource:{content:u,dragDef:e.getDragDef()}}),[o,c].map(function(d){return d.trigger(s.dragStart,e,t)})},n.prototype.__drag=function(e){var t=this,r=t.em,o=t.events,s=t.blocks,c=this._dragBlock;[r,s].map(function(u){return u.trigger(o.drag,c,e)})},n.prototype.__endDrag=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.events,s=t.blocks,c=this._dragBlock,u=e.component||r.get("dragResult");if(delete this._dragBlock,u&&c){var d="activeOnRender",h=u.get&&u.get(d),v=c.get("activate")||h,m=c.get("select"),b=(0,A.isArray)(u)?u[0]:u;(m||v&&m!==!1)&&r.setSelected(b),v&&(b.trigger("active"),h&&b.unset(d)),c.get("resetId")&&b.onAll(function(w){return w.resetId()})}r.set({dragResult:null,dragSource:void 0}),c&&[r,s].map(function(w){return w.trigger(o.dragEnd,u,c)})},n.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(e){return e.view}).filter(Boolean)},n.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=Ii(Ii({},this._bhv||{}),e)},n.prototype.__getBehaviour=function(){return this._bhv||{}},n.prototype.startDrag=function(e,t){this.__startDrag(e,t),this.__getFrameViews().forEach(function(r){var o;return(o=r.droppable)===null||o===void 0?void 0:o.startCustom()})},n.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(t){var r;return(r=t.droppable)===null||r===void 0?void 0:r.endCustom(e)}),this.__endDrag()},n.prototype.postRender=function(){var e=this,t=e.categories,r=e.config,o=e.em,s=this.blocksVisible;this.blocksView=new Oy({collection:s,categories:t},Ii(Ii({},r),{em:o})),this.__appendTo(s.models),this.__trgCustom()},n.prototype.add=function(e,t,r){r===void 0&&(r={});var o=t||{};return o.id=e,this.blocks.add(o,r)},n.prototype.get=function(e){return this.blocks.get(e)},n.prototype.getAll=function(){return this.blocks},n.prototype.getAllVisible=function(){return this.blocksVisible},n.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},n.prototype.getCategories=function(){return this.categories},n.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},n.prototype.getDragBlock=function(){return this._dragBlock},n.prototype.getBlocksByCategory=function(e){return X0(e||this.getAll().models)},n.prototype.render=function(e,t){t===void 0&&(t={});var r=this,o=r.categories,s=r.config,c=r.em,u=e||this.getAll().models;if(t.external){var d=new Nc(u,{em:c});return new Oy({collection:d,categories:o},Ii(Ii({em:c},s),t)).render().el}return this.blocksView&&(this.blocksView.updateConfig(t),this.blocksView.collection.reset(u),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},n.prototype.destroy=function(){var e,t=[this.blocks,this.blocksVisible,this.categories];t.map(function(r){return r.stopListening()}),t.map(function(r){return r.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},n}(si),dk=uk,fk=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}},pk=fk,hk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fb=function(i){hk(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",label:""}},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(){return this.get("label")||this.getName()},n}(je.Kx),gf=fb;fb.prototype.idAttribute="name";var gk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vk=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},Ty="contentEditable",mk=function(i){gk(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this,r=e.config||{};return t.config=r,t.module=e.module,t.coll=e.coll||null,t.pfx=r.stylePrefix||"",t.ppfx=r.pStylePrefix||"",t.em=r.em,t.listenTo(t.model,"change:active",t.updateStatus),t}return n.prototype.template=function(){var e=this,t=e.pfx,r=e.model,o=e.config,s=r.get("label")||"";return Nn(ky||(ky=vk([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),t,t,t,s,t,t,o.iconTagRemove)},n.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},n.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},n.prototype.startEditTag=function(){var e=this.em,t=this.getInputEl();t[Ty]="true",t.focus(),e?.setEditing(!0)},n.prototype.endEditTag=function(){var e=this,t=e.model,r=e.em,o=this.getInputEl(),s=o.textContent||"",c=r?.Selectors;o[Ty]="false",r?.setEditing(!1),c&&c.rename(t,s)!==t&&(o.innerText=t.getLabel())},n.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.getActive())},n.prototype.removeTag=function(){this.module.removeSelected(this.model)},n.prototype.updateStatus=function(){var e=this,t=e.model,r=e.$el,o=e.config,s=o.iconTagOn,c=o.iconTagOff,u=r.find("[data-tag-status]");t.get("active")?(u.html(s),r.removeClass("opac50")):(u.html(c),r.addClass("opac50"))},n.prototype.render=function(){var e=this,t=e.pfx,r=e.ppfx,o=e.$el,s=e.model,c="".concat(t,"tag"),u=["".concat(c," ").concat(r,"three-bg")];return s.get("protected")&&u.push("".concat(c,"-protected")),o.html(this.template()),o.attr("class",u.join(" ")),this.updateStatus(),this},n}(je.Ss),yk=mk,ky,bk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qs=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},_k=function(i){bk(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.className=t.pfx+"tags",t.stateInputId=t.pfx+"states",t.stateInputC=t.pfx+"input-c",t.states=t.config.states||[];var r=t.config.em,o=t.collection;t.target=r;var s=r.Selectors;t.module=s,t.em=r,t.componentChanged=(0,A.debounce)(t.componentChanged.bind(t),0),t.checkSync=(0,A.debounce)(t.checkSync.bind(t),0);var c=ur.I.update,u="".concat(c,":classes"),d="component:toggled ".concat(u),h="".concat(u," ").concat(c,":attributes:id change:state");return t.listenTo(r,d,t.componentChanged),t.listenTo(r,"styleManager:update",t.componentChanged),t.listenTo(r,h,t.__handleStateChange),t.listenTo(r,"styleable:change change:device",t.checkSync),t.listenTo(o,"add",t.addNew),t.listenTo(o,"reset",t.renderClasses),t.listenTo(o,"remove",t.tagRemoved),t.listenTo(s.getAll(),s.events.state,(0,A.debounce)(function(){return t.renderStates()},0)),t.delegateEvents(),t}return n.prototype.template=function(e){var t=e.labelInfo,r=e.labelHead,o=e.iconSync,s=e.iconAdd,c=e.pfx,u=e.ppfx;return Nn(Ey||(Ey=Qs([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),c,c,c,c,r,c,c,c,u,u,u,c,u,u,c,u,c,c,c,c,c,s,c,c,o,c,c,t,c)},n.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},n.prototype.syncStyle=function(){var e=this.em,t=this.getTarget(),r=e.Css,o={noDisabled:1},s=this.getCommonSelectors({opts:o}),c=e.get("state"),u=e.getCurrentMedia(),d=[],h=r.get(s,c,u)||r.add(s,c,u),v;this.getTargets().forEach(function(m){var b=r.getIdRule(m.getId(),{state:c,mediaText:u});v=b.getStyle(),b.setStyle({}),d.push(b)}),v&&h.addStyle(v),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:t,selectors:s,mediaText:u,rule:h,ruleComponents:d,state:c})},n.prototype.tagRemoved=function(e){this.updateStateVis()},n.prototype.addNew=function(e){this.addToClasses(e)},n.prototype.startNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(t=this.$input)===null||t===void 0||t.show().focus()},n.prototype.endNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(t=this.$input)===null||t===void 0||t.hide().val("")},n.prototype.onInputKeyUp=function(e){var t;e.keyCode===13?(e.preventDefault(),this.addNewTag((t=this.$input)===null||t===void 0?void 0:t.val())):e.keyCode===27&&this.endNewTag()},n.prototype.checkStates=function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},n.prototype.componentChanged=function(e){var t=e===void 0?{}:e,r=t.targets;this.updateSelection(r)},n.prototype.updateSelection=function(e){var t=e||this.getTargets();t=(0,A.isArray)(t)?t:[t];var r=[];return t&&t.length&&(r=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:r})),this.collection.reset(r),this.updateStateVis(t),this.module.__trgCustom(),r},n.prototype.getCommonSelectors=function(e){var t=e===void 0?{}:e,r=t.targets,o=t.opts,s=o===void 0?{}:o,c=r||this.getTargets();return this.module.__getCommonSelectors(c,s)},n.prototype._commonSelectors=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.module).__common.apply(e,t)},n.prototype.checkSync=function(){var e=this,t=e.$btnSyncEl,r=e.config,o=e.collection,s=this.getTarget(),c;if(s&&r.componentFirst&&o.length){var u=s.getStyle();c=!(0,A.isEmpty)(u)}t&&t[c?"show":"hide"]()},n.prototype.getTarget=function(){return this.target.getSelected()},n.prototype.getTargets=function(){return this.target.getSelectedAll()},n.prototype.updateStateVis=function(e){var t=this.em,r=t&&t.getConfig().avoidInlineStyle,o=this.collection.length||r?"":"none";this.getStatesC().css("display",o),this.updateSelector(e)},n.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},n.prototype.updateSelector=function(e){var t=this,r=this.el.querySelector("[data-selected]"),o=[],s=e||this.getTargets();s=(0,A.isArray)(s)?s:[s],s.forEach(function(c){return o.push(t.__getName(c))}),r&&(r.innerHTML=o.join(", ")),this.checkStates()},n.prototype.__getName=function(e){var t=this,r=t.pfx,o=t.config,s=t.em,c=o.selectedName,u=o.componentFirst,d;if((0,A.isString)(e))d=Nn(Py||(Py=Qs(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),r,e);else{var h=e?.getSelectors();if(!h)return"";var v=h.getStyleable(),m=s.get("state"),b=e.getId?Nn(Ay||(Ay=Qs(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),r,e.getName(),r,e.getId()):"";d=this.collection.getFullString(v),d=d?Nn(Dy||(Dy=Qs(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),r,d):e.get("selectorsAdd")||b,d=u&&b?b:d,d+=m?Nn(My||(My=Qs(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),r,m):"",d=c?c({result:d,state:m,target:e}):d}return d&&'<span class="'.concat(r,'sel">').concat(d,"</span>")},n.prototype.stateChanged=function(e){var t=this.em,r=e.target.value;t.set("state",r)},n.prototype.addNewTag=function(e){var t=e.trim();t&&(this.module.addSelected({label:t}),this.endNewTag())},n.prototype.addToClasses=function(e,t){var r=t,o=this.getClasses(),s=new yk({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return r?r.appendChild(s):o.append(s),s},n.prototype.renderClasses=function(){var e=this,t=document.createDocumentFragment(),r=this.getClasses();r.empty(),this.collection.each(function(o){return e.addToClasses(o,t)}),r.append(t)},n.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},n.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},n.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},n.prototype.renderStates=function(){var e=this,t=e.module,r=e.em,o=r.t("selectorManager.emptyState"),s=t.getStates().map(function(u){var d=r.t("selectorManager.states.".concat(u.id))||u.getLabel()||u.id;return'<option value="'.concat(u.id,'">').concat(d,"</option>")}).join(""),c=this.getStates();c&&c.html('<option value="">'.concat(o,"</option>").concat(s)),this.checkStates()},n.prototype.render=function(){var e=this,t=e.em,r=e.pfx,o=e.ppfx,s=e.config,c=e.$el,u=e.el,d=s.render,h=s.iconSync,v=s.iconAdd,m={iconSync:h,iconAdd:v,labelHead:t.t("selectorManager.label"),labelInfo:t.t("selectorManager.selected"),ppfx:o,pfx:r,el:u};c.html(this.template(m));var b=d&&d(m);return b&&b!==u&&c.empty().append(b),this.$input=c.find("[data-input]"),this.$addBtn=c.find("[data-add]"),this.$classes=c.find("#"+r+"tags-c"),this.$btnSyncEl=c.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),c.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},n}(je.Ss),wk=_k,Ey,Py,Ay,Dy,My,Ck=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fl=function(){return fl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},fl.apply(this,arguments)},vf=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Ly=function(i){return(0,A.isString)(i)&&i[0]=="#"},Ry=function(i){return(0,A.isString)(i)&&i[0]=="."},pb="selector",Ol="".concat(pb,":"),xk="".concat(Ol,"add"),Sk="".concat(Ol,"update"),hb="".concat(Ol,"remove"),Ok="".concat(hb,":before"),Tk="".concat(Ol,"custom"),gb="".concat(Ol,"state"),kk={all:pb,update:Sk,add:xk,remove:hb,removeBefore:Ok,state:gb,custom:Tk},Ek=function(i){Ck(n,i);function n(e){var t=i.call(this,e,"SelectorManager",new ji([]),kk,pk(),{skipListen:!0})||this;t.Selector=yn,t.Selectors=ji,t.storageKey="",(0,A.bindAll)(t,"__updateSelectedByComponents");var r=t.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),t.all=new ji(r.selectors),t.selected=new ji([],{em:e,config:r}),t.states=new je.pM(r.states.map(function(u){return new gf(u)}),{model:gf}),t.model=new je.Kx({cFirst:r.componentFirst,_undo:!0}),t.__update=(0,A.debounce)(function(){return t.__trgCustom()},0),t.__initListen({collections:[t.states,t.selected],propagate:[{entity:t.states,event:t.events.state}]}),e.on("change:state",function(u,d){return e.trigger(gb,d)}),t.model.on("change:cFirst",function(u,d){return e.trigger("selector:type",d)});var s="".concat(ur.I.update,":classes");e.on("component:toggled ".concat(s),t.__updateSelectedByComponents);var c="component:toggled ".concat(s," change:device styleManager:update selector:state selector:type style:target");return t.model.listenTo(e,c,function(){return t.__update()}),t}return n.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},n.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?vf([],this.all.models,!0):this.all:[]},n.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},n.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},n.prototype.select=function(e,t){t===void 0&&(t={});var r=Array.isArray(e)?e:[e],o=this.em.Styles.select(r,t);this.selected.reset(this.__getCommonSelectors(o));var s=this.selectorTags,c=o.filter(function(u){return u}).map(function(u){return(0,Ee.isComponent)(u)||(0,Ee.isRule)(u)&&!u.get("selectorsAdd")?u:u.getSelectorsString()});return s&&s.componentChanged({targets:c}),this},n.prototype.addSelector=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=fl({},t);(0,A.isObject)(e)?o=e:o.name=e,Ly(o.name)?(o.name=o.name.substr(1),o.type=yn.TYPE_ID):Ry(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var s=o.name,c=this.getConfig(),u=this,d=u.all,h=u.em,v=s?this.get(s,o.type):d.where(o)[0];if(!v){var m=o instanceof yn?o:new yn(o,fl(fl({},r),{config:c,em:h}));return d.add(m,r)}return v},n.prototype.getSelector=function(e,t){return t===void 0&&(t=yn.TYPE_CLASS),Ly(e)?(e=e.substr(1),t=yn.TYPE_ID):Ry(e)&&(e=e.substr(1)),this.all.where({name:e,type:t})[0]},n.prototype.add=function(e,t){var r=this;t===void 0&&(t={});var o=(0,A.isString)(e)?{}:t;return(0,A.isArray)(e)?e.map(function(s){return r.addSelector(s,t,o)}):this.addSelector(e,t,o)},n.prototype.addClass=function(e){var t=this,r=[];return(0,A.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(o){return r.push(t.addSelector(o))}),r},n.prototype.get=function(e,t){var r=this;if((0,A.isArray)(e)){var o=[],s=e.map(function(c){return r.getSelector(c)}).filter(Boolean);return s.forEach(function(c){return o.indexOf(c)<0&&o.push(c)}),o}else return this.getSelector(e,t)},n.prototype.remove=function(e,t){return this.__remove(e,t)},n.prototype.rename=function(e,t,r){var o=this.escapeName(t),s=this.get(o);return s||e.set({name:o,label:t},r)},n.prototype.setState=function(e){return this.em.setState(e),this},n.prototype.getState=function(){return this.em.getState()},n.prototype.getStates=function(){return vf([],this.states.models,!0)},n.prototype.setStates=function(e,t){return this.states.reset(e.map(function(r){return new gf(r)}),t)},n.prototype.getSelected=function(){return this.__getCommon()},n.prototype.getSelectedAll=function(){return vf([],this.selected.models,!0)},n.prototype.addSelected=function(e){var t=this.add(e);this.em.getSelectedAll().forEach(function(r){r.getSelectors().add(t)})},n.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(t){!e.get("protected")&&t&&t.getSelectors().remove(e)})},n.prototype.duplicateSelected=function(e,t){var r=this;t===void 0&&(t={});var o=this.em,s=this.getSelected();if(!(s.indexOf(e)<0)){var c=this.getState(),u=o.getCurrentMedia(),d=o.Css.get(s,c,u),h=d?.getStyle();if(o.getSelectedAll().forEach(function(m){var b=m.getSelectors();if(b.includes(e)){var w=t.suffix||" copy",C=e.getLabel(),T=r.addSelector("".concat(C).concat(w)),I=b.indexOf(e);b.remove(e),b.add(T,{at:I})}}),h){var v=o.Css.add(this.getSelected(),c,u);v.setStyle(h)}}},n.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},n.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},n.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},n.prototype.escapeName=function(e){var t=this.getConfig().escapeName;return t?t(e):yn.escapeName(e)},n.prototype.render=function(e){var t=this.selectorTags,r=this.getConfig(),o=t?.el;return this.selected.reset(e),this.selectorTags=new wk({el:o,collection:this.selected,module:this,config:r}),this.selectorTags.render().el},n.prototype.destroy=function(){var e=this,t=e.selectorTags,r=e.model;r.stopListening(),this.__update.cancel(),this.__destroy(),t?.remove(),this.selectorTags=void 0},n.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},n.prototype.__getCommonSelectors=function(e,t){t===void 0&&(t={});var r=e.map(function(o){return o.getSelectors&&o.getSelectors().getValid(t)}).filter(Boolean);return this.__common.apply(this,r)},n.prototype.__common=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length?t.length===1?t[0]:t.length===2?t[0].filter(function(o){return t[1].indexOf(o)>=0}):t.slice(1).reduce(function(o,s){return e.__common(o,s)},t[0]):[]},n.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},n}(si),Pk=Ek,Ak=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}}},Dk=Ak,Eo,Jn={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},ps=(Eo={},Eo[Jn.MEDIA_RULE]="media",Eo[Jn.FONT_FACE_RULE]="font-face",Eo[Jn.PAGE_RULE]="page",Eo[Jn.KEYFRAMES_RULE]="keyframes",Eo[Jn.COUNTER_STYLE_RULE]="counter-style",Eo[Jn.SUPPORTS_RULE]="supports",Eo[Jn.DOCUMENT_RULE]="document",Eo[Jn.FONT_FEATURE_VALUES_RULE]="font-feature-values",Eo[Jn.VIEWPORT_RULE]="viewport",Eo),vb=(0,A.keys)(ps),gp=[Jn.FONT_FACE_RULE,Jn.PAGE_RULE,Jn.COUNTER_STYLE_RULE,Jn.VIEWPORT_RULE],Mk=vb.filter(function(i){return gp.indexOf(Number(i))<0}).map(function(i){return ps[i]}).concat(["container","layer"]),Lk=gp.map(function(i){return ps[i]}),mb=function(i){i===void 0&&(i="");for(var n=[],e=[],t=i.split(","),r=0,o=t.length;r<o;r++){var s=t[r].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(s)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(s)){var c=s.split(".").filter(Boolean);e.push(c)}else n.push(s)}return{result:e,add:n}},Rk=function(i){for(var n=i.style,e={},t=0,r=n.length;t<r;t++){var o=n[t],s=n.getPropertyValue(o),c=n.getPropertyPriority(o);e[o]="".concat(s).concat(c?" !".concat(c):"")}return e},Iy=function(i){var n=i.conditionText||i.media&&i.media.mediaText||i.name||i.selectorText||"";return n.trim()},Wf=function(i,n,e){n===void 0&&(n={}),e===void 0&&(e={});var t={},r=i.length,o=i[r-1],s=o?o.split(/:(.+)/):[],c=s[1],u=e.atRule,d=e.selectorsAdd,h=e.mediaText,v=Lk.indexOf(u)>=0;return v&&(t.singleAtRule=!0),u&&(t.atRuleType=u),d&&(t.selectorsAdd=d),h&&(t.mediaText=h),c&&(i[r-1]=s[0],t.state=c,s.splice(s.length-1,1)),t.selectors=i,t.style=n,t},Ny=function(i){var n=i.cssText,e=n===void 0?"":n;return Mk.find(function(t){return e.indexOf("@".concat(t))===0})},yb=function(i){for(var n=[],e=i.cssRules||[],t=0,r=e.length;t<r;t++){var o=e[t],s=o.type,c=!1,u="",d="",h=o.selectorText||o.keyText||"",v=gp.indexOf(s)>=0;if(v)c=!0,u=ps[s],d=Iy(o);else if(vb.indexOf("".concat(s))>=0||!s&&Ny(o)){var m=yb(o),b=ps[s]||Ny(o);d=Iy(o);for(var w=0,C=m.length;w<C;w++){var T=m[w];d&&(T.mediaText=d),T.atRuleType=b}n=n.concat(m)}if(!(!h&&!v)){for(var I=Rk(o),W=mb(h),j=W.add,z=W.result,ue=void 0,ye=0,xe=z.length;ye<xe;ye++){var le=Wf(z[ye],I,{atRule:ps[s]});n.push(le),ue=le}if(j.length){var Y=j.join(", ");if(ue)ue.selectorsAdd=Y;else{var le={selectors:[],selectorsAdd:Y,style:I};c&&(le.singleAtRule=c),u&&(le.atRuleType=u),d&&(le.mediaText=d),n.push(le)}}}}return n},Ik=function(i){var n=document.createElement("style");n.innerHTML=i,document.head.appendChild(n);var e=n.sheet;return document.head.removeChild(n),e?yb(e):[]},Nk=function(i,n){return n===void 0&&(n={}),{parse:function(e,t){var r=this,o;t===void 0&&(t={});var s=[],c=n.parserCss,u=i?.Editor,d=[],h;try{d=c?c(e,u):Ik(e)}catch(v){if(h=v,t.throwOnError)throw v}return d.forEach(function(v){return s=s.concat(r.checkNode(v))}),(o=i?.Parser)===null||o===void 0||o.__emitEvent(yl.css,{input:e,output:s,nodes:d,error:h}),s},checkNode:function(e){var t=e.selectors,r=e.style,o=[e];if((0,A.isString)(t)){var s=[],c=e,u=mb(t),d=u.result,h=u.add.join(", "),v={atRule:c.atRule,mediaText:c.params};if(d.length?d.forEach(function(b){s.push(Wf(b,r,v))}):s.push(Wf([],r,v)),h){var m=s[s.length-1];m.selectorsAdd=h}o=s}return o}}},Fk=Nk,jk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zf=function(){return zf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},zf.apply(this,arguments)},Bk=function(i){jk(n,i);function n(e){var t=i.call(this,e,"Parser",Dk())||this;t.events=yl;var r=t.config;return t.parserCss=Fk(e,r),t.parserHtml=B0(e,r),t}return n.prototype.parseHtml=function(e,t){t===void 0&&(t={});var r=this,o=r.em,s=r.parserHtml;return s.compTypes=o.Components.getTypes()||[],s.parse(e,this.parserCss,t)},n.prototype.parseCss=function(e){return this.parserCss.parse(e)},n.prototype.__emitEvent=function(e,t){var r=this,o=r.em,s=r.events;o.trigger(e,t),o.trigger(s.all,zf({event:e},t))},n.prototype.destroy=function(){},n}(jn),Vk=Bk,Hk=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(i){return i},onLoad:function(i){return i},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(i){return i},onLoad:function(i){return i}}}}},Wk=Hk,Fy=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?o(h.value):r(h.value).then(c,u)}d((t=t.apply(i,n||[])).next())})},jy=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,r&&(o=d[0]&2?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(i,e)}catch(h){d=[6,h],r=0}finally{t=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},zk=function(){function i(){}return i.prototype.store=function(n){return Fy(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),jy(this,function(r){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(e)),[2,e]})})},i.prototype.load=function(){return Fy(this,arguments,void 0,function(n){var e;return n===void 0&&(n={}),jy(this,function(t){return e={},this.hasLocal(n,!0)&&(e=JSON.parse(localStorage.getItem(n.key)||"{}")),[2,e]})})},i.prototype.hasLocal=function(n,e){if(n===void 0&&(n={}),n.checkLocal&&(!(0,Ee.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},i}(),Uk=zk;function ma(i){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ma(i)}function $k(i){var n=this.constructor;return this.then(function(e){return n.resolve(i()).then(function(){return e})},function(e){return n.resolve(i()).then(function(){return n.reject(e)})})}var Kk=$k;function Gk(i){var n=this;return new n(function(e,t){if(!(i&&typeof i.length<"u"))return t(new TypeError(ma(i)+" "+i+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(i);if(r.length===0)return e([]);var o=r.length;function s(u,d){if(d&&(ma(d)==="object"||typeof d=="function")){var h=d.then;if(typeof h=="function"){h.call(d,function(v){s(u,v)},function(v){r[u]={status:"rejected",reason:v},--o===0&&e(r)});return}}r[u]={status:"fulfilled",value:d},--o===0&&e(r)}for(var c=0;c<r.length;c++)s(c,r[c])})}var Yk=Gk;function bb(i,n){this.name="AggregateError",this.errors=i,this.message=n||""}bb.prototype=Error.prototype;function qk(i){var n=this;return new n(function(e,t){if(!(i&&typeof i.length<"u"))return t(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(i);if(r.length===0)return t();for(var o=[],s=0;s<r.length;s++)try{n.resolve(r[s]).then(e).catch(function(c){o.push(c),o.length===r.length&&t(new bb(o,"All promises were rejected"))})}catch(c){t(c)}})}var Xk=qk,Zk=setTimeout;function _b(i){return!!(i&&typeof i.length<"u")}function Jk(){}function Qk(i,n){return function(){i.apply(n,arguments)}}function dr(i){if(!(this instanceof dr))throw new TypeError("Promises must be constructed via new");if(typeof i!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Cb(i,this)}function wb(i,n){for(;i._state===3;)i=i._value;if(i._state===0){i._deferreds.push(n);return}i._handled=!0,dr._immediateFn(function(){var e=i._state===1?n.onFulfilled:n.onRejected;if(e===null){(i._state===1?Uf:xl)(n.promise,i._value);return}var t;try{t=e(i._value)}catch(r){xl(n.promise,r);return}Uf(n.promise,t)})}function Uf(i,n){try{if(n===i)throw new TypeError("A promise cannot be resolved with itself.");if(n&&(ma(n)==="object"||typeof n=="function")){var e=n.then;if(n instanceof dr){i._state=3,i._value=n,$f(i);return}else if(typeof e=="function"){Cb(Qk(e,n),i);return}}i._state=1,i._value=n,$f(i)}catch(t){xl(i,t)}}function xl(i,n){i._state=2,i._value=n,$f(i)}function $f(i){i._state===2&&i._deferreds.length===0&&dr._immediateFn(function(){i._handled||dr._unhandledRejectionFn(i._value)});for(var n=0,e=i._deferreds.length;n<e;n++)wb(i,i._deferreds[n]);i._deferreds=null}function eE(i,n,e){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof n=="function"?n:null,this.promise=e}function Cb(i,n){var e=!1;try{i(function(t){e||(e=!0,Uf(n,t))},function(t){e||(e=!0,xl(n,t))})}catch(t){if(e)return;e=!0,xl(n,t)}}dr.prototype.catch=function(i){return this.then(null,i)};dr.prototype.then=function(i,n){var e=new this.constructor(Jk);return wb(this,new eE(i,n,e)),e};dr.prototype.finally=Kk;dr.all=function(i){return new dr(function(n,e){if(!_b(i))return e(new TypeError("Promise.all accepts an array"));var t=Array.prototype.slice.call(i);if(t.length===0)return n([]);var r=t.length;function o(c,u){try{if(u&&(ma(u)==="object"||typeof u=="function")){var d=u.then;if(typeof d=="function"){d.call(u,function(h){o(c,h)},e);return}}t[c]=u,--r===0&&n(t)}catch(h){e(h)}}for(var s=0;s<t.length;s++)o(s,t[s])})};dr.any=Xk;dr.allSettled=Yk;dr.resolve=function(i){return i&&ma(i)==="object"&&i.constructor===dr?i:new dr(function(n){n(i)})};dr.reject=function(i){return new dr(function(n,e){e(i)})};dr.race=function(i){return new dr(function(n,e){if(!_b(i))return e(new TypeError("Promise.race accepts an array"));for(var t=0,r=i.length;t<r;t++)dr.resolve(i[t]).then(n,e)})};dr._immediateFn=typeof setImmediate=="function"&&function(i){setImmediate(i)}||function(i){Zk(i,0)};dr._unhandledRejectionFn=function(n){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};var Kf=dr;(0,Ee.hasWin)()&&(window.Promise=window.Promise||Kf);var xb=typeof fetch=="function"?fetch.bind():function(i,n){return new Kf(function(e,t){var r=new XMLHttpRequest;r.open(n.method||"get",i),r.withCredentials=n.credentials=="include";for(var o in n.headers||{})r.setRequestHeader(o,n.headers[o]);r.onload=function(s){return e({status:r.status,statusText:r.statusText,text:function(){return Kf.resolve(r.responseText)}})},r.onerror=t,r.upload&&n.onProgress&&(r.upload.onprogress=n.onProgress),n.body?r.send(n.body):r.send()})},Tu=function(){return Tu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Tu.apply(this,arguments)},By=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?o(h.value):r(h.value).then(c,u)}d((t=t.apply(i,n||[])).next())})},Vy=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,r&&(o=d[0]&2?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(i,e)}catch(h){d=[6,h],r=0}finally{t=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},tE=function(){function i(){}return i.prototype.store=function(n){return By(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),Vy(this,function(r){switch(r.label){case 0:return[4,this.request(t.urlStore,this.__props(t,e),t)];case 1:return[2,r.sent()]}})})},i.prototype.load=function(){return By(this,arguments,void 0,function(n){return n===void 0&&(n={}),Vy(this,function(e){switch(e.label){case 0:return[4,this.request(n.urlLoad,this.__props(n),n)];case 1:return[2,e.sent()]}})})},i.prototype.request=function(n,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),xb(n,e).then(function(r){var o=r.text(),s=(r.status/200|0)===1;return s?o:o.then(Promise.reject)}).then(function(r){var o=r&&(0,A.isString)(r);return t.contentTypeJson&&o?JSON.parse(r):r})},i.prototype.__props=function(n,e){n===void 0&&(n={});var t=n.contentTypeJson,r=n.headers||{},o=n.fetchOptions||{},s="X-Requested-With",c="Content-Type",u;if((0,A.isUndefined)(r[s])&&(r[s]="XMLHttpRequest"),(0,A.isUndefined)(r[c])&&t&&(r[c]="application/json; charset=utf-8"),e)if(t)u=JSON.stringify(e);else{u=new FormData;for(var d in e)u.append(d,e[d])}var h={method:u?"POST":"GET",credentials:n.credentials,headers:r,body:u};return Tu(Tu({},h),(0,A.isFunction)(o)?o(h):o)},i}(),rE=tE,Sb=function(i){return i.start="storage:start",i.startStore="storage:start:store",i.startLoad="storage:start:load",i.load="storage:load",i.store="storage:store",i.after="storage:after",i.afterStore="storage:after:store",i.afterLoad="storage:after:load",i.end="storage:end",i.endStore="storage:end:store",i.endLoad="storage:end:load",i.error="storage:error",i.errorStore="storage:error:store",i.errorLoad="storage:error:load",i}(Sb||{}),gn=Sb,nE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),os=function(){return os=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},os.apply(this,arguments)},mf=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?o(h.value):r(h.value).then(c,u)}d((t=t.apply(i,n||[])).next())})},yf=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,r&&(o=d[0]&2?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(i,e)}catch(h){d=[6,h],r=0}finally{t=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Fc="local",Hy="remote",oE=function(i){nE(n,i);function n(e){var t=i.call(this,e,"StorageManager",Wk())||this;t.storages={},t.events=gn;var r=t.config;return r._disable&&(r.type=void 0),t.storages={},t.add(Fc,new Uk),t.add(Hy,new rE),t.setCurrent(r.type),t}return n.prototype.isAutosave=function(){return!!this.config.autosave},n.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},n.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},n.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},n.prototype.add=function(e,t){return this.storages[e]=t,this},n.prototype.get=function(e){return this.storages[e]},n.prototype.getStorages=function(){return this.storages},n.prototype.getCurrent=function(){return this.config.currentStorage},n.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},n.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},n.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},n.prototype.store=function(e){return mf(this,arguments,void 0,function(t,r){var o,s,c,u,d,h;return r===void 0&&(r={}),yf(this,function(v){switch(v.label){case 0:o=this.getCurrentStorage(),s=os(os({},this.getCurrentOptions()),r),c=this.getRecoveryStorage(),u=this.getCurrentOptions(Fc),v.label=1;case 1:return v.trys.push([1,5,,9]),[4,this.__exec(o,s,t)];case 2:return v.sent(),d=c,d?[4,this.__exec(c,u,{})]:[3,4];case 3:d=v.sent(),v.label=4;case 4:return[3,9];case 5:return h=v.sent(),c?[4,this.__exec(c,u,t)]:[3,7];case 6:return v.sent(),[3,8];case 7:throw h;case 8:return[3,9];case 9:return[2,t]}})})},n.prototype.load=function(){return mf(this,arguments,void 0,function(e){var t,r,o,s,c,u;return e===void 0&&(e={}),yf(this,function(d){switch(d.label){case 0:return t=this.getCurrentStorage(),r=os(os({},this.getCurrentOptions()),e),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(Fc))]:[3,5];case 1:if(c=d.sent(),(0,A.isEmpty)(c))return[3,5];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return d.sent(),s=c,[3,5];case 4:return u=d.sent(),[3,5];case 5:return s?[3,7]:[4,this.__exec(t,r)];case 6:s=d.sent(),d.label=7;case 7:return[2,s||{}]}})})},n.prototype.__askRecovery=function(){var e=this.em,t=this.getRecovery();return new Promise(function(r,o){(0,A.isFunction)(t)?t(r,o,e?.getEditor()):confirm(e?.t("storageManager.recover"))?r(null):o()})},n.prototype.getRecovery=function(){return this.config.recovery},n.prototype.getRecoveryStorage=function(){var e=this.getRecovery();return e&&this.getCurrent()===Hy&&this.get(Fc)},n.prototype.__exec=function(e,t,r){return mf(this,void 0,void 0,function(){var o,s,c,u,d,h,v,m,b,w,C,T,I,W;return yf(this,function(j){switch(j.label){case 0:if(o=r?"store":"load",s=this.getConfig(),c=s.onStore,u=s.onLoad,!e)return[2,r||{}];this.onStart(o,r),j.label=1;case 1:return j.trys.push([1,14,,15]),h=(W=this.em)===null||W===void 0?void 0:W.getEditor(),v=void 0,r?(b=c,b?[4,c(r,h)]:[3,3]):[3,7];case 2:b=j.sent(),j.label=3;case 3:return m=b||r,w=t.onStore,w?[4,t.onStore(m,h)]:[3,5];case 4:w=j.sent(),j.label=5;case 5:return m=w||m,[4,e.store(m,t)];case 6:return v=j.sent(),d=r,[3,13];case 7:return[4,e.load(t)];case 8:return v=j.sent(),d=this.__clearKeys(v),C=t.onLoad,C?[4,t.onLoad(d,h)]:[3,10];case 9:C=j.sent(),j.label=10;case 10:return d=C||d,T=u,T?[4,u(d,h)]:[3,12];case 11:T=j.sent(),j.label=12;case 12:d=T||d,j.label=13;case 13:return this.onAfter(o,d,v),this.onEnd(o,d,v),[3,15];case 14:throw I=j.sent(),this.onError(o,I),I;case 15:return[2,d]}})})},n.prototype.__clearKeys=function(e){e===void 0&&(e={});var t=this.getConfig(),r=new RegExp("^".concat(t.id)),o={};for(var s in e){var c=s.replace(r,"");o[c]=e[s]}return o},n.prototype.getCurrentOptions=function(e){var t=this.getConfig(),r=e||this.getCurrent();return t.options[r]||{}},n.prototype.onStart=function(e,t){var r=this.em;if(r){var o=e==="load"?gn.startLoad:gn.startStore;r.trigger(gn.start,e,t),r.trigger(o,t)}},n.prototype.onAfter=function(e,t,r){var o=this.em;if(o){var s=e==="load"?gn.afterLoad:gn.afterStore;o.trigger(gn.after),o.trigger(s,t,r);var c=e==="load"?gn.load:gn.store;o.trigger(c,t,r)}},n.prototype.onEnd=function(e,t,r){var o=this.em;if(o){var s=e==="load"?gn.endLoad:gn.endStore;o.trigger(gn.end,e,t,r),o.trigger(s,t,r)}},n.prototype.onError=function(e,t){var r=this.em;if(r){var o=e==="load"?gn.errorLoad:gn.errorStore;r.trigger(gn.error,t,e),r.trigger(o,t),this.onEnd(e,t)}},n.prototype.canAutoload=function(){var e=this.getCurrentStorage();return!!e&&!!this.config.autoload},n.prototype.destroy=function(){this.storages={}},n}(jn),iE=oE,aE=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}},sE=aE,lE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pl=function(){return pl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},pl.apply(this,arguments)},Ob=function(i){lE(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.events={},t.appendInput=!0;var r=e.config,o=r===void 0?{}:r,s=t,c=s.model,u=s.eventCapture,d=c.target,h=c.attributes.type;t.config=o,t.em=o.em,t.pfx=o.stylePrefix||"",t.ppfx=o.pStylePrefix||"",t.target=d,t.className=t.pfx+"trait",t.clsField="".concat(t.ppfx,"field ").concat(t.ppfx,"field-").concat(h);var v=[["change:value",t.onValueChange],["remove",t.removeView]];return v.forEach(function(m){var b=m[0],w=m[1];c.off(b,w),t.listenTo(c,b,w)}),c.view=t,t.listenTo(c,"change:label",t.render),t.listenTo(c,"change:placeholder",t.rerender),t.events={},u.forEach(function(m){return t.events[m]="onChange"}),t.delegateEvents(),t.init(),t}return n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.templateLabel=function(e){var t=this.ppfx,r=this.getLabel();return'<div class="'.concat(t,'label" title="').concat(r,'">').concat(r,"</div>")},n.prototype.templateInput=function(e){var t=this.clsField;return'<div class="'.concat(t,'" data-input></div>')},n.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},n.prototype.removeView=function(){this.remove(),this.removed()},n.prototype.init=function(){},n.prototype.removed=function(){},n.prototype.onRender=function(e){},n.prototype.onUpdate=function(e){},n.prototype.onEvent=function(e){},n.prototype.onChange=function(e){var t=this.getInputElem();t&&!(0,A.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(pl(pl({},this.getClbOpts()),{event:e}))},n.prototype.getValueForTarget=function(){return this.model.get("value")},n.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.value=e)},n.prototype.onValueChange=function(e,t,r){r===void 0&&(r={});var o=this.model,s=this.getValueForTarget();r.fromTarget?(this.setInputValue(s),this.postUpdate()):o.setValue(s,r)},n.prototype.renderLabel=function(){var e=this,t=e.$el,r=e.target,o=this.getLabel(),s=this.templateLabel(r);this.createLabel&&(s=this.createLabel({label:o,component:r,trait:this})||""),t.find("[data-label]").append(s)},n.prototype.getLabel=function(){var e=this.em,t=this.model.attributes,r=t.label,o=t.name;return e.t("traitManager.traits.labels.".concat(o))||(0,Ee.capitalize)(r||o).replace(/-/g," ")},n.prototype.getComponent=function(){return this.target},n.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.em,r=e.model,o=r,s=r.attributes.name,c=o.get("placeholder")||o.get("default")||"",u=o.get("type")||"text",d=o.get("min"),h=o.get("max"),v=this.getModelValue(),m=(0,Br.default)('<input type="'.concat(u,'">')),b=t.t("traitManager.traits.attributes.".concat(s))||{};m.attr(pl({placeholder:c},b)),(0,A.isUndefined)(v)||(o.set({value:v},{silent:!0}),m.prop("value",v)),d&&m.prop("min",d),h&&m.prop("max",h),this.$input=m}return this.$input.get(0)},n.prototype.getInputElem=function(){var e=this,t=e.input,r=e.$input;return t||r&&r.get&&r.get(0)||this.getElInput()},n.prototype.getModelValue=function(){return this.model.getValue()},n.prototype.getElInput=function(){return this.elInput},n.prototype.renderField=function(){var e=this,t=e.$el,r=e.appendInput,o=e.model,s=t.find("[data-input]"),c=s[s.length-1],u=o.el;u||(u=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,A.isString)(u)?(c.innerHTML=u,this.elInput=c.firstChild):(r?c.appendChild(u):c.insertBefore(u,c.firstChild),this.elInput=u),o.el=this.elInput},n.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},n.prototype.rerender=function(){delete this.model.el,this.render()},n.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},n.prototype.render=function(){var e=this,t=e.$el,r=e.pfx,o=e.ppfx,s=e.model,c=s.attributes,u=c.type,d=c.id,h=this.hasLabel&&this.hasLabel(),v="".concat(r,"trait");delete this.$input;var m='<div class="'.concat(v," ").concat(v,"--").concat(u,`">
      `).concat(h?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(u,`" data-input>
        `).concat(this.templateInput?(0,A.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return t.empty().append(m),h&&this.renderLabel(),this.renderField(),this.el.className="".concat(v,"__wrp ").concat(v,"__wrp-").concat(d),this.postUpdate(),this.onRender(this.getClbOpts()),this},n}(je.Ss),ai=Ob;Ob.prototype.eventCapture=["change"];var cE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tb=function(i){cE(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.onChange=function(){this.handleClick()},n.prototype.handleClick=function(){this.model.runCommand()},n.prototype.renderLabel=function(){this.model.get("label")&&ai.prototype.renderLabel.apply(this)},n.prototype.getInputEl=function(){var e=this,t=e.model,r=e.ppfx,o=t.props(),s=o.labelButton,c=o.text,u=o.full,d=s||c,h="".concat(r,"btn"),v='<button type="button" class="'.concat(h,"-prim").concat(u?" ".concat(h,"--full"):"",'">').concat(d,"</button>");return v},n}(ai),uE=Tb;Tb.prototype.eventCapture=["click button"];var dE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fE=function(i){dE(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e.appendInput=!1,e}return n.prototype.templateInput=function(){var e=this,t=e.ppfx,r=e.clsField;return'<label class="'.concat(r,`" data-input>
    <i class="`).concat(t,`chk-icon"></i>
  </label>`)},n.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},n.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.checked=!!e)},n.prototype.getInputEl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!this.$input,o=ai.prototype.getInputEl.apply(this,e);if(r){var s=void 0,c=void 0,u=this,d=u.model,h=u.target,v=d.attributes.valueFalse,m=d.getName();d.changeProp?(s=h.get(m),c=s):(c=h.get("attributes")[m],s=!!(c||c==="")),!(0,A.isUndefined)(v)&&c===v&&(s=!1),o.checked=s}return o},n}(ai),pE=fE;function hE(i,n){"use strict";if(!(0,Ee.hasWin)())return;var e={beforeShow:b,move:b,change:b,show:b,hide:b,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},t=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function B(Oe,he){return!!~(""+Oe).indexOf(he)}var ee=document.createElement("div"),D=ee.style;return D.cssText="background-color:rgba(0,0,0,.5)",B(D.backgroundColor,"rgba")||B(D.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),c=function(){var B="";if(r)for(var ee=1;ee<=6;ee++)B+="<div class='sp-"+ee+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",B,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function u(B,ee,D,Oe){for(var he=[],Me=0;Me<B.length;Me++){var Ze=B[Me];if(Ze){var Xe=R(Ze),ze=Xe.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";ze+=R.equals(ee,Ze)?" sp-thumb-active":"";var st=Xe.toString(Oe.preferredFormat||"rgb"),Pt=o?"background-color:"+Xe.toRgbString():"filter:"+Xe.toFilter();he.push('<span title="'+st+'" data-color="'+Xe.toRgbString()+'" class="'+ze+'"><span class="sp-thumb-inner" style="'+Pt+';"></span></span>')}else{var Lt="sp-clear-display";he.push(i("<div />").append(i('<span data-color="" style="background-color:transparent;" class="'+Lt+'"></span>').attr("title",Oe.noColorSelectedText)).html())}}return"<div class='sp-cf "+D+"'>"+he.join("")+"</div>"}function d(){for(var B=0;B<t.length;B++)t[B]&&t[B].hide()}function h(B,ee){var D=i.extend({},e,B);return D.callbacks={move:C(D.move,ee),change:C(D.change,ee),show:C(D.show,ee),hide:C(D.hide,ee),beforeShow:C(D.beforeShow,ee)},D}function v(B,ee){var D=h(ee,B),Oe=D.flat,he=D.showSelectionPalette,Me=D.localStorageKey,Ze=D.theme,Xe=D.callbacks,ze=I(Cn,10),st=!1,Pt=!1,Lt=!0,Dt=0,nr=0,Sr=0,N=0,J=0,se=0,ke=0,$e=0,lt=0,wt=0,mr=0,Kt=1,Xt=[],_n=[],Or={},Zt=D.selectionPalette.slice(0),Bn=D.maxSelectionSize,Gt="sp-dragging",Jt=null,or=B.ownerDocument,wn=or.body,Nt=i(B),Qr=!1,_t=i(c,or).addClass(Ze),Vr=_t.find(".sp-picker-container"),fr=_t.find(".sp-color"),en=_t.find(".sp-dragger"),Vt=_t.find(".sp-hue"),Qe=_t.find(".sp-slider"),Tr=_t.find(".sp-alpha-inner"),$r=_t.find(".sp-alpha"),yr=_t.find(".sp-alpha-handle"),St=_t.find(".sp-input"),$t=_t.find(".sp-palette"),Vn=_t.find(".sp-initial"),Hn=_t.find(".sp-cancel"),Ae=_t.find(".sp-clear"),mt=_t.find(".sp-choose"),an=_t.find(".sp-palette-toggle"),M=Nt.is("input"),X=M&&Nt.attr("type")==="color"&&W(),Se=M&&!Oe,Le=Se?i(s).addClass(Ze).addClass(D.className).addClass(D.replacerClassName):i([]),Ie=Se?Le:Nt,Et=Le.find(".sp-preview-inner"),Mt=D.color||M&&Nt.val(),Wt=!1,zt=D.preferredFormat,li=!D.showButtons||D.clickoutFiresChange,Wn=!Mt,sn=D.allowEmpty&&!X;function Do(){if(D.showPaletteOnly&&(D.showPalette=!0),an.text(D.showPaletteOnly?D.togglePaletteMoreText:D.togglePaletteLessText),D.palette){Xt=D.palette.slice(0),_n=i.isArray(Xt[0])?Xt:[Xt],Or={};for(var dt=0;dt<_n.length;dt++)for(var ct=0;ct<_n[dt].length;ct++){var Tt=R(_n[dt][ct]).toRgbString();Or[Tt]=!0}}_t.toggleClass("sp-flat",Oe),_t.toggleClass("sp-input-disabled",!D.showInput),_t.toggleClass("sp-alpha-enabled",D.showAlpha),_t.toggleClass("sp-clear-enabled",sn),_t.toggleClass("sp-buttons-disabled",!D.showButtons),_t.toggleClass("sp-palette-buttons-disabled",!D.togglePaletteOnly),_t.toggleClass("sp-palette-disabled",!D.showPalette),_t.toggleClass("sp-palette-only",D.showPaletteOnly),_t.toggleClass("sp-initial-disabled",!D.showInitial),_t.addClass(D.className).addClass(D.containerClassName),Cn()}function Vi(){if(r&&_t.find("*:not(input)").attr("unselectable","on"),Do(),Se&&Nt.after(Le).hide(),sn||Ae.hide(),Oe)Nt.after(_t).hide();else{var dt=D.appendTo==="parent"?Nt.parent():i(D.appendTo);dt.length!==1&&(dt=i("body")),dt.append(_t)}ci(),Ie.bind("click.spectrum touchstart.spectrum",function(pt){Qr||kr(),pt.stopPropagation(),i(pt.target).is("input")||pt.preventDefault()}),(Nt.is(":disabled")||D.disabled===!0)&&$o(),_t.click(w),St.change(br),St.bind("paste",function(){setTimeout(br,1)}),St.keydown(function(pt){pt.keyCode==13&&br()}),Hn.text(D.cancelText),Hn.bind("click.spectrum",function(pt){pt.stopPropagation(),pt.preventDefault(),zi(),Kr()}),Ae.attr("title",D.clearText),Ae.bind("click.spectrum",function(pt){pt.stopPropagation(),pt.preventDefault(),Wn=!0,zn(),Oe&&Un(!0)}),mt.text(D.chooseText),mt.bind("click.spectrum",function(pt){pt.stopPropagation(),pt.preventDefault(),r&&St.is(":focus")&&St.trigger("change"),fi()&&(Un(!0),Kr())}),an.text(D.showPaletteOnly?D.togglePaletteMoreText:D.togglePaletteLessText),an.bind("click.spectrum",function(pt){pt.stopPropagation(),pt.preventDefault(),D.showPaletteOnly=!D.showPaletteOnly,!D.showPaletteOnly&&!Oe&&_t.css("left","-="+(Vr.outerWidth(!0)+5)),Do()}),T($r,function(pt,sr,xn){Kt=pt/se,Wn=!1,xn.shiftKey&&(Kt=Math.round(Kt*10)/10),zn()},go,Wo),T(Vt,function(pt,sr){lt=parseFloat(sr/N),Wn=!1,D.showAlpha||(Kt=1),zn()},go,Wo),T(fr,function(pt,sr,xn){if(!xn.shiftKey)Jt=null;else if(!Jt){var Sn=wt*Dt,Dr=nr-mr*nr,Hr=Math.abs(pt-Sn)>Math.abs(sr-Dr);Jt=Hr?"x":"y"}var On=!Jt||Jt==="x",yo=!Jt||Jt==="y";On&&(wt=parseFloat(pt/Dt)),yo&&(mr=parseFloat((nr-sr)/nr)),Wn=!1,D.showAlpha||(Kt=1),zn()},go,Wo),Mt?(ro(Mt),no(),zt=D.preferredFormat||R(Mt).getFormat(),Vo(Mt)):no(),Oe&&di();function ct(pt){return pt.data&&pt.data.ignore?(ro(i(pt.target).closest(".sp-thumb-el").data("color")),zn()):(ro(i(pt.target).closest(".sp-thumb-el").data("color")),zn(),D.hideAfterPaletteSelect&&(Un(!0),Kr())),!1}var Tt=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";$t.delegate(".sp-thumb-el",Tt,ct),Vn.delegate(".sp-thumb-el:nth-child(1)",Tt,{ignore:!0},ct)}function ci(){if(Me&&window.localStorage){try{var dt=window.localStorage[Me].split(",#");dt.length>1&&(delete window.localStorage[Me],i.each(dt,function(ct,Tt){Vo(Tt)}))}catch{}try{Zt=window.localStorage[Me].split(";")}catch{}}}function Vo(dt){if(he){var ct=R(dt).toRgbString();if(!Or[ct]&&i.inArray(ct,Zt)===-1)for(Zt.push(ct);Zt.length>Bn;)Zt.shift();if(Me&&window.localStorage)try{window.localStorage[Me]=Zt.join(";")}catch{}}}function Hi(){var dt=[];if(D.showPalette)for(var ct=0;ct<Zt.length;ct++){var Tt=R(Zt[ct]).toRgbString();Or[Tt]||dt.push(Zt[ct])}return dt.reverse().slice(0,D.maxSelectionSize)}function ui(){var dt=Er(),ct=i.map(_n,function(Tt,pt){return u(Tt,dt,"sp-palette-row sp-palette-row-"+pt,D)});ci(),Zt&&ct.push(u(Hi(),dt,"sp-palette-row sp-palette-row-selection",D)),$t.html(ct.join(""))}function Ho(){if(D.showInitial){var dt=Wt,ct=Er();Vn.html(u([dt,ct],ct,"sp-palette-row-initial",D))}}function go(){(nr<=0||Dt<=0||N<=0)&&Cn(),Pt=!0,_t.addClass(Gt),Jt=null,Nt.trigger("dragstart.spectrum",[Er()])}function Wo(){Pt=!1,_t.removeClass(Gt),Nt.trigger("dragstop.spectrum",[Er()])}function br(){var dt=St.val();if((dt===null||dt==="")&&sn)ro(null),Un(!0);else{var ct=R(dt);ct.isValid()?(ro(ct),Un(!0)):St.addClass("sp-validation-error")}}function kr(){st?Kr():di()}function di(){var dt=i.Event("beforeShow.spectrum");if(st){Cn();return}if(Nt.trigger("beforeShow.spectrum",[Er()]),!(Xe.beforeShow(Er())===!1||dt.isDefaultPrevented())){d(),st=!0;var ct=i(or);ct.bind("keydown.spectrum",Wi),ct.bind("click.spectrum",vo),i(window).bind("resize.spectrum",ze),Le.addClass("sp-active"),_t.removeClass("sp-hidden"),Cn(),no(),Wt=Er(),Ho(),Xe.show(Wt),Nt.trigger("show.spectrum",[Wt])}}function Wi(dt){dt.keyCode===27&&Kr()}function vo(dt){dt.button!=2&&(Pt||(li?Un(!0):zi(),Kr()))}function Kr(){!st||Oe||(st=!1,i(or).unbind("keydown.spectrum",Wi),i(or).unbind("click.spectrum",vo),i(window).unbind("resize.spectrum",ze),Le.removeClass("sp-active"),_t.addClass("sp-hidden"),Xe.hide(Er()),Nt.trigger("hide.spectrum",[Er()]))}function zi(){ro(Wt,!0)}function ro(dt,ct){if(R.equals(dt,Er())){no();return}var Tt,pt;!dt&&sn?Wn=!0:(Wn=!1,Lt=!dt,Tt=R(dt),pt=Tt.toHsv(),lt=pt.h%360/360,wt=pt.s,mr=pt.v,Kt=pt.a),no(),Tt&&Tt.isValid()&&!ct&&(zt=D.preferredFormat||Tt.getFormat())}function Er(dt){return dt=dt||{},sn&&Wn?null:R.fromRatio({h:lt,s:wt,v:mr,a:Math.round(Kt*100)/100},{format:dt.format||zt})}function fi(){return!St.hasClass("sp-validation-error")}function zn(){no(),Xe.move(Er()),Nt.trigger("move.spectrum",[Er()])}function no(){St.removeClass("sp-validation-error"),pi();var dt=R.fromRatio({h:lt,s:1,v:1});fr.css("background-color",dt.toHexString());var ct=zt;Kt<1&&!(Kt===0&&ct==="name")&&(ct==="hex"||ct==="hex3"||ct==="hex6"||ct==="name")&&(ct="rgb");var Tt=Er({format:ct}),pt="";if(Et.removeClass("sp-clear-display"),Et.css("background-color","transparent"),!Tt&&sn)Et.addClass("sp-clear-display");else{var sr=Tt.toHexString(),xn=Tt.toRgbString();if(o||Tt.alpha===1?Et.css("background-color",xn):(Et.css("background-color","transparent"),Et.css("filter",Tt.toFilter())),D.showAlpha){var Sn=Tt.toRgb();Sn.a=0;var Dr=R(Sn).toRgbString(),Hr="linear-gradient(left, "+Dr+", "+sr+")";r?Tr.css("filter",R(Dr).toFilter({gradientType:1},sr)):(Tr.css("background","-webkit-"+Hr),Tr.css("background","-moz-"+Hr),Tr.css("background","-ms-"+Hr),Tr.css("background","linear-gradient(to right, "+Dr+", "+sr+")"))}pt=Tt.toString(ct)}D.showInput&&St.val(pt),D.showPalette&&ui(),Ho()}function pi(){var dt=wt,ct=mr;if(sn&&Wn)yr.hide(),Qe.hide(),en.hide();else{yr.show(),Qe.show(),en.show();var Tt=dt*Dt,pt=nr-ct*nr;Tt=Math.max(-Sr,Math.min(Dt-Sr,Tt-Sr)),pt=Math.max(-Sr,Math.min(nr-Sr,pt-Sr)),en.css({top:pt+"px",left:Tt+"px"});var sr=Kt*se;yr.css({left:sr-ke/2+"px"});var xn=lt*N;Qe.css({top:xn-$e+"px"})}}function Un(dt){var ct=Er(),Tt="",pt=Lt?!0:!R.equals(ct,Wt);ct&&(Tt=ct.toString(zt),!st&&Vo(ct)),M&&Nt.val(Tt),dt&&pt&&(Xe.change(ct),Nt.trigger("change",[ct]))}function Cn(){st&&(Dt=fr.width(),nr=fr.height(),Sr=en.height(),J=Vt.width(),N=Vt.height(),$e=Qe.height(),se=$r.width(),ke=yr.width(),Oe||(_t.css("position","absolute"),D.offset?_t.offset(D.offset):_t.offset(m(_t,Ie))),pi(),D.showPalette&&ui(),Nt.trigger("reflow.spectrum"))}function zo(){Nt.show(),Ie.unbind("click.spectrum touchstart.spectrum"),_t.remove(),Le.remove(),t[$n.id]=null}function mo(dt,ct){if(dt===n)return i.extend({},D);if(ct===n)return D[dt];D[dt]=ct,dt==="preferredFormat"&&(zt=D.preferredFormat),Do()}function Uo(){Qr=!1,Nt.attr("disabled",!1),Ie.removeClass("sp-disabled")}function $o(){Kr(),Qr=!0,Nt.attr("disabled",!0),Ie.addClass("sp-disabled")}function Ui(dt){D.offset=dt,Cn()}Vi();var $n={show:di,hide:Kr,toggle:kr,reflow:Cn,option:mo,enable:Uo,disable:$o,offset:Ui,set:function(dt){ro(dt),Un()},get:Er,destroy:zo,container:_t};return $n.id=t.push($n)-1,$n}function m(B,ee){for(var D=ee[0],Oe=B[0],he=Oe.parentElement,Me=D.getBoundingClientRect(),Ze=Oe.offsetWidth,Xe=Oe.offsetHeight,ze={top:0,left:0,width:D.offsetWidth,height:D.offsetHeight};D&&(ze.top+=D.offsetTop-D.scrollTop,ze.left+=D.offsetLeft-D.scrollLeft,!(D===he||!he.contains(D.offsetParent)));)D=D.offsetParent;return Me.right+Ze>window.innerWidth-window.scrollX&&Me.right-Ze>0&&(ze.left-=Ze-ze.width),Me.bottom+Xe<window.innerHeight-window.scrollY?ze.top+=ze.height:ze.top-=Xe,ze}function b(){}function w(B){B.stopPropagation()}function C(B,ee){var D=Array.prototype.slice,Oe=D.call(arguments,2);return function(){return B.apply(ee,Oe.concat(D.call(arguments)))}}function T(B,ee,D,Oe){ee=ee||function(){},D=D||function(){},Oe=Oe||function(){};var he=document,Me=!1,Ze={},Xe=0,ze=0,st="ontouchstart"in window,Pt={};Pt.selectstart=Lt,Pt.dragstart=Lt,Pt["touchmove mousemove"]=Dt,Pt["touchend mouseup"]=Sr;function Lt(N){N.stopPropagation&&N.stopPropagation(),N.preventDefault&&N.preventDefault(),N.returnValue=!1}function Dt(N){if(Me){if(r&&he.documentMode<9&&!N.button)return Sr();var J=N&&N.touches&&N.touches[0],se=J&&J.pageX||N.pageX,ke=J&&J.pageY||N.pageY,$e=Math.max(0,Math.min(se-Ze.left,ze)),lt=Math.max(0,Math.min(ke-Ze.top,Xe));st&&Lt(N),ee.apply(B,[$e,lt,N])}}function nr(N){var J=N.which?N.which==3:N.button==2;!J&&!Me&&D.apply(B,arguments)!==!1&&(Me=!0,Xe=i(B).height(),ze=i(B).width(),Ze=i(B).offset(),i(he).bind(Pt),i(he.body).addClass("sp-dragging"),Dt(N),Lt(N))}function Sr(){Me&&(i(he).unbind(Pt),i(he.body).removeClass("sp-dragging"),setTimeout(function(){Oe.apply(B,arguments)},0)),Me=!1}i(B).bind("touchstart mousedown",nr)}function I(B,ee,D){var Oe;return function(){var he=this,Me=arguments,Ze=function(){Oe=null,B.apply(he,Me)};D&&clearTimeout(Oe),(D||!Oe)&&(Oe=setTimeout(Ze,ee))}}function W(){return i.fn.spectrum.inputTypeColorSupport()}var j="spectrum.id";i.fn.spectrum=function(B,ee){if(typeof B=="string"){var D=this,Oe=Array.prototype.slice.call(arguments,1);return this.each(function(){var he=t[i(this).data(j)];if(he){var Me=he[B];if(!Me)throw new Error("Spectrum: no such method: '"+B+"'");B=="get"?D=he.get():B=="container"?D=he.container:B=="option"?D=he.option.apply(he,Oe):B=="destroy"?(he.destroy(),i(this).removeData(j)):Me.apply(he,Oe)}}),D}return this.spectrum("destroy").each(function(){var he=i.extend({},B,i(this).data()),Me=v(this,he);i(this).data(j,Me.id)})},i.fn.spectrum.load=!0,i.fn.spectrum.loadOpts={},i.fn.spectrum.draggable=T,i.fn.spectrum.defaults=e,i.fn.spectrum.inputTypeColorSupport=function B(){if(typeof B._cachedResult>"u"){var ee=i("<input type='color'/>")[0];B._cachedResult=ee.type==="color"&&ee.value!==""}return B._cachedResult},i.spectrum={},i.spectrum.localization={},i.spectrum.palettes={},i.fn.spectrum.processNativeColorInputs=function(){var B=i("input[type=color]");B.length&&!W()&&B.spectrum({preferredFormat:"hex6"})};var z=/^[\s,#]+/,ue=/\s+$/,ye=0,xe=Math,le=xe.round,Y=xe.min,oe=xe.max,V=xe.random,R=function(B,ee){if(B=B||"",ee=ee||{},B instanceof R)return B;if(!(this instanceof R))return new R(B,ee);var D=U(B);this._originalInput=B,this._r=D.r,this._g=D.g,this._b=D.b,this._a=D.a,this._roundA=le(100*this._a)/100,this._format=ee.format||D.format,this._gradientType=ee.gradientType,this._r<1&&(this._r=le(this._r)),this._g<1&&(this._g=le(this._g)),this._b<1&&(this._b=le(this._b)),this._ok=D.ok,this._tc_id=ye++};R.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var B=this.toRgb();return(B.r*299+B.g*587+B.b*114)/1e3},setAlpha:function(B){return this._a=it(B),this._roundA=le(100*this._a)/100,this},toHsv:function(){var B=ve(this._r,this._g,this._b);return{h:B.h*360,s:B.s,v:B.v,a:this._a}},toHsvString:function(){var B=ve(this._r,this._g,this._b),ee=le(B.h*360),D=le(B.s*100),Oe=le(B.v*100);return this._a==1?"hsv("+ee+", "+D+"%, "+Oe+"%)":"hsva("+ee+", "+D+"%, "+Oe+"%, "+this._roundA+")"},toHsl:function(){var B=te(this._r,this._g,this._b);return{h:B.h*360,s:B.s,l:B.l,a:this._a}},toHslString:function(){var B=te(this._r,this._g,this._b),ee=le(B.h*360),D=le(B.s*100),Oe=le(B.l*100);return this._a==1?"hsl("+ee+", "+D+"%, "+Oe+"%)":"hsla("+ee+", "+D+"%, "+Oe+"%, "+this._roundA+")"},toHex:function(B){return De(this._r,this._g,this._b,B)},toHexString:function(B){return"#"+this.toHex(B)},toHex8:function(){return qe(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:le(this._r),g:le(this._g),b:le(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+le(this._r)+", "+le(this._g)+", "+le(this._b)+")":"rgba("+le(this._r)+", "+le(this._g)+", "+le(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:le(k(this._r,255)*100)+"%",g:le(k(this._g,255)*100)+"%",b:le(k(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+le(k(this._r,255)*100)+"%, "+le(k(this._g,255)*100)+"%, "+le(k(this._b,255)*100)+"%)":"rgba("+le(k(this._r,255)*100)+"%, "+le(k(this._g,255)*100)+"%, "+le(k(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ot[De(this._r,this._g,this._b,!0)]||!1},toFilter:function(B){var ee="#"+qe(this._r,this._g,this._b,this._a),D=ee,Oe=this._gradientType?"GradientType = 1, ":"";if(B){var he=R(B);D=he.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Oe+"startColorstr="+ee+",endColorstr="+D+")"},toString:function(B){var ee=!!B;B=B||this._format;var D=!1,Oe=this._a<1&&this._a>=0,he=!ee&&Oe&&(B==="hex"||B==="hex6"||B==="hex3"||B==="name");return he?B==="name"&&this._a===0?this.toName():this.toRgbString():(B==="rgb"&&(D=this.toRgbString()),B==="prgb"&&(D=this.toPercentageRgbString()),(B==="hex"||B==="hex6")&&(D=this.toHexString()),B==="hex3"&&(D=this.toHexString(!0)),B==="hex8"&&(D=this.toHex8String()),B==="name"&&(D=this.toName()),B==="hsl"&&(D=this.toHslString()),B==="hsv"&&(D=this.toHsvString()),D||this.toHexString())},_applyModification:function(B,ee){var D=B.apply(null,[this].concat([].slice.call(ee)));return this._r=D._r,this._g=D._g,this._b=D._b,this.setAlpha(D._a),this},lighten:function(){return this._applyModification(_e,arguments)},brighten:function(){return this._applyModification(Re,arguments)},darken:function(){return this._applyModification(Ve,arguments)},desaturate:function(){return this._applyModification(Ye,arguments)},saturate:function(){return this._applyModification(ht,arguments)},greyscale:function(){return this._applyModification(be,arguments)},spin:function(){return this._applyModification(Be,arguments)},_applyCombination:function(B,ee){return B.apply(null,[this].concat([].slice.call(ee)))},analogous:function(){return this._applyCombination(Ce,arguments)},complement:function(){return this._applyCombination(Ne,arguments)},monochromatic:function(){return this._applyCombination(Je,arguments)},splitcomplement:function(){return this._applyCombination(re,arguments)},triad:function(){return this._applyCombination(nt,arguments)},tetrad:function(){return this._applyCombination(at,arguments)}},R.fromRatio=function(B,ee){if(typeof B=="object"){var D={};for(var Oe in B)B.hasOwnProperty(Oe)&&(Oe==="a"?D[Oe]=B[Oe]:D[Oe]=de(B[Oe]));B=D}return R(B,ee)};function U(B){var ee={r:0,g:0,b:0},D=1,Oe=!1,he=!1;return typeof B=="string"&&(B=yt(B)),typeof B=="object"&&(B.hasOwnProperty("r")&&B.hasOwnProperty("g")&&B.hasOwnProperty("b")?(ee=H(B.r,B.g,B.b),Oe=!0,he=String(B.r).substr(-1)==="%"?"prgb":"rgb"):B.hasOwnProperty("h")&&B.hasOwnProperty("s")&&B.hasOwnProperty("v")?(B.s=de(B.s),B.v=de(B.v),ee=ge(B.h,B.s,B.v),Oe=!0,he="hsv"):B.hasOwnProperty("h")&&B.hasOwnProperty("s")&&B.hasOwnProperty("l")&&(B.s=de(B.s),B.l=de(B.l),ee=P(B.h,B.s,B.l),Oe=!0,he="hsl"),B.hasOwnProperty("a")&&(D=B.a)),D=it(D),{ok:Oe,format:B.format||he,r:Y(255,oe(ee.r,0)),g:Y(255,oe(ee.g,0)),b:Y(255,oe(ee.b,0)),a:D}}function H(B,ee,D){return{r:k(B,255)*255,g:k(ee,255)*255,b:k(D,255)*255}}function te(B,ee,D){B=k(B,255),ee=k(ee,255),D=k(D,255);var Oe=oe(B,ee,D),he=Y(B,ee,D),Me,Ze,Xe=(Oe+he)/2;if(Oe==he)Me=Ze=0;else{var ze=Oe-he;switch(Ze=Xe>.5?ze/(2-Oe-he):ze/(Oe+he),Oe){case B:Me=(ee-D)/ze+(ee<D?6:0);break;case ee:Me=(D-B)/ze+2;break;case D:Me=(B-ee)/ze+4;break}Me/=6}return{h:Me,s:Ze,l:Xe}}function P(B,ee,D){var Oe,he,Me;B=k(B,360),ee=k(ee,100),D=k(D,100);function Ze(st,Pt,Lt){return Lt<0&&(Lt+=1),Lt>1&&(Lt-=1),Lt<1/6?st+(Pt-st)*6*Lt:Lt<1/2?Pt:Lt<2/3?st+(Pt-st)*(2/3-Lt)*6:st}if(ee===0)Oe=he=Me=D;else{var Xe=D<.5?D*(1+ee):D+ee-D*ee,ze=2*D-Xe;Oe=Ze(ze,Xe,B+1/3),he=Ze(ze,Xe,B),Me=Ze(ze,Xe,B-1/3)}return{r:Oe*255,g:he*255,b:Me*255}}function ve(B,ee,D){B=k(B,255),ee=k(ee,255),D=k(D,255);var Oe=oe(B,ee,D),he=Y(B,ee,D),Me,Ze,Xe=Oe,ze=Oe-he;if(Ze=Oe===0?0:ze/Oe,Oe==he)Me=0;else{switch(Oe){case B:Me=(ee-D)/ze+(ee<D?6:0);break;case ee:Me=(D-B)/ze+2;break;case D:Me=(B-ee)/ze+4;break}Me/=6}return{h:Me,s:Ze,v:Xe}}function ge(B,ee,D){B=k(B,360)*6,ee=k(ee,100),D=k(D,100);var Oe=xe.floor(B),he=B-Oe,Me=D*(1-ee),Ze=D*(1-he*ee),Xe=D*(1-(1-he)*ee),ze=Oe%6,st=[D,Ze,Me,Me,Xe,D][ze],Pt=[Xe,D,D,Ze,Me,Me][ze],Lt=[Me,Me,Xe,D,D,Ze][ze];return{r:st*255,g:Pt*255,b:Lt*255}}function De(B,ee,D,Oe){var he=[$(le(B).toString(16)),$(le(ee).toString(16)),$(le(D).toString(16))];return Oe&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0):he.join("")}function qe(B,ee,D,Oe){var he=[$(ae(Oe)),$(le(B).toString(16)),$(le(ee).toString(16)),$(le(D).toString(16))];return he.join("")}R.equals=function(B,ee){return!B||!ee?!1:R(B).toRgbString()==R(ee).toRgbString()},R.random=function(){return R.fromRatio({r:V(),g:V(),b:V()})};function Ye(B,ee){ee=ee===0?0:ee||10;var D=R(B).toHsl();return D.s-=ee/100,D.s=F(D.s),R(D)}function ht(B,ee){ee=ee===0?0:ee||10;var D=R(B).toHsl();return D.s+=ee/100,D.s=F(D.s),R(D)}function be(B){return R(B).desaturate(100)}function _e(B,ee){ee=ee===0?0:ee||10;var D=R(B).toHsl();return D.l+=ee/100,D.l=F(D.l),R(D)}function Re(B,ee){ee=ee===0?0:ee||10;var D=R(B).toRgb();return D.r=oe(0,Y(255,D.r-le(255*-(ee/100)))),D.g=oe(0,Y(255,D.g-le(255*-(ee/100)))),D.b=oe(0,Y(255,D.b-le(255*-(ee/100)))),R(D)}function Ve(B,ee){ee=ee===0?0:ee||10;var D=R(B).toHsl();return D.l-=ee/100,D.l=F(D.l),R(D)}function Be(B,ee){var D=R(B).toHsl(),Oe=(le(D.h)+ee)%360;return D.h=Oe<0?360+Oe:Oe,R(D)}function Ne(B){var ee=R(B).toHsl();return ee.h=(ee.h+180)%360,R(ee)}function nt(B){var ee=R(B).toHsl(),D=ee.h;return[R(B),R({h:(D+120)%360,s:ee.s,l:ee.l}),R({h:(D+240)%360,s:ee.s,l:ee.l})]}function at(B){var ee=R(B).toHsl(),D=ee.h;return[R(B),R({h:(D+90)%360,s:ee.s,l:ee.l}),R({h:(D+180)%360,s:ee.s,l:ee.l}),R({h:(D+270)%360,s:ee.s,l:ee.l})]}function re(B){var ee=R(B).toHsl(),D=ee.h;return[R(B),R({h:(D+72)%360,s:ee.s,l:ee.l}),R({h:(D+216)%360,s:ee.s,l:ee.l})]}function Ce(B,ee,D){ee=ee||6,D=D||30;var Oe=R(B).toHsl(),he=360/D,Me=[R(B)];for(Oe.h=(Oe.h-(he*ee>>1)+720)%360;--ee;)Oe.h=(Oe.h+he)%360,Me.push(R(Oe));return Me}function Je(B,ee){ee=ee||6;for(var D=R(B).toHsv(),Oe=D.h,he=D.s,Me=D.v,Ze=[],Xe=1/ee;ee--;)Ze.push(R({h:Oe,s:he,v:Me})),Me=(Me+Xe)%1;return Ze}R.mix=function(B,ee,D){D=D===0?0:D||50;var Oe=R(B).toRgb(),he=R(ee).toRgb(),Me=D/100,Ze=Me*2-1,Xe=he.a-Oe.a,ze;Ze*Xe==-1?ze=Ze:ze=(Ze+Xe)/(1+Ze*Xe),ze=(ze+1)/2;var st=1-ze,Pt={r:he.r*ze+Oe.r*st,g:he.g*ze+Oe.g*st,b:he.b*ze+Oe.b*st,a:he.a*Me+Oe.a*(1-Me)};return R(Pt)},R.readability=function(B,ee){var D=R(B),Oe=R(ee),he=D.toRgb(),Me=Oe.toRgb(),Ze=D.getBrightness(),Xe=Oe.getBrightness(),ze=Math.max(he.r,Me.r)-Math.min(he.r,Me.r)+Math.max(he.g,Me.g)-Math.min(he.g,Me.g)+Math.max(he.b,Me.b)-Math.min(he.b,Me.b);return{brightness:Math.abs(Ze-Xe),color:ze}},R.isReadable=function(B,ee){var D=R.readability(B,ee);return D.brightness>125&&D.color>500},R.mostReadable=function(B,ee){for(var D=null,Oe=0,he=!1,Me=0;Me<ee.length;Me++){var Ze=R.readability(B,ee[Me]),Xe=Ze.brightness>125&&Ze.color>500,ze=3*(Ze.brightness/125)+Ze.color/500;(Xe&&!he||Xe&&he&&ze>Oe||!Xe&&!he&&ze>Oe)&&(he=Xe,Oe=ze,D=R(ee[Me]))}return D};var He=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ot=R.hexNames=gt(He);function gt(B){var ee={};for(var D in B)B.hasOwnProperty(D)&&(ee[B[D]]=D);return ee}function it(B){return B=parseFloat(B),(isNaN(B)||B<0||B>1)&&(B=1),B}function k(B,ee){ie(B)&&(B="100%");var D=me(B);return B=Y(ee,oe(0,parseFloat(B))),D&&(B=parseInt(B*ee,10)/100),xe.abs(B-ee)<1e-6?1:B%ee/parseFloat(ee)}function F(B){return Y(1,oe(0,B))}function K(B){return parseInt(B,16)}function ie(B){return typeof B=="string"&&B.indexOf(".")!=-1&&parseFloat(B)===1}function me(B){return typeof B=="string"&&B.indexOf("%")!=-1}function $(B){return B.length==1?"0"+B:""+B}function de(B){return B<=1&&(B=B*100+"%"),B}function ae(B){return Math.round(parseFloat(B)*255).toString(16)}function rt(B){return K(B)/255}var Ct=function(){var B="[-\\+]?\\d+%?",ee="[-\\+]?\\d*\\.\\d+%?",D="(?:"+ee+")|(?:"+B+")",Oe="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",he="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?";return{rgb:new RegExp("rgb"+Oe),rgba:new RegExp("rgba"+he),hsl:new RegExp("hsl"+Oe),hsla:new RegExp("hsla"+he),hsv:new RegExp("hsv"+Oe),hsva:new RegExp("hsva"+he),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function yt(B){B=B.replace(z,"").replace(ue,"").toLowerCase();var ee=!1;if(He[B])B=He[B],ee=!0;else if(B=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var D;return(D=Ct.rgb.exec(B))?{r:D[1],g:D[2],b:D[3]}:(D=Ct.rgba.exec(B))?{r:D[1],g:D[2],b:D[3],a:D[4]}:(D=Ct.hsl.exec(B))?{h:D[1],s:D[2],l:D[3]}:(D=Ct.hsla.exec(B))?{h:D[1],s:D[2],l:D[3],a:D[4]}:(D=Ct.hsv.exec(B))?{h:D[1],s:D[2],v:D[3]}:(D=Ct.hsva.exec(B))?{h:D[1],s:D[2],v:D[3],a:D[4]}:(D=Ct.hex8.exec(B))?{a:rt(D[1]),r:K(D[2]),g:K(D[3]),b:K(D[4]),format:ee?"name":"hex8"}:(D=Ct.hex6.exec(B))?{r:K(D[1]),g:K(D[2]),b:K(D[3]),format:ee?"name":"hex"}:(D=Ct.hex3.exec(B))?{r:K(D[1]+""+D[1]),g:K(D[2]+""+D[2]),b:K(D[3]+""+D[3]),format:ee?"name":"hex"}:!1}window.tinycolor=R,i(function(){i.fn.spectrum.load&&i.fn.spectrum.processNativeColorInputs()})}var gE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kb=function(i){gE(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this,r=e.ppfx||"";return t.opts=e,t.ppfx=r,t.em=e.target||{},!e.onChange&&t.listenTo(t.model,"change:value",t.handleModelChange),t}return n.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},n.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.setValue=function(e,t){var r=this.model,o=e||r.get("defaults"),s=this.getInputEl();s&&(s.value=o)},n.prototype.handleModelChange=function(e,t,r){this.setValue(t,r)},n.prototype.handleChange=function(e){e.stopPropagation();var t=this.getInputEl().value;this.__onInputChange(t),this.elementUpdated()},n.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},n.prototype.getInputEl=function(){if(!this.inputEl){var e=this,t=e.model,r=e.opts,o=r.type||"text",s=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=(0,Br.default)('<input type="'.concat(o,'" placeholder="').concat(s,'">'))}return this.inputEl.get(0)},n.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},n}(je.Ss),ku=kb;kb.prototype.events={change:"handleChange"};var vE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hl=function(){return hl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},hl.apply(this,arguments)};Br.default&&hE(Br.default);var jc=function(i){var n=i.getFormat()==="name"&&i.toName(),e=i.getAlpha()==1?i.toHexString():i.toRgbString();return n||e.replace(/ /g,"")},mE=function(i){vE(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},n.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.remove=function(){return i.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},n.prototype.handleChange=function(e){e.stopPropagation();var t=e.target.value;(0,A.isUndefined)(t)||this.__onInputChange(t)},n.prototype.__onInputChange=function(e){var t=this,r=t.model,o=t.opts,s=o.onChange,c=e,u=this.getColorEl();if(u){u.spectrum("set",c);var d=u.spectrum("get"),h=c&&jc(d);h&&(c=h)}s?s(c):r.set({value:c},{fromInput:1})},n.prototype.setValue=function(e,t){t===void 0&&(t={});var r=this.model,o=(0,A.isUndefined)(t.def)?r.get("defaults"):t.def,s=(0,A.isUndefined)(e)?(0,A.isUndefined)(o)?"":o:e,c=this.getInputEl(),u=this.getColorEl(),d=s!="none"?s:"";c.value=s,u.get(0).style.backgroundColor=d,(t.fromTarget||t.fromInput&&!t.avoidStore)&&(u.spectrum("set",d),this.noneColor=s=="none",this.movedColor=d)},n.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var t=this,r=t.em,o=t.model,s=t.opts,c=this.ppfx,u=s.onChange,d=(0,Br.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),h=d.get(0).style,v=r&&r.getConfig&&r.getConfig().colorPicker||{};this.movedColor="";var m=!1,b;this.$el.find("[data-colorp-c]").append(d);var w=function(C,T){T===void 0&&(T=!0),u?u(C,!T):(T&&o.setValueFromInput(0,!1),o.setValueFromInput(C,T))};d.spectrum(hl(hl(hl({color:o.getValue()||!1,containerClassName:"".concat(c,"one-bg ").concat(c,"two-color ").concat(c,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},v),o.get("colorPicker")||{}),{move:function(C){var T=jc(C);e.movedColor=T,h.backgroundColor=T,w(T,!1)},change:function(C){m=!0;var T=jc(C);h.backgroundColor=T,w(T),e.noneColor=!1},show:function(C){m=!1,e.movedColor="",b=u?o.getValue({noDefault:!0}):jc(C)},hide:function(){!m&&(b||u)&&(e.noneColor&&(b=""),h.backgroundColor=b,d.spectrum("set",b),w(b,!1))}})),r&&r.on&&this.listenTo(r,"component:selected",function(){e.movedColor&&w(e.movedColor),m=!0,e.movedColor="",d.spectrum("hide")}),this.colorEl=d}return this.colorEl},n.prototype.render=function(){return ku.prototype.render.call(this),this.getColorEl(),this},n}(ku),Eb=mE,yE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bE=function(i){yE(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.getInputEl=function(){if(!this.input){var e=this.model,t=this.getModelValue(),r=new Eb({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=r.render();o.setValue(t,{fromTarget:1}),this.input=o.el}return this.input},n}(ai),_E=bE,wE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pb=function(i){wE(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;return(0,A.bindAll)(t,"moveIncrement","upIncrement"),t.doc=document,t.listenTo(t.model,"change:unit",t.handleModelChange),t}return n.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},n.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},n.prototype.setValue=function(e,t){var r=t||{},o=this.validateInputValue(e,{deepCheck:1}),s={value:o.value,unit:""};(o.unit||o.force)&&(s.unit=o.unit),this.model.set(s,r),r.silent&&this.handleModelChange()},n.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},n.prototype.handleUnitChange=function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()},n.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")},n.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,t=e.get("units")||[];if(t.length){var r=['<option value="" disabled hidden>-</option>'];t.forEach(function(s){var c=s==e.get("unit")?"selected":"";r.push("<option ".concat(c,">").concat(s,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(r.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},n.prototype.upArrowClick=function(){var e=this.model,t=e.get("step"),r=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(r+t)),this.elementUpdated()},n.prototype.downArrowClick=function(){var e=this.model,t=e.get("step"),r=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(r-t)),this.elementUpdated()},n.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var t=this.model.get("value")||0;t=this.normalizeValue(t),this.current={y:e.pageY,val:t},(0,Ue.on)(this.doc,"mousemove",this.moveIncrement),(0,Ue.on)(this.doc,"mouseup",this.upIncrement)},n.prototype.moveIncrement=function(e){this.moved=!0;var t=this.model,r=t.get("step"),o=this.current,s=this.normalizeValue(o.val+(o.y-e.pageY)*r),c=this.validateInputValue(s),u=c.value,d=c.unit;return this.prValue=u,t.set({value:u,unit:d},{avoidStore:1}),!1},n.prototype.upIncrement=function(){var e=this.model,t=e.get("step");if((0,Ue.AU)(this.doc,"mouseup",this.upIncrement),(0,Ue.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var r=this.prValue-t;e.set("value",r,{avoidStore:1}).set("value",r+t),this.elementUpdated()}},n.prototype.normalizeValue=function(e,t){t===void 0&&(t=0);var r=this.model,o=r.get("step"),s=0;if(isNaN(e))return t;if(e=parseFloat(e),Math.floor(e)!==e){var c=o.toString().split(".")[1];s=c?c.length:0}return s?parseFloat(e.toFixed(s)):e},n.prototype.validateInputValue=function(e,t){t===void 0&&(t={});var r=0,o=t||{},s=this.model,c="",u=(0,A.isUndefined)(e)?c:e,d=t.units||s.get("units")||[],h=s.get("unit")||d.length&&d[0]||"",v=(0,A.isUndefined)(t.max)?s.get("max"):t.max,m=(0,A.isUndefined)(t.min)?s.get("min"):t.min,b=!!s.get("limitlessMax"),w=!!s.get("limitlessMin");if(o.deepCheck){var C=s.get("fixedValues")||[];if(u===""&&(h=""),u){var T=new RegExp("^"+C.join("|"),"g");if(C.length&&T.test(u))u=u.match(T)[0],h="",r=1;else{var I=u+"";u+="",u=parseFloat(u.replace(",",".")),u=isNaN(u)?c:u;var W=I.replace(u,"");(0,A.indexOf)(d,W)>=0&&(h=W)}}}return!b&&!(0,A.isUndefined)(v)&&v!==""&&(u=u>v?v:u),!w&&!(0,A.isUndefined)(m)&&m!==""&&(u=u<m?m:u),{force:r,value:u,unit:h}},n.prototype.render=function(){ku.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},n}(ku),Ab=Pb;Pb.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var CE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xE=function(i){CE(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.getValueForTarget=function(){var e=this.model,t=e.attributes,r=t.value,o=t.unit;return!(0,A.isUndefined)(r)&&r!==""?r+o:e.get("default")},n.prototype.getInputEl=function(){if(!this.input){var e=this,t=e.ppfx,r=e.model,o=this.getModelValue(),s=new Ab({contClass:"".concat(t,"field-int"),type:"number",model:r,ppfx:t});s.render(),this.$input=s.inputEl,this.$unit=s.unitEl,r.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=s.el}return this.input},n}(ai),SE=xE,OE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),TE=function(i){OE(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;return t.listenTo(t.model,"change:options",t.rerender),t}return n.prototype.templateInput=function(){var e=this,t=e.ppfx,r=e.clsField;return'<div class="'.concat(r,`">
      <div data-input></div>
      <div class="`).concat(t,`sel-arrow">
        <div class="`).concat(t,`d-s-arrow"></div>
      </div>
    </div>`)},n.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.model,r=e.em,o=t.get("name"),s=t.get("options")||[],c=[],u="<select>";s.forEach(function(v){var m="",b,w,C;(0,A.isString)(v)?(b=v,w=v):(b=v.name||v.label||v.value,w="".concat((0,A.isUndefined)(v.value)?v.id:v.value).replace(/"/g,"&quot;"),C=v.style?v.style.replace(/"/g,"&quot;"):"",m+=C?' style="'.concat(C,'"'):"");var T=r.t("traitManager.traits.options.".concat(o,".").concat(w))||b;u+='<option value="'.concat(w,'"').concat(m,">").concat(T,"</option>"),c.push(w)}),u+="</select>",this.$input=(0,Br.default)(u);var d=t.getTargetValue(),h=c.indexOf(d)>=0?d:t.get("default");!(0,A.isUndefined)(h)&&this.$input.val(h)}return this.$input.get(0)},n}(ai),kE=TE,EE=jt(91),PE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wy="data-categories",zy="data-no-categories",Db=function(i){PE(n,i);function n(e,t){var r=i.call(this,e)||this;r.reuseView=!0,r.renderedCategories=new Map,r.itemsView=t;var o=e.config||{};r.config=o;var s=e.editor;r.em=s;var c=o.pStylePrefix||"";return r.ppfx=c,r.pfx=c+o.stylePrefix||"",r.className="".concat(r.pfx,"traits"),r.traitContClass="".concat(c,"traits-c"),r.classNoCat="".concat(c,"traits-empty-c"),r.catsClass="".concat(c,"trait-categories"),r.collection=new tu([],{em:s}),r.listenTo(s,"component:toggled",r.updatedCollection),r.updatedCollection(),r}return n.prototype.updatedCollection=function(){var e=this,t=e.ppfx,r=e.em,o=r.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(t,"one-bg ").concat(t,"two-color"),this.collection=o?.traits||new tu([],{em:r}),this.render()},n.prototype.add=function(e,t){var r=this,o=r.config,s=r.renderedCategories,c=this.itemView,u=e.get(this.itemType);this.itemsView&&this.itemsView[u]&&(c=this.itemsView[u]);var d=new c({config:o,model:e,attributes:e.get("attributes")}),h=d.render().el,v=e.parent.initCategory(e);if(v){var m=v.getId(),b=this.getCategoriesEl(),w=s.get(m);!w&&b&&(w=new db({model:v},o,"trait").render(),s.set(m,w),b.appendChild(w.el)),w?.append(h);return}t?t.appendChild(h):this.append(h)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(Wy,"]"))),this.catsEl},n.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(zy,"]"))),this.traitsEl},n.prototype.append=function(e){var t=this.getTraitsEl();t?.appendChild(e)},n.prototype.render=function(){var e=this,t=this,r=t.el,o=t.ppfx,s=t.catsClass,c=t.traitContClass,u=t.classNoCat,d=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,r.innerHTML=`
      <div class="`.concat(s,'" ').concat(Wy,`></div>
      <div class="`).concat(u," ").concat(c,'" ').concat(zy,`></div>
    `),this.collection.forEach(function(v){return e.add(v,d)}),this.append(d);var h="".concat(c,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(h),this.rendered=!0,this},n}(EE.A),Uy=Db;Db.prototype.itemView=ai;var AE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),DE=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},ME=function(i){AE(n,i);function n(e){var t=i.call(this,e,"TraitManager",sE())||this;t.TraitsView=Uy,t.events=cp,t.state=new je.Kx({traits:[]}),t.types={text:ai,number:SE,select:kE,checkbox:pE,color:_E,button:uE};var r=t,o=r.state,s=r.config,c=r.events,u=s.pStylePrefix;u&&(s.stylePrefix="".concat(u).concat(s.stylePrefix)),(0,A.bindAll)(t,"__onSelect");var d=(0,A.debounce)(function(){return t.__upSel()},0),h=(0,A.debounce)(function(){return t.__onUp()},0);return o.listenTo(e,"component:toggled",d),o.listenTo(e,c.value,h),o.on("change:traits",t.__onSelect),t.debounced=[d,h],t}return n.prototype.select=function(e){var t=e?.getTraits()||[];this.state.set({component:e,traits:t}),this.__trgCustom()},n.prototype.getCategories=function(){var e,t=this.getComponent(),r=((e=t?.traits.categories)===null||e===void 0?void 0:e.models)||[];return DE([],r,!0)},n.prototype.getTraits=function(){return this.getCurrent()},n.prototype.getTraitsByCategory=function(e){return X0(e||this.getTraits())},n.prototype.getComponent=function(){return this.state.attributes.component},n.prototype.addType=function(e,t){var r=this.getType("text");this.types[e]=r.extend(t)},n.prototype.getType=function(e){return this.getTypes()[e]},n.prototype.getTypes=function(){return this.types},n.prototype.getTraitsViewer=function(){return this.view},n.prototype.getCurrent=function(){return this.state.get("traits")||[]},n.prototype.render=function(){var e=this.view,t=this.em;return e=new Uy({el:e?.el,collection:[],editor:t,config:this.getConfig()},this.getTypes()),this.view=e,e.el},n.prototype.postRender=function(){this.__appendTo()},n.prototype.__onSelect=function(){var e=this,t=e.em,r=e.events,o=e.state,s=o.attributes,c=s.component,u=s.traits;t.trigger(r.select,{component:c,traits:u})},n.prototype.__trgCustom=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.events,s=t.__ctn;this.__ctn=s||e.container,r.trigger(o.custom,this.__customData())},n.prototype.__customData=function(){return{container:this.__ctn}},n.prototype.__upSel=function(){this.select(this.em.getSelected())},n.prototype.__onUp=function(){this.select(this.getComponent())},n}(jn),LE=ME,RE=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}},IE=RE,NE=jt(3253),FE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jE=function(i){FE(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},e}return Object.defineProperty(n.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var e;return(e=this.model.viewLayer)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),n}(NE.h),BE=jE,VE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),HE=function(i){VE(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.items=[],t.opt=e;var r=e.config||{};t.config=r,t.module=e.module,t.parentView=e.parentView;var o=r.stylePrefix||"",s=r.pStylePrefix||"",c=t.collection;t.listenTo(c,"add",t.addTo),t.listenTo(c,"reset resetNavigator",t.render),t.listenTo(c,"remove",t.removeChildren),t.className="".concat(o,"layers");var u=r.em;if(r.sortable&&!t.opt.sorter){var d=u.Utils,h=r.sortContainer||t.el,v=t.createPlaceholder(o);t.opt.sorter=new d.ComponentSorter({em:u,treeClass:BE,containerContext:{container:h,containerSel:".".concat(t.className),itemSel:".".concat(o,"layer"),pfx:r.pStylePrefix,document,placeholderElement:v},dragBehavior:{dragDirection:va.A.Vertical,nested:!0}})}return t.$el.data("collection",c),e.parent&&t.$el.data("model",e.parent),t}return n.prototype.createPlaceholder=function(e){var t=document.createElement("div"),r=document.createElement("div");return this.el.parentNode,t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",r.className=e+"placeholder-int",t.appendChild(r),t},n.prototype.removeChildren=function(e){var t=e.viewLayer;t&&(t.remove(),delete e.viewLayer)},n.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},n.prototype.addToCollection=function(e,t,r){var o=this,s=o.parentView,c=o.opt,u=o.config,d=o.el,h=c.ItemView,v=c.opened,m=c.module,b=c.level,w=c.sorter,C=e.viewLayer||new h({ItemView:h,level:b,model:e,parentView:s,config:u,sorter:w,opened:v,module:m}),T=C.render().el;if(t)t.appendChild(T);else{var I=d,W=I.childNodes;if((0,A.isUndefined)(r))I.appendChild(T);else{var j=W.length==r;j&&r--,j||!W.length?I.appendChild(T):I.insertBefore(T,W[r])}}return this.items.push(C),T},n.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return je.Ss.prototype.remove.apply(this,e),this.items.map(function(r){return r.remove()}),this},n.prototype.render=function(){var e=this,t=this,r=t.el,o=t.module,s=document.createDocumentFragment();return r.innerHTML="",this.collection.map(function(c){return o.__getLayerFromComponent(c)}).forEach(function(c){return e.addToCollection(c,s)}),r.appendChild(s),r.className=this.className,this},n}(je.Ss),WE=HE,bf=jt(5301),zE=function(){return{stylePrefix:"com-",defaults:{},strict:!0}},UE=zE,$E=jt(8351),KE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Eu=function(){return Eu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Eu.apply(this,arguments)},$y=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Ky=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],Mb={preserveSelected:1},Lb=function(i){return function(n){return i.trigger("".concat(up,":start"),n)}},Rb=function(i){return function(n){return i.trigger(up,n)}},Ib=function(i,n,e){return e===void 0&&(e={}),function(t,r,o){setTimeout(function(){n.forEach(function(s){return s.set("status",s.get("selectable")?"selected":"")}),i.setSelected(n),n[0].emitUpdate()}),i.trigger("".concat(up,":end"),o),setTimeout(function(){return i.runDefault(Mb)}),(e.altMode||o.cancelled)&&i.set("_cmpDrag",1)}},GE=function(i){KE(n,i);function n(e){var t=i.call(this,e,"Commands",UE())||this;t.CommandAbstract=bf.default,t.defaultCommands={},t.commands={},t.active={},t.events=$E.A;var r=t.config,o=r.pStylePrefix,s=t.defaultCommands;o&&(r.stylePrefix=o+r.stylePrefix),Object.keys(r.defaults).forEach(function(u){var d=r.defaults[u];d.id&&t.add(d.id,d)}),s["tlb-delete"]={run:function(u){return u.runCommand("core:component-delete")}},s["tlb-clone"]={run:function(u){u.runCommand("core:copy"),u.runCommand("core:paste",{action:"clone-component"})}},s["tlb-move"]={run:function(u,d,h){var v;h===void 0&&(h={});var m,b=u.getModel(),w=h.event,C=h.target,T=Array.isArray(C)?C:C?[C]:$y([],u.getSelectedAll(),!0),I=T.map(function(R){var U,H;return((H=(U=R.delegate)===null||U===void 0?void 0:U.move)===null||H===void 0?void 0:H.call(U,R))||R}).filter(Boolean),W=I[I.length-1],j=w?.type==="dragstart",z=["absolute","translate"];if(!W?.get("draggable"))return b.logWarning("The element is not draggable");var ue=W.get("dmode")||b.get("dmode"),ye=function(){return b.stopDefault(Mb)},xe=(0,A.includes)(z,ue);I.forEach(function(R){return R.trigger("disable",{fromMove:!0})}),j?setTimeout(ye,0):ye();var le=Lb(b),Y=Rb(b),oe=Ib(b,I,{altMode:xe});if(xe)m=u.runCommand("core:component-drag",{guidesInfo:1,mode:ue,target:W,onStart:le,onDrag:Y,onEnd:oe,event:w});else{j&&w.dataTransfer.setDragImage((v=W.view)===null||v===void 0?void 0:v.el,0,0);var V=u.Commands.get("move-comp");V.onStart=le,V.onDrag=Y,V.onEndMoveFromModel=oe,V.initSorterFromModels(I)}I.filter(function(R){return R.get("selectable")}).forEach(function(R){return R.set("status","freezed-selected")})}},s["core:undo"]=function(u){return u.UndoManager.undo()},s["core:redo"]=function(u){return u.UndoManager.redo()},Ky.forEach(function(u){var d=u[2],h=jt(585)("./".concat(u[1])).default,v="core:".concat(u[0]);s[v]=h,d&&(s[d]=h,["run","stop"].forEach(function(m){e.on("".concat(m,":").concat(d),function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];return e.trigger.apply(e,$y(["".concat(m,":").concat(v)],b,!1))})}))}),r.model=e.Canvas;for(var c in s)t.add(c,s[c]);return t}return n.prototype.add=function(e,t){var r=(0,A.isFunction)(t)?{run:t}:t;return r.stop||(r.noStop=!0),delete r.initialize,r.id=e,this.commands[e]=bf.default.extend(r),this},n.prototype.get=function(e){var t=this.commands[e];return(0,A.isFunction)(t)?(t=new t(this.config),this.commands[e]=t):t||this.em.logWarning("'".concat(e,"' command not found")),t},n.prototype.extend=function(e,t){t===void 0&&(t={});var r=this.get(e);if(r){var o=Eu(Eu({},r.constructor.prototype),t);this.add(e,o);var s=Ky.filter(function(c){return"core:".concat(c[0])===e&&c[2]})[0];s&&this.add(s[2],o)}return this},n.prototype.has=function(e){return!!this.commands[e]},n.prototype.getAll=function(){return this.commands},n.prototype.run=function(e,t){return t===void 0&&(t={}),this.runCommand(this.get(e),t)},n.prototype.stop=function(e,t){return t===void 0&&(t={}),this.stopCommand(this.get(e),t)},n.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},n.prototype.getActive=function(){return this.active},n.prototype.runCommand=function(e,t){t===void 0&&(t={});var r;if(e&&e.run){var o=this,s=o.em,c=o.config,u=e.id,d=s.Editor;(!this.isActive(u)||t.force||!c.strict)&&(r=d&&e.callRun(d,t),u&&e.stop&&!e.noStop&&!t.abort&&(this.active[u]=r))}return r},n.prototype.stopCommand=function(e,t){t===void 0&&(t={});var r;if(e&&e.run){var o=this,s=o.em,c=o.config,u=e.id,d=s.Editor;(this.isActive(u)||t.force||!c.strict)&&(u&&delete this.active[u],r=e.callStop(d,t))}return r},n.prototype.create=function(e){e.stop||(e.noStop=!0);var t=bf.default.extend(e);return new t(this.config)},n.prototype.__onRun=function(e,t){var r=this,o=r.em,s=r.events;o.on("".concat(s.runCommand).concat(e),t)},n.prototype.__onStop=function(e,t){var r=this,o=r.em,s=r.events;o.on("".concat(s.stopCommand).concat(e),t)},n.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},n}(jn),YE=GE,qE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gf=function(){return Gf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Gf.apply(this,arguments)},Gy="contentEditable",Bc="data-toggle-move",XE=function(i){qE(n,i);function n(e){var t=i.call(this,e)||this;(0,A.bindAll)(t,"__render"),t.opt=e,t.module=e.module,t.config=e.config||{},t.sorter=e.sorter||"",t.parentView=e.parentView;var r=t,o=r.model,s=r.pfx,c=r.ppfx,u=o.get("type")||"default";return t.className="".concat(s,"layer ").concat(s,"layer__t-").concat(u," no-select ").concat(c,"two-color"),t.inputNameCls="".concat(c,"layer-name"),t.clsTitleC="".concat(s,"layer-title-c"),t.clsTitle="".concat(s,"layer-title"),t.clsCaret="".concat(s,"layer-caret"),t.clsCount="".concat(s,"layer-count"),t.clsMove="".concat(s,"layer-move"),t.clsChildren="".concat(s,"layer-children"),t.clsNoChild="".concat(s,"layer-no-chld"),t.clsEdit="".concat(t.inputNameCls,"--edit"),t.clsNoEdit="".concat(t.inputNameCls,"--no-edit"),t.initComponent(),t}return n.prototype.events=function(){var e;return e={},e["mousedown [".concat(Bc,"]")]="startSort",e["touchstart [".concat(Bc,"]")]="startSort",e["click [data-toggle-visible]"]="toggleVisibility",e["click [data-toggle-open]"]="toggleOpening",e["click [data-toggle-select]"]="handleSelect",e["mouseover [data-toggle-select]"]="handleHover",e["mouseout [data-toggle-select]"]="handleHoverOut",e["dblclick [data-name]"]="handleEdit",e["keydown [data-name]"]="handleEditKey",e["focusout [data-name]"]="handleEditEnd",e},n.prototype.template=function(e){var t=this,r=t.pfx,o=t.ppfx,s=t.config,c=t.clsNoEdit,u=t.module,d=t.opt,h=t.em,v=s.hidable,m=u.getComponents(e).length,b=m?"":this.clsNoChild,w="".concat(this.clsTitle," ").concat(b),C="".concat(this.clsTitleC),T="".concat(this.inputNameCls," ").concat(c," ").concat(o,"no-app"),I=d.level||0,W="".concat(I*10,"px"),j=e.getName(),z=e.getIcon(),ue="".concat(r,"layer"),ye=(h?.getConfig()).icons,xe=ye,le=xe.move,Y=xe.eye,oe=xe.eyeOff,V=xe.chevron;return`
      <div class="`.concat(r,"layer-item ").concat(o,`one-bg" data-toggle-select>
        <div class="`).concat(r,`layer-item-left">
          `).concat(v?'<i class="'.concat(r,`layer-vis" data-toggle-visible>
                <i class="`).concat(r,'layer-vis-on">').concat(Y,`</i>
                <i class="`).concat(r,'layer-vis-off">').concat(oe,`</i>
              </i>`):"",`
          <div class="`).concat(C,`">
            <div class="`).concat(w,'" style="padding-left: ').concat(W,`">
              <div class="`).concat(r,'layer-title-inn" title="').concat(j,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(V,`</i>
                  `).concat(z?'<span class="'.concat(ue,'__icon">').concat(z,"</span>"):"",`
                <span class="`).concat(T,'" data-name>').concat(j,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(r,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(m||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Bc,">").concat(le||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),n.prototype.initComponent=function(){var e=this,t=this,r=t.model,o=t.config,s=o.onInit,c=r.components();this.listenTo(c,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(u){return e.listenTo(r,u[0],u[1])}),this.$el.data("model",r),this.$el.data("collection",c),r.viewLayer=this,s.bind(this)({component:r,render:this.__render,listenTo:this.listenTo})},n.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},n.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},n.prototype.updateVisibility=function(){var e=this,t=e.pfx,r=e.model,o=e.module,s="".concat(t,"layer-hidden"),c=!o.isVisible(r),u=c?"addClass":"removeClass";this.$el[u](s),this.getVisibilityEl()[u]("".concat(t,"layer-off"))},n.prototype.updateMove=function(){var e=this,t=e.model,r=e.config,o=this.getItemContainer().find("[".concat(Bc,"]"))[0];if(o){var s=t.get("draggable")&&r.sortable;o.style.display=s?"":"none"}},n.prototype.toggleVisibility=function(e){e?.stopImmediatePropagation();var t=this,r=t.module,o=t.model;r.setVisible(o,!r.isVisible(o))},n.prototype.handleEdit=function(e){e?.stopPropagation();var t=this,r=t.em,o=t.$el,s=t.clsNoEdit,c=t.clsEdit,u=this.getInputName();u[Gy]="true",u.focus(),document.execCommand("selectAll",!1),r.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(s).addClass(c)},n.prototype.handleEditKey=function(e){e.stopPropagation(),((0,Ue.v$)(e)||(0,Ue.Ci)(e))&&this.handleEditEnd(e)},n.prototype.handleEditEnd=function(e){e?.stopPropagation();var t=this,r=t.em,o=t.$el,s=t.clsNoEdit,c=t.clsEdit,u=t.model,d=this.getInputName(),h=d.textContent;d.scrollLeft=0,d[Gy]="false",u.setName(h),r.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(s).removeClass(c),this.updateName()},n.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},n.prototype.updateOpening=function(){var e=this,t=e.$el,r=e.model,o=e.pfx,s="open",c="".concat(o,"layer-open"),u=this.getCaret();this.module.isOpen(r)?(t.addClass(s),u.addClass(c)):(t.removeClass(s),u.removeClass(c))},n.prototype.toggleOpening=function(e){var t=this,r=t.model,o=t.module;e?.stopImmediatePropagation(),r.get("components").length&&o.setOpen(r,!o.isOpen(r))},n.prototype.handleSelect=function(e){e?.stopPropagation();var t=this,r=t.module,o=t.model;r.setLayerData(o,{selected:!0},{event:e})},n.prototype.handleHover=function(e){e?.stopPropagation();var t=this,r=t.module,o=t.model;r.setLayerData(o,{hovered:!0})},n.prototype.handleHoverOut=function(e){e?.stopPropagation();var t=this,r=t.module,o=t.model;r.setLayerData(o,{hovered:!1})},n.prototype.startSort=function(e){var t,r,o;e.stopPropagation();var s=this,c=s.em,u=s.sorter,d=s.model;if(!(e.button&&e.button!==0)&&u){var h=((r=(t=d.delegate)===null||t===void 0?void 0:t.move)===null||r===void 0?void 0:r.call(t,d))||d;u.eventHandlers=Gf({legacyOnStartSort:Lb(c),legacyOnMoveClb:Rb(c),legacyOnEndMove:Ib(c,[h])},u.eventHandlers);var v=((o=h.viewLayer)===null||o===void 0?void 0:o.el)||e.target;u.startSort([{element:v}])}},n.prototype.updateStatus=function(){vr.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},n.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},n.prototype.checkChildren=function(){var e=this,t=e.model,r=e.clsNoChild,o=e.module,s=o.getComponents(t).length,c=this.getItemContainer(),u=c.find(".".concat(this.clsTitle)),d=c.find("[data-count]");u[s?"removeClass":"addClass"](r),d.html("".concat(s||"")),!s&&o.setOpen(t,!1)},n.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},n.prototype.setRoot=function(e){var t,r=(0,A.isString)(e)?(t=this.em.getWrapper())===null||t===void 0?void 0:t.find(e)[0]:e;r&&(this.stopListening(),this.model=r,this.initComponent(),this._rendered&&this.render())},n.prototype.updateLayerable=function(){var e=this.parentView,t=e||this;t.render()},n.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},n.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return je.Ss.prototype.remove.apply(this,e),delete this.model.viewLayer,this.__clearItems(),this},n.prototype.render=function(){var e=this,t=e.model,r=e.config,o=e.pfx,s=e.ppfx,c=e.opt,u=e.sorter;this.__clearItems();var d=c.opened,h=c.module,v=c.ItemView,m=!h.__isLayerable(t),b=this.$el.empty(),w=c.level+1;delete this.inputName,this.items=new WE({ItemView:v,collection:t.get("components"),config:r,sorter:u,opened:d,parentView:this,parent:t,level:w,module:h});var C=this.items.render().$el;return!r.showWrapper&&w===1?b.append(C):(b.html(this.template(t)),b.find(".".concat(this.clsChildren)).append(C)),!h.isVisible(t)&&(this.className+=" ".concat(o,"hide")),m&&(this.className+=" ".concat(s,"hidden")),b.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},n.prototype.__render=function(){var e=this,t=e.model,r=e.config,o=e.el,s=r.onRender,c={component:t,el:o};s.bind(this)(c),this.em.trigger("layer:render",c)},n}(je.Ss),ZE=XE,JE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yf=function(){return Yf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Yf.apply(this,arguments)},Nb="layer",vp="".concat(Nb,":"),Fb="".concat(vp,"root"),jb="".concat(vp,"component"),QE="".concat(vp,"custom"),eP={all:Nb,root:Fb,component:jb,custom:QE},_f={mediaText:""},tP=["open","status","locked","custom-name","components","classes"].map(function(i){return"".concat(ur.I.update,":").concat(i)}).join(" "),rP=function(i){return i===void 0&&(i={}),(i.display||"").trim().indexOf("none")===0},nP=function(i){JE(n,i);function n(e){var t=i.call(this,e,"LayerManager",IE())||this;return t.events=eP,(0,A.bindAll)(t,"componentChanged","__onRootChange","__onComponent"),t.model=new Bi.A(t,{opened:{}}),t.config.stylePrefix=t.config.pStylePrefix,t}return n.prototype.onLoad=function(){var e=this,t=this,r=t.em,o=t.config,s=t.model;s.listenTo(r,"component:selected",this.componentChanged),s.on("change:root",this.__onRootChange),s.listenTo(r,tP,this.__onComponent),this.componentChanged(),s.listenToOnce(r,"load",function(){e.setRoot(o.root),e.__appendTo()})},n.prototype.setRoot=function(e){var t=this.em.getWrapper(),r=(0,Ee.isComponent)(e)?e:t;e&&(0,A.isString)(e)&&(0,Ee.hasWin)()&&(r=t.find(e)[0]||t);var o=this.__getLayerFromComponent(r);return this.model.set("root",o),o},n.prototype.getRoot=function(){return this.model.get("root")},n.prototype.getComponents=function(e){var t=this;return e.components().map(function(r){return t.__getLayerFromComponent(r)}).filter(function(r){return t.__isLayerable(r)})},n.prototype.setOpen=function(e,t){e.set("open",t)},n.prototype.isOpen=function(e){return!!e.get("open")},n.prototype.setVisible=function(e,t){var r="__prev-display",o=e.getStyle(_f),s=o.display;if(t){var c=e.get(r);delete o.display,c&&(o.display=c,e.unset(r))}else s&&e.set(r,s),o.display="none";e.setStyle(o,_f),this.updateLayer(e),this.em.trigger("component:toggled")},n.prototype.isVisible=function(e){return!rP(e.getStyle(_f))},n.prototype.setLocked=function(e,t){e.set("locked",t)},n.prototype.isLocked=function(e){return!!e.get("locked")},n.prototype.setName=function(e,t){e.set("custom-name",t)},n.prototype.getName=function(e){return e.getName()},n.prototype.getLayerData=function(e){var t=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:t==="selected",hovered:t==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},n.prototype.setLayerData=function(e,t,r){var o;r===void 0&&(r={});var s=this,c=s.em,u=s.config,d=t.open,h=t.selected,v=t.hovered,m=t.visible,b=t.locked,w=t.name,C=Yf({fromLayers:!0},r);if((0,Ee.isDef)(d)&&this.setOpen(e,d),(0,Ee.isDef)(h))if(h){c.setSelected(e,C);var T=u.scrollCanvas;T&&((o=e.views)===null||o===void 0||o.forEach(function(I){return I.scrollIntoView(T)}))}else c.removeSelected(e,C);(0,Ee.isDef)(v)&&u.showHover&&(v?c.setHovered(e,C):c.setHovered(null,C)),(0,Ee.isDef)(m)&&m!==this.isVisible(e)&&this.setVisible(e,m),(0,Ee.isDef)(b)&&this.setLocked(e,b),(0,Ee.isDef)(w)&&this.setName(e,w)},n.prototype.componentChanged=function(e,t){var r;if(t===void 0&&(t={}),!t.fromLayers){var o=this,s=o.em,c=o.config,u=c.scrollLayers,d=this.model.get("opened"),h=s.getSelected(),v=h?.parent();for(var m in d)d[m].set("open",!1),delete d[m];for(;v;)v.set("open",!0),d[v.cid]=v,v=v.parent();if(h&&u){var b=(r=h.viewLayer)===null||r===void 0?void 0:r.el;b?.scrollIntoView(u)}}},n.prototype.getAll=function(){return this.view},n.prototype.render=function(){var e,t,r=this,o=r.config,s=r.model,c=ZE.extend(o.extend);return this.view=new c({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:c,level:0,config:o,opened:s.get("opened"),model:this.getRoot(),module:this}),(t=this.view)===null||t===void 0?void 0:t.render().el},n.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},n.prototype.__onRootChange=function(){var e,t=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(t),this.em.trigger(Fb,t),this.__trgCustom()},n.prototype.__getLayerFromComponent=function(e){var t,r;return((r=(t=e.delegate)===null||t===void 0?void 0:t.layer)===null||r===void 0?void 0:r.call(t,e))||e},n.prototype.__onComponent=function(e){this.updateLayer(e)},n.prototype.__isLayerable=function(e){var t=e.tagName,r=this.config.hideTextnode,o=!r||!e.isInstanceOf("textnode")&&t!=="br";return o&&e.get("layerable")},n.prototype.__trgCustom=function(e){var t=this,r=t.__ctn,o=t.em,s=t.events;this.__ctn=r||e?.container,o.trigger(s.custom,{container:this.__ctn,root:this.getRoot()})},n.prototype.updateLayer=function(e,t){this.em.trigger(jb,e,t)},n}(jn),oP=nP,iP=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}},aP=iP,sP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bb=function(i){sP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.getDefaults=function(){return(0,A.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{type:"",src:""}},n.prototype.getType=function(){return this.get("type")},n.prototype.getSrc=function(){return this.get("src")},n.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},n.prototype.getExtension=function(){return this.getFilename().split(".").pop()},n}(je.Kx),qf=Bb;Bb.prototype.idAttribute="src";var lP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pu=function(){return Pu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Pu.apply(this,arguments)},cP=function(i){lP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return Pu(Pu({},qf.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},n}(qf),uP=cP,dP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fP=function(i){dP(n,i);function n(e){var t=i.call(this,e)||this;t.options=e,t.collection=e.collection;var r=e.config||{};t.config=r,t.pfx=r.stylePrefix||"",t.ppfx=r.pStylePrefix||"",t.em=r.em,t.className=t.pfx+"asset",t.listenTo(t.model,"destroy remove",t.remove),t.model.view=t;var o=t.init&&t.init.bind(t);return o&&o(e),t}return n.prototype.__getBhv=function(){var e=this.em,t=e?.Assets;return t?.__getBehaviour()||{}},n.prototype.template=function(e,t){var r=this.pfx;return`
      <div class="`.concat(r,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(r,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(r,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},n.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,A.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},n.prototype.getPreview=function(){return""},n.prototype.getInfo=function(){return""},n.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},n}(je.Ss),pP=fP,hP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yy=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},Vb=function(i){hP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.getPreview=function(){var e=this,t=e.pfx,r=e.ppfx,o=e.model,s=o.get("src");return Nn(qy||(qy=Yy([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),t,s,t,r)},n.prototype.getInfo=function(){var e=this,t=e.pfx,r=e.model,o=r.get("name"),s=r.get("width"),c=r.get("height"),u=r.get("unitDim"),d=s&&c?"".concat(s,"x").concat(c).concat(u):"";return o=o||r.getFilename(),Nn(Xy||(Xy=Yy([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),t,o,t,d)},n.prototype.init=function(e){var t=this.pfx;this.className+=" ".concat(t,"asset-image")},n.prototype.onClick=function(){var e=this,t=e.model,r=e.pfx,o=this.__getBhv().select,s=this.config.onClick,c=this.collection;c.trigger("deselectAll"),this.$el.addClass(r+"highlight"),(0,A.isFunction)(o)?o(t,!1):(0,A.isFunction)(s)?s(t):this.updateTarget(c.target)},n.prototype.onDblClick=function(){var e=this,t=e.em,r=e.model,o=this.__getBhv().select,s=this.config.onDblClick,c=this.collection,u=c.target,d=c.onSelect;(0,A.isFunction)(o)?o(r,!0):(0,A.isFunction)(s)?s(r):(this.updateTarget(u),t?.Modal.close()),(0,A.isFunction)(d)&&d(r)},n.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},n}(pP),gP=Vb;Vb.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var qy,Xy,Au=function(){return Au=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Au.apply(this,arguments)},vP={types:[],initialize:function(i,n){var e=this;n===void 0&&(n={});var t=n.em;this.em=t,this.opts=n,this.model=function(o,s){o===void 0&&(o={}),s===void 0&&(s={});var c,u,d;if(o&&o.type){var h=e.getBaseType();d=e.getType(o.type),c=d?d.model:h.model,u=d?d.view:h.view}else{var v=e.recognizeType(o);d=v.type,c=d.model,u=d.view,o=v.attributes}var m=new c(o,Au(Au({},s),{em:t}));return m.typeView=u,e.model.prototype=c.prototype,m};var r=this.init&&this.init.bind(this);r&&r()},recognizeType:function(i){for(var n=this.getTypes(),e=0;e<n.length;e++){var t=n[e],r=t.isType(i);if(r=typeof r=="boolean"&&r?{type:t.id}:r,r)return{type:t,attributes:r}}return{type:this.getBaseType(),attributes:i}},getBaseType:function(){var i=this.getTypes();return i[i.length-1]},getTypes:function(){return this.types},getType:function(i){for(var n=this.getTypes(),e=0;e<n.length;e++){var t=n[e];if(t.id===i)return t}},addType:function(i,n){var e=this.getType(i),t=this.getBaseType(),r=e?e.model:t.model,o=e?e.view:t.view,s=n.model,c=n.view,u=n.isType;s=s instanceof je.Kx||(0,A.isFunction)(s)?s:r.extend(s||{}),c=c instanceof je.Ss||(0,A.isFunction)(c)?c:o.extend(c||{}),this.extendViewApi&&!n.model&&!n.view&&(c=c.extend(n)),e?(e.model=s,e.view=c,e.isType=u||e.isType):(n.id=i,n.model=s,n.view=c,n.isType=u||function(d){if(d&&d.type==i)return!0},this.getTypes().unshift(n))}},Hb=vP,mP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yP=je.pM.extend(Hb),Wb=function(i){mP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(yP),wf=Wb;Wb.prototype.types=[{id:"image",model:uP,view:gP,isType:function(i){return typeof i=="string"?{type:"image",src:i}:i}}];var zb=function(i){return i.add="asset:add",i.remove="asset:remove",i.removeBefore="asset:remove:before",i.update="asset:update",i.open="asset:open",i.close="asset:close",i.uploadStart="asset:upload:start",i.uploadEnd="asset:upload:end",i.uploadError="asset:upload:error",i.uploadResponse="asset:upload:response",i.custom="asset:custom",i.all="asset",i}(zb||{}),Zy=zb,bP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ub=function(i){bP(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.options=e,t.config=e.config,t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.em=t.config.em;var r=t.collection;return t.listenTo(r,"reset",t.renderAssets),t.listenTo(r,"add",t.addToAsset),t.listenTo(r,"remove",t.removedAsset),t.listenTo(r,"deselectAll",t.deselectAll),t}return n.prototype.template=function(e){var t=e.pfx,r=e.ppfx,o=e.em,s="";return this.config.showUrlInput&&(s=`
          <form class="`.concat(t,`add-asset">
            <div class="`).concat(r,"field ").concat(t,`add-field">
              <input placeholder="`).concat(o?.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(r,'btn-prim">').concat(o?.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(t,`assets-cont">
      <div class="`).concat(t,`assets-header">
        `).concat(s,`
      </div>
      <div class="`).concat(t,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},n.prototype.handleSubmit=function(e){e.preventDefault();var t=this.getAddInput(),r=t&&t.value.trim(),o=this.config.handleAdd;if(r){t.value="";var s=this.getAssetsEl();s&&(s.scrollTop=0),o?o.bind(this)(r):this.options.globalCollection.add(r,{at:0})}},n.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},n.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},n.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},n.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},n.prototype.addAsset=function(e,t){t===void 0&&(t=null);var r=t,o=this.collection,s=this.config,c=new e.typeView({model:e,collection:o,config:s}).render().el;if(r)r.appendChild(c);else{var u=this.getAssetsEl();u&&u.insertBefore(c,u.firstChild)}return c},n.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var t=this.$el.find(".".concat(this.pfx,"assets"));if(e)t.empty();else{var r=this.config.noAssets;r&&t.append(r)}},n.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},n.prototype.renderAssets=function(){var e=this,t=document.createDocumentFragment(),r=this.$el.find(".".concat(this.pfx,"assets"));r.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return e.addAsset(o,t)}),r.append(t)},n.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},n}(je.Ss),_P=Ub;Ub.prototype.events={submit:"handleSubmit"};var wP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),CP=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},xP=function(i){wP(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.options=e;var r=e.config||{};t.module=e.module,t.config=r,t.em=t.config.em,t.pfx=r.stylePrefix||"",t.ppfx=r.pStylePrefix||"",t.target=t.options.globalCollection||{},t.uploadId=t.pfx+"uploadFile",t.disabled=r.disableUpload!==void 0?r.disableUpload:!r.upload&&!r.embedAsBase64,t.multiUpload=r.multiUpload!==void 0?r.multiUpload:!0;var o=r.uploadFile;return o?t.uploadFile=o.bind(t):!r.upload&&r.embedAsBase64&&(t.uploadFile=n.embedAsBase64),t.delegateEvents(),t}return n.prototype.template=function(e){var t=e.pfx,r=e.title,o=e.uploadId,s=e.disabled,c=e.multiUpload;return Nn(Jy||(Jy=CP([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),t,r,o,s?"disabled":"",c?"multiple":"")},n.prototype.events=function(){return{"change [data-input]":"uploadFile"}},n.prototype.onUploadStart=function(){var e=this.module;e?.__propEv(e.events.uploadStart)},n.prototype.onUploadEnd=function(e){var t=this,r=t.$el,o=t.module;o?.__propEv(o.events.uploadEnd,e);var s=r.find("input");s&&s.val("")},n.prototype.onUploadError=function(e){var t=this.module;console.error(e),this.onUploadEnd(e),t?.__propEv(t.events.uploadError,e)},n.prototype.onUploadResponse=function(e,t){var r=this,o=r.module,s=r.config,c=r.target,u;try{u=typeof e=="string"?JSON.parse(e):e}catch{u=e}o?.__propEv(o.events.uploadResponse,u),s.autoAdd&&c&&c.add(u.data,{at:0}),this.onUploadEnd(e),t?.(u)},n.prototype.uploadFile=function(e,t){var r=this,o=e.dataTransfer?e.dataTransfer.files:e.target.files,s=this.config,c=s.beforeUpload,u=c&&c(o);if(u!==!1){var d=new FormData,h=s.params,v=s.customFetch,m=s.fetchOptions;for(var b in h)d.append(b,h[b]);if(this.multiUpload)for(var w=0;w<o.length;w++)d.append("".concat(s.uploadName).concat(s.multiUploadSuffix),o[w]);else o.length&&d.append(s.uploadName,o[0]);var C=s.upload,T=s.headers,I="X-Requested-With";if(typeof T[I]>"u"&&(T[I]="XMLHttpRequest"),C){this.onUploadStart();var W={method:"post",credentials:s.credentials||"include",headers:T,body:d},j=m?.(W)||W,z=v?v(C,j):xb(C,j).then(function(ue){return(ue.status/200|0)==1?ue.text():ue.text().then(function(ye){return Promise.reject(ye)})});return z.then(function(ue){return r.onUploadResponse(ue,t)}).catch(function(ue){return r.onUploadError(ue)})}}},n.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var t=this.uploadForm;"draggable"in t&&(this.uploadForm.ondragover=function(){return t.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return t.className="",!1},this.uploadForm.ondrop=function(r){t.className="",r.preventDefault(),e.uploadFile(r)})}},n.prototype.initDropzone=function(e){var t=this,r=0,o=this.config,s=e.model,c=e.el,u=s.Editor,d=s.Canvas.getBody(),h=this.ppfx,v="".concat(h,"dropzone-active"),m="".concat(h,"dropzone"),b=function(){c.className=c.className.replace(v,"").trim(),r=0},w=function(){return r||(c.className+=" ".concat(v),r=1),!1},C=function(){return b(),!1},T=function(I){if(b(),I.preventDefault(),I.stopPropagation(),t.uploadFile(I),o.openAssetsOnDrop&&u){var W=u.getSelected();u.runCommand("open-assets",{target:W,onSelect:function(){u.Modal.close(),u.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(m,'">').concat(o.dropzoneContent,"</div>")),b(),"draggable"in c&&[c,d].forEach(function(I){I.ondragover=w,I.ondragleave=C,I.ondrop=T})},n.prototype.render=function(){var e=this,t=e.$el,r=e.pfx,o=e.em;return t.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:r})),this.initDrop(),t.attr("class",r+"file-uploader"),this},n.embedAsBase64=function(e,t){var r=this,o=e.dataTransfer?e.dataTransfer.files:e.target.files,s={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var c=[],u=/^(.+)\/(.+)$/,d=function(b){var w=new Promise(function(C,T){var I=new FileReader;I.addEventListener("load",function(W){var j,z=b.name,ue=u.exec(b.type);if(ue?j=ue[1]:j=b.type,j==="image"){var ye={src:I.result,name:z,type:j,height:0,width:0},xe=new Image;xe.addEventListener("error",function(le){T(le)}),xe.addEventListener("load",function(){ye.height=xe.height,ye.width=xe.width,C(ye)}),xe.src=ye.src}else C(j?{src:I.result,name:z,type:j}:I.result)}),I.addEventListener("error",function(W){T(W)}),I.addEventListener("abort",function(W){T("Aborted")}),I.readAsDataURL(b)});c.push(w)},h=0,v=o;h<v.length;h++){var m=v[h];d(m)}return Promise.all(c).then(function(b){s.data=b,r.onUploadResponse(s,t)},function(b){r.onUploadError(b)})},n}(je.Ss),SP=xP,Jy,OP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),is=function(){return is=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},is.apply(this,arguments)},Qy=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},el="open-assets",TP=function(i){OP(n,i);function n(e){var t=i.call(this,e,"AssetManager",new wf([],e),Zy,aP())||this;t.storageKey="assets",t.Asset=qf,t.Assets=wf,t.events=Zy;var r=t,o=r.all,s=r.config;t.assetsVis=new wf([]);var c=s.pStylePrefix;return c&&(s.stylePrefix="".concat(c).concat(s.stylePrefix)),o.on("add",function(u){return t.getAllVisible().add(u)}),o.on("remove",function(u){return t.getAllVisible().remove(u)}),t.__onAllEvent=(0,A.debounce)(function(){return t.__trgCustom()},0),t}return n.prototype.open=function(e){e===void 0&&(e={});var t=this.em.Commands;t.run(el,is({types:["image"],select:function(){}},e))},n.prototype.close=function(){var e=this.em.Commands;e.stop(el)},n.prototype.isOpen=function(){var e=this.em.Commands;return!!e?.isActive(el)},n.prototype.add=function(e,t){return t===void 0&&(t={}),typeof t.at>"u"&&(t.at=0),this.all.add(e,t)},n.prototype.get=function(e){return this.all.where({src:e})[0]||null},n.prototype.getAll=function(){return this.all},n.prototype.getAllVisible=function(){return this.assetsVis},n.prototype.remove=function(e,t){return this.__remove(e,t)},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(e){return this.loadProjectData(e)},n.prototype.getContainer=function(){var e,t=this.__getBehaviour();return t.container||((e=this.am)===null||e===void 0?void 0:e.el)},n.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},n.prototype.render=function(e){if(!this.getConfig().custom){var t=e||this.getAll().models;if(!this.am){var r=this.__viewParams();r.fu=this.FileUploader(),this.am=new _P(is({},r)),this.am.render()}return this.assetsVis.reset(t),this.getContainer()}},n.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},n.prototype.addType=function(e,t){this.getAll().addType(e,t)},n.prototype.getType=function(e){return this.getAll().getType(e)},n.prototype.getTypes=function(){return this.getAll().getTypes()},n.prototype.AssetsView=function(){return this.am},n.prototype.FileUploader=function(){return this.fu||(this.fu=new SP(this.__viewParams())),this.fu},n.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var t=this,r=t.em,o=t.events;r.Commands.__onRun(el,function(){return e.__propEv(o.open)}),r.Commands.__onStop(el,function(){return e.__propEv(o.close)})},n.prototype.postRender=function(e){var t;this.config.dropzone&&((t=this.fu)===null||t===void 0||t.initDropzone(e))},n.prototype.setTarget=function(e){this.assetsVis.target=e},n.prototype.onSelect=function(e){this.assetsVis.onSelect=e},n.prototype.onClick=function(e){this.config.onClick=e},n.prototype.onDblClick=function(e){this.config.onDblClick=e},n.prototype.__propEv=function(e){for(var t,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];(t=this.em).trigger.apply(t,Qy([e],o,!1)),(r=this.getAll()).trigger.apply(r,Qy([e],o,!1))},n.prototype.__trgCustom=function(){var e=this.__getBehaviour(),t=this.getConfig().custom;!e.container&&!t.open||this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:t.types||[],container:t.container,close:function(){return e.close()},remove:function(r,o){return e.remove(r,o)},select:function(r,o){var s=e.add(r);(0,A.isFunction)(t.select)&&t.select(s,o)},options:t.options||{}}},n.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=is(is({},this._bhv||{}),e)},n.prototype.__getBehaviour=function(e){return e===void 0&&(e={}),this._bhv||{}},n.prototype.destroy=function(){var e,t;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(t=this.am)===null||t===void 0||t.remove(),this._bhv={}},n}(si),kP=TP,EP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),PP=function(i){EP(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e,t)||this,o=t.em,s={};r.em=o,e.frames||(s.component=e.component,s.styles=e.styles,["component","styles"].map(function(d){return r.unset(d)}));var c=e.frames||[s],u=new I0(o.Canvas,c);return u.page=r,r.set("frames",u),!r.getId()&&r.set("id",o?.Pages._createId()),o?.UndoManager.add(u),r}return n.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},n.prototype.onRemove=function(){this.getFrames().reset()},n.prototype.getFrames=function(){return this.get("frames")},n.prototype.getId=function(){return this.id},n.prototype.getName=function(){return this.get("name")},n.prototype.setName=function(e){return this.set({name:e})},n.prototype.getAllFrames=function(){return this.getFrames().models||[]},n.prototype.getMainFrame=function(){return this.getFrames().at(0)},n.prototype.getMainComponent=function(){var e=this.getMainFrame();return e?.getComponent()},n.prototype.toJSON=function(e){e===void 0&&(e={});var t=je.Kx.prototype.toJSON.call(this,e),r=(0,A.result)(this,"defaults");return(0,A.forEach)(t,function(o,s){s.indexOf("_")===0&&delete t[s]}),(0,A.forEach)(r,function(o,s){t[s]===o&&delete t[s]}),t},n}(je.Kx),Xf=PP,AP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Du=function(){return Du=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Du.apply(this,arguments)},DP=function(i){AP(n,i);function n(e,t){var r=i.call(this,e)||this;return r.on("reset",r.onReset),r.on("remove",r.onRemove),r.model=function(o,s){return s===void 0&&(s={}),new Xf(o,Du(Du({},s),{em:t}))},r}return n.prototype.onReset=function(e,t){var r=this,o;(o=t?.previousModels)===null||o===void 0||o.map(function(s){return r.onRemove(s,r,t)})},n.prototype.onRemove=function(e,t,r){r===void 0&&(r={}),!r.fromUndo&&e?.onRemove()},n}(je.pM),MP=DP,LP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),RP=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},e0="change:selected",t0="main",IP=function(i){LP(n,i);function n(e){var t=i.call(this,e,"PageManager",new MP([],e),If)||this;t.events=If,t.storageKey="pages",(0,A.bindAll)(t,"_onPageChange");var r=new Bi.A(t,{_undo:!0});return t.model=r,t.pages.on("reset",function(o){return o.at(0)&&t.select(o.at(0))}),t.pages.on("all",t.__onChange,t),r.on(e0,t._onPageChange),t}return Object.defineProperty(n.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),n.prototype.getAll=function(){return RP([],this.all.models,!0)},n.prototype.__onChange=function(e,t,r,o){var s=this,c=s.em,u=s.events,d=o||r;c.trigger(u.all,{event:e,page:t,options:d})},n.prototype.onLoad=function(){var e,t=this,r=t.pages,o=t.config,s=t.em,c={silent:!0},u=((e=o.pages)===null||e===void 0?void 0:e.map(function(h){return new Xf(h,{em:s,config:o})}))||[];r.add(u,c);var d=r.length?this._initPage():this.add({type:t0},c);d&&this.select(d,c)},n.prototype._onPageChange=function(e,t,r){var o=this,s=o.em,c=o.events,u=s.Layers,d=t.getMainComponent();u&&d&&u.setRoot(d),s.trigger(c.select,t,e.previous("selected")),this.__onChange(e0,t,r)},n.prototype.postLoad=function(){var e=this,t=e.em,r=e.model,o=e.pages,s=t.UndoManager;s.add(r),s.add(o),o.on("add remove reset change",function(c,u,d){return t.changesUp(d||u)})},n.prototype.add=function(e,t){var r=this;t===void 0&&(t={});var o=this,s=o.em,c=o.events;e.id=e.id||this._createId();var u=function(){var d=r.pages.add(new Xf(e,{em:r.em,config:r.config}),t);return t.select&&r.select(d),d};return!t.silent&&s.trigger(c.addBefore,e,u,t),t.abort?void 0:u()},n.prototype.remove=function(e,t){var r=this;t===void 0&&(t={});var o=this,s=o.em,c=o.events,u=(0,A.isString)(e)?this.get(e):e,d=function(){return u&&r.pages.remove(u,t),u};return!t.silent&&s.trigger(c.removeBefore,u,d,t),!t.abort&&d()},n.prototype.get=function(e){return this.pages.filter(function(t){return t.get(t.idAttribute)===e})[0]},n.prototype.getMain=function(){var e=this.pages;return e.filter(function(t){return t.get("type")===t0})[0]||e.at(0)},n.prototype.getAllWrappers=function(){var e=this.getAll();return(0,A.unique)((0,A.flatten)(e.map(function(t){return t.getAllFrames().map(function(r){return r.getComponent()})})))},n.prototype.select=function(e,t){t===void 0&&(t={});var r=this,o=r.em,s=r.model,c=r.events,u=(0,A.isString)(e)?this.get(e):e;return u&&(o.trigger(c.selectBefore,u,t),s.set("selected",u,t)),this},n.prototype.getSelected=function(){return this.model.get("selected")},n.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(t){return e[t]=0})},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(e){var t=this.loadProjectData(e,{all:this.pages,reset:!0});return this.pages.forEach(function(r){return r.getFrames().initRefs()}),t},n.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},n.prototype._createId=function(){var e=this.getAll(),t=e.length+16,r=this.getAllMap(),o;do o=(0,Ee.createId)(t);while(r[o]);return o},n}(si),NP=IP,Cf={placeholder:"eg. Text here"},FP={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Cf,alt:Cf,title:Cf,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}},jP=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:FP},messagesAdd:void 0}},BP=jP,$b=function(i){return i.add="i18n:add",i.update="i18n:update",i.locale="i18n:locale",i}($b||{}),VP=$b,HP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),WP=function(i){HP(n,i);function n(e){var t=i.call(this,e,"I18n",BP())||this;t.events=VP;var r=t.config.messagesAdd;return r&&t.addMessages(r),t.config.detectLocale&&(t.config.locale=t._localLang()),t}return n.prototype.setLocale=function(e){var t=this,r=t.em,o=t.config,s=t.events;return r.trigger(s.locale,{value:e,valuePrev:o.locale}),o.locale=e,this},n.prototype.getLocale=function(){return this.config.locale},n.prototype.getMessages=function(e,t){t===void 0&&(t={});var r=this.config.messages;return e&&!r[e]&&this._debug("'".concat(e,"' i18n lang not found"),t),e?r[e]:r},n.prototype.setMessages=function(e){var t=this,r=t.em,o=t.config,s=t.events;return o.messages=e,r.trigger(s.update,e),this},n.prototype.addMessages=function(e){var t=this,r=t.em,o=t.events,s=t.config,c=s.messages;return r.trigger(o.add,e),this.setMessages((0,Ee.deepMerge)(c,e)),this},n.prototype.t=function(e,t){t===void 0&&(t={});var r=this.config,o=t.params||{},s=t.l||this.getLocale(),c=t.lFlb||r.localeFallback,u=this._getMsg(e,s,t);return u||(u=this._getMsg(e,c,t)),!u&&this._debug("'".concat(e,"' i18n key not found in '").concat(s,"' lang"),t),u=u&&(0,A.isString)(u)?this._addParams(u,o):u,u},n.prototype._localLang=function(){var e=(0,Ee.hasWin)()&&window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"},n.prototype._addParams=function(e,t){var r=new RegExp("{([\\w\\d-]*)}","g");return e.replace(r,function(o,s){return t[s]||""}).trim()},n.prototype._getMsg=function(e,t,r){r===void 0&&(r={});var o=this.getMessages(t,r);if(o){var s=o[e];return!s&&e.indexOf(".")>0&&(s=e.split(".").reduce(function(c,u){if(!(0,A.isUndefined)(c))return c[u]},o)),s}},n.prototype._debug=function(e,t){t===void 0&&(t={});var r=this,o=r.em,s=r.config;(t.debug||s.debug)&&o&&o.logWarning(e)},n.prototype.destroy=function(){},n}(jn),zP=WP,ua=function(){return ua=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ua.apply(this,arguments)},UP=function(i,n){n===void 0&&(n={});var e=n.prefix||"",t=document.createElement("i");return t.className=e+"resizer-h "+e+"resizer-h-"+i,t.setAttribute("data-"+e+"handler",i),t},$P=function(i,n){var e=n||window,t=i.getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,width:t.width,height:t.height}},KP=function(){function i(n){n===void 0&&(n={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=ua({},this.defOpts),this.setOptions(n),(0,A.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return i.prototype.getConfig=function(){return this.opts},i.prototype.setOptions=function(n,e){n===void 0&&(n={}),this.opts=ua(ua({},e?this.defOpts:this.opts),n),this.setup()},i.prototype.setup=function(){var n=this.opts,e=n.prefix||"",t=n.appendTo||document.body,r=this.container;for(r||(r=document.createElement("div"),r.className="".concat(e,"resizer-c"),t.appendChild(r),this.container=r);r.firstChild;)r.removeChild(r.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(u){return o[u]=n[u]?UP(u,n):null});for(var s in o){var c=o[s];c&&r.appendChild(c)}this.handlers=o,this.mousePosFetcher=n.mousePosFetcher,this.updateTarget=n.updateTarget,this.posFetcher=n.posFetcher,this.onStart=n.onStart,this.onMove=n.onMove,this.onEnd=n.onEnd,this.onUpdateContainer=n.onUpdateContainer},i.prototype.toggleFrames=function(n){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,A.each)(e,function(t){return t.style.pointerEvents=n?"none":""})}},i.prototype.isHandler=function(n){var e=this.handlers;for(var t in e)if(e[t]===n)return!0;return!1},i.prototype.getFocusedEl=function(){return this.el},i.prototype.getParentEl=function(){var n;return(n=this.el)===null||n===void 0?void 0:n.parentElement},i.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},i.prototype.getElementPos=function(n,e){e===void 0&&(e={});var t=this.posFetcher;return t?t(n,e):$P(n)},i.prototype.focus=function(n){n&&n===this.el||(this.el=n,this.updateContainer({forceShow:!0}),(0,Ue.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},i.prototype.blur=function(){this.container.style.display="none",this.el&&((0,Ue.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},i.prototype.start=function(n){var e=n;if(e.button===0){e.preventDefault(),e.stopPropagation();var t=this.el,r=this.getParentEl(),o=this,s=this.opts||{},c=this.mousePosFetcher,u="data-"+s.prefix+"handler",d=this.getElementPos(t,{avoidFrameZoom:!0,avoidFrameOffset:!0}),h=this.getElementPos(r),v=e.target;this.handlerAttr=v.getAttribute(u),this.clickedHandler=v,this.startDim={t:d.top,l:d.left,w:d.width,h:d.height},this.rectDim={t:d.top,l:d.left,w:d.width,h:d.height},this.startPos=c?c(e):{x:e.clientX,y:e.clientY},this.parentDim={t:h.top,l:h.left,w:h.width,h:h.height};var m=this.getDocumentEl();this.docs=m,(0,Ue.on)(m,"pointermove",this.move),(0,Ue.on)(m,"keydown",this.handleKeyDown),(0,Ue.on)(m,"pointerup",this.stop),(0,A.isFunction)(this.onStart)&&this.onStart(e,{docs:m,config:s,el:t,resizer:o}),this.toggleFrames(!0),this.move(e)}},i.prototype.move=function(n){var e=n,t=this.onMove,r=this.mousePosFetcher,o=r?r(e):{x:e.clientX,y:e.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(!1),t&&t(e)},i.prototype.stop=function(n){var e=this.el,t=this.opts,r=this.docs||this.getDocumentEl();(0,Ue.AU)(r,"pointermove",this.move),(0,Ue.AU)(r,"keydown",this.handleKeyDown),(0,Ue.AU)(r,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,A.isFunction)(this.onEnd)&&this.onEnd(n,{docs:r,config:t,el:e,resizer:this}),delete this.docs},i.prototype.updateRect=function(n){var e=this.el,t=this,r=this.opts,o=this.rectDim,s=this.updateTarget,c=this.getSelectedHandler(),u=r.unitHeight,d=r.unitWidth,h=r.keyWidth,v=r.keyHeight;if((0,A.isFunction)(s))s(e,o,{store:n,selectedHandler:c,resizer:t,config:r});else{var m=e.style;m[h]=o.w+d,m[v]=o.h+u}this.updateContainer()},i.prototype.updateContainer=function(n){var e;n===void 0&&(n={});var t=this,r=t.opts,o=t.container,s=t.el,c=o.style;!r.avoidContainerUpdate&&s&&n.forceShow&&(c.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:o,resizer:this,opts:ua(ua({},r),n)})},i.prototype.getSelectedHandler=function(){var n=this.handlers;if(this.selectedHandler){for(var e in n)if(n[e]===this.selectedHandler)return e}},i.prototype.handleKeyDown=function(n){n.keyCode===27&&(this.rectDim=this.startDim,this.stop(n))},i.prototype.handleMouseDown=function(n){var e=n.target;this.isHandler(e)?(this.selectedHandler=e,this.start(n)):e!==this.el&&(delete this.selectedHandler,this.blur())},i.prototype.calc=function(n){var e,t=this.opts||{},r=t.step,o=this.startDim,s=t.minDim,c=t.maxDim,u=n.delta.x,d=n.delta.y,h=this.parentDim.w,v=this.parentDim.h,m=this.opts.unitWidth,b=this.opts.unitHeight,w=m==="%"?o.w/100*h:o.w,C=b==="%"?o.h/100*v:o.h,T={t:o.t,l:o.l,w,h:C};if(n){var I=n.handlerAttr;~I.indexOf("r")&&(e=m==="%"?(0,Ee.normalizeFloat)((w+u*r)/h*100,.01):(0,Ee.normalizeFloat)(w+u*r,r),e=Math.max(s,e),c&&(e=Math.min(c,e)),T.w=e),~I.indexOf("b")&&(e=b==="%"?(0,Ee.normalizeFloat)((C+d*r)/v*100,.01):(0,Ee.normalizeFloat)(C+d*r,r),e=Math.max(s,e),c&&(e=Math.min(c,e)),T.h=e),~I.indexOf("l")&&(e=m==="%"?(0,Ee.normalizeFloat)((w-u*r)/h*100,.01):(0,Ee.normalizeFloat)(w-u*r,r),e=Math.max(s,e),c&&(e=Math.min(c,e)),T.w=e),~I.indexOf("t")&&(e=b==="%"?(0,Ee.normalizeFloat)((C-d*r)/v*100,.01):(0,Ee.normalizeFloat)(C-d*r,r),e=Math.max(s,e),c&&(e=Math.min(c,e)),T.h=e);var W=t.ratioDefault?!n.keys.shift:n.keys.shift;if(I.indexOf("c")<0&&W){var j=o.w/o.h;T.w/T.h>j?T.h=Math.round(T.w/j):T.w=Math.round(T.h*j)}~I.indexOf("l")&&(T.l+=o.w-T.w),~I.indexOf("t")&&(T.t+=o.h-T.h);for(var z in T){var ue=z;T[ue]=parseInt("".concat(T[ue]),10)}return T}},i}(),GP=KP,Zn=function(){return Zn=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Zn.apply(this,arguments)};function YP(i,n,e){for(var t={index:0,placement:"before"},r=0,o=0,s=0,c=0,u=0,d=0,h=0,v,m=0,b=i.length;m<b;m++){v=i[m];var w=v.top,C=v.left,T=v.height,I=v.width;if(s=C+I,h=w+T,u=C+I/2,d=w+T/2,!(o&&C>o||c&&d>=c||r&&s<r))if(t.index=m,!v.dir)e<h&&(c=h),n<u?(o=u,t.placement="before"):(r=u,t.placement="after");else if(e<d){t.placement="before";break}else t.placement="after"}return t}function r0(i){var n=i.getBoundingClientRect();return{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft}}function mp(i,n){return Ee.matches.call(i,n)}function qP(i,n){var e=Zf(i),t=Zf(n),r=t.filter(function(u){return e.includes(u)}),o=r[0];if(!o)return i.model.index()-n.model.index();var s=t[t.indexOf(o)-1],c=e[e.indexOf(o)-1];return c.index()-s.index()}function Zf(i){return i?[i].concat(Zf(i.parent())):[]}function XP(i,n){if(i)for(var e=i.parentNode;e&&e.nodeType===1;){if(mp(e,n))return e;e=e.parentNode}}function ZP(i,n){if((0,Ue.ir)(i))return!1;var e=i.style||{},t=(0,Br.default)(i),r=(0,Br.default)(n);if(e.overflow&&e.overflow!=="visible")return!1;var o=t.css("float");return o&&o!=="none"||r.css("display")==="flex"&&r.css("flex-direction")!=="column"||!JP(e.position)?!1:QP(i)||eA(t)}function JP(i){switch(i){case"static":case"relative":case"":return!0;default:return!1}}function QP(i){var n=["TR","TBODY","THEAD","TFOOT"];return n.includes(i.tagName)}function eA(i){var n=i.css("display"),e=["block","list-item","table","flex","grid"];return e.includes(n)}function tA(i){var n={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:va.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},e=Zn(Zn(Zn({},n),i),{containerContext:Zn(Zn({},n.containerContext),i.containerContext),positionOptions:Zn(Zn({},n.positionOptions),i.positionOptions),dragBehavior:Zn(Zn({},n.dragBehavior),i.dragBehavior),eventHandlers:Zn(Zn({},n.eventHandlers),i.eventHandlers)});return e}var Kb=function(){function i(n){this.timeout=null,this.threshold=n}return i.prototype.updateArgs=function(n){this.lastArgs=n},i.prototype.execute=function(n){var e=this;this.timeout||(this.timeout=setTimeout(function(){e.lastArgs&&n(e.lastArgs),e.timeout=null},this.threshold))},i.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},i}(),Jf=function(){return Jf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Jf.apply(this,arguments)},rA=function(){function i(n){this.top=n.top,this.left=n.left,this.height=n.height,this.width=n.width,this.offsets=n.offsets,this.dir=n.dir}return i.prototype.calculateDimensionDifference=function(n){var e=n.top-this.top,t=n.left-this.left;return{topDifference:e,leftDifference:t}},i.prototype.adjustDimensions=function(n){return this.top+=n.topDifference,this.left+=n.leftDifference,this},i.prototype.determinePlacement=function(n,e){var t=this.left+this.width/2,r=this.top+this.height/2;return this.dir?e<r?"before":"after":n<t?"before":"after"},i.prototype.equals=function(n){return n?this.top===n.top&&this.left===n.left&&this.height===n.height&&this.width===n.width&&this.dir===n.dir&&JSON.stringify(this.offsets)===JSON.stringify(n.offsets):!1},i.prototype.clone=function(){return new i({top:this.top,left:this.left,height:this.height,width:this.width,offsets:Jf({},this.offsets),dir:this.dir})},i.prototype.getDropArea=function(n){var e=this.clone(),t=this.adjustDropDimension(this.width,this.left,n),r=t.newSize,o=t.newPosition;e.width=r,e.left=o;var s=this.adjustDropDimension(this.height,this.top,n),c=s.newSize,u=s.newPosition;return e.height=c,e.top=u,e},i.prototype.adjustDropDimension=function(n,e,t){var r=t.ratio,o=t.minUndroppableDimension,s=t.maxUndroppableDimension,c=n*(1-r)/2;c=Math.max(c,o),c=Math.min(c,s);var u=n-c*2,d=e+c;return{newSize:u,newPosition:d}},i.prototype.isWithinBounds=function(n,e){return n>=this.left&&n<=this.left+this.width&&e>=this.top&&e<=this.top+this.height},i}(),nA=rA,oA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mu=function(){return Mu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Mu.apply(this,arguments)},iA=function(i){oA(n,i);function n(e){var t=i.call(this)||this;return t.sourceNodes=[],t.containerOffset={top:0,left:0},t.moveThreshold=20,t.treeClass=e.treeClass,t.em=e.em,t.containerContext=e.containerContext,t.positionOptions=e.positionOptions,t.dragDirection=e.dragDirection,t.eventHandlers=e.eventHandlers,(0,A.bindAll)(t,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),t.restLastMoveData(),t.rateLimiter=new Kb(t.moveThreshold),t}return n.prototype.startSort=function(e){this.sourceNodes=e,this.bindDragEventHandlers()},n.prototype.bindDragEventHandlers=function(){(0,Ue.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,Ue.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,Ue.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.recalculateTargetOnScroll=function(){var e=this.lastMoveData.mouseEvent;e&&this.onMove(e)},n.prototype.onMove=function(e){this.rateLimiter.updateArgs(e),this.rateLimiter.execute(this.handleMove.bind(this))},n.prototype.handleMove=function(e){var t,r,o,s,c,u;this.adjustForScroll();var d=this.lastMoveData.targetNode;(r=(t=this.eventHandlers).onMouseMove)===null||r===void 0||r.call(t,e);var h=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),v=h.mouseXRelative,m=h.mouseYRelative,b=this.getTargetNode(e),w=!b?.equals(d);if(w&&((s=(o=this.eventHandlers).onTargetChange)===null||s===void 0||s.call(o,d,b)),!b){this.triggerLegacyOnMoveCallback(e,0),this.triggerMoveEvent(v,m),this.restLastMoveData();return}var C=this.getDropPosition(b,v,m),T=C.index,I=C.placement,W=C.placeholderDimensions,j=!W.equals(this.lastMoveData.placeholderDimensions)||I!==this.lastMoveData.placement;j&&((u=(c=this.eventHandlers).onPlaceholderPositionChange)===null||u===void 0||u.call(c,W,I)),this.lastMoveData=Mu(Mu({},this.lastMoveData),{targetNode:b,mouseEvent:e,index:T,placement:I,placeholderDimensions:W}),this.triggerMoveEvent(v,m),this.triggerLegacyOnMoveCallback(e,T)},n.prototype.adjustForScroll=function(){var e,t,r=this.lastMoveData.targetNode;if(r?.element){var o=this.getDim(r?.element),s=(e=r.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(o);s&&r.adjustDimensions(s)}var c=this.lastMoveData.hoveredNode;if(c?.element){var o=this.getDim(c?.element),s=(t=c.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(o);s&&c.adjustDimensions(s)}},n.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},n.prototype.triggerLegacyOnMoveCallback=function(e,t){var r,o,s,c,u=(r=this.sourceNodes[0])===null||r===void 0?void 0:r.model;(s=(o=this.eventHandlers).legacyOnMoveClb)===null||s===void 0||s.call(o,{event:e,target:u,parent:(c=this.lastMoveData.targetNode)===null||c===void 0?void 0:c.model,index:t})},n.prototype.triggerMoveEvent=function(e,t){var r,o=this.lastMoveData,s=o.targetNode,c=o.placement,u=o.index,d=u?u+(c==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:s?.element||null,targetModel:(r=this.lastMoveData.targetNode)===null||r===void 0?void 0:r.model,sourceModel:this.sourceNodes[0].model,dims:s?.childrenDimensions||[],pos:{index:d,indexEl:d,placement:c},x:e,y:t})},n.prototype.getDropPosition=function(e,t,r){var o,s=e.nodeDimensions,c=e.childrenDimensions,u=e.getChildren(),d=u&&u.length>0;s=s||this.getDim(e.element),e.nodeDimensions=s,c=c||this.getChildrenDim(e),e.childrenDimensions=c;var h=s.clone(),v=0,m="inside";return d&&(o=YP(c,t,r),v=o.index,m=o.placement,h=c[v].clone(),v=v+(m=="after"?1:0)),{index:v,placement:m,placeholderDimensions:h}},n.prototype.getTargetNode=function(e){var t;this.cacheContainerPosition(this.containerContext.container);var r=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),o=r.mouseXRelative,s=r.mouseYRelative,c=this.getMouseTargetElement(e),u=this.getFirstElementWithAModel(c);if(u){var d=(t=(0,Br.default)(u))===null||t===void 0?void 0:t.data("model");if(d){var h=this.getOrCreateHoveredNode(d),v=this.getDropPosition(h,o,s).index,m=this.getValidParent(h,v,o,s);return this.getOrReuseTargetNode(m)}}},n.prototype.getOrCreateHoveredNode=function(e){var t=this.lastMoveData.hoveredNode,r=new this.treeClass(e),o=r.equals(t)?t:r;return this.lastMoveData.hoveredNode=o,o},n.prototype.getOrReuseTargetNode=function(e){var t=this.lastMoveData.targetNode;return e?.equals(t)?t:e},n.prototype.getMouseTargetElement=function(e){var t=this.containerContext.customTarget,r=this.containerContext.document.elementFromPoint(e.clientX,e.clientY),o=t?t({event:e}):r;return o},n.prototype.onDragStart=function(e){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(e)},n.prototype.endDrag=function(){this.dropDragged()},n.prototype.cancelDrag=function(){var e,t,r=this.lastMoveData.targetNode;(t=(e=this.eventHandlers).onTargetChange)===null||t===void 0||t.call(e,r,void 0),this.finalizeMove()},n.prototype.finalizeMove=function(){var e,t,r,o;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(t=(e=this.eventHandlers).onEnd)===null||t===void 0||t.call(e),(o=(r=this.eventHandlers).legacyOnEnd)===null||o===void 0||o.call(r),this.restLastMoveData(),this.rateLimiter.clearTimeout()},n.prototype.dropDragged=function(){var e,t,r=this.lastMoveData,o=r.targetNode,s=r.index;(t=(e=this.eventHandlers).onDrop)===null||t===void 0||t.call(e,o,this.sourceNodes,s),this.finalizeMove()},n.prototype.triggerOnDragEndEvent=function(){var e=this.lastMoveData.targetNode,t=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:e?e.getChildren():null,modelToDrop:t?.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(r){return r.element}),srcModel:t?.model,trg:e?.element,trgModel:e?.model,draggable:!0,droppable:!0},dst:e?.element,srcEl:t?.element})},n.prototype.getFirstElementWithAModel=function(e){for(var t=function(r){return(0,Br.default)(r).data("model")!==void 0};e&&this.containerContext.container.contains(e);){if(t(e))return e;e=e.parentElement}return null},n.prototype.getValidParent=function(e,t,r,o){if(e){var s=this.lastMoveData.targetNode,c=e.equals(s);if(e.nodeDimensions=c?s.nodeDimensions:this.getDim(e.element),!e.isWithinDropBounds(r,o))return this.handleParentTraversal(e,r,o);var u=c&&t===this.lastMoveData.index;if(u)return s;var d=this.sourceNodes.some(function(h){return e.canMove(h,t)});return this.triggerDragValidation(d,e),d?e:this.handleParentTraversal(e,r,o)}},n.prototype.handleParentTraversal=function(e,t,r){var o=e.getParent();if(o){var s=this.getIndexInParent(o,e,e.nodeDimensions,t,r);return this.getValidParent(o,s,t,r)}},n.prototype.getIndexInParent=function(e,t,r,o,s){var c=e?.indexOfChild(t);return r.dir=this.getDirection(t.element,e.element),c=c+(r.determinePlacement(o,s)=="after"?1:0),c},n.prototype.triggerDragValidation=function(e,t){var r=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:e,src:r?.element,srcModel:r?.model,trg:t.element,trgModel:t.model}),r},n.prototype.cleanupEventListeners=function(){var e=this.containerContext.container;(0,Ue.AU)(e,"dragstart",this.onDragStart),(0,Ue.AU)(e,"mousemove dragover",this.onMove),(0,Ue.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.getDirection=function(e,t){var r;return this.dragDirection===va.A.Vertical?r=!0:this.dragDirection===va.A.Horizontal?r=!1:r=ZP(e,t),r},n.prototype.getChildrenDim=function(e){var t=this,r=[],o=e.element;if(!o)return[];var s=e.getChildren();return!s||s.length===0?[]:((0,A.each)(s,function(c,u){var d=c.element;if(d&&!(!(0,Ue.ir)(d)&&!mp(d,t.containerContext.itemSel))){var h=t.getDim(d);h.dir=t.getDirection(d,o),r.push(h)}}),r)},n.prototype.getMousePositionRelativeToContainer=function(e,t){var r=t-this.containerOffset.top+this.containerContext.container.scrollTop,o=e-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var s=this.em.Canvas.getMouseRelativeCanvas({clientX:e,clientY:t},{noScroll:1});o=s.x,r=s.y}return{mouseXRelative:o,mouseYRelative:r}},n.prototype.cacheContainerPosition=function(e){var t=r0(e),r=this.positionOptions.windowMargin?Math.abs(t.top):t.top,o=this.positionOptions.windowMargin?Math.abs(t.left):t.left;this.containerOffset={top:r,left:o}},n.prototype.getDim=function(e){var t=this.em,r=this.positionOptions.relative,o=this.positionOptions.windowMargin,s=t?.Canvas,c=s?s.getElementOffsets(e):{},u,d,h,v;if(this.positionOptions.canvasRelative&&this.em){var m=s.getElementPos(e,{noScroll:1});u=m.top,d=m.left,h=m.height,v=m.width}else{var b=r0(e);u=r?e.offsetTop:b.top-(o?-1:1)*this.containerOffset.top,d=r?e.offsetLeft:b.left-(o?-1:1)*this.containerOffset.left,h=e.offsetHeight,v=e.offsetWidth}return new nA({top:u,left:d,height:h,width:v,offsets:c})},n}(je.Ss),aA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sA=function(i){aA(n,i);function n(e){var t=i.call(this)||this;return t.pfx=e.pfx||"",t.allowNesting=e.allowNesting||!1,t.container=e.container,t.setElement(e.el),t.offset={top:e.offset.top||0,left:e.offset.left||0},t.moveLimiter=new Kb(100),t}return n.prototype.show=function(){this.el.style.display="block"},n.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},n.prototype.move=function(e,t){var r=this,o={elementDimension:e,placement:t};this.moveLimiter.updateArgs(o),this.moveLimiter.execute(function(s){var c=s.elementDimension,u=s.placement;r._move(c,u)})},n.prototype._move=function(e,t){var r=0,o="px",s=0,c=0,u="",d="";this.setOrientationForDimension(e);var h=e.top,v=e.left,m=e.height,b=e.width,w=e.dir,C=e.offsets;if(t==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var T=5,I=C?.paddingTop||T,W=C?.paddingLeft||T,j=C?.borderTopWidth||0,z=C?.borderLeftWidth||0,ue=C?.borderRightWidth||0,ye=z+ue;s=h+I+j,c=v+W+z,u=Math.max(b-W*2-ye,1)+"px",d="auto"}else w?(u=b+o,d="auto",s=t==="before"?h-r:h+m-r,c=v):(u="auto",d=m-r*2+o,s=h+r,c=t==="before"?v-r:v+b-r,this.setOrientation("vertical"));this.updateStyles(s,c,u,d),this.adjustOffset()},n.prototype.setOrientationForDimension=function(e){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),e&&!e.dir&&this.setOrientation("vertical")},n.prototype.setOrientation=function(e){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(e)},n.prototype.updateStyles=function(e,t,r,o){this.el.style.top=e+"px",this.el.style.left=t+"px",r&&(this.el.style.width=r),o&&(this.el.style.height=o)},n.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},n}(je.Ss),as=function(){return as=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},as.apply(this,arguments)},lA=function(){function i(n){var e=tA(n);(0,A.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=e.containerContext,this.positionOptions=e.positionOptions,this.dragBehavior=e.dragBehavior,this.eventHandlers=as(as({},e.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=n.em,this.treeClass=n.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new iA({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return i.prototype.startSort=function(n){var e,t,r,o,s,c,u,d=this.getSourceNodes(n),h=d.sourceNodes,v=d.sourcesWithModel;this.sourceNodes=h,this.dropLocationDeterminer.startSort(h),this.bindDragEventHandlers(),(t=(e=this.eventHandlers).onStartSort)===null||t===void 0||t.call(e,this.sourceNodes,this.containerContext.container);var m=(r=this.sourceNodes[0])===null||r===void 0?void 0:r.model;(s=(o=this.eventHandlers).legacyOnStartSort)===null||s===void 0||s.call(o,{sorter:this,target:m,parent:m&&((c=m.parent)===null||c===void 0?void 0:c.call(m)),index:m&&((u=m.index)===null||u===void 0?void 0:u.call(m))}),this.em.trigger("sorter:drag:start",n[0],v[0])},i.prototype.validTarget=function(n,e,t){if(!n)return!1;var r=(0,Br.default)(n).data("model");if(!r)return!1;var o=new this.treeClass(r),s=this.getSourceNodes(e).sourceNodes,c=s.some(function(u){return o.canMove(u,t)});return c},i.prototype.getSourceNodes=function(n){var e=this,t=n.filter(function(c){return!!c.dragSource||e.findValidSourceElement(c.element)}),r=t.map(function(c){var u;return{model:(u=(0,Br.default)(c.element))===null||u===void 0?void 0:u.data("model"),content:c.dragSource}}),o=r.sort(function(c,u){return qP(c.model,u.model)}),s=o.map(function(c){return new e.treeClass(c.model,c.content)});return{sourceNodes:s,sourcesWithModel:r}},i.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},i.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},i.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},i.prototype.handlePlaceholderMove=function(n,e){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(n,e)},i.prototype.createPlaceholder=function(){return new sA({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},i.prototype.ensurePlaceholderElement=function(){var n=this.placeholder.el,e=this.containerContext.container;n.ownerDocument.contains(n)||e.append(this.placeholder.el)},i.prototype.updateOffset=function(){var n,e=((n=this.em)===null||n===void 0?void 0:n.get("canvasOffset"))||{};this.positionOptions.offsetTop=e.top,this.positionOptions.offsetLeft=e.left},i.prototype.findValidSourceElement=function(n){return n&&!mp(n,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(n=XP(n,this.containerContext.itemSel)),n},i.prototype.bindDragEventHandlers=function(){(0,Ue.on)(this.containerContext.document,"keydown",this.rollback)},i.prototype.updatePlaceholderPosition=function(n,e){this.placeholder.move(n,e)},i.prototype.cleanupEventListeners=function(){(0,Ue.AU)(this.containerContext.document,"keydown",this.rollback)},i.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},i.prototype.rollback=function(n){(0,Ue.AU)(this.containerContext.document,"keydown",this.rollback);var e="Escape";n.key===e&&this.cancelDrag()},i.prototype.triggerNullOnEndMove=function(n){var e,t,r,o,s,c=(e=this.sourceNodes)===null||e===void 0?void 0:e[0].model,u={target:c,parent:c&&((t=c.parent)===null||t===void 0?void 0:t.call(c)),index:c&&((r=c.index)===null||r===void 0?void 0:r.call(c))};(s=(o=this.eventHandlers).legacyOnEndMove)===null||s===void 0||s.call(o,null,this,as(as({},u),{cancelled:n}))},i}(),Gb=lA,cA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ss=function(){return ss=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ss.apply(this,arguments)},uA=po.F.Target,xf={id:"sorter-target",type:uA},dA=function(i){cA(n,i);function n(e){var t=e.em,r=e.treeClass,o=e.containerContext,s=e.dragBehavior,c=e.positionOptions,u=c===void 0?{}:c,d=e.eventHandlers,h=d===void 0?{}:d,v=i.call(this,{em:t,treeClass:r,containerContext:o,positionOptions:u,dragBehavior:s,eventHandlers:ss(ss({},h),{onStartSort:function(m,b){var w;(w=h.onStartSort)===null||w===void 0||w.call(h,m,b),v.onStartSort()},onDrop:function(m,b,w){var C;(C=h.onDrop)===null||C===void 0||C.call(h,m,b,w),v.onDrop(m,b,w)},onTargetChange:function(m,b){var w;(w=h.onTargetChange)===null||w===void 0||w.call(h,m,b),v.onTargetChange(m,b)},onMouseMove:function(m){var b;(b=h.onMouseMove)===null||b===void 0||b.call(h,m),v.onMouseMove(m)}})})||this;return v.targetIsText=!1,v.onMouseMove=function(m){var b,w=v.targetIsText&&((b=v.sourceNodes)===null||b===void 0?void 0:b.some(function(C){return C.isTextable()}));w&&v.updateTextViewCursorPosition(m)},v.onDrop=function(m,b,w){var C=typeof w=="number"?w:-1;if(m&&b.length>0){var T=v.handleNodeAddition(m,b,C);T.length===0&&v.triggerNullOnEndMove(!1)}else v.triggerNullOnEndMove(!0);m?.restNodeState(),v.placeholder.hide()},v.onTargetChange=function(m,b){var w;m?.restNodeState();var C=v.em.Canvas;if(!b){v.placeholder.hide(),C.removeSpots(xf);return}b?.setSelectedParentState(),v.targetIsText=b.isTextNode();var T=v.targetIsText&&((w=v.sourceNodes)===null||w===void 0?void 0:w.some(function(z){return z.isTextable()}));T?(b.setContentEditable(!0),v.placeholder.hide()):v.placeholder.show();var I=po.F.Select,W=po.F.Hover,j=po.F.Spacing;[I,W,j].forEach(function(z){return C.removeSpots({type:z})}),C.addSpot(ss(ss({},xf),{component:b.model}))},(0,A.bindAll)(v,"handleScrollEvent"),v}return n.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},n.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),i.prototype.bindDragEventHandlers.call(this)},n.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),i.prototype.cleanupEventListeners.call(this)},n.prototype.handleScrollEvent=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=(e=t?.[0])===null||e===void 0?void 0:e.frame,s=this.em.Canvas.getCanvasView().frame===o;s&&this.recalculateTargetOnScroll()},n.prototype.handleNodeAddition=function(e,t,r){var o=this;return t.reduce(function(s,c){if(!e.canMove(c,r))return s;if(o.isPositionChanged(e,c,r)){var u=o.moveNode(e,c,r),d=u.index,h=u.addedNode;s.push(h),r=d}return r++,s},[])},n.prototype.isPositionChanged=function(e,t,r){var o=t.getParent(),s=o?o.indexOfChild(t):-1;o?.model.cid===e.model.cid&&s<r&&r--;var c=o?.model.cid===e.model.cid,u=s===r,d=this.targetIsText&&t.isTextable();return!(c&&u&&!d)},n.prototype.moveNode=function(e,t,r){var o=t.getParent();if(o){var s=o.indexOfChild(t);o.removeChildAt(s,{temporary:!0}),o.model.cid===e.model.cid&&s<r&&r--}var c=e.addChildAt(t,r,{action:"move-component"});return this.triggerEndMoveEvent(c),{addedNode:c,index:r}},n.prototype.triggerEndMoveEvent=function(e){var t,r,o,s,c,u;(r=(t=this.eventHandlers).legacyOnEndMove)===null||r===void 0||r.call(t,e.model,this,{target:e.model,parent:e.model&&((s=(o=e.model).parent)===null||s===void 0?void 0:s.call(o)),index:e.model&&((u=(c=e.model).index)===null||u===void 0?void 0:u.call(c))})},n.prototype.finalizeMove=function(){var e,t;(e=this.em)===null||e===void 0||e.Canvas.removeSpots(xf),(t=this.sourceNodes)===null||t===void 0||t.forEach(function(r){return r.restNodeState()}),this.setAutoCanvasScroll(!1),i.prototype.finalizeMove.call(this)},n.prototype.updateTextViewCursorPosition=function(e){var t=this.em;if(t){var r=t.Canvas,o=r.getDocument(),s=null,c=(0,Ue.G2)(e);if(o.caretPositionFromPoint){var u=o.caretPositionFromPoint(c.clientX,c.clientY);u&&(s=o.createRange(),s.setStart(u.offsetNode,u.offset))}else o.caretRangeFromPoint?s=o.caretRangeFromPoint(c.clientX,c.clientY):e.rangeParent&&(s=o.createRange(),s.setStart(e.rangeParent,e.rangeOffset));var d=r.getWindow().getSelection();r.getFrameEl().focus(),d?.removeAllRanges(),s&&d?.addRange(s)}},n.prototype.setAutoCanvasScroll=function(e){var t=this.em,r=t?.Canvas;r&&(e?r.startAutoscroll():r.stopAutoscroll())},n}(Gb),n0=dA,fA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Lu=function(){return Lu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Lu.apply(this,arguments)},pA=function(i){fA(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{values:{}}},n.prototype.initialize=function(){var e=this.collection;this.prop=e?.prop},n.prototype.getId=function(){return this.cid},n.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},n.prototype.getValues=function(e){e===void 0&&(e={});var t=this.get("values");return e.camelCase?Object.keys(t).reduce(function(r,o){return r[(0,Ee.camelCase)(o)]=t[o],r},{}):t},n.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},n.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},n.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},n.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},n.prototype.move=function(e){var t;return(t=this.prop)===null||t===void 0?void 0:t.moveLayer(this,e)},n.prototype.getStylePreview=function(e){var t;return e===void 0&&(e={}),(t=this.prop)===null||t===void 0?void 0:t.getStylePreview(this,e)},n.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},n.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",Lu(Lu({},this.getValues()),e))},n}(je.Kx),ol=pA,hA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yb=function(i){hA(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.initialize=function(e,t){t===void 0&&(t={}),this.prop=t.prop},n}(je.pM),Yc=Yb;Yb.prototype.model=ol;var gA=jt(3161),vA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mA=function(i){vA(n,i);function n(e){return i.call(this,e)||this}return n.prototype.getChildren=function(){return this.model instanceof Yc?this.model.models.map(function(e){return new n(e)}):null},n.prototype.getParent=function(){var e=this.model instanceof ol?this.model.collection:null;return e?new n(e):null},n.prototype.addChildAt=function(e,t){if(this.model instanceof ol)throw Error("Cannot add a layer model to another layer model");var r=this.model.add(e.model,{at:t});return new n(r)},n.prototype.removeChildAt=function(e){if(this.model instanceof ol)throw Error("Cannot remove a layer model from another layer model");var t=this.model.at(e);t&&this.model.remove(t)},n.prototype.indexOfChild=function(e){return!(e.model instanceof ol)||!(this.model instanceof Yc)?-1:this.model.indexOf(e.model)},n.prototype.canMove=function(e,t){return this.model instanceof Yc&&!!e.model},Object.defineProperty(n.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var e;return(e=this.view)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),n}(gA.$),yA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qf=function(){return Qf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Qf.apply(this,arguments)},bA=function(i){yA(n,i);function n(e){var t=e.em,r=e.containerContext,o=e.dragBehavior,s=e.positionOptions,c=s===void 0?{}:s,u=e.eventHandlers,d=u===void 0?{}:u,h=i.call(this,{em:t,treeClass:mA,containerContext:r,positionOptions:c,dragBehavior:o,eventHandlers:Qf({onStartSort:function(v,m){var b;(b=d.onStartSort)===null||b===void 0||b.call(d,v,m),h.onLayerStartSort(v)},onDrop:function(v,m,b){var w;(w=d.onDrop)===null||w===void 0||w.call(d,v,m,b),h.onLayerDrop(v,m,b)},onEnd:function(){h.placeholder.hide()}},d)})||this;return h.onLayerStartSort=function(v){h.em.clearSelection();var m=v[0];h.em.trigger("sorter:drag:start",m?.element,m?.model),h.placeholder.show()},h.onLayerDrop=function(v,m,b){if(v){b=typeof b=="number"?b:-1;for(var w=0;w<m.length;w++){var C=m[w];if(v.canMove(C,w)){var T=C.getParent(),I=-1;T&&(I=T.indexOfChild(C),T.removeChildAt(I)),b=I<b?b-1:b,v.addChildAt(C,b)}}h.placeholder.hide()}},h}return n}(Gb),_A=bA,wA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ep=function(){return ep=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ep.apply(this,arguments)},CA=function(i){wA(n,i);function n(e){var t=i.call(this,e,"Utils")||this;return t.Sorter=n0,t.Resizer=GP,t.Dragger=eb.A,t.ComponentSorter=n0,t.StyleManagerSorter=_A,t.helpers=ep({},Ee),t}return n.prototype.destroy=function(){},n}(jn),xA=CA,Fn,to={},mn={16:!1,18:!1,17:!1,91:!1},qb="all",ya={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},Xb={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},yp=function(i){return Xb[i]||i.toUpperCase().charCodeAt(0)},gs=[];for(Fn=1;Fn<20;Fn++)Xb["f"+Fn]=111+Fn;function gl(i,n){for(var e=i.length;e--;)if(i[e]===n)return e;return-1}function SA(i,n){if(i.length!=n.length)return!1;for(var e=0;e<i.length;e++)if(i[e]!==n[e])return!1;return!0}var OA={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function TA(i){for(Fn in mn)mn[Fn]=i[OA[Fn]]}function kA(i){var n,e,t,r,o,s;if(n=i.keyCode,gl(gs,n)==-1&&gs.push(n),(n==93||n==224)&&(n=91),n in mn){mn[n]=!0;for(t in ya)ya[t]==n&&(bn[t]=!0);return}if(TA(i),!!bn.filter.call(this,i)&&n in to){for(s=bp(),r=0;r<to[n].length;r++)if(e=to[n][r],e.scope==s||e.scope=="all"){o=e.mods.length>0;for(t in mn)(!mn[t]&&gl(e.mods,+t)>-1||mn[t]&&gl(e.mods,+t)==-1)&&(o=!1);(e.mods.length==0&&!mn[16]&&!mn[18]&&!mn[17]&&!mn[91]||o)&&e.method(i,e)===!1&&(i.preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation&&i.stopPropagation(),i.cancelBubble&&(i.cancelBubble=!0))}}}function EA(i){var n=i.keyCode,e,t=gl(gs,n);if(t>=0&&gs.splice(t,1),(n==93||n==224)&&(n=91),n in mn){mn[n]=!1;for(e in ya)ya[e]==n&&(bn[e]=!1)}}function PA(){for(Fn in mn)mn[Fn]=!1;for(Fn in ya)bn[Fn]=!1}function bn(i,n,e){var t,r;t=Zb(i),e===void 0&&(e=n,n="all");for(var o=0;o<t.length;o++)r=[],i=t[o].split("+"),i.length>1&&(r=Jb(i),i=[i[i.length-1]]),i=i[0],i=yp(i),i in to||(to[i]=[]),to[i].push({shortcut:t[o],scope:n,method:e,key:t[o],mods:r})}function AA(i,n){var e,t,r=[],o,s,c;for(e=Zb(i),s=0;s<e.length;s++){if(t=e[s].split("+"),t.length>1&&(r=Jb(t)),i=t[t.length-1],i=yp(i),n===void 0&&(n=bp()),!to[i])return;for(o=0;o<to[i].length;o++)c=to[i][o],c.scope===n&&SA(c.mods,r)&&(to[i][o]={})}}function DA(i){return typeof i=="string"&&(i=yp(i)),gl(gs,i)!=-1}function MA(){return gs.slice(0)}function LA(i){var n=(i.target||i.srcElement).tagName;return!(n=="INPUT"||n=="SELECT"||n=="TEXTAREA")}for(Fn in ya)bn[Fn]=!1;function RA(i){qb=i||"all"}function bp(){return qb||"all"}function IA(i){var n,e,t;for(n in to)for(e=to[n],t=0;t<e.length;)e[t].scope===i?e.splice(t,1):t++}function Zb(i){var n;return i=i.replace(/\s/g,""),n=i.split(","),n[n.length-1]==""&&(n[n.length-2]+=","),n}function Jb(i){for(var n=i.slice(0,i.length-1),e=0;e<n.length;e++)n[e]=ya[n[e]];return n}function Sf(i,n,e){i.addEventListener?i.addEventListener(n,e,!1):i.attachEvent&&i.attachEvent("on"+n,function(){e(window.event)})}bn.setScope=RA;bn.getScope=bp;bn.deleteScope=IA;bn.filter=LA;bn.isPressed=DA;bn.getPressedKeyCodes=MA;bn.unbind=AA;bn.handlers=to;bn.init=function(i){Sf(i.document,"keydown",function(n){kA(n)}),Sf(i.document,"keyup",EA),Sf(i,"focus",PA)};var il=bn,NA=function(){return{defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}},FA=NA,jA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),o0=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))};(0,Ee.hasWin)()&&il.init(window);var BA=function(i){jA(n,i);function n(e){var t=i.call(this,e,"Keymaps",FA())||this;return t.keymaster=il,t.keymaps={},t}return n.prototype.onLoad=function(){var e=this.config.defaults;for(var t in e){var r=e[t];this.add(t,r.keys,r.handler,r.opts||{})}},n.prototype.add=function(e,t,r,o){o===void 0&&(o={});var s=this.em,c=s.Commands,u=s.getEditor(),d=s.Canvas,h={id:e,keys:t,handler:r},v=this.keymaps[e];return v&&this.remove(e),this.keymaps[e]=h,il(t,function(m,b){var w={event:m,h:b},C=(0,A.isString)(r)?c.get(r):r,T=!s.isEditing()&&!u.Canvas.isInputFocused();if(T||o.force){o.prevent&&d.getCanvasView().preventDefault(m),(0,A.isFunction)(C)?C(u,0,w):c.runCommand(C,w);var I=[e,b.shortcut,m];s.trigger.apply(s,o0(["keymap:emit"],I,!1)),s.trigger.apply(s,o0(["keymap:emit:".concat(e)],I,!1))}},void 0),s.trigger("keymap:add",h),h},n.prototype.get=function(e){return this.keymaps[e]},n.prototype.getAll=function(){return this.keymaps},n.prototype.remove=function(e){var t=this.em,r=this.get(e);if(r)return delete this.keymaps[e],r.keys.split(", ").forEach(function(o){il.unbind(o.trim())}),t?.trigger("keymap:remove",r),r},n.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(t){return e.remove(t)}),il.handlers={},this},n.prototype.destroy=function(){this.removeAll(),this.keymaps={}},n}(jn),VA=BA,HA=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}},WA=HA,zA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),UA=function(i){zA(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},n.prototype.open=function(){this.set("open",!0)},n.prototype.close=function(){this.set("open",!1)},n}(Bi.A),$A=UA,KA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ru=function(){return Ru=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ru.apply(this,arguments)},GA=function(i){KA(n,i);function n(e){var t=i.call(this,e)||this,r=t.model;return t.listenTo(r,"change:open",t.updateOpen),t.listenTo(r,"change:title",t.updateTitle),t.listenTo(r,"change:content",t.updateContent),t}return n.prototype.template=function(e){var t=e.pfx,r=e.ppfx,o=e.content,s=e.title;return'<div class="'.concat(t,"dialog ").concat(r,"one-bg ").concat(r,`two-color">
      <div class="`).concat(t,`header">
        <div class="`).concat(t,'title">').concat(s,`</div>
        <div class="`).concat(t,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(t,`content">
        <div id="`).concat(t,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(t,'collector" style="display: none"></div>')},n.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},n.prototype.onClick=function(e){var t=this.config.backdrop;t&&e.target===this.el&&this.hide()},n.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},n.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},n.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},n.prototype.updateContent=function(){var e=this.getContent(),t=e.children(),r=this.getCollector(),o=this.model.get("content");t.length&&r.append(t),e.empty().append(o)},n.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},n.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},n.prototype.hide=function(){this.model.close()},n.prototype.show=function(){this.model.open()},n.prototype.updateAttr=function(e){var t=this,r=t.pfx,o=t.$el,s=t.el,c=[].slice.call(s.attributes).map(function(u){return u.name});o.removeAttr(c.join(" ")),o.attr(Ru(Ru({},e||{}),{class:"".concat(r,"container ").concat(e&&e.class||"").trim()}))},n.prototype.render=function(){var e=this.$el,t=this.model.toJSON();return t.pfx=this.pfx,t.ppfx=this.ppfx,e.html(this.template(t)),this.updateAttr(),this.updateOpen(),this},n}(ho),YA=GA,qA=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),XA=function(i){qA(n,i);function n(e){var t=i.call(this,e,"Modal",WA())||this;return t.model=new $A(t),t.model.on("change:open",function(r,o){e.trigger("modal:".concat(o?"open":"close"))}),t.model.on("change",(0,A.debounce)(function(){var r=t._evData(),o=t.config.custom;(0,A.isFunction)(o)&&o(r),e.trigger("modal",r)},0)),t}return n.prototype._evData=function(){var e=this,t=this.getTitle(),r=this.getContent(),o=this.model.attributes,s=o.open,c=o.attributes;return{open:s,attributes:c,title:(0,A.isString)(t)?(0,Ue.GZ)(t):t,content:(0,A.isString)(r)?(0,Ue.GZ)(r):r.get?r.get(0):r,close:function(){e.close()}}},n.prototype.postRender=function(e){var t=e.model.config.el||e.el,r=this.render();r&&t?.appendChild(r)},n.prototype.open=function(e){e===void 0&&(e={});var t=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",t),this.model.open(),this.modal&&this.modal.updateAttr(t),this},n.prototype.close=function(){return this.model.close(),this},n.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},n.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},n.prototype.isOpen=function(){return!!this.model.get("open")},n.prototype.setTitle=function(e){return this.model.set("title",e),this},n.prototype.getTitle=function(){return this.model.get("title")},n.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},n.prototype.getContent=function(){return this.model.get("content")},n.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},n.prototype.getModel=function(){return this.model},n.prototype.render=function(){var e;if(!this.config.custom){var t=YA.extend(this.config.extend),r=this.modal&&this.modal.el;return this.modal=new t({el:r,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},n.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},n}(jn),ZA=XA,i0="sw-visibility",a0="export-template",s0="open-sm",l0="open-tm",c0="open-layers",u0="open-blocks",Of="fullscreen",Tf="preview",JA=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:i0,className:"fa fa-square-o",command:"core:component-outline",context:i0,attributes:{title:"View components"}},{id:Tf,className:"fa fa-eye",command:Tf,context:Tf,attributes:{title:"Preview"}},{id:Of,className:"fa fa-arrows-alt",command:Of,context:Of,attributes:{title:"Fullscreen"}},{id:a0,className:"fa fa-code",command:a0,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:s0,className:"fa fa-paint-brush",command:s0,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:l0,className:"fa fa-cog",command:l0,togglable:!1,attributes:{title:"Settings"}},{id:c0,className:"fa fa-bars",command:c0,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:u0,className:"fa fa-th-large",command:u0,togglable:!1,attributes:{title:"Open Blocks"}}]}]}},QA=JA,eD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tD=function(i){eD(n,i);function n(e,t){var r=i.call(this,e,t)||this;return r.get("buttons").length&&r.set("buttons",new t_(r.module,r.get("buttons"))),r}return n.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(n.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),n}(Bi.A),Qb=tD,rD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),e_=function(i){rD(n,i);function n(e,t){return i.call(this,e,t,Qb)||this}return n.prototype.deactivateAllExceptOne=function(e,t){this.forEach(function(r,o){r!==e&&(r.set("active",!1),t&&r.get("buttons").length&&r.get("buttons").deactivateAllExceptOne(e,t))})},n.prototype.deactivateAll=function(e,t){var r=e||"";this.forEach(function(o){o.get("context")==r&&o!==t&&o.set("active",!1,{fromCollection:!0})})},n.prototype.disableAllButtons=function(e){var t=e||"";this.forEach(function(r,o){r.get("context")==t&&r.set("disable",!0)})},n.prototype.disableAllButtonsExceptOne=function(e,t){this.forEach(function(r,o){r!==e&&(r.set("disable",!0),t&&r.get("buttons").length&&r.get("buttons").disableAllButtonsExceptOne(e,t))})},n}(ed),t_=e_;e_.prototype.model=Qb;var nD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),oD=function(i){nD(n,i);function n(e,t){var r=i.call(this,e,t)||this,o=r.get("buttons")||[];return r.buttons=new t_(e,o),r}return n.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(n.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),n}(Bi.A),r_=oD,iD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),n_=function(i){iD(n,i);function n(e,t){return i.call(this,e,t,r_)||this}return n}(ed),aD=n_;n_.prototype.model=r_;var sD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ls=function(){return ls=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ls.apply(this,arguments)},lD=function(i){sD(n,i);function n(e){var t=i.call(this,e)||this,r=t,o=r.model,s=r.em,c=r.pfx,u=r.ppfx,d=o.className,h=o.attributes,v=h.command,m=h.listen;if(t.id=c+o.get("id"),t.activeCls="".concat(c,"active ").concat(u,"four-color"),t.disableCls="".concat(u,"disabled"),t.btnsVisCls="".concat(c,"visible"),t.className=c+"btn"+(d?" "+d:""),t.listenTo(o,"change",t.render),t.listenTo(o,"change:active updateActive",t.updateActive),t.listenTo(o,"checkActive",t.checkActive),t.listenTo(o,"change:bntsVis",t.updateBtnsVis),t.listenTo(o,"change:attributes",t.updateAttributes),t.listenTo(o,"change:className",t.updateClassName),t.listenTo(o,"change:disable",t.updateDisable),s&&(0,A.isString)(v)&&m){var b={fromListen:!0};t.listenTo(s,"run:".concat(v),function(){return o.set("active",!0,b)}),t.listenTo(s,"stop:".concat(v),function(){return o.set("active",!1,b)})}return s&&s.get&&(t.commands=s.get("Commands")),t}return n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.events=function(){return{click:"clicked"}},n.prototype.updateClassName=function(){var e=this,t=e.model,r=e.pfx,o=t.className,s=t.get("attributes").class,c="".concat(s||""," ").concat(r,"btn ").concat(o||"");this.$el.attr("class",c.trim())},n.prototype.updateAttributes=function(){var e=this,t=e.em,r=e.model,o=e.$el,s=r.get("attributes")||{},c=t&&t.t&&t.t("panels.buttons.titles.".concat(r.id));o.attr(s),c&&o.attr({title:c}),this.updateClassName()},n.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},n.prototype.updateActive=function(e,t,r){var o;r===void 0&&(r={});var s=this,c=s.model,u=s.commands,d=s.$el,h=s.activeCls,v=r.fromCollection,m=r.fromListen,b=c.get("context"),w=c.get("options"),C=c.command,T={};C&&(u&&(0,A.isString)(C)?T=u.get(C)||{}:(0,A.isFunction)(C)?T=u.create({run:C}):C!==null&&(0,A.isObject)(C)&&(T=u.create(C)),c.active?(!v&&((o=c.collection)===null||o===void 0||o.deactivateAll(b,c)),c.set("active",!0,{silent:!0}).trigger("checkActive"),!m&&u.runCommand(T,ls(ls({},w),{sender:c})),T.noStop&&c.set("active",!1)):(d.removeClass(h),!m&&u.stopCommand(T,ls(ls({},w),{sender:c,force:1}))))},n.prototype.updateDisable=function(){var e=this,t=e.disableCls,r=e.model,o=r.disable;this.$el[o?"addClass":"removeClass"](t)},n.prototype.checkActive=function(){var e=this,t=e.model,r=e.$el,o=e.activeCls;t.active?r.addClass(o):r.removeClass(o)},n.prototype.clicked=function(){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},n.prototype.toggleActive=function(){var e=this,t=e.model,r=e.em,o=t.active,s=t.togglable;o&&!s||(t.active=!o,o?t.runDefaultCommand&&r.runDefault():t.stopDefaultCommand&&r.stopDefault())},n.prototype.render=function(){var e=this.model,t=e.get("label"),r=this.$el;return!e.get("el")&&r.empty(),this.updateAttributes(),t&&r.append(t),this.checkActive(),this.updateDisable(),this},n}(ho),cD=lD,uD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dD=function(i){uD(n,i);function n(e){var t=i.call(this,{collection:e})||this;return t.listenTo(t.collection,"add",t.addTo),t.listenTo(t.collection,"reset remove",t.render),t.className=t.pfx+"buttons",t}return n.prototype.addTo=function(e){this.addToCollection(e)},n.prototype.addToCollection=function(e,t){var r=t||null,o=e.get("el"),s=new cD({el:o,model:e}),c=s.render().el;return r?r.appendChild(c):this.$el.append(c),c},n.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(r){return e.addToCollection(r,t)}),this.$el.append(t),this.$el.attr("class",(0,A.result)(this,"className")),this},n}(ho),fD=dD,pD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tp=function(){return tp=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},tp.apply(this,arguments)},hD=function(i){pD(n,i);function n(e){var t=i.call(this,{model:e,el:e.get("el")})||this;return t.className=t.pfx+"panel",t.id=t.pfx+e.get("id"),t.listenTo(e,"change:appendContent",t.appendContent),t.listenTo(e,"change:content",t.updateContent),t.listenTo(e,"change:visible",t.toggleVisible),e.view=t,t}return n.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},n.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},n.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},n.prototype.attributes=function(){return this.model.get("attributes")},n.prototype.initResize=function(){var e=this.em,t=e?.Editor,r=this.model.get("resizable");if(t&&r){var o=r===!0?[!0,!0,!0,!0]:r,s=o.length,c=void 0,u=void 0,d=void 0,h=!1;if(s==2){var v=o;c=v[0],d=v[0],u=v[1],h=v[1]}else if(s==4){var v=o;c=v[0],u=v[1],d=v[2],h=v[3]}var m=new t.Utils.Resizer(tp({tc:c,cr:u,bc:d,cl:h,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:t.getConfig().stylePrefix,onEnd:function(){e.Canvas.refresh({all:!0})},posFetcher:function(b,w){var C=w.target,T=b.style,I=m.getConfig(),W=I.keyWidth,j=I.keyHeight,z=b.getBoundingClientRect(),ue=C=="container",ye=T[W],xe=T[j],le=ye&&!ue?parseFloat(ye):z.width,Y=xe&&!ue?parseFloat(xe):z.height;return{left:0,top:0,width:le,height:Y}}},r&&typeof r!="boolean"?r:{}));m.blur=function(){},m.focus(this.el)}},n.prototype.render=function(){var e=this.model.buttons,t=this.$el,r=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(r,"one-bg ").concat(r,"two-color");if(t.addClass(o),this.toggleVisible(),e.length){var s=new fD(e);t.append(s.render().el)}return t.append(this.model.get("content")),this},n}(ho),gD=hD,vD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mD=function(i){vD(n,i);function n(e){var t=i.call(this,{collection:e})||this;return t.listenTo(e,"add",t.addTo),t.listenTo(e,"reset",t.render),t.listenTo(e,"remove",t.onRemove),t.className=t.pfx+"panels",t}return n.prototype.onRemove=function(e){var t=e.view;t&&t.remove()},n.prototype.addTo=function(e){this.addToCollection(e)},n.prototype.addToCollection=function(e,t){var r=t||null,o=e.get("el"),s=new gD(e),c=s.render().el,u=e.get("appendTo");if(!o)if(u){var d=document.querySelector(u);d?.appendChild(c)}else r?r.appendChild(c):this.$el.append(c);return s.initResize(),c},n.prototype.render=function(){var e=this,t=this.$el,r=document.createDocumentFragment();return t.empty(),this.collection.each(function(o){return e.addToCollection(o,r)}),t.append(r),t.attr("class",this.className),this},n}(ho),yD=mD,bD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_D=function(i){bD(n,i);function n(e){var t=i.call(this,e,"Panels",QA())||this;return t.panels=new aD(t,t.config.defaults),t}return n.prototype.getPanels=function(){return this.panels},n.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},n.prototype.addPanel=function(e){return this.panels.add(e)},n.prototype.removePanel=function(e){return this.panels.remove(e)},n.prototype.getPanel=function(e){var t=this.panels.where({id:e});return t.length?t[0]:null},n.prototype.addButton=function(e,t){var r=this.getPanel(e);return r?r.buttons.add(t):null},n.prototype.removeButton=function(e,t){var r=this.getPanel(e);return r&&r.buttons.remove(t)},n.prototype.getButton=function(e,t){var r=this.getPanel(e);if(r){var o=r.buttons.where({id:t});return o.length?o[0]:null}return null},n.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new yD(this.panels),this.PanelsViewObj.render().el},n.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("active")&&t.trigger("updateActive")})})},n.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("disable")&&t.trigger("change:disable")})})},n.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},n}(jn),wD=_D,CD=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}},xD=CD,SD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),OD=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},TD=function(i){SD(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.build=function(e,t){t===void 0&&(t={});var r=t.em,o=OD(t,["em"]),s=o;if(t.cleanId&&r){var c=r.Css.getAll(),u=c.toJSON().map(function(d){var h=d.selectors,v=h&&h.length===1&&h.models[0];return v&&v.isId()&&v.get("name")}).filter(Boolean);s.attributes||(s.attributes=function(d,h){var v=h.id;return v&&v[0]==="i"&&!d.get("script")&&!d.get("script-export")&&!d.get("attributes").id&&u.indexOf(v)<0&&delete h.id,h})}return e.toHTML(s)},n}(je.Kx),kD=TD,ED=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),PD=function(i){ED(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.build=function(e){var t=this,r=e.toJSON();return this.beforeEach(r),(0,A.each)(r,function(o,s){var c=r[s];if(c instanceof je.Kx)r[s]=t.build(c);else if(c instanceof je.pM){var u=c;r[s]=[],u.length&&u.forEach(function(d,h){r[s][h]=t.build(d)})}}),r},n.prototype.beforeEach=function(e){delete e.status},n}(je.Kx),AD=PD,DD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();function MD(i){var n,e=((n=i.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"";return e.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var LD=function(i){DD(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.mapModel=function(e){var t,r=this,o="",s=e.get("script-export")||e.get("script"),c=e.get("type"),u=e.get("components"),d=e.getId();if(s){var h=e.get("attributes");h=(0,A.extend)({},h,{id:d}),e.set("attributes",h,{silent:!0});var v=e.getScriptString(s),m=e.get("script-props");if(e.get("scriptUpdated")&&!m)this.mapJs[c+"-"+d]={ids:[d],code:v};else{var b=void 0,w=this.mapJs[c];if(m&&(b=e.__getScriptProps()),w)w.ids.push(d),b&&(w.props[d]=b);else{var C={ids:[d],code:v};b&&(C.props=(t={},t[d]=b,t)),this.mapJs[c]=C}}}return u.forEach(function(T){o+=r.mapModel(T)}),o},n.prototype.build=function(e){this.mapJs={},this.mapModel(e);var t="";for(var r in this.mapJs){var o=this.mapJs[r];if(o.code)if(o.props){if(MD(o.code))continue;t+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var s="#"+o.ids.join(", #");t+=`
          var items = document.querySelectorAll('`.concat(s,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return t},n}(je.Kx),RD=LD,ID=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rp=function(){return rp=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},rp.apply(this,arguments)},vl;(0,Ee.hasWin)()&&(vl=jt(4408),jt(8253),jt(7389),jt(3640));var o_=function(i){ID(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},n.prototype.init=function(e){return(0,A.bindAll)(this,"onChange"),this.editor=vl.fromTextArea(e,rp({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},n.prototype.onChange=function(){this.trigger("update",this)},n.prototype.getEditor=function(){return this.editor},n.prototype.getElement=function(){return this.element},n.prototype.setElement=function(e){return this.element=e,this},n.prototype.refresh=function(){return this.getEditor().refresh(),this},n.prototype.focus=function(){return this.getEditor().focus(),this},n.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},n.prototype.setContent=function(e,t){var r=this;t===void 0&&(t={});var o=this.editor;if(o){o.setValue(e);var s=this.get("autoFormat"),c=o.autoFormatRange&&(s===!0||Array.isArray(s)&&s.includes(this.get("codeName")));c&&(vl.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),vl.commands.goDocStart(o)),!t.noRefresh&&setTimeout(function(){return r.refresh()})}},n}(je.Kx),ND=o_;o_.prototype.CodeMirror=vl;var FD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jD=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},BD=function(i){FD(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.template=function(e){var t=e.pfx,r=e.codeName,o=e.label;return Nn(d0||(d0=jD([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),t,t,r,t,o,t)},n.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},n.prototype.render=function(){var e,t,r=this,o=r.model,s=r.pfx,c=r.$el,u=o.toJSON(),d=o.get("input")||((t=(e=o).getElement)===null||t===void 0?void 0:t.call(e));return u.pfx=s,c.html(this.template(u)),c.attr("class","".concat(s,"editor-c")),c.find("#".concat(s,"code")).append(d),this},n}(je.Ss),VD=BD,d0,HD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Iu=function(){return Iu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Iu.apply(this,arguments)},WD="CodeMirror",zD=function(i){HD(n,i);function n(e){var t=i.call(this,e,"CodeManager",xD())||this;t.EditorView=VD;var r=t.config,o=r.pStylePrefix;return o&&(r.stylePrefix=o+r.stylePrefix),t.generators={},t.viewers={},t.defGenerators={html:new kD,css:new VT,json:new AD,js:new RD},t.defViewers={CodeMirror:new ND},t.loadDefaultGenerators().loadDefaultViewers(),t}return n.prototype.addGenerator=function(e,t){return this.generators[e]=t,this},n.prototype.getGenerator=function(e){return this.generators[e]},n.prototype.getGenerators=function(){return this.generators},n.prototype.addViewer=function(e,t){return this.viewers[e]=t,this},n.prototype.getViewer=function(e){return this.viewers[e]},n.prototype.getViewers=function(){return this.viewers},n.prototype.createViewer=function(e){e===void 0&&(e={});var t=(0,A.isUndefined)(e.type)?WD:e.type,r=this.getViewer(t)&&this.getViewer(t).clone(),o=document.createElement("div"),s=document.createElement("textarea");return o.appendChild(s),r.set(Iu(Iu({},this.config.optsCodeViewer),e)),r.init(s),r.setElement(o),r},n.prototype.updateViewer=function(e,t){e.setContent(t)},n.prototype.getCode=function(e,t,r){r===void 0&&(r={}),r.em=this.em;var o=this.getGenerator(t);return o?o.build(e,r):""},n.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},n.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},n.prototype.destroy=function(){},n}(jn),UD=zD,$D=jt(4729),KD=jt.n($D),GD=function(){return{maximumStackLength:500,trackSelection:!0}},YD=GD,Ao=function(i){return i.update="update",i.undo="undo",i.redo="redo",i.load="load",i.projectLoad="project:load",i.log="log",i.telemetryInit="telemetry:init",i.destroy="destroy",i.destroyed="destroyed",i}(Ao||{}),qD=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ri=function(){return ri=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ri.apply(this,arguments)},XD=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Vc=function(i){return i.avoidStore||i.noUndo||i.partial},f0=function(i){return Object.keys(i.changedAttributes())},Hc=new WeakMap,ZD=function(i){qD(n,i);function n(e){var t=i.call(this,e,"UndoManager",YD())||this;t.config._disable&&(t.config.maximumStackLength=0);var r=!0;return t.um=new(KD())(ri({track:!0,register:[]},t.config)),t.um.changeUndoType("change",{condition:function(o){var s=o.get("_undo");if(s){var c=o.get("_undoexc");if((0,A.isArray)(c)&&f0(o).some(function(u){return c.indexOf(u)>=0}))return!1;if((0,A.isBoolean)(s)||(0,A.isArray)(s)&&f0(o).some(function(u){return s.indexOf(u)>=0}))return!0}return!1},on:function(o,s,c){var u=Hc.get(o);u||(u=o.previousAttributes(),Hc.set(o,u));var d=c||s||{};if(d.noUndo&&setTimeout(function(){Hc.delete(o)}),!Vc(d)){var h=o.toJSON({fromUndo:r}),v={object:o,before:u,after:h};return Hc.delete(o),(0,A.isEmpty)(h)?void 0:v}}}),t.um.changeUndoType("add",{on:function(o,s,c){if(c===void 0&&(c={}),!(Vc(c)||!t.isRegistered(s)))return{object:s,before:void 0,after:o,options:ri(ri({},c),{fromUndo:r})}}}),t.um.changeUndoType("remove",{on:function(o,s,c){if(c===void 0&&(c={}),!(Vc(c)||!t.isRegistered(s)))return{object:s,before:o,after:void 0,options:ri(ri({},c),{fromUndo:r})}}}),t.um.changeUndoType("reset",{undo:function(o,s){o.reset(s,{fromUndo:r})},redo:function(o,s,c){o.reset(c,{fromUndo:r})},on:function(o,s){if(s===void 0&&(s={}),!(Vc(s)||!t.isRegistered(o)))return{object:o,before:s.previousModels,after:XD([],o.models,!0),options:ri(ri({},s),{fromUndo:r})}}}),t.um.on("undo redo",function(){e.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),[Ao.undo,Ao.redo].forEach(function(o){return t.um.on(o,function(){return e.trigger(o)})}),t}return n.prototype.postLoad=function(){var e=this,t=e.config,r=e.em;t.trackSelection&&r&&this.add(r.get("selected"))},n.prototype.add=function(e){return this.um.register(e),this},n.prototype.remove=function(e){return this.um.unregister(e),this},n.prototype.removeAll=function(){return this.um.unregisterAll(),this},n.prototype.start=function(){return this.um.startTracking(),this},n.prototype.stop=function(){return this.um.stopTracking(),this},n.prototype.undo=function(e){e===void 0&&(e=!0);var t=this,r=t.em,o=t.um;return!r.isEditing()&&o.undo(e),this},n.prototype.undoAll=function(){return this.um.undoAll(),this},n.prototype.redo=function(e){e===void 0&&(e=!0);var t=this,r=t.em,o=t.um;return!r.isEditing()&&o.redo(e),this},n.prototype.redoAll=function(){return this.um.redoAll(),this},n.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},n.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},n.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},n.prototype.getStack=function(){return this.um.stack},n.prototype.getStackGroup=function(){var e=[],t=[];return this.getStack().forEach(function(r){var o=r.get("magicFusionIndex");t.indexOf(o)<0&&(t.push(o),e.push(r))}),e},n.prototype.skip=function(e){var t=!!this.um.isTracking();t&&this.stop(),e(),t&&this.start()},n.prototype.getGroupedStack=function(){var e={},t=this.getStack(),r=function(o,s){var c=o.attributes,u=c.type,d=c.after,h=c.before,v=c.object,m=c.options,b=m===void 0?{}:m;return{index:s,type:u,after:d,before:h,object:v,options:b}};return t.forEach(function(o,s){var c=o.get("magicFusionIndex"),u=r(o,s);e[c]?e[c].push(u):e[c]=[u]}),Object.keys(e).map(function(o){var s=e[o];return{index:s[s.length-1].index,actions:s,labels:(0,A.unique)(s.reduce(function(c,u){var d,h=(d=u.options)===null||d===void 0?void 0:d.action;return h&&c.push(h),c},[]))}})},n.prototype.goToGroup=function(e){var t=this;if(e){var r=this.getPointer(),o=e.index-r;(0,A.times)(Math.abs(o),function(){t[o<0?"undo":"redo"](!1)})}},n.prototype.getPointer=function(){return this.getStack().pointer},n.prototype.clear=function(){return this.um.clear(),this},n.prototype.getInstance=function(){return this.um},n.prototype.destroy=function(){this.clear().removeAll()},n}(jn),JD=ZD,QD=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}},eM=QD,cs=function(){return cs=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},cs.apply(this,arguments)},np=function(i){return i[i.ACTIVE=1]="ACTIVE",i[i.INACTIVE=0]="INACTIVE",i[i.DISABLED=-1]="DISABLED",i}(np||{}),kf="_rte",ha={ACTIVE:1,INACTIVE:0,DISABLED:-1},Wc=function(i,n){n===void 0&&(n="A");var e=i.selection()||{},t=e.anchorNode,r=e.focusNode,o=t?.parentNode,s=r?.parentNode;return o?.nodeName==n||s?.nodeName==n},Nu="data-selectme",tl={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(i){return i.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(i){return i.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(i){return i.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(i){return i.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(i){return i&&i.selection()&&Wc(i)?ha.ACTIVE:ha.INACTIVE},result:function(i){Wc(i)?i.exec("unlink"):i.insertHTML('<a href="" '.concat(Nu,">").concat(i.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(i){return i?.selection()&&Wc(i,"SPAN")?ha.DISABLED:ha.INACTIVE},result:function(i){!Wc(i,"SPAN")&&i.insertHTML("<span ".concat(Nu,">").concat(i.selection(),"</span>"),{select:!0})}}},tM=function(){function i(n,e,t){t===void 0&&(t={});var r=this;if(this.em=n,this.settings=t,e[kf])return e[kf];e[kf]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(t.actions||[]).map(function(h){var v=h;return(0,A.isString)(h)?v=cs({},tl[h]):tl[h.name]&&(v=cs(cs({},tl[h.name]),h)),v}),s=o.length?o:Object.keys(tl).map(function(h){return tl[h]});t.classes=cs({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},t.classes);var c=t.classes,u=t.actionbar;if(this.actionbar=u,this.classes=c,this.actions=s,!u){if(!this.isCustom(t.module)){var d=t.actionbarContainer;u=document.createElement("div"),u.className=c.actionbar,d?.appendChild(u),this.actionbar=u}s.forEach(function(h){return r.addAction(h)})}return t.styleWithCSS&&this.exec("styleWithCSS"),this}return i.prototype.isCustom=function(n){var e=n||this.em.RichTextEditor;return!!(e?.config.custom||e?.customRte)},i.prototype.destroy=function(){},i.prototype.setEl=function(n){this.el=n,this.doc=n.ownerDocument},i.prototype.updateActiveActions=function(){var n=this,e=this.getActions();e.forEach(function(t){var r=t.update,o=t.btn,s=n.classes,c=s.active,u=s.inactive,d=s.disabled,h=t.state,v=t.name,m=n.doc,b=np.INACTIVE;if(o&&(o.className=o.className.replace(c,"").trim(),o.className=o.className.replace(u,"").trim(),o.className=o.className.replace(d,"").trim()),h){var w=h(n,m);if(b=w,o)switch(w){case ha.ACTIVE:o.className+=" ".concat(c);break;case ha.INACTIVE:o.className+=" ".concat(u);break;case ha.DISABLED:o.className+=" ".concat(d);break}}else m.queryCommandSupported(v)&&m.queryCommandState(v)&&(o&&(o.className+=" ".concat(c)),b=np.ACTIVE);t.currentState=b,r?.(n,t)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},i.prototype.enable=function(n){return this.enabled?this:this.__toggleEffects(!0,n)},i.prototype.disable=function(){return this.__toggleEffects(!1)},i.prototype.__toggleEffects=function(n,e){n===void 0&&(n=!1),e===void 0&&(e={});var t=n?Ue.on:Ue.AU,r=this,o=r.el,s=r.doc,c=this.actionbarEl();if(c&&(c.style.display=n?"":"none"),o.contentEditable="".concat(!!n),t(o,"mouseup keyup",this.updateActiveActions),t(s,"keydown",this.__onKeydown),t(s,"paste",this.__onPaste),this.enabled=n,n){var u=e.event;if(this.syncActions(),this.updateActiveActions(),u){var d=null;if(s.caretRangeFromPoint){var h=(0,Ue.G2)(u);d=s.caretRangeFromPoint(h.clientX,h.clientY)}else u.rangeParent&&(d=s.createRange(),d.setStart(u.rangeParent,u.rangeOffset));var v=s.getSelection();v?.removeAllRanges(),d&&v?.addRange(d)}o.focus()}return this},i.prototype.__onKeydown=function(n){var e=this.em,t=e.RichTextEditor.getConfig().onKeydown;if(t)return t({ev:n,rte:this,editor:e.getEditor()});var r=this.doc,o=["insertOrderedList","insertUnorderedList"];n.key==="Enter"&&!o.some(function(s){return r.queryCommandState(s)})&&(r.execCommand("insertLineBreak"),n.preventDefault())},i.prototype.__onPaste=function(n){var e=this.em,t=e.RichTextEditor.getConfig().onPaste;if(t)return t({ev:n,rte:this,editor:e.getEditor()});var r=n.clipboardData,o=r.getData("text"),s=r.getData("text/html");if(o&&!s){n.preventDefault();var c=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,c)}},i.prototype.syncActions=function(){var n=this;this.getActions().forEach(function(e){if(n.actionbar&&(!e.state||e.state&&e.state(n,n.doc)>=0)){var t=e.event||"click",r=e.btn;r&&(r["on".concat(t)]=function(){e.result(n,e),n.updateActiveActions()})}})},i.prototype.addAction=function(n,e){e===void 0&&(e={});var t=e.sync,r=this.actionbarEl();if(r){var o=n.icon,s=n.attributes,c=s===void 0?{}:s,u=document.createElement("span");u.className=this.classes.button,n.btn=u;for(var d in c)u.setAttribute(d,c[d]);typeof o=="string"?u.innerHTML=o:u.appendChild(o),r.appendChild(u)}t&&(this.actions.push(n),this.syncActions())},i.prototype.getActions=function(){return this.actions},i.prototype.selection=function(){return this.doc.getSelection()},i.prototype.exec=function(n,e){this.doc.execCommand(n,!1,e)},i.prototype.actionbarEl=function(){return this.actionbar},i.prototype.insertHTML=function(n,e){var t=e===void 0?{}:e,r=t.select,o=this,s=o.em,c=o.doc,u=o.el,d=c.getSelection();if(d&&d.rangeCount){var h=(0,Ee.getComponentModel)(u)||s.getSelected(),v=c.createElement("div"),m=d.getRangeAt(0);m.deleteContents(),(0,A.isString)(n)?v.innerHTML=n:n&&v.appendChild(n),Array.prototype.slice.call(v.childNodes).forEach(function(b){m.insertNode(b)}),d.removeAllRanges(),d.addRange(m),u.focus(),r&&h&&(h.once("rte:disable",function(){var b=h.find("[".concat(Nu,"]"))[0];b&&(s.setSelected(b),b.removeAttributes(Nu))}),h.trigger("disable"))}},i}(),rM=tM,nM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fu=function(){return Fu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Fu.apply(this,arguments)},Ef=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?o(h.value):r(h.value).then(c,u)}d((t=t.apply(i,n||[])).next())})},Pf=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,r&&(o=d[0]&2?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(i,e)}catch(h){d=[6,h],r=0}finally{t=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},oM=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Af="".concat(zc.refresh," frame:scroll ").concat(ur.I.update),iM="rte:enable",aM="rte:disable",sM="rte:custom",lM={enable:iM,disable:aM,custom:sM},cM=function(i){nM(n,i);function n(e){var t=i.call(this,e,"RichTextEditor",eM())||this;t.events=lM;var r=t.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),t.pfx=r.stylePrefix,t.actions=r.actions||[];var s=new je.Kx;return t.model=s,s.on("change:currentView",t.__trgCustom,t),t.__dbdTrgCustom=(0,A.debounce)(function(){return t.__trgCustom()},0),t}return n.prototype.onLoad=function(){if((0,Ee.hasWin)()){var e=this.config,t=e.pStylePrefix,r=e.custom,o=(0,Ue.a_)("div",{class:(0,Ue.cx)("".concat(t,"rte-toolbar"),!r&&"".concat(t,"one-bg ").concat(t,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,Ue.a_)("div")),(0,Ue.on)(o,"mousedown",function(s){return s.stopPropagation()})}},n.prototype.__trgCustom=function(){var e=this,t=e.model,r=e.em,o=e.events;r.trigger(o.custom,{enabled:!!t.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},n.prototype.destroy=function(){var e,t,r;(e=this.globalRte)===null||e===void 0||e.destroy(),(r=(t=this.customRte)===null||t===void 0?void 0:t.destroy)===null||r===void 0||r.call(t),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,Ue.YZ)(this.toolbar)},n.prototype.postRender=function(e){var t=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),t.getToolsEl().appendChild(this.toolbar)},n.prototype.initRte=function(e){var t=this.globalRte,r=this,o=r.em,s=r.pfx,c=r.actionbar,u=r.config,d=this.actions||oM([],u.actions,!0),h={actionbar:"".concat(s,"actionbar"),button:"".concat(s,"action"),active:"".concat(s,"active"),inactive:"".concat(s,"inactive"),disabled:"".concat(s,"disabled")};return t?(t.em=o,t.setEl(e)):(t=new rM(o,e,{classes:h,actions:d,actionbar:c,actionbarContainer:this.toolbar,module:this}),this.globalRte=t),t.actionbar&&(this.actionbar=t.actionbar),t.actions&&(this.actions=t.actions),t},n.prototype.add=function(e,t){var r;t===void 0&&(t={}),t.name=e,(r=this.globalRte)===null||r===void 0||r.addAction(t,{sync:!0})},n.prototype.get=function(e){var t,r;return(t=this.globalRte)===null||t===void 0||t.getActions().forEach(function(o){o.name==e&&(r=o)}),r},n.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},n.prototype.remove=function(e){var t,r=this.getAll(),o=this.get(e);if(o){var s=o.btn,c=r.indexOf(o);(t=s?.parentNode)===null||t===void 0||t.removeChild(s),r.splice(c,1)}return o},n.prototype.run=function(e){var t=this.globalRte,r=(0,A.isString)(e)?this.get(e):e;t&&r&&(r.result(t,r),t.updateActiveActions())},n.prototype.getToolbarEl=function(){return this.toolbar},n.prototype.updatePosition=function(){var e=this,t=e.em,r=e.toolbar,o="px",s=t.Canvas,c=r.style,u=s.getTargetToElementFixed(this.lastEl,r,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(d){var h=u[d];(0,Ee.isDef)(h)&&(c[d]=(0,A.isString)(h)?h:(h||0)+o)})},n.prototype.enable=function(e,t,r){return Ef(this,void 0,void 0,function(){var o,s,c,u,d;return Pf(this,function(h){switch(h.label){case 0:return this.lastEl=e.el,o=this,s=o.customRte,c=o.em,u=e.getChildrenContainer(),this.toolbar.style.display="",[4,s?s.enable(u,t,r):this.initRte(u).enable(r)];case 1:return d=h.sent(),c&&(setTimeout(this.updatePosition.bind(this),0),c.off(Af,this.updatePosition,this),c.on(Af,this.updatePosition,this),c.trigger("rte:enable",e,d)),this.model.set({currentView:e}),[2,d]}})})},n.prototype.getContent=function(e,t){return Ef(this,void 0,void 0,function(){var r,o;return Pf(this,function(s){switch(s.label){case 0:return r=this.customRte,o=e.getChildrenContainer(),r&&t&&(0,A.isFunction)(r.getContent)?[4,r.getContent(o,t,{view:e})]:[3,2];case 1:return[2,s.sent()];case 2:return[2,o.innerHTML]}})})},n.prototype.hideToolbar=function(){var e=this.toolbar.style,t="-1000px";e.top=t,e.left=t,e.display="none"},n.prototype.disable=function(e,t){return Ef(this,arguments,void 0,function(r,o,s){var c,u,d,h;return s===void 0&&(s={}),Pf(this,function(v){switch(v.label){case 0:return c={},u=this.em,d=this.customRte,d?[4,d.disable(r.getChildrenContainer(),o,Fu(Fu({},s),{view:r}))]:[3,2];case 1:return h=v.sent(),h&&(c=h),[3,3];case 2:o&&o.disable(),v.label=3;case 3:return this.hideToolbar(),u&&(u.off(Af,this.updatePosition,this),!s.fromMove&&u.trigger("rte:disable",r,o)),this.model.unset("currentView"),[2,c]}})})},n}(jn),uM=cM,dM=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}},fM=dM,pM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vn=function(){return vn=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},vn.apply(this,arguments)},hM=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},p0=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},_p=function(i){pM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.getDefaults=function(){return(0,A.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},n.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.em=t.em;var r=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||r).replace(/ /g,"-"));var s=this.get("property");!this.get("id")&&this.set("id",s),!o&&this.set("name",(0,Ee.capitalize)(s).replace(/-/g," ")),this.on("change",this.__upTargets),n.callInit(this,e,t)},n.prototype.__getParentProp=function(){var e,t;return(t=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||t===void 0?void 0:t.parentProp},n.prototype.__upTargets=function(e,t){var r,o=this;t===void 0&&(t={});var s=this.em,c=s.Styles,u=this.getName(),d=t.__clear,h=d?"":this.__getFullValue(t),v=this.__getParentProp(),m=this.changedAttributes(),b=(0,A.keys)(m).reduce(function(j,z){return j[z]=o.previous(z),j},{}),w=p0(p0([],(0,A.keys)(this.__getClearProps()),!0),["__p"],!1),C=(0,A.keys)(m),T=!t.__up&&!v&&(d||w.some(function(j){return C.indexOf(j)>=0})),I=this.get("onChange"),W={property:this,from:b,to:m,value:h,opts:t};c.__trgEv(c.events.propertyUpdate,W),I&&I(W),T&&this.__upTargetsStyle((r={},r[u]=h,r),t)},n.prototype.__upTargetsStyle=function(e,t){var r,o=(r=this.em)===null||r===void 0?void 0:r.get("StyleManager");o?.addStyleTargets(vn(vn({},e),{__p:!!t.avoidStore}),t)},n.prototype._up=function(e,t){t===void 0&&(t={}),t.noTarget&&(t.__up=!0);var r=t.partial,o=hM(t,["partial"]);return e.__p=!!(o.avoidStore||r),this.set(e,vn(vn({},o),{avoidStore:e.__p}))},n.prototype.up=function(e,t){t===void 0&&(t={}),this.set(e,vn(vn({},t),{__up:!0}))},n.prototype.init=function(){},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("property")},n.prototype.getLabel=function(e){var t;e===void 0&&(e={});var r=e.locale,o=r===void 0?!0:r,s=this.getId(),c=this.get("name")||this.get("label");return o&&((t=this.em)===null||t===void 0?void 0:t.t("styleManager.properties.".concat(s)))||c},n.prototype.getValue=function(e){e===void 0&&(e={});var t=e.noDefault,r=this.get("value");return!this.hasValue()&&!t?this.getDefaultValue():r},n.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,r=t&&this.getParentTarget(),o=this.get("value");return!(0,A.isUndefined)(o)&&o!==""&&!r},n.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},n.prototype.getStyle=function(e){var t;e===void 0&&(e={});var r=this.getName(),o=e.camelCase?(0,Ee.camelCase)(r):r;return t={},t[o]=this.__getFullValue(e),t},n.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,A.isUndefined)(e)?this.get("defaults"):e)},n.prototype.upValue=function(e,t){t===void 0&&(t={});var r=e===null||e===""?this.__getClearProps():this.__parseValue(e,t);return this._up(r,t)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),vn(vn({},e),{__clear:!0})),this},n.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},n.prototype.getParent=function(){return this.__getParentProp()},n.prototype.isFull=function(){return!!this.get("full")},n.prototype.__parseValue=function(e,t){return this.parseValue(e,t)},n.prototype.__getClearProps=function(){return{value:""}},n.prototype.setValue=function(e,t,r){t===void 0&&(t=!0),r===void 0&&(r={});var o=this.parseValue(e),s=!t;!s&&this.set({value:void 0},{avoidStore:s,silent:!0}),this.set(o,vn({avoidStore:s},r))},n.prototype.setValueFromInput=function(e,t,r){r===void 0&&(r={}),this.setValue(e,t,vn(vn({},r),{fromInput:1}))},n.prototype.parseValue=function(e,t){t===void 0&&(t={});var r={value:e},o="!important",s=this.get("functionName")||"";if((0,A.isString)(e)&&e.indexOf(o)!==-1&&(r.value=e.replace(o,"").trim(),r.important=!0),!s&&!t.complete)return r;var c=[],u="".concat(r.value).trim(),d=u.indexOf("(")+1,h=s||u.substring(0,d-1);if(h&&(r.functionName=h),!s||u.indexOf("".concat(s,"("))===0){var v=u.lastIndexOf(")");c.push(d),v>=0&&c.push(v),r.value=String.prototype.substring.apply(u,c)}if(t.numeric){var m=parseFloat(r.value);r.unit=r.value.replace(m,""),r.value=m}return r},n.prototype.__getFullValue=function(e){var t=e===void 0?{}:e,r=t.withDefault;return!this.hasValue()&&r?this.getDefaultValue():this.getFullValue()},n.prototype.getFullValue=function(e,t){t===void 0&&(t={});var r=this.get("functionName"),o=this.getDefaultValue(),s=(0,A.isUndefined)(e)?this.get("value"):e,c=!(0,A.isUndefined)(s)&&s!=="";if(s&&o&&s===o)return o;if(r&&c){var u=r==="url"?"'".concat(s.replace(/'|"/g,""),"'"):s;s="".concat(r,"(").concat(u,")")}return c&&this.get("important")&&!t.skipImportant&&(s="".concat(s," !important")),s||""},n.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},n.prototype.getParentTarget=function(){return this.get("parentTarget")||null},n.prototype.__parseFn=function(e){e===void 0&&(e="");var t=e.indexOf("(")+1,r=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,r>=0?r:void 0]).trim()}},n.prototype.__checkVisibility=function(e){var t=e.target,r=e.component,o=e.sectors,s=r||t;if(!s)return!1;var c=this.getId(),u=this.getName(),d=this.get("toRequire"),h=this.get("requires"),v=this.get("requiresParent"),m=s.get("unstylable"),b=s.get("stylable-require"),w=s.get("stylable");if((0,A.isArray)(w)&&(w=w.indexOf(u)>=0),(0,A.isArray)(m)&&(w=m.indexOf(u)<0),d&&(w=!t||b&&(b.indexOf(c)>=0||b.indexOf(u)>=0)),o&&h){var C=(0,A.keys)(h);o.forEach(function(j){j.getProperties().forEach(function(z){if((0,A.includes)(C,z.id)){var ue=h[z.id];w=w&&(0,A.includes)(ue,z.get("value"))}})})}if(v){var T=r&&r.parent(),I=T&&T.getEl();if(I){var W=(0,Ee.hasWin)()?window.getComputedStyle(I):{};(0,A.each)(v,function(j,z){w=w&&W[z]&&(0,A.includes)(j,W[z])})}else w=!1}return!!w},n}(je.Kx),rr=_p;_p.callParentInit=function(i,n,e,t){t===void 0&&(t={}),i.prototype.initialize.apply(n,[e,vn(vn({},t),{skipInit:1})])};_p.callInit=function(i,n,e){e===void 0&&(e={}),!e.skipInit&&i.init(n,e)};var gM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),us=function(){return us=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},us.apply(this,arguments)},h0=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},i_=function(i){return i==="integer"||i==="number"},vM=function(i){gM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return us(us({},rr.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},n.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),rr.callParentInit(rr,this,e,t);var r=this.em,o=new Cp(this.get("properties")||[],{em:r,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),rr.callInit(this,e,t)},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),n.prototype.getProperties=function(){return h0([],this.get("properties").models,!0)},n.prototype.getProperty=function(e){return this.properties.filter(function(t){return t.getId()===e||t.getName()===e})[0]},n.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},n.prototype.isDetached=function(){return!!this.get("detached")},n.prototype.getValues=function(e){var t=e===void 0?{}:e,r=t.byName;return this.getProperties().reduce(function(o,s){var c=r?s.getName():s.getId();return o[c]="".concat(s.__getFullValue()),o},{})},n.prototype.getSeparator=function(){return this.getSplitSeparator()},n.prototype.getJoin=function(){return this.__getJoin()},n.prototype.getStyleFromProps=function(e){var t;e===void 0&&(e={});var r=this.getName(),o=this.__getJoin(),s=this.get("toStyle"),c=this.getValues(),u={};if(s)u=s(c,{join:o,name:r,property:this});else if(c=this.getValues({byName:!0}),this.isDetached())u=c;else{var d=this.getProperties().map(function(h){return h.__getFullValue({withDefault:1})}).filter(Boolean).join(o);u=(t={},t[r]=d,t)}return this.isDetached()?u[r]="":(u[r]=u[r]||"",u=us(us({},u),this.getProperties().reduce(function(h,v){return h[v.getName()]="",h},{}))),e.camelCase?Object.keys(u).reduce(function(h,v){return h[(0,Ee.camelCase)(v)]=u[v],h},{}):u},n.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},n.prototype.__upProperties=function(e,t){if(t===void 0&&(t={}),!(t.__up||t.__clearIn)){var r=this.__getParentProp();if(r)return r.__upProperties(this,t);this.__upTargetsStyleProps(t,e)}},n.prototype.__upTargetsStyleProps=function(e,t){var r;e===void 0&&(e={});var o=this.getStyleFromProps();if(this.isDetached()&&t){var s=t.getName();o=(r={},r[s]=o[s],r)}this.__upTargetsStyle(o,e)},n.prototype._up=function(e,t){return t===void 0&&(t={}),this.__setProperties(this.__getSplitValue(e.value),t),rr.prototype._up.call(this,e,t),this},n.prototype.getStyle=function(e){return this.getStyleFromProps(e)},n.prototype.__getFullValue=function(e){if(e===void 0&&(e={}),this.isDetached()||e.__clear)return"";var t=this.getStyleFromProps()[this.getName()]||"";return jf(t)},n.prototype.__getJoin=function(){var e=this.get("join");return(0,A.isString)(e)?e:this.get("separator")},n.prototype.__styleHasProps=function(e){e===void 0&&(e={});var t=this.getName(),r=this.getProperties(),o=r.map(function(c){return c.getName()}),s=h0([t],o,!0);return s.some(function(c){return!(0,A.isUndefined)(e[c])&&e[c]!==""})},n.prototype.__splitValue=function(e,t){return jf(e).split(t).map(function(r){return r.trim()}).filter(Boolean)},n.prototype.__splitStyleName=function(e,t,r){var o=e[t];return this.__splitValue(o||"",r)},n.prototype.__getSplitValue=function(e,t){e===void 0&&(e="");var r=t===void 0?{}:t,o=r.byName,s=this.getProperties(),c=s.length===4&&s.every(function(h){return i_(h.getType())}),u=this.__splitValue(e,this.getSplitSeparator()),d={};return s.forEach(function(h,v){var m=u[v],b=(0,A.isUndefined)(m)?"":m;if(c){var w=u.length;b=u[v]||u[v%w+(w!=1&&w%2?1:0)]||b}var C=o?h.getName():h.getId();d[C]=b||""}),d},n.prototype.__getPropsFromStyle=function(e,t){if(e===void 0&&(e={}),t===void 0&&(t={}),!this.__styleHasProps(e))return null;var r=t.byName,o=this.getName(),s=this.getProperties(),c=this.getSplitSeparator(),u=this.get("fromStyle"),d=u?u(e,{property:this,name:o,separator:c}):{};if(!u){var h=e[o];d=this.__getSplitValue(h||"",{byName:r}),s.forEach(function(v){var m=e[v.getName()],b=r?v.getName():v.getId();!(0,A.isUndefined)(m)&&m!==""&&(d[b]=m)})}return d},n.prototype.__setProperties=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.getProperties().forEach(function(o){var s=e[o.getId()];o.__getFullValue()!==s&&o.upValue(s,t)});var r=(0,A.keys)(e).map(function(o){return e[o]}).join(" ");this.set("value",r,{silent:!0})},n.prototype.clear=function(){var e=this;return this.getProperties().map(function(t){return t.clear({__clearIn:!e.isDetached()})}),rr.prototype.clear.call(this),this},n.prototype.hasValue=function(e){return this.getProperties().some(function(t){return t.hasValue(e)})},n.prototype.getFullValue=function(){return this.__getFullValue()},n.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},n}(rr),Ja=vM,mM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ln=function(){return Ln=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ln.apply(this,arguments)},yM=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},bM=/,(?![^\(]*\))/,_M=/\s(?![^(]*\))/,wM=function(i){mM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return Ln(Ln({},Ja.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},n.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Ja.callParentInit(Ja,this,e,t);var r=this.get("layers"),o=new Yc(r,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),Ja.callInit(this,e,t)},Object.defineProperty(n.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),n.prototype.getLayers=function(){return this.layers.models},n.prototype.hasLayers=function(){return this.getLayers().length>0},n.prototype.getLayer=function(e){return e===void 0&&(e=0),this.layers.at(e)||void 0},n.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},n.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},n.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t&&this.selectLayer(t)},n.prototype.moveLayer=function(e,t){t===void 0&&(t=0);var r=this.layers,o=e?e.getIndex():-1;o>=0&&(0,A.isNumber)(t)&&t>=0&&t<r.length&&o!==t&&(this.removeLayer(e),r.add(e,{at:t}))},n.prototype.addLayer=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r={};this.getProperties().forEach(function(s){var c=s.getId(),u=e[c];r[c]=(0,A.isUndefined)(u)?s.getDefaultValue():u});var o=this.layers.push({values:r},t);return o},n.prototype.removeLayer=function(e){return this.layers.remove(e)},n.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t?this.removeLayer(t):null},n.prototype.getLayerLabel=function(e){var t="";if(e){var r=this.get("layerLabel"),o=e.getValues(),s=e.getIndex();if(r)t=r(e,{index:s,values:o,property:this});else{var c=[];this.getProperties().map(function(u){c.push(o[u.getId()])}),t=c.filter(Boolean).join(" ")}}return t},n.prototype.getStyleFromLayer=function(e,t){var r;t===void 0&&(t={});var o=this.__getJoin(),s=this.__getJoinLayers(),c=this.get("toStyle"),u=this.getName(),d=e.getValues(),h;if(c)h=c(d,{join:o,joinLayers:s,name:u,layer:e,property:this});else{var v=this.getProperties().map(function(m){var b=m.getName(),w=d[m.getId()],C=(0,A.isUndefined)(w)?m.getDefaultValue():w;if(t.number&&i_(m.getType())){var T=m.parseValue(w,t.number);C="".concat(T.value).concat(T.unit)}return{name:b,value:C}});h=this.isDetached()?v.reduce(function(m,b){return m[b.name]=b.value,m},{}):(r={},r[this.getName()]=v.map(function(m){return m.value}).join(o),r)}return t.camelCase?Object.keys(h).reduce(function(m,b){return m[(0,Ee.camelCase)(b)]=h[b],m},{}):h},n.prototype.getStylePreview=function(e,t){t===void 0&&(t={});var r={},o=this.get("preview");return o&&(r=this.getStyleFromLayer(e,t)),r},n.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,A.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},n.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},n.prototype.__upProperties=function(e,t){var r;t===void 0&&(t={});var o=this.getSelectedLayer();o&&(o.upValues((r={},r[e.getId()]=e.__getFullValue(),r)),!t.__up&&this.__upTargetsStyleProps(t))},n.prototype.__upLayers=function(e,t,r){this.__upTargetsStyleProps(r||t)},n.prototype.__upTargets=function(e,t){if(t===void 0&&(t={}),!t.__select)return rr.prototype.__upTargets.call(this,e,t)},n.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(e),e)},n.prototype.__upTargetsStyle=function(e,t){return rr.prototype.__upTargetsStyle.call(this,e,t)},n.prototype.__upSelected=function(e,t){var r=e===void 0?{}:e,o=r.noEvent;t===void 0&&(t={});var s=this.em.Styles,c=this.getSelectedLayer(),u=c?.getValues();u&&this.getProperties().forEach(function(d){var h,v=(h=u[d.getId()])!==null&&h!==void 0?h:"";d.__getFullValue()!==v&&d.upValue(v,Ln(Ln({},t),{__up:!0}))}),!o&&s.__trgEv(s.events.layerSelect,{property:this})},n.prototype._up=function(e,t){t===void 0&&(t={});var r=e.__layers,o=r===void 0?[]:r,s=yM(e,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},t),rr.prototype._up.call(this,s,t),this},n.prototype.__setLayers=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var r=this.layers,o=e.map(function(s){return{values:s}});r.length===o.length?o.map(function(s,c){var u;return(u=r.at(c))===null||u===void 0?void 0:u.upValues(s.values)}):r.reset(o),this.set({isEmptyValue:!!t.isEmptyValue}),this.__upSelected({noEvent:!0})},n.prototype.__parseValue=function(e){var t=this,r=this.parseValue(e);return r.__layers=e.split(bM).map(function(o){return o.trim()}).map(function(o){return t.__parseLayer(o)}).filter(Boolean),r},n.prototype.__parseLayer=function(e){var t=this.get("parseLayer"),r=e.split(_M),o=this.getProperties();return t?t({value:e,values:r}):o.reduce(function(s,c,u){var d=r[u];return s[c.getId()]=(0,A.isUndefined)(d)?c.getDefaultValue():d,s},{})},n.prototype.__getLayersFromStyle=function(e){var t=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;if(this.isEmptyValueStyle(e))return[];var r=this.getName(),o=this.getProperties(),s=this.getLayerSeparator(),c=this.attributes.fromStyle,u=c?c(e,{property:this,name:r,separatorLayers:s}):[];if(!c){var d=this.__splitStyleName(e,r,s).map(function(h){return h.split(t.getSplitSeparator())}).map(function(h){var v={};return o.forEach(function(m,b){var w=h[b];v[m.getId()]=(0,A.isUndefined)(w)?m.getDefaultValue():w}),v});o.forEach(function(h){var v=h.getId();t.__splitStyleName(e,h.getName(),s).map(function(m){var b;return b={},b[v]=m||h.getDefaultValue(),b}).forEach(function(m,b){d[b]=d[b]?Ln(Ln({},d[b]),m):m})}),u=d}return(0,A.isArray)(u)?u:[u]},n.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},n.prototype.getStyleFromLayers=function(e){var t=this;e===void 0&&(e={});var r={},o=this.getName(),s=this.getLayers(),c=this.getProperties(),u=s.map(function(h){return t.getStyleFromLayer(h,e)});if(u.forEach(function(h){(0,A.keys)(h).map(function(v){r[v]||(r[v]=[]),r[v].push(h[v])})}),(0,A.keys)(r).map(function(h){r[h]=r[h].join(t.__getJoinLayers())}),this.isDetached())r[o]="",!s.length&&c.map(function(h){r[h.getName()]=""});else{var d=c.reduce(function(h,v){return h[v.getName()]="",h},{});r[o]=r[o]||"",r=Ln(Ln({},r),d)}return Ln(Ln({},r),e.__clear?{}:this.getEmptyValueStyle())},n.prototype.isEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.getEmptyValueStyle({force:!0}),r=(0,A.keys)(t);return!!r.length&&r.every(function(o){return t[o]===e[o]})},n.prototype.getEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.attributes.emptyValue;if(t&&(!this.hasLayers()||e.force)){var r=this.getName(),o=this.getProperties(),s=(0,A.isString)(t)?t:t({property:this});if((0,A.isString)(s)){var c={};return this.isDetached()?o.map(function(u){c[u.getName()]=s}):c[r]=s,c}else return s}else return{}},n.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),t=this.get("layerSeparator");return e||((0,A.isString)(t)?t:e)},n.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return jf(e[this.getName()])},n.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,r=t&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!r},n.prototype.clear=function(e){return e===void 0&&(e={}),this.layers.reset(),this.__upTargetsStyleProps(Ln(Ln({},e),{__clear:!0})),rr.prototype.clear.call(this),this},n.prototype.__canClearProp=function(){return!1},n.prototype.__getLayers=function(){return this.layers},n}(Ja),CM=wM,xM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ju=function(){return ju=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ju.apply(this,arguments)},SM=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},OM=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Df="data-clear-style",TM=function(i){xM(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;(0,A.bindAll)(t,"__change","__updateStyle");var r=e.config||{},o=r.em;t.config=r,t.em=o,t.pfx=r.stylePrefix||"",t.ppfx=r.pStylePrefix||"",t.__destroyFn=t.destroy?t.destroy.bind(t):function(){};var s=t.model;s.view=t,t.onValueChange=(0,A.debounce)(t.onValueChange.bind(t),10),t.updateStatus=(0,A.debounce)(t.updateStatus.bind(t),0),t.listenTo(s,"destroy remove",t.remove),t.listenTo(s,"change:visible",t.updateVisibility),t.listenTo(s,"change:name change:className change:full",t.render),t.listenTo(s,"change:value",t.onValueChange),t.listenTo(s,"change:parentTarget",t.updateStatus),t.listenTo(o,"change:device",t.onValueChange);var c=t.init&&t.init.bind(t);return c&&c(),t}return n.prototype.events=function(){var e;return e={change:"inputValueChanged"},e["click [".concat(Df,"]")]="clear",e},n.prototype.template=function(e){var t=this,r=t.pfx,o=t.ppfx;return`
      <div class="`.concat(r,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},n.prototype.templateLabel=function(e){var t=this,r=t.pfx,o=t.em,s=e.parent,c=e.attributes,u=c.icon,d=u===void 0?"":u,h=c.info,v=h===void 0?"":h,m=o?.getConfig().icons,b=m?.close||"";return`
      <span class="`.concat(r,"icon ").concat(d,'" title="').concat(v,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(s?"":'<div class="'.concat(r,'clear" style="display: none" ').concat(Df,">").concat(b,"</div>"),`
    `)},n.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},n.prototype.remove=function(){var e=this;return je.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(t){return e[t]=null}),this.__destroyFn(this._getClbOpts()),this},n.prototype.updateStatus=function(){var e,t=this,r=t.model,o=t.pfx,s=t.ppfx,c=t.config,u="".concat(s,"four-color"),d="".concat(s,"color-warn"),h=this.$el.children(".".concat(o,"label")),v=this.getClearEl(),m=v?v.style:{};h.removeClass("".concat(u," ").concat(d)),m.display="none",r.hasValue({noParent:!0})&&c.highlightChanged?(h.addClass(u),c.clearProperties&&(m.display="")):r.hasValue()&&c.highlightComputed&&h.addClass(d),(e=this.parent)===null||e===void 0||e.updateStatus()},n.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},n.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Df,"]"))),this.clearEl},n.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),!this.emit&&this.model.upValue(e.target.value)},n.prototype.onValueChange=function(e,t,r){r===void 0&&(r={}),this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},n.prototype.setValue=function(e){var t=this.model,r=(0,A.isUndefined)(e)||e===""?t.getDefaultValue():e;if(this.update)return this.__update(r);this.__setValueInput(r)},n.prototype.__setValueInput=function(e){var t=this.getInputEl();t&&(t.value=e)},n.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},n.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},n.prototype.__update=function(e){var t=this.update&&this.update.bind(this);t&&t(ju(ju({},this._getClbOpts()),{value:e}))},n.prototype.__change=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.emit&&this.emit.bind(this);r&&r.apply(void 0,OM([this._getClbOpts()],e,!1))},n.prototype.__updateStyle=function(e,t){t===void 0&&(t={});var r=t.complete,o=t.partial,s=SM(t,["complete","partial"]),c=this.model,u=r!==!1&&o!==!0;(0,Ee.isObject)(e)?c.__upTargetsStyle(e,{avoidStore:!u}):c.upValue(e,{partial:!u})},n.prototype._getClbOpts=function(){var e=this,t=e.model,r=e.el,o=e.createdEl;return{el:r,createdEl:o,property:t,props:t.attributes,change:this.__change,updateStyle:this.__updateStyle}},n.prototype.render=function(){this.clearCached();var e=this,t=e.pfx,r=e.model,o=e.el,s=e.$el,c=r.getName(),u=r.getType(),d=r.get("className")||"",h="".concat(t,"property"),v=u==="number"?"".concat(t).concat(u," ").concat(t,"integer"):"".concat(t).concat(u);this.createdEl&&this.__destroyFn(this._getClbOpts()),s.empty().append(this.template(r)),s.find("[data-sm-label]").append(this.templateLabel(r));var m=this.create&&this.create.bind(this);this.createdEl=m&&m(this._getClbOpts()),s.find("[data-sm-fields]").append(this.createdEl||this.templateInput(r)),o.className="".concat(h," ").concat(v," ").concat(h,"__").concat(c," ").concat(d).trim(),o.className+=r.isFull()?" ".concat(h,"--full"):"";var b=this.onRender&&this.onRender.bind(this);return b&&b(),this.setValue(r.getValue()),this},n.prototype.onRender=function(){},n}(je.Ss),oi=TM,kM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),EM=function(i){kM(n,i);function n(e){var t=i.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.properties=[],t.parent=e.parent;var r=t.collection;return t.listenTo(r,"add",t.addTo),t.listenTo(r,"reset",t.render),t}return n.prototype.addTo=function(e,t,r){this.add(e,null,r)},n.prototype.add=function(e,t,r){r===void 0&&(r={});var o=this,s=o.parent,c=o.config,u=t||this.el,d=new e.typeView({model:e,config:c});s&&(d.parent=s),d.render();var h=d.el;this.properties.push(d),(0,Ue.Sc)(u,h,r.at)},n.prototype.remove=function(){return je.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},n.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},n.prototype.render=function(){var e=this,t=this,r=t.$el,o=t.pfx;this.clearItems();var s=document.createDocumentFragment();return this.collection.forEach(function(c){return e.add(c,s)}),r.empty(),r.append(s),r.attr("class","".concat(o,"properties")),this},n}(je.Ss),wp=EM,PM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bu=function(){return Bu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Bu.apply(this,arguments)},AM=function(i){PM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},n.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),oi.prototype.remove.apply(this,arguments),this},n.prototype.onValueChange=function(){},n.prototype.onRender=function(){var e=this.pfx,t=this.model,r=t.get("properties");if(r.length&&!this.props){var o=t.isDetached(),s=new wp({config:Bu(Bu({},this.config),{highlightComputed:o,highlightChanged:o}),collection:r,parent:this});s.render(),this.$el.find("#".concat(e,"input-holder")).append(s.el),this.props=s}},n.prototype.clearCached=function(){oi.prototype.clearCached.apply(this,arguments),delete this.props},n}(oi),al=AM,DM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),MM=function(i){DM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},n.prototype.template=function(){var e=this,t=e.pfx,r=e.ppfx,o=e.em,s=o?.getConfig().icons,c=s?.close||"",u=s?.move||"";return`
      <div class="`.concat(t,`label-wrp">
        <div id="`).concat(t,'move" class="').concat(r,`no-touch-actions" data-move-layer>
          `).concat(u,`
        </div>
        <div id="`).concat(t,`label" data-label></div>
        <div id="`).concat(t,'preview-box" class="').concat(t,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(t,'preview" class="').concat(t,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(t,'close-layer" class="').concat(t,`btn-close" data-close-layer>
          `).concat(c,`
        </div>
      </div>
      <div id="`).concat(t,`inputs" data-properties></div>
    `)},n.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,r=e.config||{};this.em=r.em,this.config=r,this.sorter=e.sorter,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.propertyView=e.propertyView;var o=this.propertyView.model;this.listenTo(t,"destroy remove",this.remove),this.listenTo(t,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),t.view=this,t.set({droppable:0,draggable:1}),this.$el.data("model",t)},n.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort([{element:this.el}])},n.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},n.prototype.select=function(){this.model.select()},n.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},n.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},n.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},n.prototype.updateLabel=function(){var e=this.model,t=e.getLabel();if(this.getLabelEl().innerHTML=t,e.hasPreview()){var r=this.getPreviewEl(),o=e.getStylePreview({number:{min:-3,max:3}}),s=(0,A.keys)(o).map(function(c){return"".concat(c,":").concat(o[c])}).join(";");r.setAttribute("style",s)}},n.prototype.updateVisibility=function(){var e,t=this,r=t.pfx,o=t.model,s=t.propertyView,c=this.getPropertiesWrapper(),u=o.isSelected();c.style.display=u?"":"none",this.$el[u?"addClass":"removeClass"]("".concat(r,"active")),u&&c.appendChild((e=s.props)===null||e===void 0?void 0:e.el)},n.prototype.render=function(){var e=this,t=e.el,r=e.pfx,o=e.model;return t.innerHTML=this.template(),t.className="".concat(r,"layer"),o.hasPreview()&&(t.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},n}(je.Ss),LM=MM,RM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),IM=function(i){RM(n,i);function n(e){var t=i.call(this,e)||this,r=t.collection,o=e.config||{},s=o.em,c=o.stylePrefix||"",u=o.pStylePrefix||"";t.config=o,t.pfx=c,t.ppfx=u,t.propertyView=e.propertyView,t.className="".concat(c,"layers ").concat(u,"field"),t.listenTo(r,"add",t.addTo),t.listenTo(r,"reset",t.reset),t.items=[];var d=t.createPlaceholder(o.pStylePrefix);t.$el.append(d);var h=s?.Utils;return t.sorter=h?new h.StyleManagerSorter({em:s,containerContext:{container:t.el,containerSel:".".concat(c,"layers"),itemSel:".".concat(c,"layer"),pfx:o.pStylePrefix,document,placeholderElement:d},dragBehavior:{dragDirection:va.A.Vertical,nested:!1}}):void 0,r.view=t,t.$el.data("model",r),t.$el.data("collection",r),t}return n.prototype.addTo=function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},n.prototype.addToCollection=function(e,t,r){var o=t||null,s=this,c=s.propertyView,u=s.config,d=s.sorter,h=s.$el,v=new LM({model:e,config:u,sorter:d,propertyView:c}),m=v.render().el;if(this.items.push(v),o)o.appendChild(m);else if(typeof r<"u"){var b="before";h.children().length===r&&(r--,b="after"),r<0?h.append(m):h.children().eq(r)[b](m)}else h.append(m);return m},n.prototype.reset=function(e,t){this.clearItems(),this.render()},n.prototype.remove=function(){return this.clearItems(),je.Ss.prototype.remove.apply(this,arguments),this},n.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},n.prototype.render=function(){var e=this,t=this.$el,r=document.createDocumentFragment();return t.empty(),this.collection.forEach(function(o){return e.addToCollection(o,r)}),t.append(r),t.attr("class",this.className),this},n.prototype.createPlaceholder=function(e){var t=document.createElement("div"),r=document.createElement("div");return this.el.parentNode,t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",r.className=e+"placeholder-int",t.appendChild(r),t},n}(je.Ss),NM=IM,FM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ds=function(){return ds=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ds.apply(this,arguments)},jM=function(i){FM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return ds(ds({},al.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},n.prototype.templateInput=function(){var e=this,t=e.pfx,r=e.em,o=r?.getConfig().icons,s=o?.plus||"+";return`
      <div class="`.concat(t,"field ").concat(t,`stack">
        <button type="button" id="`).concat(t,`add" data-add-layer>
          `).concat(s,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},n.prototype.init=function(){var e=this.model;this.listenTo(e.layers,"change reset",this.updateStatus),this.listenTo(e,"change:isEmptyValue",this.updateStatus)},n.prototype.addLayer=function(){this.model.addLayer({},{at:0})},n.prototype.setValue=function(){},n.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),al.prototype.remove.apply(this,arguments),this},n.prototype.clearCached=function(){al.prototype.clearCached.apply(this,arguments),delete this.layersView},n.prototype.onRender=function(){var e=this,t=e.model,r=e.el,o=e.config,s=t.get("properties");if(s.length&&!this.props){var c=new wp({config:ds(ds({},o),{highlightComputed:!1,highlightChanged:!1}),collection:s,parent:this});c.render();var u=new NM({collection:t.layers,config:o,propertyView:this});u.render();var d=r.querySelector("[data-layers-wrapper]");d.appendChild(u.el),this.props=c,this.layersView=u}},n}(al),BM=jM,VM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vu=function(){return Vu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Vu.apply(this,arguments)},HM=function(i){VM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return Vu(Vu({},oi.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},n.prototype.templateInput=function(){var e,t=this,r=t.pfx,o=t.em,s=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,c=s?.close;return`
      <div class="`.concat(r,"field ").concat(r,`file">
        <div id='`).concat(r,`input-holder'>
          <div class="`).concat(r,`btn-c">
            <button class="`).concat(r,'btn" id="').concat(r,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`preview-file" data-preview-box>
          <div id="`).concat(r,'preview-file" class="').concat(r,`preview-file-cnt" data-preview></div>
          <div id="`).concat(r,'close" class="').concat(r,'preview-file-close" data-clear-asset>').concat(c,`</div>
        </div>
      </div>
    `)},n.prototype.__setValueInput=function(e){var t=this,r=t.model,o=t.el,s=r.getDefaultValue(),c=o.querySelector("[data-preview-box]"),u=o.querySelector("[data-preview]");c.style.display=!e||e===s?"none":"",u.style.backgroundImage=e||r.getDefaultValue()},n.prototype.openAssetManager=function(){var e=this,t,r=(t=this.em)===null||t===void 0?void 0:t.Assets;r?.open({select:function(o,s){var c=(0,A.isString)(o)?o:o.get("src");e.model.upValue(c,{partial:!s}),s&&r.close()},types:["image"],accept:"image/*"})},n}(oi),WM=HM,zM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),UM=function(i){zM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(e){return""},n.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},n.prototype.setValue=function(e){},n.prototype.onRender=function(){var e=this,t=e.ppfx,r=e.model,o=e.el;if(!this.inputInst){var s=r.input;s.ppfx=t,s.render();var c=o.querySelector(".".concat(t,"fields"));c.appendChild(s.el),this.input=s.inputEl.get(0),this.inputInst=s}},n.prototype.clearCached=function(){oi.prototype.clearCached.apply(this,arguments),this.inputInst=null},n}(oi),ni=UM,$M=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),KM=function(i){$M(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.setValue=function(e){var t;(t=this.inputInst)===null||t===void 0||t.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},n.prototype.remove=function(){var e=this;ni.prototype.remove.apply(this,arguments);var t=this.inputInst;return t&&t.remove&&t.remove(),["inputInst","$color"].forEach(function(r){return e[r]=null}),this},n.prototype.__handleChange=function(e,t){this.model.upValue(e,{partial:t})},n.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var t=this,r=t.ppfx,o=t.model,s=t.em,c=t.el,u=new Eb({target:s,model:o,ppfx:r,onChange:this.__handleChange}),d=u.render();c.querySelector(".".concat(r,"fields")).appendChild(d.el),this.input=(e=d.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=d}},n}(ni),GM=KM,YM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hu=function(){return Hu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Hu.apply(this,arguments)},g0=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},qM=function(i){YM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return Hu(Hu({},rr.getDefaults()),{options:[],full:0})},n.prototype.getOptions=function(){var e=this.attributes,t=e.options,r=e.list;return(t&&t.length?t:r)||[]},n.prototype.getOption=function(e){var t=this,r=(0,Ee.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(o){return t.getOptionId(o)===r})[0]||null},n.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},n.prototype.addOption=function(e){if(e){var t=this.getOptions();this.setOptions(g0(g0([],t,!0),[e],!1))}return this},n.prototype.getOptionId=function(e){return(0,Ee.isDef)(e.id)?e.id:e.value},n.prototype.getOptionLabel=function(e,t){var r;t===void 0&&(t={});var o=t.locale,s=o===void 0?!0:o,c=((0,A.isString)(e)?this.getOption(e):e)||{},u=this.getOptionId(c),d=c.label||c.name||u,h=t.property||this.getId();return s&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.options.".concat(h,".").concat(u)))||d},n.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];rr.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},n.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},n}(rr),op=qM,XM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ZM=function(i){XM(n,i);function n(e){var t=i.call(this,e)||this;return t.listenTo(t.model,"change:options",t.updateOptions),t}return n.prototype.templateInput=function(){var e=this,t=e.pfx,r=e.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`select">
        <span id="`).concat(t,`input-holder"></span>
        <div class="`).concat(r,`sel-arrow">
          <div class="`).concat(r,`d-s-arrow"></div>
        </div>
      </div>
    `)},n.prototype.updateOptions=function(){delete this.input,this.onRender()},n.prototype.onRender=function(){var e=this.pfx,t=this.model,r=t.getOptions();if(!this.input){var o=[];r.forEach(function(c){var u=t.getOptionId(c),d=t.getOptionLabel(u),h=c.style?c.style.replace(/"/g,"&quot;"):"",v=h?'style="'.concat(h,'"'):"",m=u.replace(/"/g,"&quot;");o.push('<option value="'.concat(m,'" ').concat(v,">").concat(d,"</option>"))});var s=this.el.querySelector("#".concat(e,"input-holder"));s.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=s.firstChild}},n.prototype.__setValueInput=function(e){var t=this.model,r=this.getInputEl(),o=t.getOptions()[0],s=o?t.getOptionId(o):"";r&&(r.value=e||s)},n}(oi),a_=ZM,JM=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wu=function(){return Wu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Wu.apply(this,arguments)},QM=function(i){JM(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return Wu(Wu({},op.getDefaults()),{full:1})},n}(op),eL=QM,tL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rL=function(i){tL(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},n.prototype.onRender=function(){var e=this,t=e.pfx,r=e.ppfx,o=this.model,s="".concat(r,"radio-item-label"),c=o.getName(),u=o.getOptions(),d="".concat(t,"radio ").concat(t,"radio-").concat(c),h=o.cid;if(!this.input){var v=[];u.forEach(function(b){var w=b.className?"".concat(b.className," ").concat(t,"icon ").concat(s):"",C=o.getOptionId(b),T="".concat(c,"-").concat(C,"-").concat(h),I=w?"":o.getOptionLabel(C),W=b.title?'title="'.concat(b.title,'"'):"",j=o.getValue()===C?"checked":"";v.push(`
          <div class="`.concat(r,`radio-item">
            <input type="radio" class="`).concat(d,'" id="').concat(T,'" name="').concat(c,"-").concat(h,'" value="').concat(C,'" ').concat(j,`/>
            <label class="`).concat(w||s,'" ').concat(W,' for="').concat(T,'">').concat(I,`</label>
          </div>
        `))});var m=this.el.querySelector(".".concat(r,"field"));m.innerHTML='<div class="'.concat(r,'radio-items">').concat(v.join(""),"</div>"),this.input=m.firstChild}},n.prototype.__setValueInput=function(e){var t,r=this.model,o=e||r.getDefaultValue(),s=(t=this.getInputEl())===null||t===void 0?void 0:t.querySelector('[value="'.concat(o,'"]'));s&&(s.checked=!0)},n}(a_),nL=rL,oL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),da=function(){return da=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},da.apply(this,arguments)},iL=function(i){oL(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return da(da({},rr.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},n.prototype.getUnits=function(){return this.get("units")||[]},n.prototype.getUnit=function(){return this.get("unit")},n.prototype.getMin=function(){return this.get("min")},n.prototype.getMax=function(){return this.get("max")},n.prototype.getStep=function(){return this.get("step")},n.prototype.upUnit=function(e,t){return t===void 0&&(t={}),this._up({unit:e},t)},n.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),rr.callParentInit(rr,this,e,t);var r=this.get("unit"),o=this.getUnits();this.input=(0,Ee.hasWin)()?new Ab({model:this}):void 0,o.length&&!r&&this.set("unit",o[0],{silent:!0}),rr.callInit(this,e,t)},n.prototype.__getClearProps=function(){return da(da({},rr.prototype.__getClearProps()),{unit:""})},n.prototype.parseValue=function(e,t){t===void 0&&(t={});var r=rr.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(r.value,da({deepCheck:1},t)),s=o.value,c=o.unit;return r.value=s,r.unit=c,r},n.prototype.getFullValue=function(){var e=this.get("value"),t=this.get("unit"),r=(0,A.isUndefined)(e)?"":"".concat(e),o=!(0,A.isUndefined)(t)&&r?t:"",s="".concat(r).concat(o);return rr.prototype.getFullValue.apply(this,[s])},n}(rr),zu=iL,aL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Uu=function(){return Uu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Uu.apply(this,arguments)},sL=function(i){aL(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return Uu(Uu({},zu.getDefaults()),{showInput:1})},n}(zu),lL=sL,cL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$u=function(){return $u=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},$u.apply(this,arguments)},uL=function(i){cL(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return $u($u({},ni.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},n.prototype.templateInput=function(e){var t=this.ppfx;return`
      <div class="`.concat(t,"field ").concat(t,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},n.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},n.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},n.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},n.prototype.setValue=function(e){var t=this.model,r=t.parseValue(e);this.getSliderEl().value=e===""?t.getDefaultValue():parseFloat(r.value),ni.prototype.setValue.apply(this,arguments)},n.prototype.onRender=function(){ni.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},n.prototype.clearCached=function(){ni.prototype.clearCached.apply(this,arguments),delete this.slider},n}(ni),dL=uL,fL=je.pM.extend(Hb),pL=fL.extend({extendViewApi:1,init:function(){var i=this,n=i.opts,e=i.em,t=n.module||e?.get("StyleManager");t&&(t.__listenAdd(this,t.events.propertyAdd),t.__listenRemove(this,t.events.propertyRemove))},types:[{id:"stack",model:CM,view:BM,isType:function(i){if(i&&i.type=="stack")return i}},{id:"composite",model:Ja,view:al,isType:function(i){if(i&&i.type=="composite")return i}},{id:"file",model:rr,view:WM,isType:function(i){if(i&&i.type=="file")return i}},{id:"color",model:rr,view:GM,isType:function(i){if(i&&i.type=="color")return i}},{id:"select",model:op,view:a_,isType:function(i){if(i&&i.type=="select")return i}},{id:"radio",model:eL,view:nL,isType:function(i){if(i&&i.type=="radio")return i}},{id:"slider",model:lL,view:dL,isType:function(i){if(i&&i.type=="slider")return i}},{id:"integer",model:zu,view:ni,isType:function(i){if(i&&i.type=="integer")return i}},{id:"number",model:zu,view:ni,isType:function(i){if(i&&i.type=="number")return i}},{id:"base",model:rr,view:oi,isType:function(i){return i.type="base",i}}]}),Cp=pL,hL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ku=function(){return Ku=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ku.apply(this,arguments)},gL=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},vL=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},mL=function(i){hL(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e)||this,o=t.em;r.em=o;var s=e||{},c=r.buildProperties(s.buildProps),u=r.get("name")||"",d=[];!r.get("id")&&r.set("id",u.replace(/ /g,"_").toLowerCase()),c?d=r.extendProperties(c):d=r.get("properties").map(function(v){return(0,A.isString)(v)?r.buildProperties(v)[0]:v}).filter(Boolean),d=d.map(function(v){return r.checkExtend(v)});var h=new Cp(d,{em:o});return h.sector=r,r.set("properties",h),r}return n.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.get("id")},n.prototype.getName=function(){var e,t=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(t)))||this.get("name")},n.prototype.setName=function(e){return this.set("name",e)},n.prototype.isOpen=function(){return!!this.get("open")},n.prototype.setOpen=function(e){return this.set("open",e)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.getProperties=function(e){e===void 0&&(e={});var t=this.properties,r=t.models?vL([],t.models,!0):t;return r.filter(function(o){var s=!0;if(e.withValue&&(s=o.hasValue({noParent:!0})),e.withParentValue){var c=o.hasValue({noParent:!0});s=!c&&o.hasValue()}return s})},n.prototype.getProperty=function(e){return this.getProperties().filter(function(t){return t.get("id")===e})[0]||void 0},n.prototype.addProperty=function(e,t){return this.properties.add(this.checkExtend(e),t)},n.prototype.extendProperties=function(e,t,r){r===void 0&&(r=!1);for(var o=e.length,s=t||this.get("properties"),c=this.get("extendBuilded"),u=[],d=0,h=s.length;d<h;d++){for(var v=s[d],m=0,b=0;b<o;b++){var w=e[b];if(v.property==w.property||v.id==w.property){var C=v.properties;C&&C.length&&(v.properties=this.extendProperties(w.properties||[],C,1)),e[b]=c?(0,A.extend)(w,v):v,u[b]=e[b],m=1;continue}}m||(e.push(v),u.push(v))}return r?u.filter(function(T){return T}):e},n.prototype.checkExtend=function(e){var t=((0,A.isString)(e)?{extend:e}:e)||{},r=t.extend,o=gL(t,["extend"]);return r?Ku(Ku({},this.buildProperties([r])[0]||{}),o):e},n.prototype.buildProperties=function(e){var t,r=e||[];if(!r.length)return[];var o=(t=this.em)===null||t===void 0?void 0:t.Styles.builtIn;return o?.build(r)},n}(je.Kx),s_=mL,yL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gu=function(){return Gu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Gu.apply(this,arguments)},bL=function(i){yL(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.initialize=function(e,t){t===void 0&&(t={});var r=t.module,o=t.em;this.em=o,this.module=r,this.listenTo(this,"reset",this.onReset)},n.prototype.model=function(e,t){t===void 0&&(t={});var r=t.collection.em;return new s_(e,Gu(Gu({},t),{em:r}))},n.prototype.onReset=function(e,t){t===void 0&&(t={});var r=t.previousModels||[];r.forEach(function(o){return o.get("properties").reset()})},n}(je.pM),_L=bL,Ni=function(){return Ni=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ni.apply(this,arguments)},wL=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},oa=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},jr=function(i){return i.map(function(n){return{id:n}})},CL=function(){function i(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var n=", sans-serif",e=["flex-start","flex-end","center"],t=oa(oa([],e,!0),["baseline","stretch"],!1);this.optsBgSize=jr(["auto","cover","contain"]),this.optsBgAttach=jr(["scroll","fixed","local"]),this.optsBgRepeat=jr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=jr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=jr(["visible","hidden","scroll","auto"]),this.optsDir=jr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=jr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=jr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=jr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=jr(["none","left","right"]),this.optsPos=jr(["static","relative","absolute","fixed"]),this.optsTextAlign=jr(["left","center","right","justify"]),this.optsFlexAlign=jr(t),this.optsJustCont=jr(oa(oa([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=jr(oa(oa([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=jr(oa(["auto"],t,!0)),this.optsTransitProp=jr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=jr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=jr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n].map(function(r){return{id:r,label:r.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return i.prototype.__sub=function(n){var e=this;return function(){return n.map(function(t){if((0,A.isString)(t))return e.get(t);var r=t.extend,o=wL(t,["extend"]);return Ni(Ni({},e.get(r)),o)})}},i.prototype.init=function(){var n=this,e=this,t=e.fixedValues,r=e.requireFlex,o=e.typeNumber;this.props={};var s=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:t},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:r},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:r}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:r},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:r},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(c,u){var d=u.values,h=d["box-shadow-h"],v=d["box-shadow-v"],m=d["box-shadow-blur"],b=d["box-shadow-spread"];return"".concat(h," ").concat(v," ").concat(m," ").concat(b)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(c,u){var d=u.values,h=d["text-shadow-h"],v=d["text-shadow-v"],m=d["text-shadow-blur"];return"".concat(h," ").concat(v," ").concat(m)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(c,u){var d=u.values,h=d["background-repeat-sub"]||"",v=d["background-position-sub"]||"",m=d["background-attachment-sub"]||"",b=d["background-size-sub"]||"";return[h,v,m,b].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(c,u){var d=u.property,h=u.name,v=c[h]||"",m=d.getLayerSeparator();return v?v.split(m).map(function(b){var w=d.__parseFn(b),C=w.name,T=w.value;return{"transform-type":C,"transform-value":T}}):[]},toStyle:function(c,u){var d,h=u.name;return d={},d[h]="".concat(c["transform-type"],"(").concat(c["transform-value"],")"),d},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(c){var u=c.property,d=c.to;if(d.value){var h=u.getOption(),v=Ni({},h.propValue||{}),m=u.getParent().getProperty("transform-value"),b=m.getUnit();(!b||v?.units.indexOf(b)<0)&&(v.unit=v?.units[0]||""),m.up(v)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return s.forEach(function(c){var u=c[0],d=c[1],h=c[2];n.add(u,d||{},{from:h})}),this},i.prototype.add=function(n,e,t){e===void 0&&(e={}),t===void 0&&(t={});var r=t.from||"",o=this.props[r||n]||{},s=Ni(Ni(Ni({},o),{property:n}),e);return s.properties&&(0,A.isFunction)(s.properties)&&(s.properties=s.properties()),this.props[n]=s,s},i.prototype.get=function(n){return this.props[n]},i.prototype.build=function(n){var e=this,t=[],r=(0,A.isString)(n)?[n]:n;return r.forEach(function(o){t.push(e.get(o)||{property:o})}),t},i}(),xL=CL,SL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),OL=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},TL=function(i){SL(n,i);function n(e){var t=i.call(this,e)||this,r=e.config||{},o=t.model,s=r.em;return t.config=r,t.em=s,t.pfx=r.stylePrefix||"",t.listenTo(o,"destroy remove",t.remove),t.listenTo(o,"change:open",t.updateOpen),t.listenTo(o,"change:visible",t.updateVisibility),t}return n.prototype.template=function(e){var t,r=e.pfx,o=e.label,s=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,c=s?.caret||"",u="".concat(r,"sector-");return Nn(v0||(v0=OL([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),u,u,c,u,o)},n.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},n.prototype.updateOpen=function(){var e=this,t=e.$el,r=e.model,o=e.pfx,s=r.isOpen();t[s?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=s?"":"none"},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.getPropertiesEl=function(){var e=this,t=e.$el,r=e.pfx;return t.find(".".concat(r,"properties")).get(0)},n.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},n.prototype.renderProperties=function(){var e=this,t=e.model,r=e.config,o=t.get("properties");if(o){var s=new wp({collection:o,config:r});this.$el.append(s.render().el)}},n.prototype.render=function(){var e=this,t=e.pfx,r=e.model,o=e.$el,s=r.getId(),c=r.getName();return o.html(this.template({pfx:t,label:c})),this.renderProperties(),o.attr("class","".concat(t,"sector ").concat(t,"sector__").concat(s," no-select")),this.updateOpen(),this},n}(je.Ss),kL=TL,v0,EL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),PL=function(i){EL(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this,r=e.module,o=e.config,s=t.collection;return t.pfx=o?.stylePrefix||"",t.ppfx=o?.pStylePrefix||"",t.config=o,t.module=r,t.listenTo(s,"add",t.addTo),t.listenTo(s,"reset",t.render),t}return n.prototype.remove=function(){var e=this;return je.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(t){return e[t]={}}),this},n.prototype.addTo=function(e,t,r){r===void 0&&(r={}),this.addToCollection(e,null,r)},n.prototype.addToCollection=function(e,t,r){r===void 0&&(r={});var o=this,s=o.config,c=o.el,u=t||c,d=new kL({model:e,config:s}).render().el;return(0,Ue.Sc)(u,d,r.at),d},n.prototype.render=function(){var e=this,t=this,r=t.$el,o=t.pfx,s=t.ppfx;r.empty();var c=document.createDocumentFragment();return this.collection.each(function(u){return e.addToCollection(u,c)}),r.append(c),r.addClass("".concat(o,"sectors ").concat(s,"one-bg ").concat(s,"two-color")),this},n}(je.Ss),AL=PL,DL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fi=function(){return Fi=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Fi.apply(this,arguments)},m0=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},l_="style",Tl="".concat(l_,":"),xp="".concat(Tl,"sector"),ML="".concat(xp,":add"),LL="".concat(xp,":remove"),RL="".concat(xp,":update"),Sp="".concat(Tl,"property"),IL="".concat(Sp,":add"),NL="".concat(Sp,":remove"),FL="".concat(Sp,":update"),c_="".concat(Tl,"layer:select"),ip="".concat(Tl,"target"),jL="".concat(Tl,"custom"),y0=function(i){return i||i===0},BL={all:l_,sectorAdd:ML,sectorRemove:LL,sectorUpdate:RL,propertyAdd:IL,propertyRemove:NL,propertyUpdate:FL,layerSelect:c_,target:ip,custom:jL},VL=function(i){DL(n,i);function n(e){var t=i.call(this,e,"StyleManager",new _L([],{em:e}),BL,fM())||this;t.Sector=s_,t.storageKey="",(0,A.bindAll)(t,"__clearStateTarget");var r=t.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),t.builtIn=new xL,t.properties=new Cp([],{em:e,module:t}),t.sectors=t.all;var s=new je.Kx({targets:[]});t.model=s;var c=ur.I.update,u="component:toggled ".concat(c,":classes change:state change:device frame:resized selector:type");t.upAll=(0,A.debounce)(function(){return t.__upSel()},0),s.listenTo(e,u,t.upAll),s.listenTo(e,"component:toggled",t.__clearStateTarget);var d=(0,A.debounce)(function(){t.__upProps(),t.__trgCustom()},0);s.listenTo(e,"styleable:change undo redo",d);var h=(0,A.debounce)(function(){return t.__trgCustom()},0);return s.listenTo(e,"".concat(c_," ").concat(ip),h),s.on("change:lastTarget",function(){return e.trigger(ip,t.getSelected())}),t}return n.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},n.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},n.prototype.__trgEv=function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];(t=this.em).trigger.apply(t,m0([e],r,!1))},n.prototype.__clearStateTarget=function(){var e=this,t=this.em,r=this.__getStateTarget();r&&t?.skip(function(){t.Css.remove(r),e.model.set({stateTarget:null})})},n.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},n.prototype.postRender=function(){this.__appendTo()},n.prototype.addSector=function(e,t,r){r===void 0&&(r={});var o=this.getSector(e);return o||(t.id=e,o=this.sectors.add(t,r)),o},n.prototype.getSector=function(e,t){t===void 0&&(t={});var r=this.sectors.where({id:e})[0];return!r&&t.warn&&this._logNoSector(e),r||null},n.prototype.getSectors=function(e){e===void 0&&(e={});var t=this.sectors,r=t&&t.models?e.array?m0([],t.models,!0):t:[];return e.visible?r.filter(function(o){return o.isVisible()}):r},n.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},n.prototype.addProperty=function(e,t,r){r===void 0&&(r={});var o=this.getSector(e,{warn:!0}),s;return o&&(s=o.addProperty(t,r)),s},n.prototype.getProperty=function(e,t){var r=this.getSector(e,{warn:!0}),o;return r&&(o=r.properties.filter(function(s){return s.get("property")===t||s.get("id")===t})[0]),o},n.prototype.getProperties=function(e){var t,r=this.getSector(e,{warn:!0});return r&&(t=r.properties),t},n.prototype.removeProperty=function(e,t){var r=this.getProperties(e);return r?r.remove(this.getProperty(e,t)):null},n.prototype.select=function(e,t){var r=this;t===void 0&&(t={});var o=this.em,s=(0,A.isArray)(e)?e:[e],c=t.stylable,u=o.Css,d=[];s.filter(Boolean).forEach(function(C){var T=C;if((0,A.isString)(C)){var I=u.getRule(C)||u.setRule(C);!(0,A.isUndefined)(c)&&I.set({stylable:c}),T=I}d.push(T)});var h=t.component||d.filter(function(C){return(0,Ee.isComponent)(C)}).reverse()[0];d=d.map(function(C){return r.getModelToStyle(C)});var v=o.getState(),m=d.slice().reverse()[0],b=this.getParentRules(m,{state:v,component:h}),w=this.__getStateTarget();return o.skip(function(){var C;if(v&&(!((C=m?.getState)===null||C===void 0)&&C.call(m))){var T=m.getStyle();w?w.setStyle(T):w=u.getAll().add({selectors:"gjs-selected",style:T,shallow:!0,important:!0})}else w&&(u.remove(w),w=void 0)}),this.model.set({targets:d,lastTarget:m,lastTargetParents:b,stateTarget:w,component:h}),this.__upProps(t),d},n.prototype.getSelected=function(){return this.model.get("lastTarget")},n.prototype.getSelectedAll=function(){return this.model.get("targets")},n.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},n.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},n.prototype.addStyleTargets=function(e,t){this.getSelectedAll().map(function(s){return s.addStyle(e,t)});var r=this.getSelected();r&&this.__emitCmpStyleUpdate(e);var o=this.__getStateTarget();r&&o?.setStyle(r.getStyle(),t)},n.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},n.prototype.getBuiltInAll=function(){return this.builtIn.props},n.prototype.addBuiltIn=function(e,t){return this.builtIn.add(e,t)},n.prototype.getModelToStyle=function(e,t){t===void 0&&(t={});var r=this.em,o=t.skipAdd;if(r&&e?.toHTML){var s=r.getConfig(),c=r.UndoManager,u=r.Css,d=r.Selectors,h=d?d.getConfig():{},v=s.devicePreviewMode?"":r.get("state"),m=e.get("classes"),b=m.getStyleable(),w=b.length,C=!h.componentFirst||t.useClasses,T={noCount:1},I={state:v,addOpts:T};c.skip(function(){var W;if(w&&C){var j=r.getCurrentMedia();W=u.get(b,v,j),!W&&!o&&(W=u.add(b,v,j,{},T))}else if(s.avoidInlineStyle){var z=e.getId();W=u.getIdRule(z,I),!W&&!o&&(W=u.setIdRule(z,{},I)),e.is("wrapper")&&W.set("wrapper",1,T)}W&&(e=W)})}return e},n.prototype.getParentRules=function(e,t){var r=t===void 0?{}:t,o=r.state,s=r.component,c=this.em,u=[];if(c&&e){var d=s,h=c.Css,v=c.CodeManager.getGenerator("css"),m=e.toHTML?e:e.getComponent(),b={array:!0},w=[],C=[],T=[],I=[],W=[],j=function(le){return le.length?h.getRules().filter(function(Y){var oe=Y.getSelectors().map(function(V){return V.getFullName()});return oe.length===0?!1:oe.every(function(V){return le.indexOf(V)>=0})}):[]},z=function(le){return le?h.getRules().filter(function(Y){return Y.selectorsToString()===le}):[]};if(m)w=h.getRules("#".concat(m.getId())),C=z(m.get("tagName")),I=d?j(d.getSelectors().getFullName(b)):[],W=I.concat(C).concat(w);else{w=d?h.getRules("#".concat(d.getId())):[],C=z(d?.get("tagName")||"");var ue=d?.getSelectors().getFullName(b)||[],ye=ue.filter(function(le){return e.getSelectors().getFullName(b).findIndex(function(Y){return Y===le})===-1});T=j(ye.concat(e.getSelectors().getFullName(b))),W=C.concat(w).concat(T)}var xe=W.filter(function(le){return(0,A.isUndefined)(o)?1:le.get("state")===o}).sort(v.sortRules).reverse();u=xe.slice(xe.indexOf(e)+1)}return u},n.prototype.addType=function(e,t){this.properties.addType(e,t)},n.prototype.getType=function(e){return this.properties.getType(e)},n.prototype.getTypes=function(){return this.properties.getTypes()},n.prototype.createType=function(e,t){var r=t===void 0?{}:t,o=r.model,s=o===void 0?{}:o,c=r.view,u=c===void 0?{}:c,d=this.config,h=this.getType(e);if(h)return new h.view(Fi({model:new h.model(s),config:d},u))},n.prototype.render=function(){var e=this,t=e.config,r=e.em,o=e.SectView,s=o&&o.el;return this.SectView=new AL({el:s,em:r,config:t,module:this,collection:this.sectors}),this.SectView.render().el},n.prototype._logNoSector=function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))},n.prototype.__emitCmpStyleUpdate=function(e,t){t===void 0&&(t={});var r=this.em;if(!e.__p){var o=this.getSelectedAll(),s=t.components||r.getSelectedAll(),c=Array.isArray(s)?s:[s],u=Fi({},e);delete u.__p,c.forEach(function(d){return!o.includes(d)&&d.__onStyleChange(u)})}},n.prototype.__upProps=function(e){var t=this;e===void 0&&(e={});var r=this.getSelected();if(r){var o=this.sectors,s=this.model.get("component"),c=this.getSelectedParents(),u=r.getStyle(),d=c.map(function(h){return{target:h,style:h.getStyle()}});o.map(function(h){h.getProperties().map(function(v){t.__upProp(v,u,d,e)})}),o.forEach(function(h){var v=h.getProperties();v.forEach(function(b){var w=b.__checkVisibility({target:r,component:s,sectors:o});b.set("visible",w)});var m=v.some(function(b){return b.isVisible()});h.set("visible",m)})}},n.prototype.__upProp=function(e,t,r,o){var s=this,c=e.getName(),u=t[c],d=y0(u),h=e.getType()==="stack",v=e.getType()==="composite",m=Fi(Fi({},o),{__up:!0}),b=!v&&!h,w=e,C=e,T=h?w.__getLayersFromStyle(t):[],I=v?C.__getPropsFromStyle(t):{},W=d?u:null,j=null;if(h&&T===null||v&&I===null){var z=h?"__getLayersFromStyle":"__getPropsFromStyle",ue=r.filter(function(oe){return w[z](oe.style)!==null})[0];if(ue){W=ue.style[c],j=ue.target;var ye=w[z](ue.style);h?T=ye:I=ye}}else if(!d){W=null;var ue=r.filter(function(V){return y0(V.style[c])})[0];ue&&(W=ue.style[c],j=ue.target)}if(e.__setParentTarget(j),b&&e.__getFullValue()!==W&&e.upValue(W,m),h&&w.__setLayers(T||[],{isEmptyValue:w.isEmptyValueStyle(t)}),v){var xe=C.getProperties();if(C.isDetached()){var le=C.__getPropsFromStyle(t,{byName:!0})||{},Y=r.map(function(oe){return Fi(Fi({},oe),{style:C.__getPropsFromStyle(oe.style,{byName:!0})||{}})});xe.map(function(oe){return s.__upProp(oe,le,Y,o)})}else C.__setProperties(I||{},m),C.getProperties().map(function(oe){return oe.__setParentTarget(j)})}},n.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(t){t.reset(),t.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},n}(si),HL=VL,WL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yu=function(){return Yu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Yu.apply(this,arguments)},zL=function(i){WL(n,i);function n(e,t){t===void 0&&(t={});var r,o=i.call(this,e,t)||this;return o.mutable=(r=e.mutable)!==null&&r!==void 0?r:!0,o.on("change",o.handleChange),o}return Object.defineProperty(n.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),n.prototype.handleChange=function(){var e=this,t=this.changedAttributes();(0,A.keys)(t).forEach(function(r){return e.triggerChange(r)})},n.prototype.getPath=function(e,t){t===void 0&&(t={});var r=this,o=r.dataSource,s=r.id,c=r.index,u=o.id,d=e?".".concat(e):"";return"".concat(u,".").concat(t.useIndex?c:s).concat(d)},n.prototype.getPaths=function(e){return[this.getPath(e),this.getPath(e,{useIndex:!0})]},n.prototype.triggerChange=function(e){var t=this,r=t.dataSource,o=t.em,s={dataSource:r,dataRecord:this},c=this.getPaths(e);c.forEach(function(u){return o.trigger("".concat(bl.path,":").concat(u),Yu(Yu({},s),{path:u}))})},n.prototype.set=function(e,t,r){var o=this,s,c;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var u=(c=(s=this.dataSource)===null||s===void 0?void 0:s.transformers)===null||c===void 0?void 0:c.onRecordSetValue,d=function(T,I,W){W===void 0&&(W={});var j=W?.avoidTransformers||!u?I:u({id:o.id,key:T,value:I});i.prototype.set.call(o,T,j,W),i.prototype.set.call(o,{__p:W.partial?!0:void 0},W)};if(typeof e=="object"&&e!==null)for(var h=e,v=0,m=Object.entries(h);v<m.length;v++){var b=m[v],w=b[0],C=b[1];d(w,C,t)}else d(e,t,r);return this},n}(je.Kx),UL=zL,$L=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u_=function(i){$L(n,i);function n(e,t){var r=i.call(this,e,t)||this;return r.dataSource=t.dataSource,r}return n}(je.pM),b0=u_;u_.prototype.model=UL;var KL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qu=function(){return qu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},qu.apply(this,arguments)},GL=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},YL=function(i){KL(n,i);function n(e,t){var r=i.call(this,qu(qu({},e),{records:[]}),t)||this,o=e.records,s=e.transformers;return r.transformers=s||{},o instanceof b0||r.set({records:new b0(o,{dataSource:r})}),r.listenTo(r.records,"add",r.onAdd),r.listenTo(r.records,je.e2,r.handleChanges),r}return n.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(n.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),n.prototype.onAdd=function(e){e.triggerChange()},n.prototype.addRecord=function(e,t){return this.records.add(e,t)},n.prototype.getRecord=function(e){return this.records.get(e)},n.prototype.getRecords=function(){var e=this;return GL([],this.records.models,!0).map(function(t){return e.getRecord(t.id)})},n.prototype.removeRecord=function(e,t){var r=this.getRecord(e);if(r?.mutable===!1&&!t?.dangerously)throw new Error("Cannot remove immutable record");return this.records.remove(e,t)},n.prototype.setRecords=function(e){var t=this;this.records.reset([],{silent:!0}),e.forEach(function(r){t.records.add(r)})},n.prototype.handleChanges=function(e,t,r){this.em.changesUp(r||t)},n}(je.Kx),qL=YL,XL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xu=function(){return Xu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Xu.apply(this,arguments)},ZL=function(i){XL(n,i);function n(e,t){var r=i.call(this,e,t)||this;return r.em=t,r.model=function(o,s){return s===void 0&&(s={}),new qL(o,Xu(Xu({},s),{em:t}))},r}return n}(je.pM),JL=ZL,QL=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),e2=function(i){QL(n,i);function n(e){var t=i.call(this,e,"DataSources",new JL([],e),bl)||this;return t.storageKey="dataSources",t.events=bl,Object.assign(t,qc.Events),t}return n.prototype.destroy=function(){},n.prototype.add=function(e,t){t===void 0&&(t={});var r=this.all;return e.id=e.id||this._createId(),r.add(e,t)},n.prototype.get=function(e){return this.all.get(e)},n.prototype.getValue=function(e,t){return(0,Ee.get)(this.getContext(),e,t)},n.prototype.getContext=function(){return this.all.reduce(function(e,t){return e[t.id]=t.records.reduce(function(r,o,s){var c=o;return r[c.id||s]=c.attributes,r},{}),e},{})},n.prototype.remove=function(e,t){return this.__remove(e,t)},n.prototype.fromPath=function(e){var t=[],r=(0,Ee.stringToPath)(e||""),o=r[0],s=r[1],c=r.slice(2),u=this.get(o),d=u?.records.get(s);return u&&t.push(u),d&&(t.push(d),c.length&&t.push(c.join("."))),t},n.prototype.store=function(){var e,t=[];return this.all.forEach(function(r){var o=r.get("skipFromStorage");o||t.push({id:r.id,name:r.get("name"),records:r.records.toJSON(),skipFromStorage:o})}),e={},e[this.storageKey]=t,e},n.prototype.load=function(e){return this.loadProjectData(e)},n.prototype.postLoad=function(){var e=this,t=e.em,r=e.all;t.listenTo(r,je.e2,function(o,s,c){return t.changesUp(c||s)})},n}(si),d_=e2,t2=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),on=function(){return on=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},on.apply(this,arguments)},Mf=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?o(h.value):r(h.value).then(c,u)}d((t=t.apply(i,n||[])).next())})},Lf=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,r&&(o=d[0]&2?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(i,e)}catch(h){d=[6,h],r=0}finally{t=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},r2=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},n2=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))};nx().$=Br.default;var o2=[xA,zP,VA,JD,iE,Tx,Vk,HL,Pk,ZA,UD,wD,uM,LE,oP,h1,YE,dk,d_],i2=[kP,qT,NP,LT,d_];ox({$:Br.default});var _0={debug:console.log,info:console.info,warning:console.warn,error:console.error},a2=function(i){t2(n,i);function n(e){e===void 0&&(e={});var t=i.call(this)||this;t.Model=je.Kx,t.Collection=je.pM,t.__skip=!1,t.defaultRunning=!1,t.destroyed=!1,t._config=e;var r=t.config;t.set("Config",e),t.set("modules",[]),t.set("toLoad",[]),t.set("storables",[]),t.set("selected",new sx),t.set("dmode",r.dragMode);var o=r.el,s=r.log,c=s===!0?(0,A.keys)(_0):(0,A.isArray)(s)?s:[];return(0,A.bindAll)(t,"initBaseColorPicker"),o&&r.fromElement&&(r.components=o.innerHTML),t.attrsOrig=o?(0,A.toArray)(o.attributes).reduce(function(u,d){return u[d.nodeName]=d.nodeValue,u},{}):"",r.components&&!r.pageManager&&(r.pageManager={pages:[{component:r.components}]}),o2.forEach(function(u){return t.loadModule(u)}),i2.forEach(function(u){return t.loadStorableModule(u)}),t.on("change:componentHovered",t.componentHovered,t),t.on("change:changesCount",t.updateChanges,t),t.on("change:readyLoad change:readyCanvas",t._checkReady,t),c.forEach(function(u){return t.listenLog(u)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(u){var d=u.from,h=u.to;t.listenTo(t,d,function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];t.trigger.apply(t,n2([h],v,!1)),t.logWarning("The event '".concat(d,"' is deprecated, replace it with '").concat(h,"'"))})}),t}return n.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(n.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),n.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},n.prototype.getContainer=function(){return this.config.el},n.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),_0[e])},Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"version",{get:function(){var e;return((e=this.config.grapesjs)===null||e===void 0?void 0:e.version)||""},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(e){var t=this.config;return(0,A.isUndefined)(e)?t:t[e]},n.prototype.loadOnStart=function(){var e=this,t=this.config,r=t.projectData,o=t.headless,s={initial:!0},c=this.Storage;this.toLoad.reverse().forEach(function(h){return h.onLoad()});var u=function(){e.modules.forEach(function(h){return h.postLoad&&h.postLoad(e)}),e.set("readyLoad",1)};o?(r&&this.loadData(r,s),u()):this._storageTimeout=setTimeout(function(){return Mf(e,void 0,void 0,function(){var h;return Lf(this,function(v){switch(v.label){case 0:return r?(this.loadData(r,s),[3,5]):[3,1];case 1:if(!c?.canAutoload())return[3,5];v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.load({},s)];case 3:return v.sent(),[3,5];case 4:return h=v.sent(),this.logError(h),[3,5];case 5:return u(),[2]}})})});var d=new n({noticeOnUnload:!1,storageManager:!1,undoManager:!1});d.set({isShallow:!0}),d.Pages.onLoad(),d.Canvas.postLoad(),this.set("shallow",d)},n.prototype.updateChanges=function(e,t,r){var o=this,s=this.Storage,c=this.getDirtyCount();r.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger(Ao.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=c?function(){return!0}:null),s.isAutosave()&&c>=s.getStepsBeforeSave()&&this.store().catch(function(u){return o.logError(u)})},n.prototype.loadModule=function(e){var t=new e(this);return this.set(t.name,t),t.onLoad&&this.toLoad.push(t),this.modules.push(t),t},n.prototype.loadStorableModule=function(e){var t=this.loadModule(e);return this.storables.push(t),t},n.prototype.init=function(e,t){t===void 0&&(t={}),this.destroyed&&(this.initialize(t),this.destroyed=!1),this.set("Editor",e)},n.prototype.getEditor=function(){return this.get("Editor")},n.prototype.handleUpdates=function(e,t,r){var o=this;r===void 0&&(r={}),!(this.__skip||r.temporary||r.noCount||r.avoidStore||r.partial||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var s=o.getDirtyCount()||0,c=r.unset,u=r2(r,["unset"]);o.set("changesCount",s+1,u)},0))},n.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},n.prototype.componentHovered=function(e,t,r){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,r),t&&this.trigger("component:hovered",t,r)},n.prototype.getSelected=function(){return this.selected.lastComponent()},n.prototype.getSelectedAll=function(){return this.selected.allComponents()},n.prototype.setSelected=function(e,t){var r=this;t===void 0&&(t={});var o=t.event,s=o&&(o.ctrlKey||o.metaKey),c=(o||{}).shiftKey,u=((0,A.isArray)(e)?e:[e]).map(function(m){var b,w;return((w=(b=m?.delegate)===null||b===void 0?void 0:b.select)===null||w===void 0?void 0:w.call(b,m))||m}).filter(Boolean),d=this.getSelectedAll(),h=this.getConfig().multipleSelection,v=(0,A.isArray)(e);(v||!e)&&this.removeSelected(d.filter(function(m){return!(0,A.contains)(u,m)})),u.forEach(function(m){if(m&&(r.trigger(ur.I.selectBefore,m,t),!m.get("selectable")||t.abort))if(t.useValid){for(var b=m.parent();b&&!b.get("selectable");)b=b.parent();m=b}else return;if(s&&h)return r.toggleSelected(m);if(c&&h){r.clearSelection(r.Canvas.getWindow());var w=m.collection,C=m.index(),T,I;if(r.getSelectedAll().forEach(function(W){var j=W.collection,z=W.index();j===w&&(z<C?T=(0,A.isUndefined)(T)?z:Math.max(T,z):z>C&&(I=(0,A.isUndefined)(I)?z:Math.min(I,z)))}),!(0,A.isUndefined)(T))for(;T!==C;)r.addSelected(w.at(T),t),T++;if(!(0,A.isUndefined)(I))for(;I!==C;)r.addSelected(w.at(I),t),I--;return r.addSelected(m,t)}!v&&r.removeSelected(d.filter(function(W){return W!==m})),r.addSelected(m,t)})},n.prototype.addSelected=function(e,t){var r=this;t===void 0&&(t={});var o=(0,A.isArray)(e)?e:[e];o.forEach(function(s){var c=r.selected;if(!(!s||!s.get("selectable")||s.parents().some(function(d){return c.hasComponent(d)}))){t.forceChange&&r.removeSelected(s,t);var u=c.allComponents().filter(function(d){return(0,A.contains)(d.parents(),s)});u.forEach(function(d){return r.removeSelected(d,t)}),c.addComponent(s,t),r.trigger(ur.I.select,s,t),r.Canvas.addSpot({type:po.F.Select,component:s})}})},n.prototype.removeSelected=function(e,t){var r=this;t===void 0&&(t={}),this.selected.removeComponent(e,t);var o=(0,A.isArray)(e)?e:[e];o.forEach(function(s){return r.Canvas.removeSpots({type:po.F.Select,component:s})})},n.prototype.toggleSelected=function(e,t){var r=this;t===void 0&&(t={});var o=(0,A.isArray)(e)?e:[e];o.forEach(function(s){r.selected.hasComponent(s)?r.removeSelected(s,t):r.addSelected(s,t)})},n.prototype.setHovered=function(e,t){var r=this;t===void 0&&(t={});var o=function(u,d){var h=r,v=h.config,m=h.Canvas,b=r.getHovered(),w=r.getSelectedAll(),C=po.F.Hover,T=po.F.Spacing;r.set("componentHovered",u||null,d),b&&(m.removeSpots({type:C,component:b}),m.removeSpots({type:T,component:b})),u&&(m.addSpot({type:C,component:u}),(!w.includes(u)||v.showOffsetsSelected)&&m.addSpot({type:T,component:u}))};if(!e)return o();var s="component:hover";if(t.forceChange&&o(),this.trigger("".concat(s,":before"),e,t),!e.get("hoverable"))if(t.useValid&&!t.abort){for(var c=e.parent();c&&!c.get("hoverable");)c=c.parent();e=c}else return;t.abort||(o(e,t),this.trigger(s,e,t))},n.prototype.getHovered=function(){return this.get("componentHovered")},n.prototype.setComponents=function(e,t){return t===void 0&&(t={}),this.Components.setComponents(e,t)},n.prototype.getComponents=function(){var e=this.Components,t=this.CodeManager;if(!(!e||!t)){var r=e.getComponents();return t.getCode(r,"json")}},n.prototype.setStyle=function(e,t){t===void 0&&(t={});var r=this.Css;return r.clear(t),r.getAll().add(e,t),this},n.prototype.addStyle=function(e,t){t===void 0&&(t={});var r=this.getStyle().add(e,t);return(0,A.isArray)(r)?r:[r]},n.prototype.getStyle=function(){return this.Css.getAll()},n.prototype.setState=function(e){return this.set("state",e),this},n.prototype.getState=function(){return this.get("state")||""},n.prototype.getHtml=function(e){e===void 0&&(e={});var t=this.config,r=t.optsHtml,o=t.jsInHtml?this.getJs(e):"",s=e.component||this.Components.getComponent(),c=s?this.CodeManager.getCode(s,"html",on(on({},r),e)):"";return c+=o?"<script>".concat(o,"<\/script>"):"",c},n.prototype.getCss=function(e){e===void 0&&(e={});var t=this.config,r=t.optsCss,o=e.avoidProtected,s=(0,A.isUndefined)(e.keepUnusedStyles)?t.keepUnusedStyles:e.keepUnusedStyles,c=this.Css,u=e.component||this.Components.getComponent(),d=o?"":t.protectedCss,h=u&&this.CodeManager.getCode(u,"css",on(on({cssc:c,keepUnusedStyles:s},r),e));return u?e.json?h:d+h:""},n.prototype.getJs=function(e){e===void 0&&(e={});var t=e.component||this.Components.getWrapper();return t?this.CodeManager.getCode(t,"js").trim():""},n.prototype.store=function(e){return Mf(this,void 0,void 0,function(){var t;return Lf(this,function(r){switch(r.label){case 0:return t=this.storeData(),[4,this.Storage.store(t,e)];case 1:return r.sent(),this.clearDirtyCount(),[2,t]}})})},n.prototype.load=function(e){return Mf(this,arguments,void 0,function(t,r){var o;return r===void 0&&(r={}),Lf(this,function(s){switch(s.label){case 0:return[4,this.Storage.load(t)];case 1:return o=s.sent(),this.loadData(o,r),[4,(0,Ee.wait)()];case 2:return s.sent(),r.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,o]}})})},n.prototype.storeData=function(){var e={},t=this.getEditing();return t&&t.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(r){e=on(on({},e),r.store(1))}),JSON.parse(JSON.stringify(e))},n.prototype.loadData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r=!1;return(0,Ee.isEmptyObj)(e)||(this.storables.forEach(function(o){return o.clear()}),this.storables.forEach(function(o){return o.load(e)}),r=!0),this.trigger(Ao.projectLoad,{project:e,loaded:r,initial:!!t.initial}),e},n.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},n.prototype.runDefault=function(e){e===void 0&&(e={});var t=this.get("Commands").get(this.config.defaultCommand);!t||this.defaultRunning||(t.stop(this,this,e),t.run(this,this,e),this.defaultRunning=!0)},n.prototype.stopDefault=function(e){e===void 0&&(e={});var t=this.get("Commands");if(t){var r=t.get(this.config.defaultCommand);!r||!this.defaultRunning||(r.stop(this,this,e),this.defaultRunning=!1)}},n.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.Canvas.refresh({spots:e.tools})},n.prototype.clearSelection=function(e){var t,r=e||window;(t=r.getSelection())===null||t===void 0||t.removeAllRanges()},n.prototype.getCurrentMedia=function(){var e=this.config,t=this.getDeviceModel(),r=e.mediaCondition,o=e.devicePreviewMode,s=t&&t.get("widthMedia");return t&&s&&!o?"(".concat(r,": ").concat(s,")"):""},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},n.prototype.getCurrentFrame=function(){return this.get("currentFrame")},n.prototype.getCurrentFrameModel=function(){var e;return(e=this.getCurrentFrame()||{})===null||e===void 0?void 0:e.model},n.prototype.getIcon=function(e){var t=this.config.icons||{};return t[e]||""},n.prototype.getDirtyCount=function(){return this.get("changesCount")},n.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},n.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},n.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},n.prototype.setDragMode=function(e){return this.set("dmode",e)},n.prototype.getDragMode=function(e){var t=e?.getDragMode()||this.get("dmode");return t||""},n.prototype.t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.get("I18n");return r?.t.apply(r,e)},n.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},n.prototype.destroyAll=function(){var e=this,t=this,r=t.config,o=t.view;this.trigger(Ao.destroy);var s=this.getEditor(),c=(r.grapesjs||{}).editors,u=c===void 0?[]:c,d=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),d?.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(h){return h.destroy()}),o?.remove&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(h){return e[h]={}}),u.splice(u.indexOf(s),1),(0,Ee.hasWin)()&&(0,Br.default)(r.el).empty().attr(this.attrsOrig),this.trigger(Ao.destroyed)},n.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},n.prototype.setEditing=function(e){return this.set("editing",e),this},n.prototype.isEditing=function(){return!!this.get("editing")},n.prototype.log=function(e,t){t===void 0&&(t={});var r=Ao.log,o=t.ns,s=t.level,c=s===void 0?"debug":s;if(this.trigger(r,e,t),c&&this.trigger("".concat(r,":").concat(c),e,t),o){var u="".concat(r,"-").concat(o);this.trigger(u,e,t),c&&this.trigger("".concat(u,":").concat(c),e,t)}},n.prototype.logInfo=function(e,t){this.log(e,on(on({},t),{level:"info"}))},n.prototype.logWarning=function(e,t){this.log(e,on(on({},t),{level:"warning"}))},n.prototype.logError=function(e,t){this.log(e,on(on({},t),{level:"error"}))},n.prototype.initBaseColorPicker=function(e,t){t===void 0&&(t={});var r=this.config,o=r.colorPicker,s=o===void 0?{}:o,c=r.el,u=r.stylePrefix;return(0,Br.default)(e).spectrum(on(on({containerClassName:"".concat(u,"one-bg ").concat(u,"two-color"),appendTo:c||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},t),s))},n.prototype.skip=function(e){this.__skip=!0;var t=this.UndoManager;t?t.skip(e):e(),this.__skip=!1},n.prototype.data=function(e,t,r){var o="_gjs-data";if(e[o]||(e[o]={}),(0,A.isUndefined)(r))return e[o][t];e[o][t]=r},n}(je.Kx),s2=a2;function l2(){return window.location.hostname}var c2=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u2=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?o(h.value):r(h.value).then(c,u)}d((t=t.apply(i,n||[])).next())})},d2=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,r&&(o=d[0]&2?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(i,e)}catch(h){d=[6,h],r=0}finally{t=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},f2=function(i){c2(n,i);function n(e){var t=i.call(this,{model:e})||this,r=e.Panels,o=e.UndoManager;return e.view=t,e.once("change:ready",function(){r.active(),r.disableButtons(),o.clear(),e.getConfig().telemetry&&t.sendTelemetryData().catch(function(){}),setTimeout(function(){e.trigger(Ao.load,e.Editor),e.clearDirtyCount()})}),t}return n.prototype.render=function(){var e=this,t=this,r=t.$el,o=t.model,s=o.Panels,c=o.Canvas,u=o.config,d=o.modules,h=u.stylePrefix,v=["".concat(h,"editor")];!u.customUI&&v.push("".concat(h,"one-bg ").concat(h,"two-color"));var m=(0,Br.default)(u.el||"body ".concat(u.container));u.cssIcons&&(0,Ee.appendStyles)(u.cssIcons,{unique:!0,prepand:!0}),r.empty(),u.width&&m.css("width",u.width),u.height&&m.css("height",u.height),r.append(c.render()),r.append(s.render());var b=o.shallow,w=b.Canvas.render();return w.style.display="none",r.append(w),r.attr("class",v.join(" ")),m.addClass("".concat(h,"editor-cont")).empty().append(r),d.forEach(function(C){var T;return(T=C.postRender)===null||T===void 0?void 0:T.call(C,e)}),this},n.prototype.sendTelemetryData=function(){return u2(this,void 0,void 0,function(){var e,t,r,o,s,c,u,d;return d2(this,function(h){switch(h.label){case 0:return e=l2(),e==="localhost"||e.includes("localhost")?[2]:(t="gjs_telemetry_sent_",r=this.model.version,o="".concat(t).concat(r),sessionStorage.getItem(o)?[2]:(s="https://app.grapesjs.com",[4,fetch("".concat(s,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:e,version:r})})]));case 1:return c=h.sent(),c.ok?[3,3]:(u=Error.bind,d="Failed to send telemetry data ".concat,[4,c.text()]);case 2:throw new(u.apply(Error,[void 0,d.apply("Failed to send telemetry data ",[h.sent()])]));case 3:return sessionStorage.setItem(o,"true"),Object.keys(sessionStorage).forEach(function(v){v.startsWith(t)&&v!==o&&sessionStorage.removeItem(v)}),this.trigger(Ao.telemetryInit),[2]}})})},n}(je.Ss),p2=f2,ml=function(){return ml=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ml.apply(this,arguments)},w0=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{d(t.next(h))}catch(v){s(v)}}function u(h){try{d(t.throw(h))}catch(v){s(v)}}function d(h){h.done?o(h.value):r(h.value).then(c,u)}d((t=t.apply(i,n||[])).next())})},C0=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(h){return u([d,h])}}function u(d){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(e=0)),e;)try{if(t=1,r&&(o=d[0]&2?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(i,e)}catch(h){d=[6,h],r=0}finally{t=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},h2=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},g2=function(){function i(n,e){n===void 0&&(n={}),e===void 0&&(e={});var t;this.events=Ao,this.html=Nn;var r=rx();this.config=ml(ml(ml({},r),n),{pStylePrefix:(t=n.stylePrefix)!==null&&t!==void 0?t:r.stylePrefix}),this.em=new s2(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(i.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),i.prototype.getConfig=function(n){return this.em.getConfig(n)},i.prototype.getHtml=function(n){return this.em.getHtml(n)},i.prototype.getCss=function(n){return this.em.getCss(n)},i.prototype.getJs=function(n){return this.em.getJs(n)},i.prototype.getComponents=function(){return this.Components.getComponents()},i.prototype.getWrapper=function(){return this.Components.getWrapper()},i.prototype.setComponents=function(n,e){return e===void 0&&(e={}),this.em.setComponents(n,e),this},i.prototype.addComponents=function(n,e){return this.getWrapper().append(n,e)},i.prototype.getStyle=function(){return this.em.Css.getAll()},i.prototype.setStyle=function(n,e){return e===void 0&&(e={}),this.em.setStyle(n,e),this},i.prototype.addStyle=function(n,e){return e===void 0&&(e={}),this.em.addStyle(n,e)},i.prototype.getSelected=function(){return this.em.getSelected()},i.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},i.prototype.getSelectedToStyle=function(){var n=this.em.getSelected();if(n)return this.StyleManager.getModelToStyle(n)},i.prototype.select=function(n,e){return this.em.setSelected(n,e),this},i.prototype.selectAdd=function(n){return this.em.addSelected(n),this},i.prototype.selectRemove=function(n){return this.em.removeSelected(n),this},i.prototype.selectToggle=function(n){return this.em.toggleSelected(n),this},i.prototype.getEditing=function(){return this.em.getEditing()},i.prototype.setDevice=function(n){return this.em.set("device",n),this},i.prototype.getDevice=function(){return this.em.get("device")},i.prototype.runCommand=function(n,e){return e===void 0&&(e={}),this.Commands.run(n,e)},i.prototype.stopCommand=function(n,e){return e===void 0&&(e={}),this.Commands.stop(n,e)},i.prototype.store=function(n){return w0(this,void 0,void 0,function(){return C0(this,function(e){switch(e.label){case 0:return[4,this.em.store(n)];case 1:return[2,e.sent()]}})})},i.prototype.load=function(n){return w0(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),C0(this,function(r){switch(r.label){case 0:return[4,this.em.load(e,t)];case 1:return[2,r.sent()]}})})},i.prototype.getProjectData=function(){return this.em.storeData()},i.prototype.loadProjectData=function(n){return this.em.loadData(n)},i.prototype.storeData=function(){return this.em.storeData()},i.prototype.loadData=function(n){return this.em.loadData(n)},i.prototype.getContainer=function(){return this.config.el},i.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},i.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},i.prototype.refresh=function(n){this.em.refreshCanvas(n)},i.prototype.setCustomRte=function(n){this.RichTextEditor.customRte=n},i.prototype.setCustomParserCss=function(n){return this.Parser.getConfig().parserCss=n,this},i.prototype.setDragMode=function(n){return this.em.setDragMode(n),this},i.prototype.log=function(n,e){return e===void 0&&(e={}),this.em.log(n,e),this},i.prototype.t=function(){for(var n,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.em).t.apply(n,e)},i.prototype.on=function(n,e){return this.em.on(n,e),this},i.prototype.once=function(n,e){return this.em.once(n,e),this},i.prototype.off=function(n,e){return this.em.off(n,e),this},i.prototype.trigger=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return this.em.trigger.apply(this.em,h2([n],e,!0)),this},i.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},i.prototype.getEl=function(){var n;return(n=this.editorView)===null||n===void 0?void 0:n.el},i.prototype.getModel=function(){return this.em},i.prototype.render=function(){var n;return(n=this.editorView)===null||n===void 0||n.remove(),this.editorView=new p2(this.em),this.editorView.render().el},i.prototype.onReady=function(n){this.em.get("ready")?n(this):this.em.on("load",n)},i}(),v2=g2,m2=function(i,n){var e=n.get(i);if(!e){var t=(0,Ee.getGlobal)()[i];e=t?.default||t}return e},f_=function(i,n){return(0,A.isString)(i)?m2(i,n):i?.default||i},p_=function(i,n){i.getModel().logWarning("Plugin ".concat(n," not found"),{context:"plugins",plugin:n})},y2=function(){function i(){this.plugins={}}return i.prototype.add=function(n,e){var t=this.get(n);return t||(this.plugins[n]=e,e)},i.prototype.get=function(n){return this.plugins[n]},i.prototype.getAll=function(){return this.plugins},i}(),b2=y2,_2=function(){var i=function(){for(var e,t=window.navigator.userAgent,r=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<r.length;o++){var s=r[o];if(e=s[1].exec(t),e)break}return!!e};if((0,Ee.hasWin)()&&i()){var n=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),n.apply(document.implementation,[e])}}},Zu=function(){return Zu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Zu.apply(this,arguments)};_2();var ap=new b2,x0=[],h_=function(i,n){var e=f_(i,ap);return function(t){e?e(t,n||{}):p_(t,i)}},g_={$:Br.default,editors:x0,plugins:ap,usePlugin:h_,version:"0.22.5",init:function(i){i===void 0&&(i={});var n=i.headless,e=i.container;if(!e&&!n)throw new Error("'container' is required");var t=Zu(Zu({autorender:!0,plugins:[],pluginsOpts:{}},i),{grapesjs:this,el:n?void 0:(0,A.isElement)(e)?e:document.querySelector(e)}),r=new v2(t,{$:Br.default}),o=r.getModel();return t.plugins.forEach(function(s){var c=f_(s,ap),u=t.pluginsOpts[s]||{};c?c(r,u):p_(r,s)}),o.loadOnStart(),t.autorender&&!n&&r.render(),x0.push(r),r}},w2=g_,v_=Ju.Ay,hB=Ju.I0,gB=Ju.nu;var od=class i{title="timeengine-spa";ngOnInit(){let n=v_.init({container:"#gjs",fromElement:!0,height:"100%",width:"auto"})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=er({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){e&1&&Xr(0,"router-outlet")},dependencies:[Og],encapsulation:2})};Sg(od,ay).catch(i=>console.error(i));
