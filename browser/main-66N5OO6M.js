import{o as xp,r as Sp}from"./chunk-TFOHZGLQ.js";import{a as mp,b as yp,d as _p,g as bp,h as wp}from"./chunk-PDODEVZE.js";import{l as Cp}from"./chunk-GSC63Y56.js";import{b as gp}from"./chunk-RKNKRETS.js";import{d as vp}from"./chunk-3MZDES6H.js";import{Ca as up,Fa as fp,Ja as dp,L as ep,N as tp,Q as rp,T as nu,U as np,V as op,a as Zd,ab as pp,b as Qd,da as ip,fa as ap,ia as sp,ra as lp,ua as cp,vb as hp}from"./chunk-LWO5DMJ3.js";var V0="@",N0=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=nu(ip);loadingSchedulerFn=nu(F0,{optional:!0});_engine;constructor(e,t,r,o,s){this.doc=e,this.delegate=t,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-MOFBSN7H.js").then(r=>r),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(r=>{throw new ep(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,t){let r=this.delegate.createRenderer(e,t);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new ou(r);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let c=s.createRenderer(e,t);o.use(c),this.scheduler??=this.injector.get(ap,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(t){fp()};static \u0275prov=tp({token:i,factory:i.\u0275fac})}return i})(),ou=class{delegate;replay=[];\u0275type=1;constructor(n){this.delegate=n}use(n){if(this.delegate=n,this.replay!==null){for(let e of this.replay)e(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,e){this.delegate.appendChild(n,e)}insertBefore(n,e,t,r){this.delegate.insertBefore(n,e,t,r)}removeChild(n,e,t){this.delegate.removeChild(n,e,t)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,t,r){this.delegate.setAttribute(n,e,t,r)}removeAttribute(n,e,t){this.delegate.removeAttribute(n,e,t)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,t,r){this.delegate.setStyle(n,e,t,r)}removeStyle(n,e,t){this.delegate.removeStyle(n,e,t)}setProperty(n,e,t){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(n,e,t)),this.delegate.setProperty(n,e,t)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,t,r){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(n,e,t,r)),this.delegate.listen(n,e,t,r)}shouldReplay(n){return this.replay!==null&&n.startsWith(V0)}},F0=new rp("");function Op(i="animations"){return cp("NgAsyncAnimations"),np([{provide:up,useFactory:(n,e,t)=>new N0(n,e,t,i),deps:[vp,mp,sp]},{provide:lp,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var kp={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}};var Tp={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}};var Pp={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}};var Ep={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var Ap={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}};var Dp={root:{borderRadius:"{content.border.radius}"}};var Mp={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}};var Lp={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}};var Rp={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}};var jp={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}};var Bp={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}};var Ip={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}};var Vp={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}};var Np={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}};var Fp={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}};var Hp={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}};var Up={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var Wp={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var zp={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}};var Kp={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}};var Gp={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}};var Yp={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}};var qp={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Xp={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}};var $p={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}};var Jp={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}};var Zp={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}};var Qp={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}};var eh={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}};var th={icon:{color:"{form.field.icon.color}"}};var rh={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}};var nh={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var oh={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var ih={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}};var ah={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}};var sh={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}};var lh={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}};var ch={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}};var uh={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}};var fh={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var dh={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}};var ph={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}};var hh={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var vh={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}};var gh={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var mh={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}};var yh={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}};var _h={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}};var bh={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var wh={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}};var xh={root:{outline:{width:"2px",color:"{content.background}"}}};var Ch={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}};var Sh={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}};var Oh={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}};var kh={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}};var Th={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var Ph={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}};var Eh={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}};var Ah={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}};var Dh={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}};var Mh={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}};var Lh={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}};var Rh={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}};var jh={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}};var Bh={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}};var Ih={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}};var Vh={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}};var Nh={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}};var Fh={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}};var Hh={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var Uh={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}};var Wh={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}};var zh={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}};var Kh={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var Gh={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var Yh={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var qh={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}};var Xh={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var $h={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var Jh={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}};var Zh={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}};var Qh={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}};var ev={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}};var tv={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}};var rv={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}};var nv={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}};var ov={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}};var iv={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var av={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};var sv=Qd(Zd({},Ap),{components:{accordion:kp,autocomplete:Tp,avatar:Pp,badge:Ep,blockui:Dp,breadcrumb:Mp,button:Lp,datepicker:Kp,card:Rp,carousel:jp,cascadeselect:Bp,checkbox:Ip,chip:Vp,colorpicker:Np,confirmdialog:Fp,confirmpopup:Hp,contextmenu:Up,dataview:zp,datatable:Wp,dialog:Gp,divider:Yp,dock:qp,drawer:Xp,editor:$p,fieldset:Jp,fileupload:Zp,iftalabel:rh,floatlabel:Qp,galleria:eh,iconfield:th,image:nh,imagecompare:oh,inlinemessage:ih,inplace:ah,inputchips:sh,inputgroup:lh,inputnumber:ch,inputotp:uh,inputtext:fh,knob:dh,listbox:ph,megamenu:hh,menu:vh,menubar:gh,message:mh,metergroup:yh,multiselect:_h,orderlist:bh,organizationchart:wh,overlaybadge:xh,popover:Ph,paginator:Ch,password:kh,panel:Sh,panelmenu:Oh,picklist:Th,progressbar:Eh,progressspinner:Ah,radiobutton:Dh,rating:Mh,scrollpanel:Rh,select:jh,selectbutton:Bh,skeleton:Ih,slider:Vh,speeddial:Nh,splitter:Hh,splitbutton:Fh,stepper:Uh,steps:Wh,tabmenu:zh,tabs:Kh,tabview:Gh,textarea:Xh,tieredmenu:$h,tag:Yh,terminal:qh,timeline:Jh,togglebutton:Qh,toggleswitch:ev,tree:nv,treeselect:ov,treetable:iv,toast:Zh,toolbar:tv,virtualscroller:av,tooltip:rv,ripple:Lh}});var lv=[{path:"",loadComponent:()=>import("./chunk-MPMMDO7T.js").then(i=>i.LandingPageComponent)},{path:"home",loadComponent:()=>import("./chunk-QWQOXIWQ.js").then(i=>i.HomeComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-BRED4I7Q.js").then(i=>i.DashboardComponent)},{path:"about",loadComponent:()=>import("./chunk-2IAVGSLS.js").then(i=>i.AboutComponent)},{path:"contact",loadComponent:()=>import("./chunk-Y5JWA2G3.js").then(i=>i.ContactComponent)},{path:"services",component:Sp,runGuardsAndResolvers:"always"},{path:"service/:title",loadComponent:()=>import("./chunk-WGC2XOHE.js").then(i=>i.ServiceDetailComponent)},{path:"**",redirectTo:""}];var cv={providers:[hp({eventCoalescing:!0}),bp(lv,wp()),Op(),xp({theme:{preset:sv}}),gp(),op(Cp)]};var H0={4729:(i,n,e)=>{var t,r,o;(function(s){r=[e(5706),e(4193)],t=s,o=typeof t=="function"?t.apply(n,r):t,o!==void 0&&(i.exports=o)})(function(s,c){var u=Array.prototype.slice;function f(q,ae,F){return F.length<=4?q.call(ae,F[0],F[1],F[2],F[3]):q.apply(ae,F)}function h(q,ae){return u.call(q,ae)}function g(q,ae){return q==null?!1:(s.isArray(ae)||(ae=h(arguments,1)),s.all(ae,function(F){return F in q}))}var m=function(){var q=!1,ae=-1;function F(){ae++,q=!0,s.defer(function(){q=!1})}return function(){return q||F(),ae}}();function _(){this.registeredObjects=[],this.cidIndexes=[]}_.prototype={isRegistered:function(q){return q&&q.cid?this.registeredObjects[q.cid]:s.contains(this.registeredObjects,q)},register:function(q){return this.isRegistered(q)?!1:(q&&q.cid?(this.registeredObjects[q.cid]=q,this.cidIndexes.push(q.cid)):this.registeredObjects.push(q),!0)},unregister:function(q){if(this.isRegistered(q)){if(q&&q.cid)delete this.registeredObjects[q.cid],this.cidIndexes.splice(s.indexOf(this.cidIndexes,q.cid),1);else{var ae=s.indexOf(this.registeredObjects,q);this.registeredObjects.splice(ae,1)}return!0}return!1},get:function(){return s.map(this.cidIndexes,function(q){return this.registeredObjects[q]},this).concat(this.registeredObjects)}};function w(q,ae,F,R){for(var U=0,H=ae.length,te;U<H;U++)if(te=ae[U],!!te){if(q==="on"){if(!R.objectRegistry.register(te))continue}else if(!R.objectRegistry.unregister(te))continue;s.isFunction(te[q])&&te[q]("all",F,R)}}function C(q,ae){var F=ae.type,R=ae.undoTypes,U=!R[F]||R[F][q];s.isFunction(U)&&U(ae.object,ae.before,ae.after,ae.options)}function T(q,ae,F,R,U){if(!(F.isCurrentlyUndoRedoing||q==="undo"&&F.pointer===-1||q==="redo"&&F.pointer===F.length-1)){F.isCurrentlyUndoRedoing=!0;var H,te,E=q==="undo";for(U?te=E&&F.pointer===F.length-1||!E&&F.pointer===-1?s.clone(F.models):u.apply(F.models,E?[0,F.pointer]:[F.pointer,F.length-1]):(H=F.at(E?F.pointer:F.pointer+1),te=R?F.where({magicFusionIndex:H.get("magicFusionIndex")}):[H]),F.pointer+=(E?-1:1)*te.length;H=E?te.pop():te.shift();)H[q]();F.isCurrentlyUndoRedoing=!1,ae.trigger(q,ae)}}function B(q,ae){var F=q.condition,R=typeof F;return R==="function"?!!f(F,q,ae):R==="boolean"?F:!0}function W(q,ae,F,R){if(q.track&&!q.isCurrentlyUndoRedoing&&ae in R&&B(R[ae],F)){var U=f(R[ae].on,R[ae],F),H;if(g(U,"object","before","after")){if(U.type=ae,U.magicFusionIndex=m(),U.undoTypes=R,q.pointer<q.length-1)for(var H=q.length-q.pointer-1;H--;)q.pop();q.pointer=q.length,q.add(U),q.length>q.maximumStackLength&&(q.shift(),q.pointer--)}}}var N={add:{undo:function(q,ae,F,R){q.remove(F,R)},redo:function(q,ae,F,R){R.index&&(R.at=R.index),q.add(F,R)},on:function(q,ae,F){return{object:ae,before:void 0,after:q,options:s.clone(F)}}},remove:{undo:function(q,ae,F,R){"index"in R&&(R.at=R.index),q.add(ae,R)},redo:function(q,ae,F,R){q.remove(ae,R)},on:function(q,ae,F){return{object:ae,before:q,after:void 0,options:s.clone(F)}}},change:{undo:function(q,ae,F,R){s.isEmpty(ae)?s.each(s.keys(F),q.unset,q):(q.set(ae),R&&R.unsetData&&R.unsetData.before&&R.unsetData.before.length&&s.each(R.unsetData.before,q.unset,q))},redo:function(q,ae,F,R){s.isEmpty(F)?s.each(s.keys(ae),q.unset,q):(q.set(F),R&&R.unsetData&&R.unsetData.after&&R.unsetData.after.length&&s.each(R.unsetData.after,q.unset,q))},on:function(q,ae){var F=q.changedAttributes(),R=s.keys(F),U=s.pick(q.previousAttributes(),R),H=s.keys(U),te=(ae||(ae={})).unsetData={after:[],before:[]};return R.length!=H.length&&(R.length>H.length?s.each(R,function(E){E in U||te.before.push(E)},this):s.each(H,function(E){E in F||te.after.push(E)})),{object:q,before:U,after:F,options:s.clone(ae)}}},reset:{undo:function(q,ae,F){q.reset(ae)},redo:function(q,ae,F){q.reset(F)},on:function(q,ae){return{object:q,before:ae.previousModels,after:s.clone(q.models)}}}};function z(){}z.prototype=N;function ue(q,ae,F,R){if(typeof ae=="object")return s.each(ae,function(U,H){q===2?ue(q,U,F,R):ue(q,H,U,F)});switch(q){case 0:g(F,"undo","redo","on")&&s.all(s.pick(F,"undo","redo","on"),s.isFunction)&&(R[ae]=F);break;case 1:R[ae]&&s.isObject(F)&&(R[ae]=s.extend({},R[ae],F));break;case 2:delete R[ae];break}return this}var _e=c.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(q){C("undo",this.attributes)},redo:function(q){C("redo",this.attributes)}}),Se=c.Collection.extend({model:_e,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(q){this.maximumStackLength=q}}),ce=c.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(q){this.stack=new Se,this.objectRegistry=new _,this.undoTypes=new z,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(ae,F){this.stack.setMaxLength(F)},this),q&&q.track&&this.startTracking(),q&&q.register&&(s.isArray(q.register)||s.isArguments(q.register)?f(this.register,this,q.register):this.register(q.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(q){W(this.stack,q,h(arguments,1),this.undoTypes)},register:function(){w("on",arguments,this._addToStack,this)},unregister:function(){w("off",arguments,this._addToStack,this)},unregisterAll:function(){f(this.unregister,this,this.objectRegistry.get())},undo:function(q){T("undo",this,this.stack,q)},undoAll:function(){T("undo",this,this.stack,!1,!0)},redo:function(q){T("redo",this,this.stack,q)},redoAll:function(){T("redo",this,this.stack,!1,!0)},isAvailable:function(q){var ae=this.stack,F=ae.length;switch(q){case"undo":return F>0&&ae.pointer>-1;case"redo":return F>0&&ae.pointer<F-1;default:return!1}},merge:function(q){for(var ae=s.isArray(q)?q:h(arguments),F;F=ae.pop();)F instanceof ce&&F.stack instanceof Se&&(F.stack=this.stack)},addUndoType:function(q,ae){ue(0,q,ae,this.undoTypes)},changeUndoType:function(q,ae){ue(1,q,ae,this.undoTypes)},removeUndoType:function(q){ue(2,q,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return s.extend(ce,{defaults:function(q){s.extend(ce.prototype.defaults,q)},addUndoType:function(q,ae){ue(0,q,ae,N)},changeUndoType:function(q,ae){ue(1,q,ae,N)},removeUndoType:function(q){ue(2,q,void 0,N)}}),c.UndoManager=ce})},4193:(i,n,e)=>{var t,r;(function(o){var s=typeof self=="object"&&self.self===self&&self||typeof e.g=="object"&&e.g.global===e.g&&e.g;if(1)t=[e(5706),e(6411),n],r=function(f,h,g){s.Backbone=o(s,g,f,h)}.apply(n,t),r!==void 0&&(i.exports=r);else var c,u})(function(o,s,c,u){var f=o.Backbone,h=Array.prototype.slice;s.VERSION="1.4.1",s.$=u,s.noConflict=function(){return o.Backbone=f,this},s.emulateHTTP=!1,s.emulateJSON=!1;var g=s.Events={},m=/\s+/,_,w=function(k,I,Y,ie,ge){var K=0,fe;if(Y&&typeof Y=="object")for(ie!==void 0&&("context"in ge)&&ge.context===void 0&&(ge.context=ie),fe=c.keys(Y);K<fe.length;K++)I=w(k,I,fe[K],Y[fe[K]],ge);else if(Y&&m.test(Y))for(fe=Y.split(m);K<fe.length;K++)I=k(I,fe[K],ie,ge);else I=k(I,Y,ie,ge);return I};g.on=function(k,I,Y){if(this._events=w(C,this._events||{},k,I,{context:Y,ctx:this,listening:_}),_){var ie=this._listeners||(this._listeners={});ie[_.id]=_,_.interop=!1}return this},g.listenTo=function(k,I,Y){if(!k)return this;var ie=k._listenId||(k._listenId=c.uniqueId("l")),ge=this._listeningTo||(this._listeningTo={}),K=_=ge[ie];K||(this._listenId||(this._listenId=c.uniqueId("l")),K=_=ge[ie]=new ue(this,k));var fe=T(k,I,Y,this);if(_=void 0,fe)throw fe;return K.interop&&K.on(I,Y),this};var C=function(k,I,Y,ie){if(Y){var ge=k[I]||(k[I]=[]),K=ie.context,fe=ie.ctx,oe=ie.listening;oe&&oe.count++,ge.push({callback:Y,context:K,ctx:K||fe,listening:oe})}return k},T=function(k,I,Y,ie){try{k.on(I,Y,ie)}catch(ge){return ge}};g.off=function(k,I,Y){return this._events?(this._events=w(B,this._events,k,I,{context:Y,listeners:this._listeners}),this):this},g.stopListening=function(k,I,Y){var ie=this._listeningTo;if(!ie)return this;for(var ge=k?[k._listenId]:c.keys(ie),K=0;K<ge.length;K++){var fe=ie[ge[K]];if(!fe)break;fe.obj.off(I,Y,this),fe.interop&&fe.off(I,Y)}return c.isEmpty(ie)&&(this._listeningTo=void 0),this};var B=function(k,I,Y,ie){if(k){var ge=ie.context,K=ie.listeners,fe=0,oe;if(!I&&!ge&&!Y){for(oe=c.keys(K);fe<oe.length;fe++)K[oe[fe]].cleanup();return}for(oe=I?[I]:c.keys(k);fe<oe.length;fe++){I=oe[fe];var rt=k[I];if(!rt)break;for(var bt=[],gt=0;gt<rt.length;gt++){var V=rt[gt];if(Y&&Y!==V.callback&&Y!==V.callback._callback||ge&&ge!==V.context)bt.push(V);else{var ee=V.listening;ee&&ee.off(I,Y)}}bt.length?k[I]=bt:delete k[I]}return k}};g.once=function(k,I,Y){var ie=w(W,{},k,I,this.off.bind(this));return typeof k=="string"&&Y==null&&(I=void 0),this.on(ie,I,Y)},g.listenToOnce=function(k,I,Y){var ie=w(W,{},I,Y,this.stopListening.bind(this,k));return this.listenTo(k,ie)};var W=function(k,I,Y,ie){if(Y){var ge=k[I]=c.once(function(){ie(I,ge),Y.apply(this,arguments)});ge._callback=Y}return k};g.trigger=function(k){if(!this._events)return this;for(var I=Math.max(0,arguments.length-1),Y=Array(I),ie=0;ie<I;ie++)Y[ie]=arguments[ie+1];return w(N,this._events,k,void 0,Y),this};var N=function(k,I,Y,ie){if(k){var ge=k[I],K=k.all;ge&&K&&(K=K.slice()),ge&&z(ge,ie),K&&z(K,[I].concat(ie))}return k},z=function(k,I){var Y,ie=-1,ge=k.length,K=I[0],fe=I[1],oe=I[2];switch(I.length){case 0:for(;++ie<ge;)(Y=k[ie]).callback.call(Y.ctx);return;case 1:for(;++ie<ge;)(Y=k[ie]).callback.call(Y.ctx,K);return;case 2:for(;++ie<ge;)(Y=k[ie]).callback.call(Y.ctx,K,fe);return;case 3:for(;++ie<ge;)(Y=k[ie]).callback.call(Y.ctx,K,fe,oe);return;default:for(;++ie<ge;)(Y=k[ie]).callback.apply(Y.ctx,I);return}},ue=function(k,I){this.id=k._listenId,this.listener=k,this.obj=I,this.interop=!0,this.count=0,this._events=void 0};ue.prototype.on=g.on,ue.prototype.off=function(k,I){var Y;this.interop?(this._events=w(B,this._events,k,I,{context:void 0,listeners:void 0}),Y=!this._events):(this.count--,Y=this.count===0),Y&&this.cleanup()},ue.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},g.bind=g.on,g.unbind=g.off,c.extend(s,g);var _e=s.Model=function(k,I){var Y=k||{};I||(I={}),this.preinitialize.apply(this,arguments),this.cid=c.uniqueId(this.cidPrefix),this.attributes={},I.collection&&(this.collection=I.collection),I.parse&&(Y=this.parse(Y,I)||{});var ie=c.result(this,"defaults");Y=c.defaults(c.extend({},ie,Y),ie),this.set(Y,I),this.changed={},this.initialize.apply(this,arguments)};c.extend(_e.prototype,g,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(k){return c.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(k){return this.attributes[k]},escape:function(k){return c.escape(this.get(k))},has:function(k){return this.get(k)!=null},matches:function(k){return!!c.iteratee(k,this)(this.attributes)},set:function(k,I,Y){if(k==null)return this;var ie;if(typeof k=="object"?(ie=k,Y=I):(ie={})[k]=I,Y||(Y={}),!this._validate(ie,Y))return!1;var ge=Y.unset,K=Y.silent,fe=[],oe=this._changing;this._changing=!0,oe||(this._previousAttributes=c.clone(this.attributes),this.changed={});var rt=this.attributes,bt=this.changed,gt=this._previousAttributes;for(var V in ie)I=ie[V],c.isEqual(rt[V],I)||fe.push(V),c.isEqual(gt[V],I)?delete bt[V]:bt[V]=I,ge?delete rt[V]:rt[V]=I;if(this.idAttribute in ie){var ee=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ee,Y)}if(!K){fe.length&&(this._pending=Y);for(var D=0;D<fe.length;D++)this.trigger("change:"+fe[D],this,rt[fe[D]],Y)}if(oe)return this;if(!K)for(;this._pending;)Y=this._pending,this._pending=!1,this.trigger("change",this,Y);return this._pending=!1,this._changing=!1,this},unset:function(k,I){return this.set(k,void 0,c.extend({},I,{unset:!0}))},clear:function(k){var I={};for(var Y in this.attributes)I[Y]=void 0;return this.set(I,c.extend({},k,{unset:!0}))},hasChanged:function(k){return k==null?!c.isEmpty(this.changed):c.has(this.changed,k)},changedAttributes:function(k){if(!k)return this.hasChanged()?c.clone(this.changed):!1;var I=this._changing?this._previousAttributes:this.attributes,Y={},ie;for(var ge in k){var K=k[ge];c.isEqual(I[ge],K)||(Y[ge]=K,ie=!0)}return ie?Y:!1},previous:function(k){return k==null||!this._previousAttributes?null:this._previousAttributes[k]},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(k){k=c.extend({parse:!0},k);var I=this,Y=k.success;return k.success=function(ie){var ge=k.parse?I.parse(ie,k):ie;if(!I.set(ge,k))return!1;Y&&Y.call(k.context,I,ie,k),I.trigger("sync",I,ie,k)},it(this,k),this.sync("read",this,k)},save:function(k,I,Y){var ie;k==null||typeof k=="object"?(ie=k,Y=I):(ie={})[k]=I,Y=c.extend({validate:!0,parse:!0},Y);var ge=Y.wait;if(ie&&!ge){if(!this.set(ie,Y))return!1}else if(!this._validate(ie,Y))return!1;var K=this,fe=Y.success,oe=this.attributes;Y.success=function(gt){K.attributes=oe;var V=Y.parse?K.parse(gt,Y):gt;if(ge&&(V=c.extend({},ie,V)),V&&!K.set(V,Y))return!1;fe&&fe.call(Y.context,K,gt,Y),K.trigger("sync",K,gt,Y)},it(this,Y),ie&&ge&&(this.attributes=c.extend({},oe,ie));var rt=this.isNew()?"create":Y.patch?"patch":"update";rt==="patch"&&!Y.attrs&&(Y.attrs=ie);var bt=this.sync(rt,this,Y);return this.attributes=oe,bt},destroy:function(k){k=k?c.clone(k):{};var I=this,Y=k.success,ie=k.wait,ge=function(){I.stopListening(),I.trigger("destroy",I,I.collection,k)};k.success=function(fe){ie&&ge(),Y&&Y.call(k.context,I,fe,k),I.isNew()||I.trigger("sync",I,fe,k)};var K=!1;return this.isNew()?c.defer(k.success):(it(this,k),K=this.sync("delete",this,k)),ie||ge(),K},url:function(){var k=c.result(this,"urlRoot")||c.result(this.collection,"url")||ht();if(this.isNew())return k;var I=this.get(this.idAttribute);return k.replace(/[^\/]$/,"$&/")+encodeURIComponent(I)},parse:function(k,I){return k},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(k){return this._validate({},c.extend({},k,{validate:!0}))},_validate:function(k,I){if(!I.validate||!this.validate)return!0;k=c.extend({},this.attributes,k);var Y=this.validationError=this.validate(k,I)||null;return Y?(this.trigger("invalid",this,Y,c.extend(I,{validationError:Y})),!1):!0}});var Se=s.Collection=function(k,I){I||(I={}),this.preinitialize.apply(this,arguments),I.model&&(this.model=I.model),I.comparator!==void 0&&(this.comparator=I.comparator),this._reset(),this.initialize.apply(this,arguments),k&&this.reset(k,c.extend({silent:!0},I))},ce={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1},ae=function(k,I,Y){Y=Math.min(Math.max(Y,0),k.length);var ie=Array(k.length-Y),ge=I.length,K;for(K=0;K<ie.length;K++)ie[K]=k[K+Y];for(K=0;K<ge;K++)k[K+Y]=I[K];for(K=0;K<ie.length;K++)k[K+ge+Y]=ie[K]};c.extend(Se.prototype,g,{model:_e,preinitialize:function(){},initialize:function(){},toJSON:function(k){return this.map(function(I){return I.toJSON(k)})},sync:function(){return s.sync.apply(this,arguments)},add:function(k,I){return this.set(k,c.extend({merge:!1},I,q))},remove:function(k,I){I=c.extend({},I);var Y=!c.isArray(k);k=Y?[k]:k.slice();var ie=this._removeModels(k,I);return!I.silent&&ie.length&&(I.changes={added:[],merged:[],removed:ie},this.trigger("update",this,I)),Y?ie[0]:ie},set:function(k,I){if(k!=null){I=c.extend({},ce,I),I.parse&&!this._isModel(k)&&(k=this.parse(k,I)||[]);var Y=!c.isArray(k);k=Y?[k]:k.slice();var ie=I.at;ie!=null&&(ie=+ie),ie>this.length&&(ie=this.length),ie<0&&(ie+=this.length+1);var ge=[],K=[],fe=[],oe=[],rt={},bt=I.add,gt=I.merge,V=I.remove,ee=!1,D=this.comparator&&ie==null&&I.sort!==!1,Oe=c.isString(this.comparator)?this.comparator:null,he,De;for(De=0;De<k.length;De++){he=k[De];var Xe=this.get(he);if(Xe){if(gt&&he!==Xe){var qe=this._isModel(he)?he.attributes:he;I.parse&&(qe=Xe.parse(qe,I)),Xe.set(qe,I),fe.push(Xe),D&&!ee&&(ee=Xe.hasChanged(Oe))}rt[Xe.cid]||(rt[Xe.cid]=!0,ge.push(Xe)),k[De]=Xe}else bt&&(he=k[De]=this._prepareModel(he,I),he&&(K.push(he),this._addReference(he,I),rt[he.cid]=!0,ge.push(he)))}if(V){for(De=0;De<this.length;De++)he=this.models[De],rt[he.cid]||oe.push(he);oe.length&&this._removeModels(oe,I)}var We=!1,st=!D&&bt&&V;if(ge.length&&st?(We=this.length!==ge.length||c.some(this.models,function(kt,At){return kt!==ge[At]}),this.models.length=0,ae(this.models,ge,0),this.length=this.models.length):K.length&&(D&&(ee=!0),ae(this.models,K,ie??this.length),this.length=this.models.length),ee&&this.sort({silent:!0}),!I.silent){for(De=0;De<K.length;De++)ie!=null&&(I.index=ie+De),he=K[De],he.trigger("add",he,this,I);(ee||We)&&this.trigger("sort",this,I),(K.length||oe.length||fe.length)&&(I.changes={added:K,removed:oe,merged:fe},this.trigger("update",this,I))}return Y?k[0]:k}},reset:function(k,I){I=I?c.clone(I):{};for(var Y=0;Y<this.models.length;Y++)this._removeReference(this.models[Y],I);return I.previousModels=this.models,this._reset(),k=this.add(k,c.extend({silent:!0},I)),I.silent||this.trigger("reset",this,I),k},push:function(k,I){return this.add(k,c.extend({at:this.length},I))},pop:function(k){var I=this.at(this.length-1);return this.remove(I,k)},unshift:function(k,I){return this.add(k,c.extend({at:0},I))},shift:function(k){var I=this.at(0);return this.remove(I,k)},slice:function(){return h.apply(this.models,arguments)},get:function(k){if(k!=null)return this._byId[k]||this._byId[this.modelId(this._isModel(k)?k.attributes:k,k.idAttribute)]||k.cid&&this._byId[k.cid]},has:function(k){return this.get(k)!=null},at:function(k){return k<0&&(k+=this.length),this.models[k]},where:function(k,I){return this[I?"find":"filter"](k)},findWhere:function(k){return this.where(k,!0)},sort:function(k){var I=this.comparator;if(!I)throw new Error("Cannot sort a set without a comparator");k||(k={});var Y=I.length;return c.isFunction(I)&&(I=I.bind(this)),Y===1||c.isString(I)?this.models=this.sortBy(I):this.models.sort(I),k.silent||this.trigger("sort",this,k),this},pluck:function(k){return this.map(k+"")},fetch:function(k){k=c.extend({parse:!0},k);var I=k.success,Y=this;return k.success=function(ie){var ge=k.reset?"reset":"set";Y[ge](ie,k),I&&I.call(k.context,Y,ie,k),Y.trigger("sync",Y,ie,k)},it(this,k),this.sync("read",this,k)},create:function(k,I){I=I?c.clone(I):{};var Y=I.wait;if(k=this._prepareModel(k,I),!k)return!1;Y||this.add(k,I);var ie=this,ge=I.success;return I.success=function(K,fe,oe){Y&&ie.add(K,oe),ge&&ge.call(oe.context,K,fe,oe)},k.save(null,I),k},parse:function(k,I){return k},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(k,I){return k[I||this.model.prototype.idAttribute||"id"]},values:function(){return new R(this,U)},keys:function(){return new R(this,H)},entries:function(){return new R(this,te)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(k,I){if(this._isModel(k))return k.collection||(k.collection=this),k;I=I?c.clone(I):{},I.collection=this;var Y;return this.model.prototype?Y=new this.model(k,I):Y=this.model(k,I),Y.validationError?(this.trigger("invalid",this,Y.validationError,I),!1):Y},_removeModels:function(k,I){for(var Y=[],ie=0;ie<k.length;ie++){var ge=this.get(k[ie]);if(ge){var K=this.indexOf(ge);this.models.splice(K,1),this.length--,delete this._byId[ge.cid];var fe=this.modelId(ge.attributes,ge.idAttribute);fe!=null&&delete this._byId[fe],I.silent||(I.index=K,ge.trigger("remove",ge,this,I)),Y.push(ge),this._removeReference(ge,I)}}return Y},_isModel:function(k){return k instanceof _e},_addReference:function(k,I){this._byId[k.cid]=k;var Y=this.modelId(k.attributes,k.idAttribute);Y!=null&&(this._byId[Y]=k),k.on("all",this._onModelEvent,this)},_removeReference:function(k,I){delete this._byId[k.cid];var Y=this.modelId(k.attributes,k.idAttribute);Y!=null&&delete this._byId[Y],this===k.collection&&delete k.collection,k.off("all",this._onModelEvent,this)},_onModelEvent:function(k,I,Y,ie){if(I){if((k==="add"||k==="remove")&&Y!==this)return;if(k==="destroy"&&this.remove(I,ie),k==="changeId"){var ge=this.modelId(I.previousAttributes(),I.idAttribute),K=this.modelId(I.attributes,I.idAttribute);ge!=null&&delete this._byId[ge],K!=null&&(this._byId[K]=I)}}this.trigger.apply(this,arguments)}});var F=typeof Symbol=="function"&&Symbol.iterator;F&&(Se.prototype[F]=Se.prototype.values);var R=function(k,I){this._collection=k,this._kind=I,this._index=0},U=1,H=2,te=3;F&&(R.prototype[F]=function(){return this}),R.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var k=this._collection.at(this._index);this._index++;var I;if(this._kind===U)I=k;else{var Y=this._collection.modelId(k.attributes,k.idAttribute);this._kind===H?I=Y:I=[Y,k]}return{value:I,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var E=s.View=function(k){this.cid=c.uniqueId("view"),this.preinitialize.apply(this,arguments),c.extend(this,c.pick(k,ve)),this._ensureElement(),this.initialize.apply(this,arguments)},me=/^(\S+)\s*(.*)$/,ve=["model","collection","el","id","attributes","className","tagName","events"];c.extend(E.prototype,g,{tagName:"div",$:function(k){return this.$el.find(k)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(k){return this.undelegateEvents(),this._setElement(k),this.delegateEvents(),this},_setElement:function(k){this.$el=k instanceof s.$?k:s.$(k),this.el=this.$el[0]},delegateEvents:function(k){if(k||(k=c.result(this,"events")),!k)return this;this.undelegateEvents();for(var I in k){var Y=k[I];if(c.isFunction(Y)||(Y=this[Y]),!!Y){var ie=I.match(me);this.delegate(ie[1],ie[2],Y.bind(this))}}return this},delegate:function(k,I,Y){return this.$el.on(k+".delegateEvents"+this.cid,I,Y),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(k,I,Y){return this.$el.off(k+".delegateEvents"+this.cid,I,Y),this},_createElement:function(k){return document.createElement(k)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var k=c.extend({},c.result(this,"attributes"));this.id&&(k.id=c.result(this,"id")),this.className&&(k.class=c.result(this,"className")),this.setElement(this._createElement(c.result(this,"tagName"))),this._setAttributes(k)}},_setAttributes:function(k){this.$el.attr(k)}});var Le=function(k,I,Y,ie){switch(I){case 1:return function(){return k[Y](this[ie])};case 2:return function(ge){return k[Y](this[ie],ge)};case 3:return function(ge,K){return k[Y](this[ie],$e(ge,this),K)};case 4:return function(ge,K,fe){return k[Y](this[ie],$e(ge,this),K,fe)};default:return function(){var ge=h.call(arguments);return ge.unshift(this[ie]),k[Y].apply(k,ge)}}},Je=function(k,I,Y,ie){c.each(Y,function(ge,K){I[K]&&(k.prototype[K]=Le(I,ge,K,ie))})},$e=function(k,I){return c.isFunction(k)?k:c.isObject(k)&&!I._isModel(k)?mt(k):c.isString(k)?function(Y){return Y.get(k)}:k},mt=function(k){var I=c.matches(k);return function(Y){return I(Y.attributes)}},ye={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},be={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};c.each([[Se,ye,"models"],[_e,be,"attributes"]],function(k){var I=k[0],Y=k[1],ie=k[2];I.mixin=function(ge){var K=c.reduce(c.functions(ge),function(fe,oe){return fe[oe]=0,fe},{});Je(I,ge,K,ie)},Je(I,c,Y,ie)}),s.sync=function(k,I,Y){var ie=Re[k];c.defaults(Y||(Y={}),{emulateHTTP:s.emulateHTTP,emulateJSON:s.emulateJSON});var ge={type:ie,dataType:"json"};if(Y.url||(ge.url=c.result(I,"url")||ht()),Y.data==null&&I&&(k==="create"||k==="update"||k==="patch")&&(ge.contentType="application/json",ge.data=JSON.stringify(Y.attrs||I.toJSON(Y))),Y.emulateJSON&&(ge.contentType="application/x-www-form-urlencoded",ge.data=ge.data?{model:ge.data}:{}),Y.emulateHTTP&&(ie==="PUT"||ie==="DELETE"||ie==="PATCH")){ge.type="POST",Y.emulateJSON&&(ge.data._method=ie);var K=Y.beforeSend;Y.beforeSend=function(rt){if(rt.setRequestHeader("X-HTTP-Method-Override",ie),K)return K.apply(this,arguments)}}ge.type!=="GET"&&!Y.emulateJSON&&(ge.processData=!1);var fe=Y.error;Y.error=function(rt,bt,gt){Y.textStatus=bt,Y.errorThrown=gt,fe&&fe.call(Y.context,rt,bt,gt)};var oe=Y.xhr=s.ajax(c.extend(ge,Y));return I.trigger("request",I,oe,Y),oe};var Re={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};s.ajax=function(){return s.$.ajax.apply(s.$,arguments)};var Ue=s.Router=function(k){k||(k={}),this.preinitialize.apply(this,arguments),k.routes&&(this.routes=k.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Ne=/\((.*?)\)/g,Ve=/(\(\?)?:\w+/g,nt=/\*\w+/g,at=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(Ue.prototype,g,{preinitialize:function(){},initialize:function(){},route:function(k,I,Y){c.isRegExp(k)||(k=this._routeToRegExp(k)),c.isFunction(I)&&(Y=I,I=""),Y||(Y=this[I]);var ie=this;return s.history.route(k,function(ge){var K=ie._extractParameters(k,ge);ie.execute(Y,K,I)!==!1&&(ie.trigger.apply(ie,["route:"+I].concat(K)),ie.trigger("route",I,K),s.history.trigger("route",ie,I,K))}),this},execute:function(k,I,Y){k&&k.apply(this,I)},navigate:function(k,I){return s.history.navigate(k,I),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var k,I=c.keys(this.routes);(k=I.pop())!=null;)this.route(k,this.routes[k])}},_routeToRegExp:function(k){return k=k.replace(at,"\\$&").replace(Ne,"(?:$1)?").replace(Ve,function(I,Y){return Y?I:"([^/?]+)"}).replace(nt,"([^?]*?)"),new RegExp("^"+k+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(k,I){var Y=k.exec(I).slice(1);return c.map(Y,function(ie,ge){return ge===Y.length-1?ie||null:ie?decodeURIComponent(ie):null})}});var re=s.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},xe=/^[#\/]|\s+$/g,Qe=/^\/+|\/+$/g,Fe=/#.*$/;re.started=!1,c.extend(re.prototype,g,{interval:50,atRoot:function(){var k=this.location.pathname.replace(/[^\/]$/,"$&/");return k===this.root&&!this.getSearch()},matchRoot:function(){var k=this.decodeFragment(this.location.pathname),I=k.slice(0,this.root.length-1)+"/";return I===this.root},decodeFragment:function(k){return decodeURI(k.replace(/%25/g,"%2525"))},getSearch:function(){var k=this.location.href.replace(/#.*/,"").match(/\?.+/);return k?k[0]:""},getHash:function(k){var I=(k||this).location.href.match(/#(.*)$/);return I?I[1]:""},getPath:function(){var k=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return k.charAt(0)==="/"?k.slice(1):k},getFragment:function(k){return k==null&&(this._usePushState||!this._wantsHashChange?k=this.getPath():k=this.getHash()),k.replace(xe,"")},start:function(k){if(re.started)throw new Error("Backbone.history has already been started");if(re.started=!0,this.options=c.extend({root:"/"},this.options,k),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Qe,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var I=this.root.slice(0,-1)||"/";return this.location.replace(I+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Y=document.body,ie=Y.insertBefore(this.iframe,Y.firstChild).contentWindow;ie.document.open(),ie.document.close(),ie.location.hash="#"+this.fragment}var ge=window.addEventListener||function(K,fe){return attachEvent("on"+K,fe)};if(this._usePushState?ge("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?ge("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var k=window.removeEventListener||function(I,Y){return detachEvent("on"+I,Y)};this._usePushState?k("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&k("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),re.started=!1},route:function(k,I){this.handlers.unshift({route:k,callback:I})},checkUrl:function(k){var I=this.getFragment();if(I===this.fragment&&this.iframe&&(I=this.getHash(this.iframe.contentWindow)),I===this.fragment)return!1;this.iframe&&this.navigate(I),this.loadUrl()},loadUrl:function(k){return this.matchRoot()?(k=this.fragment=this.getFragment(k),c.some(this.handlers,function(I){if(I.route.test(k))return I.callback(k),!0})):!1},navigate:function(k,I){if(!re.started)return!1;(!I||I===!0)&&(I={trigger:!!I}),k=this.getFragment(k||"");var Y=this.root;(k===""||k.charAt(0)==="?")&&(Y=Y.slice(0,-1)||"/");var ie=Y+k;k=k.replace(Fe,"");var ge=this.decodeFragment(k);if(this.fragment!==ge){if(this.fragment=ge,this._usePushState)this.history[I.replace?"replaceState":"pushState"]({},document.title,ie);else if(this._wantsHashChange){if(this._updateHash(this.location,k,I.replace),this.iframe&&k!==this.getHash(this.iframe.contentWindow)){var K=this.iframe.contentWindow;I.replace||(K.document.open(),K.document.close()),this._updateHash(K.location,k,I.replace)}}else return this.location.assign(ie);if(I.trigger)return this.loadUrl(k)}},_updateHash:function(k,I,Y){if(Y){var ie=k.href.replace(/(javascript:|#).*$/,"");k.replace(ie+"#"+I)}else k.hash="#"+I}}),s.history=new re;var ot=function(k,I){var Y=this,ie;return k&&c.has(k,"constructor")?ie=k.constructor:ie=function(){return Y.apply(this,arguments)},c.extend(ie,Y,I),ie.prototype=c.create(Y.prototype,k),ie.prototype.constructor=ie,ie.__super__=Y.prototype,ie};_e.extend=Se.extend=Ue.extend=E.extend=re.extend=ot;var ht=function(){throw new Error('A "url" property or function must be specified')},it=function(k,I){var Y=I.error;I.error=function(ie){Y&&Y.call(I.context,k,ie,I),k.trigger("error",k,ie,I)}};return s})},3640:(i,n,e)=>{(function(t){t(e(4408))})(function(t){t.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,s){return/^[;{}]$/.test(s)}}),t.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,s,c,u){return this.jsonMode?/^[\[,{]$/.test(s)||/^}/.test(c):s==";"&&u.lexical&&u.lexical.type==")"?!1:/^[;{}]$/.test(s)&&!/^;/.test(c)}});var r=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;t.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(o,s,c,u){var f=!1;return this.configuration=="html"&&(f=u.context?r.test(u.context.tagName):!1),!f&&(o=="tag"&&/>$/.test(s)&&u.context||/^</.test(c))}}),t.defineExtension("commentRange",function(o,s,c){var u=this,f=t.innerMode(u.getMode(),u.getTokenAt(s).state).mode;u.operation(function(){if(o)u.replaceRange(f.commentEnd,c),u.replaceRange(f.commentStart,s),s.line==c.line&&s.ch==c.ch&&u.setCursor(s.line,s.ch+f.commentStart.length);else{var h=u.getRange(s,c),g=h.indexOf(f.commentStart),m=h.lastIndexOf(f.commentEnd);g>-1&&m>-1&&m>g&&(h=h.substr(0,g)+h.substring(g+f.commentStart.length,m)+h.substr(m+f.commentEnd.length)),u.replaceRange(h,s,c)}})}),t.defineExtension("autoIndentRange",function(o,s){var c=this;this.operation(function(){for(var u=o.line;u<=s.line;u++)c.indentLine(u,"smart")})}),t.defineExtension("autoFormatRange",function(o,s){var c=this,u=c.getMode(),f=c.getRange(o,s).split(`
`),h=t.copyState(u,c.getTokenAt(o).state),g=c.getOption("tabSize"),m="",_=0,w=o.ch===0;function C(){m+=`
`,w=!0,++_}for(var T=0;T<f.length;++T){for(var B=new t.StringStream(f[T],g);!B.eol();){var W=t.innerMode(u,h),N=u.token(B,h),z=B.current();B.start=B.pos,(!w||/\S/.test(z))&&(m+=z,w=!1),!w&&W.mode.newlineAfterToken&&W.mode.newlineAfterToken(N,z,B.string.slice(B.pos)||f[T+1]||"",W.state)&&C()}!B.pos&&u.blankLine&&u.blankLine(h),!w&&T<f.length-1&&C()}c.operation(function(){c.replaceRange(m,o,s);for(var ue=o.line+1,_e=o.line+_;ue<=_e;++ue)c.indentLine(ue,"smart");c.setSelection(o,c.getCursor(!1))})})})},4408:function(i){(function(n,e){i.exports=e()})(this,function(){"use strict";var n=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(n),r=/MSIE \d/.test(n),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),s=/Edge\/(\d+)/.exec(n),c=r||o||s,u=c&&(r?document.documentMode||6:+(s||o)[1]),f=!s&&/WebKit\//.test(n),h=f&&/Qt\/\d+\.\d+/.test(n),g=!s&&/Chrome\//.test(n),m=/Opera\//.test(n),_=/Apple Computer/.test(navigator.vendor),w=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),C=/PhantomJS/.test(n),T=_&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),B=/Android/.test(n),W=T||B||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),N=T||/Mac/.test(e),z=/\bCrOS\b/.test(n),ue=/win/i.test(e),_e=m&&n.match(/Version\/(\d*\.\d*)/);_e&&(_e=Number(_e[1])),_e&&_e>=15&&(m=!1,f=!0);var Se=N&&(h||m&&(_e==null||_e<12.11)),ce=t||c&&u>=9;function q(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var ae=function(a,l){var p=a.className,d=q(l).exec(p);if(d){var v=p.slice(d.index+d[0].length);a.className=p.slice(0,d.index)+(v?d[1]+v:"")}};function F(a){for(var l=a.childNodes.length;l>0;--l)a.removeChild(a.firstChild);return a}function R(a,l){return F(a).appendChild(l)}function U(a,l,p,d){var v=document.createElement(a);if(p&&(v.className=p),d&&(v.style.cssText=d),typeof l=="string")v.appendChild(document.createTextNode(l));else if(l)for(var y=0;y<l.length;++y)v.appendChild(l[y]);return v}function H(a,l,p,d){var v=U(a,l,p,d);return v.setAttribute("role","presentation"),v}var te;document.createRange?te=function(a,l,p,d){var v=document.createRange();return v.setEnd(d||a,p),v.setStart(a,l),v}:te=function(a,l,p){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",l),d};function E(a,l){if(l.nodeType==3&&(l=l.parentNode),a.contains)return a.contains(l);do if(l.nodeType==11&&(l=l.host),l==a)return!0;while(l=l.parentNode)}function me(){var a;try{a=document.activeElement}catch{a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function ve(a,l){var p=a.className;q(l).test(p)||(a.className+=(p?" ":"")+l)}function Le(a,l){for(var p=a.split(" "),d=0;d<p.length;d++)p[d]&&!q(p[d]).test(l)&&(l+=" "+p[d]);return l}var Je=function(a){a.select()};T?Je=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:c&&(Je=function(a){try{a.select()}catch{}});function $e(a){var l=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,l)}}function mt(a,l,p){l||(l={});for(var d in a)a.hasOwnProperty(d)&&(p!==!1||!l.hasOwnProperty(d))&&(l[d]=a[d]);return l}function ye(a,l,p,d,v){l==null&&(l=a.search(/[^\s\u00a0]/),l==-1&&(l=a.length));for(var y=d||0,b=v||0;;){var x=a.indexOf("	",y);if(x<0||x>=l)return b+(l-y);b+=x-y,b+=p-b%p,y=x+1}}var be=function(){this.id=null,this.f=null,this.time=0,this.handler=$e(this.onTimeout,this)};be.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},be.prototype.set=function(a,l){this.f=l;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function Re(a,l){for(var p=0;p<a.length;++p)if(a[p]==l)return p;return-1}var Ue=50,Ne={toString:function(){return"CodeMirror.Pass"}},Ve={scroll:!1},nt={origin:"*mouse"},at={origin:"+move"};function re(a,l,p){for(var d=0,v=0;;){var y=a.indexOf("	",d);y==-1&&(y=a.length);var b=y-d;if(y==a.length||v+b>=l)return d+Math.min(b,l-v);if(v+=y-d,v+=p-v%p,d=y+1,v>=l)return d}}var xe=[""];function Qe(a){for(;xe.length<=a;)xe.push(Fe(xe)+" ");return xe[a]}function Fe(a){return a[a.length-1]}function ot(a,l){for(var p=[],d=0;d<a.length;d++)p[d]=l(a[d],d);return p}function ht(a,l,p){for(var d=0,v=p(l);d<a.length&&p(a[d])<=v;)d++;a.splice(d,0,l)}function it(){}function k(a,l){var p;return Object.create?p=Object.create(a):(it.prototype=a,p=new it),l&&mt(l,p),p}var I=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Y(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||I.test(a))}function ie(a,l){return l?l.source.indexOf("\\w")>-1&&Y(a)?!0:l.test(a):Y(a)}function ge(a){for(var l in a)if(a.hasOwnProperty(l)&&a[l])return!1;return!0}var K=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function fe(a){return a.charCodeAt(0)>=768&&K.test(a)}function oe(a,l,p){for(;(p<0?l>0:l<a.length)&&fe(a.charAt(l));)l+=p;return l}function rt(a,l,p){for(var d=l>p?-1:1;;){if(l==p)return l;var v=(l+p)/2,y=d<0?Math.ceil(v):Math.floor(v);if(y==l)return a(y)?l:p;a(y)?p=y:l=y+d}}function bt(a,l,p,d){if(!a)return d(l,p,"ltr",0);for(var v=!1,y=0;y<a.length;++y){var b=a[y];(b.from<p&&b.to>l||l==p&&b.to==l)&&(d(Math.max(b.from,l),Math.min(b.to,p),b.level==1?"rtl":"ltr",y),v=!0)}v||d(l,p,"ltr")}var gt=null;function V(a,l,p){var d;gt=null;for(var v=0;v<a.length;++v){var y=a[v];if(y.from<l&&y.to>l)return v;y.to==l&&(y.from!=y.to&&p=="before"?d=v:gt=v),y.from==l&&(y.from!=y.to&&p!="before"?d=v:gt=v)}return d??gt}var ee=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(P){return P<=247?a.charAt(P):1424<=P&&P<=1524?"R":1536<=P&&P<=1785?l.charAt(P-1536):1774<=P&&P<=2220?"r":8192<=P&&P<=8203?"w":P==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,v=/[stwN]/,y=/[LRr]/,b=/[Lb1n]/,x=/[1n]/;function S(P,G,J){this.level=P,this.from=G,this.to=J}return function(P,G){var J=G=="ltr"?"L":"R";if(P.length==0||G=="ltr"&&!d.test(P))return!1;for(var de=P.length,ne=[],we=0;we<de;++we)ne.push(p(P.charCodeAt(we)));for(var Ee=0,Be=J;Ee<de;++Ee){var Ge=ne[Ee];Ge=="m"?ne[Ee]=Be:Be=Ge}for(var et=0,Ye=J;et<de;++et){var tt=ne[et];tt=="1"&&Ye=="r"?ne[et]="n":y.test(tt)&&(Ye=tt,tt=="r"&&(ne[et]="R"))}for(var pt=1,ft=ne[0];pt<de-1;++pt){var Tt=ne[pt];Tt=="+"&&ft=="1"&&ne[pt+1]=="1"?ne[pt]="1":Tt==","&&ft==ne[pt+1]&&(ft=="1"||ft=="n")&&(ne[pt]=ft),ft=Tt}for(var Ut=0;Ut<de;++Ut){var xr=ne[Ut];if(xr==",")ne[Ut]="N";else if(xr=="%"){var $t=void 0;for($t=Ut+1;$t<de&&ne[$t]=="%";++$t);for(var sn=Ut&&ne[Ut-1]=="!"||$t<de&&ne[$t]=="1"?"1":"N",zr=Ut;zr<$t;++zr)ne[zr]=sn;Ut=$t-1}}for(var lr=0,Kr=J;lr<de;++lr){var Pr=ne[lr];Kr=="L"&&Pr=="1"?ne[lr]="L":y.test(Pr)&&(Kr=Pr)}for(var mr=0;mr<de;++mr)if(v.test(ne[mr])){var cr=void 0;for(cr=mr+1;cr<de&&v.test(ne[cr]);++cr);for(var Qt=(mr?ne[mr-1]:J)=="L",Gr=(cr<de?ne[cr]:J)=="L",Fi=Qt==Gr?Qt?"L":"R":J,Vo=mr;Vo<cr;++Vo)ne[Vo]=Fi;mr=cr-1}for(var Rr=[],qn,Cr=0;Cr<de;)if(b.test(ne[Cr])){var tu=Cr;for(++Cr;Cr<de&&b.test(ne[Cr]);++Cr);Rr.push(new S(0,tu,Cr))}else{var lo=Cr,ni=Rr.length,oi=G=="rtl"?1:0;for(++Cr;Cr<de&&ne[Cr]!="L";++Cr);for(var Vr=lo;Vr<Cr;)if(x.test(ne[Vr])){lo<Vr&&(Rr.splice(ni,0,new S(1,lo,Vr)),ni+=oi);var Hi=Vr;for(++Vr;Vr<Cr&&x.test(ne[Vr]);++Vr);Rr.splice(ni,0,new S(2,Hi,Vr)),ni+=oi,lo=Vr}else++Vr;lo<Cr&&Rr.splice(ni,0,new S(1,lo,Cr))}return G=="ltr"&&(Rr[0].level==1&&(qn=P.match(/^\s+/))&&(Rr[0].from=qn[0].length,Rr.unshift(new S(0,0,qn[0].length))),Fe(Rr).level==1&&(qn=P.match(/\s+$/))&&(Fe(Rr).to-=qn[0].length,Rr.push(new S(0,de-qn[0].length,de)))),G=="rtl"?Rr.reverse():Rr}}();function D(a,l){var p=a.order;return p==null&&(p=a.order=ee(a.text,l)),p}var Oe=[],he=function(a,l,p){if(a.addEventListener)a.addEventListener(l,p,!1);else if(a.attachEvent)a.attachEvent("on"+l,p);else{var d=a._handlers||(a._handlers={});d[l]=(d[l]||Oe).concat(p)}};function De(a,l){return a._handlers&&a._handlers[l]||Oe}function Xe(a,l,p){if(a.removeEventListener)a.removeEventListener(l,p,!1);else if(a.detachEvent)a.detachEvent("on"+l,p);else{var d=a._handlers,v=d&&d[l];if(v){var y=Re(v,p);y>-1&&(d[l]=v.slice(0,y).concat(v.slice(y+1)))}}}function qe(a,l){var p=De(a,l);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),v=0;v<p.length;++v)p[v].apply(null,d)}function We(a,l,p){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),qe(a,p||l.type,a,l),fr(l)||l.codemirrorIgnore}function st(a){var l=a._handlers&&a._handlers.cursorActivity;if(l)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<l.length;++d)Re(p,l[d])==-1&&p.push(l[d])}function kt(a,l){return De(a,l).length>0}function At(a){a.prototype.on=function(l,p){he(this,l,p)},a.prototype.off=function(l,p){Xe(this,l,p)}}function Pt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function qt(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function fr(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function j(a){Pt(a),qt(a)}function Z(a){return a.target||a.srcElement}function se(a){var l=a.which;return l==null&&(a.button&1?l=1:a.button&2?l=3:a.button&4&&(l=2)),N&&a.ctrlKey&&l==1&&(l=3),l}var Te=function(){if(c&&u<9)return!1;var a=U("div");return"draggable"in a||"dragDrop"in a}(),Ke;function lt(a){if(Ke==null){var l=U("span","\u200B");R(a,U("span",[l,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(Ke=l.offsetWidth<=1&&l.offsetHeight>2&&!(c&&u<8))}var p=Ke?U("span","\u200B"):U("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var _t;function ir(a){if(_t!=null)return _t;var l=R(a,document.createTextNode("A\u062EA")),p=te(l,0,1).getBoundingClientRect(),d=te(l,1,2).getBoundingClientRect();return F(a),!p||p.left==p.right?!1:_t=d.right-p.right<3}var Ft=`

b`.split(/\n/).length!=3?function(a){for(var l=0,p=[],d=a.length;l<=d;){var v=a.indexOf(`
`,l);v==-1&&(v=a.length);var y=a.slice(l,a.charAt(v-1)=="\r"?v-1:v),b=y.indexOf("\r");b!=-1?(p.push(y.slice(0,b)),l+=b+1):(p.push(y),l=v+1)}return p}:function(a){return a.split(/\r\n?|\n/)},Wt=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var l;try{l=a.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=a?!1:l.compareEndPoints("StartToEnd",l)!=0},Zr=function(){var a=U("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),dr=null;function zt(a){if(dr!=null)return dr;var l=R(a,U("span","x")),p=l.getBoundingClientRect(),d=te(l,0,1).getBoundingClientRect();return dr=Math.abs(p.left-d.left)>1}var hn={},Ht={};function Kt(a,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),hn[a]=l}function Xt(a,l){Ht[a]=l}function Qr(a){if(typeof a=="string"&&Ht.hasOwnProperty(a))a=Ht[a];else if(a&&typeof a.name=="string"&&Ht.hasOwnProperty(a.name)){var l=Ht[a.name];typeof l=="string"&&(l={name:l}),a=k(l,a),a.name=l.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Qr("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Qr("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function Dt(a,l){l=Qr(l);var p=hn[l.name];if(!p)return Dt(a,"text/plain");var d=p(a,l);if(jr.hasOwnProperty(l.name)){var v=jr[l.name];for(var y in v)v.hasOwnProperty(y)&&(d.hasOwnProperty(y)&&(d["_"+y]=d[y]),d[y]=v[y])}if(d.name=l.name,l.helperType&&(d.helperType=l.helperType),l.modeProps)for(var b in l.modeProps)d[b]=l.modeProps[b];return d}var jr={};function yt(a,l){var p=jr.hasOwnProperty(a)?jr[a]:jr[a]={};mt(l,p)}function kr(a,l){if(l===!0)return l;if(a.copyState)return a.copyState(l);var p={};for(var d in l){var v=l[d];v instanceof Array&&(v=v.concat([])),p[d]=v}return p}function rr(a,l){for(var p;a.innerMode&&(p=a.innerMode(l),!(!p||p.mode==a));)l=p.state,a=p.mode;return p||{mode:a,state:l}}function Br(a,l,p){return a.startState?a.startState(l,p):!0}var Rt=function(a,l,p){this.pos=this.start=0,this.string=a,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Rt.prototype.eol=function(){return this.pos>=this.string.length},Rt.prototype.sol=function(){return this.pos==this.lineStart},Rt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Rt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Rt.prototype.eat=function(a){var l=this.string.charAt(this.pos),p;if(typeof a=="string"?p=l==a:p=l&&(a.test?a.test(l):a(l)),p)return++this.pos,l},Rt.prototype.eatWhile=function(a){for(var l=this.pos;this.eat(a););return this.pos>l},Rt.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Rt.prototype.skipToEnd=function(){this.pos=this.string.length},Rt.prototype.skipTo=function(a){var l=this.string.indexOf(a,this.pos);if(l>-1)return this.pos=l,!0},Rt.prototype.backUp=function(a){this.pos-=a},Rt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ye(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ye(this.string,this.lineStart,this.tabSize):0)},Rt.prototype.indentation=function(){return ye(this.string,null,this.tabSize)-(this.lineStart?ye(this.string,this.lineStart,this.tabSize):0)},Rt.prototype.match=function(a,l,p){if(typeof a=="string"){var d=function(b){return p?b.toLowerCase():b},v=this.string.substr(this.pos,a.length);if(d(v)==d(a))return l!==!1&&(this.pos+=a.length),!0}else{var y=this.string.slice(this.pos).match(a);return y&&y.index>0?null:(y&&l!==!1&&(this.pos+=y[0].length),y)}},Rt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Rt.prototype.hideFirstChars=function(a,l){this.lineStart+=a;try{return l()}finally{this.lineStart-=a}},Rt.prototype.lookAhead=function(a){var l=this.lineOracle;return l&&l.lookAhead(a)},Rt.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function Ze(a,l){if(l-=a.first,l<0||l>=a.size)throw new Error("There is no line "+(l+a.first)+" in the document.");for(var p=a;!p.lines;)for(var d=0;;++d){var v=p.children[d],y=v.chunkSize();if(l<y){p=v;break}l-=y}return p.lines[l]}function pr(a,l,p){var d=[],v=l.line;return a.iter(l.line,p.line+1,function(y){var b=y.text;v==p.line&&(b=b.slice(0,p.ch)),v==l.line&&(b=b.slice(l.ch)),d.push(b),++v}),d}function Ar(a,l,p){var d=[];return a.iter(l,p,function(v){d.push(v.text)}),d}function ar(a,l){var p=l-a.height;if(p)for(var d=a;d;d=d.parent)d.height+=p}function xt(a){if(a.parent==null)return null;for(var l=a.parent,p=Re(l.lines,a),d=l.parent;d;l=d,d=d.parent)for(var v=0;d.children[v]!=l;++v)p+=d.children[v].chunkSize();return p+l.first}function Nt(a,l){var p=a.first;e:do{for(var d=0;d<a.children.length;++d){var v=a.children[d],y=v.height;if(l<y){a=v;continue e}l-=y,p+=v.chunkSize()}return p}while(!a.lines);for(var b=0;b<a.lines.length;++b){var x=a.lines[b],S=x.height;if(l<S)break;l-=S}return p+b}function vn(a,l){return l>=a.first&&l<a.first+a.size}function gn(a,l){return String(a.lineNumberFormatter(l+a.firstLineNumber))}function Ae(a,l,p){if(p===void 0&&(p=null),!(this instanceof Ae))return new Ae(a,l,p);this.line=a,this.ch=l,this.sticky=p}function vt(a,l){return a.line-l.line||a.ch-l.ch}function Fr(a,l){return a.sticky==l.sticky&&vt(a,l)==0}function M(a){return Ae(a.line,a.ch)}function $(a,l){return vt(a,l)<0?l:a}function Ce(a,l){return vt(a,l)<0?a:l}function Me(a,l){return Math.max(a.first,Math.min(l,a.first+a.size-1))}function je(a,l){if(l.line<a.first)return Ae(a.first,0);var p=a.first+a.size-1;return l.line>p?Ae(p,Ze(a,p).text.length):Ot(l,Ze(a,l.line).text.length)}function Ot(a,l){var p=a.ch;return p==null||p>l?Ae(a.line,l):p<0?Ae(a.line,0):a}function Et(a,l){for(var p=[],d=0;d<l.length;d++)p[d]=je(a,l[d]);return p}var Bt=function(a,l){this.state=a,this.lookAhead=l},It=function(a,l,p,d){this.state=l,this.doc=a,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};It.prototype.lookAhead=function(a){var l=this.doc.getLine(this.line+a);return l!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),l},It.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},It.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},It.fromSaved=function(a,l,p){return l instanceof Bt?new It(a,kr(a.mode,l.state),p,l.lookAhead):new It(a,kr(a.mode,l),p)},It.prototype.save=function(a){var l=a!==!1?kr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Bt(l,this.maxLookAhead):l};function mo(a,l,p,d){var v=[a.state.modeGen],y={};eo(a,l.text,a.doc.mode,p,function(P,G){return v.push(P,G)},y,d);for(var b=p.state,x=function(P){p.baseTokens=v;var G=a.state.overlays[P],J=1,de=0;p.state=!0,eo(a,l.text,G.mode,p,function(ne,we){for(var Ee=J;de<ne;){var Be=v[J];Be>ne&&v.splice(J,1,ne,v[J+1],Be),J+=2,de=Math.min(ne,Be)}if(we)if(G.opaque)v.splice(Ee,J-Ee,ne,"overlay "+we),J=Ee+2;else for(;Ee<J;Ee+=2){var Ge=v[Ee+1];v[Ee+1]=(Ge?Ge+" ":"")+"overlay "+we}},y),p.state=b,p.baseTokens=null,p.baseTokenPos=1},S=0;S<a.state.overlays.length;++S)x(S);return{styles:v,classes:y.bgClass||y.textClass?y:null}}function mn(a,l,p){if(!l.styles||l.styles[0]!=a.state.modeGen){var d=Hr(a,xt(l)),v=l.text.length>a.options.maxHighlightLength&&kr(a.doc.mode,d.state),y=mo(a,l,d);v&&(d.state=v),l.stateAfter=d.save(!v),l.styles=y.styles,y.classes?l.styleClasses=y.classes:l.styleClasses&&(l.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return l.styles}function Hr(a,l,p){var d=a.doc,v=a.display;if(!d.mode.startState)return new It(d,!0,l);var y=jn(a,l,p),b=y>d.first&&Ze(d,y-1).stateAfter,x=b?It.fromSaved(d,b,y):new It(d,Br(d.mode),y);return d.iter(y,l,function(S){Gn(a,S.text,x);var P=x.line;S.stateAfter=P==l-1||P%5==0||P>=v.viewFrom&&P<v.viewTo?x.save():null,x.nextLine()}),p&&(d.modeFrontier=x.line),x}function Gn(a,l,p,d){var v=a.doc.mode,y=new Rt(l,a.options.tabSize,p);for(y.start=y.pos=d||0,l==""&&zo(v,p.state);!y.eol();)yo(v,y,p.state),y.start=y.pos}function zo(a,l){if(a.blankLine)return a.blankLine(l);if(a.innerMode){var p=rr(a,l);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function yo(a,l,p,d){for(var v=0;v<10;v++){d&&(d[0]=rr(a,p).mode);var y=a.token(l,p);if(l.pos>l.start)return y}throw new Error("Mode "+a.name+" failed to advance stream.")}var Qn=function(a,l,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=l||null,this.state=p};function Ko(a,l,p,d){var v=a.doc,y=v.mode,b;l=je(v,l);var x=Ze(v,l.line),S=Hr(a,l.line,p),P=new Rt(x.text,a.options.tabSize,S),G;for(d&&(G=[]);(d||P.pos<l.ch)&&!P.eol();)P.start=P.pos,b=yo(y,P,S.state),d&&G.push(new Qn(P,b,kr(v.mode,S.state)));return d?G:new Qn(P,b,S.state)}function _o(a,l){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";l[d]==null?l[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(l[d])||(l[d]+=" "+p[2])}return a}function eo(a,l,p,d,v,y,b){var x=p.flattenSpans;x==null&&(x=a.options.flattenSpans);var S=0,P=null,G=new Rt(l,a.options.tabSize,d),J,de=a.options.addModeClass&&[null];for(l==""&&_o(zo(p,d.state),y);!G.eol();){if(G.pos>a.options.maxHighlightLength?(x=!1,b&&Gn(a,l,d,G.pos),G.pos=l.length,J=null):J=_o(yo(p,G,d.state,de),y),de){var ne=de[0].name;ne&&(J="m-"+(J?ne+" "+J:ne))}if(!x||P!=J){for(;S<G.start;)S=Math.min(G.start,S+5e3),v(S,P);P=J}G.start=G.pos}for(;S<G.pos;){var we=Math.min(G.pos,S+5e3);v(we,P),S=we}}function jn(a,l,p){for(var d,v,y=a.doc,b=p?-1:l-(a.doc.mode.innerMode?1e3:100),x=l;x>b;--x){if(x<=y.first)return y.first;var S=Ze(y,x-1),P=S.stateAfter;if(P&&(!p||x+(P instanceof Bt?P.lookAhead:0)<=y.modeFrontier))return x;var G=ye(S.text,null,a.options.tabSize);(v==null||d>G)&&(v=x-1,d=G)}return v}function to(a,l){if(a.modeFrontier=Math.min(a.modeFrontier,l),!(a.highlightFrontier<l-10)){for(var p=a.first,d=l-1;d>p;d--){var v=Ze(a,d).stateAfter;if(v&&(!(v instanceof Bt)||d+v.lookAhead<l)){p=d+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var sr=!1,hr=!1;function bo(){sr=!0}function Go(){hr=!0}function Bn(a,l,p){this.marker=a,this.from=l,this.to=p}function Dr(a,l){if(a)for(var p=0;p<a.length;++p){var d=a[p];if(d.marker==l)return d}}function Yo(a,l){for(var p,d=0;d<a.length;++d)a[d]!=l&&(p||(p=[])).push(a[d]);return p}function Pn(a,l,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&d.has(a.markedSpans)?a.markedSpans.push(l):(a.markedSpans=a.markedSpans?a.markedSpans.concat([l]):[l],d&&d.add(a.markedSpans)),l.marker.attachLine(a)}function vr(a,l,p){var d;if(a)for(var v=0;v<a.length;++v){var y=a[v],b=y.marker,x=y.from==null||(b.inclusiveLeft?y.from<=l:y.from<l);if(x||y.from==l&&b.type=="bookmark"&&(!p||!y.marker.insertLeft)){var S=y.to==null||(b.inclusiveRight?y.to>=l:y.to>l);(d||(d=[])).push(new Bn(b,y.from,S?null:y.to))}}return d}function wo(a,l,p){var d;if(a)for(var v=0;v<a.length;++v){var y=a[v],b=y.marker,x=y.to==null||(b.inclusiveRight?y.to>=l:y.to>l);if(x||y.from==l&&b.type=="bookmark"&&(!p||y.marker.insertLeft)){var S=y.from==null||(b.inclusiveLeft?y.from<=l:y.from<l);(d||(d=[])).push(new Bn(b,S?null:y.from-l,y.to==null?null:y.to-l))}}return d}function yn(a,l){if(l.full)return null;var p=vn(a,l.from.line)&&Ze(a,l.from.line).markedSpans,d=vn(a,l.to.line)&&Ze(a,l.to.line).markedSpans;if(!p&&!d)return null;var v=l.from.ch,y=l.to.ch,b=vt(l.from,l.to)==0,x=vr(p,v,b),S=wo(d,y,b),P=l.text.length==1,G=Fe(l.text).length+(P?v:0);if(x)for(var J=0;J<x.length;++J){var de=x[J];if(de.to==null){var ne=Dr(S,de.marker);ne?P&&(de.to=ne.to==null?null:ne.to+G):de.to=v}}if(S)for(var we=0;we<S.length;++we){var Ee=S[we];if(Ee.to!=null&&(Ee.to+=G),Ee.from==null){var Be=Dr(x,Ee.marker);Be||(Ee.from=G,P&&(x||(x=[])).push(Ee))}else Ee.from+=G,P&&(x||(x=[])).push(Ee)}x&&(x=En(x)),S&&S!=x&&(S=En(S));var Ge=[x];if(!P){var et=l.text.length-2,Ye;if(et>0&&x)for(var tt=0;tt<x.length;++tt)x[tt].to==null&&(Ye||(Ye=[])).push(new Bn(x[tt].marker,null,null));for(var pt=0;pt<et;++pt)Ge.push(Ye);Ge.push(S)}return Ge}function En(a){for(var l=0;l<a.length;++l){var p=a[l];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(l--,1)}return a.length?a:null}function xo(a,l,p){var d=null;if(a.iter(l.line,p.line+1,function(ne){if(ne.markedSpans)for(var we=0;we<ne.markedSpans.length;++we){var Ee=ne.markedSpans[we].marker;Ee.readOnly&&(!d||Re(d,Ee)==-1)&&(d||(d=[])).push(Ee)}}),!d)return null;for(var v=[{from:l,to:p}],y=0;y<d.length;++y)for(var b=d[y],x=b.find(0),S=0;S<v.length;++S){var P=v[S];if(!(vt(P.to,x.from)<0||vt(P.from,x.to)>0)){var G=[S,1],J=vt(P.from,x.from),de=vt(P.to,x.to);(J<0||!b.inclusiveLeft&&!J)&&G.push({from:P.from,to:x.from}),(de>0||!b.inclusiveRight&&!de)&&G.push({from:x.to,to:P.to}),v.splice.apply(v,G),S+=G.length-3}}return v}function _n(a){var l=a.markedSpans;if(l){for(var p=0;p<l.length;++p)l[p].marker.detachLine(a);a.markedSpans=null}}function en(a,l){if(l){for(var p=0;p<l.length;++p)l[p].marker.attachLine(a);a.markedSpans=l}}function ro(a){return a.inclusiveLeft?-1:0}function In(a){return a.inclusiveRight?1:0}function no(a,l){var p=a.lines.length-l.lines.length;if(p!=0)return p;var d=a.find(),v=l.find(),y=vt(d.from,v.from)||ro(a)-ro(l);if(y)return-y;var b=vt(d.to,v.to)||In(a)-In(l);return b||l.id-a.id}function oo(a,l){var p=hr&&a.markedSpans,d;if(p)for(var v=void 0,y=0;y<p.length;++y)v=p[y],v.marker.collapsed&&(l?v.from:v.to)==null&&(!d||no(d,v.marker)<0)&&(d=v.marker);return d}function qo(a){return oo(a,!0)}function bn(a){return oo(a,!1)}function ut(a,l){var p=hr&&a.markedSpans,d;if(p)for(var v=0;v<p.length;++v){var y=p[v];y.marker.collapsed&&(y.from==null||y.from<l)&&(y.to==null||y.to>l)&&(!d||no(d,y.marker)<0)&&(d=y.marker)}return d}function ct(a,l,p,d,v){var y=Ze(a,l),b=hr&&y.markedSpans;if(b)for(var x=0;x<b.length;++x){var S=b[x];if(S.marker.collapsed){var P=S.marker.find(0),G=vt(P.from,p)||ro(S.marker)-ro(v),J=vt(P.to,d)||In(S.marker)-In(v);if(!(G>=0&&J<=0||G<=0&&J>=0)&&(G<=0&&(S.marker.inclusiveRight&&v.inclusiveLeft?vt(P.to,p)>=0:vt(P.to,p)>0)||G>=0&&(S.marker.inclusiveRight&&v.inclusiveLeft?vt(P.from,d)<=0:vt(P.from,d)<0)))return!0}}}function Ct(a){for(var l;l=qo(a);)a=l.find(-1,!0).line;return a}function dt(a){for(var l;l=bn(a);)a=l.find(1,!0).line;return a}function Jt(a){for(var l,p;l=bn(a);)a=l.find(1,!0).line,(p||(p=[])).push(a);return p}function tn(a,l){var p=Ze(a,l),d=Ct(p);return p==d?l:xt(d)}function rn(a,l){if(l>a.lastLine())return l;var p=Ze(a,l),d;if(!yr(a,p))return l;for(;d=bn(p);)p=d.find(1,!0).line;return xt(p)+1}function yr(a,l){var p=hr&&l.markedSpans;if(p){for(var d=void 0,v=0;v<p.length;++v)if(d=p[v],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&Tr(a,l,d))return!0}}}function Tr(a,l,p){if(p.to==null){var d=p.marker.find(1,!0);return Tr(a,d.line,Dr(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==l.text.length)return!0;for(var v=void 0,y=0;y<l.markedSpans.length;++y)if(v=l.markedSpans[y],v.marker.collapsed&&!v.marker.widgetNode&&v.from==p.to&&(v.to==null||v.to!=p.from)&&(v.marker.inclusiveLeft||p.marker.inclusiveRight)&&Tr(a,l,v))return!0}function nn(a){a=Ct(a);for(var l=0,p=a.parent,d=0;d<p.lines.length;++d){var v=p.lines[d];if(v==a)break;l+=v.height}for(var y=p.parent;y;p=y,y=p.parent)for(var b=0;b<y.children.length;++b){var x=y.children[b];if(x==p)break;l+=x.height}return l}function Vn(a){if(a.height==0)return 0;for(var l=a.text.length,p,d=a;p=qo(d);){var v=p.find(0,!0);d=v.from.line,l+=v.from.ch-v.to.ch}for(d=a;p=bn(d);){var y=p.find(0,!0);l-=d.text.length-y.from.ch,d=y.to.line,l+=d.text.length-y.to.ch}return l}function Co(a){var l=a.display,p=a.doc;l.maxLine=Ze(p,p.first),l.maxLineLength=Vn(l.maxLine),l.maxLineChanged=!0,p.iter(function(d){var v=Vn(d);v>l.maxLineLength&&(l.maxLineLength=v,l.maxLine=d)})}var _r=function(a,l,p){this.text=a,en(this,l),this.height=p?p(this):1};_r.prototype.lineNo=function(){return xt(this)},At(_r);function vs(a,l,p,d){a.text=l,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),_n(a),en(a,p);var v=d?d(a):1;v!=a.height&&ar(a,v)}function wi(a){a.parent=null,_n(a)}var gs={},ca={};function ua(a,l){if(!a||/^\s*$/.test(a))return null;var p=l.addModeClass?ca:gs;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function xi(a,l){var p=H("span",null,null,f?"padding-right: .1px":null),d={pre:H("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};l.measure={};for(var v=0;v<=(l.rest?l.rest.length:0);v++){var y=v?l.rest[v-1]:l.line,b=void 0;d.pos=0,d.addToken=ys,ir(a.display.measure)&&(b=D(y,a.doc.direction))&&(d.addToken=_s(d.addToken,b)),d.map=[];var x=l!=a.display.externalMeasured&&xt(y);bs(y,d,mn(a,y,x)),y.styleClasses&&(y.styleClasses.bgClass&&(d.bgClass=Le(y.styleClasses.bgClass,d.bgClass||"")),y.styleClasses.textClass&&(d.textClass=Le(y.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(lt(a.display.measure))),v==0?(l.measure.map=d.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(d.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(f){var S=d.content.lastChild;(/\bcm-tab\b/.test(S.className)||S.querySelector&&S.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return qe(a,"renderLine",a,l.line,d.pre),d.pre.className&&(d.textClass=Le(d.pre.className,d.textClass||"")),d}function ms(a){var l=U("span","\u2022","cm-invalidchar");return l.title="\\u"+a.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function ys(a,l,p,d,v,y,b){if(l){var x=a.splitSpaces?Ci(l,a.trailingSpace):l,S=a.cm.state.specialChars,P=!1,G;if(!S.test(l))a.col+=l.length,G=document.createTextNode(x),a.map.push(a.pos,a.pos+l.length,G),c&&u<9&&(P=!0),a.pos+=l.length;else{G=document.createDocumentFragment();for(var J=0;;){S.lastIndex=J;var de=S.exec(l),ne=de?de.index-J:l.length-J;if(ne){var we=document.createTextNode(x.slice(J,J+ne));c&&u<9?G.appendChild(U("span",[we])):G.appendChild(we),a.map.push(a.pos,a.pos+ne,we),a.col+=ne,a.pos+=ne}if(!de)break;J+=ne+1;var Ee=void 0;if(de[0]=="	"){var Be=a.cm.options.tabSize,Ge=Be-a.col%Be;Ee=G.appendChild(U("span",Qe(Ge),"cm-tab")),Ee.setAttribute("role","presentation"),Ee.setAttribute("cm-text","	"),a.col+=Ge}else de[0]=="\r"||de[0]==`
`?(Ee=G.appendChild(U("span",de[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Ee.setAttribute("cm-text",de[0]),a.col+=1):(Ee=a.cm.options.specialCharPlaceholder(de[0]),Ee.setAttribute("cm-text",de[0]),c&&u<9?G.appendChild(U("span",[Ee])):G.appendChild(Ee),a.col+=1);a.map.push(a.pos,a.pos+1,Ee),a.pos++}}if(a.trailingSpace=x.charCodeAt(l.length-1)==32,p||d||v||P||y||b){var et=p||"";d&&(et+=d),v&&(et+=v);var Ye=U("span",[G],et,y);if(b)for(var tt in b)b.hasOwnProperty(tt)&&tt!="style"&&tt!="class"&&Ye.setAttribute(tt,b[tt]);return a.content.appendChild(Ye)}a.content.appendChild(G)}}function Ci(a,l){if(a.length>1&&!/  /.test(a))return a;for(var p=l,d="",v=0;v<a.length;v++){var y=a.charAt(v);y==" "&&p&&(v==a.length-1||a.charCodeAt(v+1)==32)&&(y="\xA0"),d+=y,p=y==" "}return d}function _s(a,l){return function(p,d,v,y,b,x,S){v=v?v+" cm-force-border":"cm-force-border";for(var P=p.pos,G=P+d.length;;){for(var J=void 0,de=0;de<l.length&&(J=l[de],!(J.to>P&&J.from<=P));de++);if(J.to>=G)return a(p,d,v,y,b,x,S);a(p,d.slice(0,J.to-P),v,y,null,x,S),y=null,d=d.slice(J.to-P),P=J.to}}}function fa(a,l,p,d){var v=!d&&p.widgetNode;v&&a.map.push(a.pos,a.pos+l,v),!d&&a.cm.display.input.needsContentAttribute&&(v||(v=a.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",p.id)),v&&(a.cm.display.input.setUneditable(v),a.content.appendChild(v)),a.pos+=l,a.trailingSpace=!1}function bs(a,l,p){var d=a.markedSpans,v=a.text,y=0;if(!d){for(var b=1;b<p.length;b+=2)l.addToken(l,v.slice(y,y=p[b]),ua(p[b+1],l.cm.options));return}for(var x=v.length,S=0,P=1,G="",J,de,ne=0,we,Ee,Be,Ge,et;;){if(ne==S){we=Ee=Be=de="",et=null,Ge=null,ne=1/0;for(var Ye=[],tt=void 0,pt=0;pt<d.length;++pt){var ft=d[pt],Tt=ft.marker;if(Tt.type=="bookmark"&&ft.from==S&&Tt.widgetNode)Ye.push(Tt);else if(ft.from<=S&&(ft.to==null||ft.to>S||Tt.collapsed&&ft.to==S&&ft.from==S)){if(ft.to!=null&&ft.to!=S&&ne>ft.to&&(ne=ft.to,Ee=""),Tt.className&&(we+=" "+Tt.className),Tt.css&&(de=(de?de+";":"")+Tt.css),Tt.startStyle&&ft.from==S&&(Be+=" "+Tt.startStyle),Tt.endStyle&&ft.to==ne&&(tt||(tt=[])).push(Tt.endStyle,ft.to),Tt.title&&((et||(et={})).title=Tt.title),Tt.attributes)for(var Ut in Tt.attributes)(et||(et={}))[Ut]=Tt.attributes[Ut];Tt.collapsed&&(!Ge||no(Ge.marker,Tt)<0)&&(Ge=ft)}else ft.from>S&&ne>ft.from&&(ne=ft.from)}if(tt)for(var xr=0;xr<tt.length;xr+=2)tt[xr+1]==ne&&(Ee+=" "+tt[xr]);if(!Ge||Ge.from==S)for(var $t=0;$t<Ye.length;++$t)fa(l,0,Ye[$t]);if(Ge&&(Ge.from||0)==S){if(fa(l,(Ge.to==null?x+1:Ge.to)-S,Ge.marker,Ge.from==null),Ge.to==null)return;Ge.to==S&&(Ge=!1)}}if(S>=x)break;for(var sn=Math.min(x,ne);;){if(G){var zr=S+G.length;if(!Ge){var lr=zr>sn?G.slice(0,sn-S):G;l.addToken(l,lr,J?J+we:we,Be,S+lr.length==ne?Ee:"",de,et)}if(zr>=sn){G=G.slice(sn-S),S=sn;break}S=zr,Be=""}G=v.slice(y,y=p[P++]),J=ua(p[P++],l.cm.options)}}}function da(a,l,p){this.line=l,this.rest=Jt(l),this.size=this.rest?xt(Fe(this.rest))-p+1:1,this.node=this.text=null,this.hidden=yr(a,l)}function Si(a,l,p){for(var d=[],v,y=l;y<p;y=v){var b=new da(a.doc,Ze(a.doc,y),y);v=y+b.size,d.push(b)}return d}var io=null;function ws(a){io?io.ops.push(a):a.ownsGroup=io={ops:[a],delayedCallbacks:[]}}function xc(a){var l=a.delayedCallbacks,p=0;do{for(;p<l.length;p++)l[p].call(null);for(var d=0;d<a.ops.length;d++){var v=a.ops[d];if(v.cursorActivityHandlers)for(;v.cursorActivityCalled<v.cursorActivityHandlers.length;)v.cursorActivityHandlers[v.cursorActivityCalled++].call(null,v.cm)}}while(p<l.length)}function pa(a,l){var p=a.ownsGroup;if(p)try{xc(p)}finally{io=null,l(p)}}var So=null;function Zt(a,l){var p=De(a,l);if(p.length){var d=Array.prototype.slice.call(arguments,2),v;io?v=io.delayedCallbacks:So?v=So:(v=So=[],setTimeout(Oo,0));for(var y=function(x){v.push(function(){return p[x].apply(null,d)})},b=0;b<p.length;++b)y(b)}}function Oo(){var a=So;So=null;for(var l=0;l<a.length;++l)a[l]()}function Yn(a,l,p,d){for(var v=0;v<l.changes.length;v++){var y=l.changes[v];y=="text"?va(a,l):y=="gutter"?To(a,l,p,d):y=="class"?Oi(a,l):y=="widget"&&Cs(a,l,d)}l.changes=null}function ko(a){return a.node==a.text&&(a.node=U("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),c&&u<8&&(a.node.style.zIndex=2)),a.node}function xs(a,l){var p=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),l.background)p?l.background.className=p:(l.background.parentNode.removeChild(l.background),l.background=null);else if(p){var d=ko(l);l.background=d.insertBefore(U("div",null,p),d.firstChild),a.display.input.setUneditable(l.background)}}function ha(a,l){var p=a.display.externalMeasured;return p&&p.line==l.line?(a.display.externalMeasured=null,l.measure=p.measure,p.built):xi(a,l)}function va(a,l){var p=l.text.className,d=ha(a,l);l.text==l.node&&(l.node=d.pre),l.text.parentNode.replaceChild(d.pre,l.text),l.text=d.pre,d.bgClass!=l.bgClass||d.textClass!=l.textClass?(l.bgClass=d.bgClass,l.textClass=d.textClass,Oi(a,l)):p&&(l.text.className=p)}function Oi(a,l){xs(a,l),l.line.wrapClass?ko(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var p=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=p||""}function To(a,l,p,d){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var v=ko(l);l.gutterBackground=U("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),a.display.input.setUneditable(l.gutterBackground),v.insertBefore(l.gutterBackground,l.text)}var y=l.line.gutterMarkers;if(a.options.lineNumbers||y){var b=ko(l),x=l.gutter=U("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(x.setAttribute("aria-hidden","true"),a.display.input.setUneditable(x),b.insertBefore(x,l.text),l.line.gutterClass&&(x.className+=" "+l.line.gutterClass),a.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(l.lineNumber=x.appendChild(U("div",gn(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),y)for(var S=0;S<a.display.gutterSpecs.length;++S){var P=a.display.gutterSpecs[S].className,G=y.hasOwnProperty(P)&&y[P];G&&x.appendChild(U("div",[G],"CodeMirror-gutter-elt","left: "+d.gutterLeft[P]+"px; width: "+d.gutterWidth[P]+"px"))}}}function Cs(a,l,p){l.alignable&&(l.alignable=null);for(var d=q("CodeMirror-linewidget"),v=l.node.firstChild,y=void 0;v;v=y)y=v.nextSibling,d.test(v.className)&&l.node.removeChild(v);Po(a,l,p)}function Ss(a,l,p,d){var v=ha(a,l);return l.text=l.node=v.pre,v.bgClass&&(l.bgClass=v.bgClass),v.textClass&&(l.textClass=v.textClass),Oi(a,l),To(a,l,p,d),Po(a,l,d),l.node}function Po(a,l,p){if(ga(a,l.line,l,p,!0),l.rest)for(var d=0;d<l.rest.length;d++)ga(a,l.rest[d],l,p,!1)}function ga(a,l,p,d,v){if(l.widgets)for(var y=ko(p),b=0,x=l.widgets;b<x.length;++b){var S=x[b],P=U("div",[S.node],"CodeMirror-linewidget"+(S.className?" "+S.className:""));S.handleMouseEvents||P.setAttribute("cm-ignore-events","true"),Os(S,P,p,d),a.display.input.setUneditable(P),v&&S.above?y.insertBefore(P,p.gutter||p.text):y.appendChild(P),Zt(S,"redraw")}}function Os(a,l,p,d){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(l);var v=d.wrapperWidth;l.style.left=d.fixedPos+"px",a.coverGutter||(v-=d.gutterTotalWidth,l.style.paddingLeft=d.gutterTotalWidth+"px"),l.style.width=v+"px"}a.coverGutter&&(l.style.zIndex=5,l.style.position="relative",a.noHScroll||(l.style.marginLeft=-d.gutterTotalWidth+"px"))}function Eo(a){if(a.height!=null)return a.height;var l=a.doc.cm;if(!l)return 0;if(!E(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+l.display.wrapper.clientWidth+"px;"),R(l.display.measure,U("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function An(a,l){for(var p=Z(l);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function Ao(a){return a.lineSpace.offsetTop}function Xo(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ks(a){if(a.cachedPaddingH)return a.cachedPaddingH;var l=R(a.measure,U("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(a.cachedPaddingH=d),d}function on(a){return Ue-a.display.nativeBarWidth}function ao(a){return a.display.scroller.clientWidth-on(a)-a.display.barWidth}function O(a){return a.display.scroller.clientHeight-on(a)-a.display.barHeight}function L(a,l,p){var d=a.options.lineWrapping,v=d&&ao(a);if(!l.measure.heights||d&&l.measure.width!=v){var y=l.measure.heights=[];if(d){l.measure.width=v;for(var b=l.text.firstChild.getClientRects(),x=0;x<b.length-1;x++){var S=b[x],P=b[x+1];Math.abs(S.bottom-P.bottom)>2&&y.push((S.bottom+P.top)/2-p.top)}}y.push(p.bottom-p.top)}}function X(a,l,p){if(a.line==l)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==l)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var v=0;v<a.rest.length;v++)if(xt(a.rest[v])>p)return{map:a.measure.maps[v],cache:a.measure.caches[v],before:!0}}function Q(a,l){l=Ct(l);var p=xt(l),d=a.display.externalMeasured=new da(a.doc,l,p);d.lineN=p;var v=d.built=xi(a,d);return d.text=v.pre,R(a.display.lineMeasure,v.pre),d}function pe(a,l,p,d){return He(a,ke(a,l),p,d)}function le(a,l){if(l>=a.display.viewFrom&&l<a.display.viewTo)return a.display.view[Zo(a,l)];var p=a.display.externalMeasured;if(p&&l>=p.lineN&&l<p.lineN+p.size)return p}function ke(a,l){var p=xt(l),d=le(a,p);d&&!d.text?d=null:d&&d.changes&&(Yn(a,d,p,Tc(a)),a.curOp.forceUpdate=!0),d||(d=Q(a,l));var v=X(d,l,p);return{line:l,view:d,rect:null,map:v.map,cache:v.cache,before:v.before,hasHeights:!1}}function He(a,l,p,d,v){l.before&&(p=-1);var y=p+(d||""),b;return l.cache.hasOwnProperty(y)?b=l.cache[y]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(L(a,l.view,l.rect),l.hasHeights=!0),b=Mr(a,l,p,d),b.bogus||(l.cache[y]=b)),{left:b.left,right:b.right,top:v?b.rtop:b.top,bottom:v?b.rbottom:b.bottom}}var St={left:0,right:0,top:0,bottom:0};function wt(a,l,p){for(var d,v,y,b,x,S,P=0;P<a.length;P+=3)if(x=a[P],S=a[P+1],l<x?(v=0,y=1,b="left"):l<S?(v=l-x,y=v+1):(P==a.length-3||l==S&&a[P+3]>l)&&(y=S-x,v=y-1,l>=S&&(b="right")),v!=null){if(d=a[P+2],x==S&&p==(d.insertLeft?"left":"right")&&(b=p),p=="left"&&v==0)for(;P&&a[P-2]==a[P-3]&&a[P-1].insertLeft;)d=a[(P-=3)+2],b="left";if(p=="right"&&v==S-x)for(;P<a.length-3&&a[P+3]==a[P+4]&&!a[P+5].insertLeft;)d=a[(P+=3)+2],b="right";break}return{node:d,start:v,end:y,collapse:b,coverStart:x,coverEnd:S}}function gr(a,l){var p=St;if(l=="left")for(var d=0;d<a.length&&(p=a[d]).left==p.right;d++);else for(var v=a.length-1;v>=0&&(p=a[v]).left==p.right;v--);return p}function Mr(a,l,p,d){var v=wt(l.map,p,d),y=v.node,b=v.start,x=v.end,S=v.collapse,P;if(y.nodeType==3){for(var G=0;G<4;G++){for(;b&&fe(l.line.text.charAt(v.coverStart+b));)--b;for(;v.coverStart+x<v.coverEnd&&fe(l.line.text.charAt(v.coverStart+x));)++x;if(c&&u<9&&b==0&&x==v.coverEnd-v.coverStart?P=y.parentNode.getBoundingClientRect():P=gr(te(y,b,x).getClientRects(),d),P.left||P.right||b==0)break;x=b,b=b-1,S="right"}c&&u<11&&(P=Ts(a.display.measure,P))}else{b>0&&(S=d="right");var J;a.options.lineWrapping&&(J=y.getClientRects()).length>1?P=J[d=="right"?J.length-1:0]:P=y.getBoundingClientRect()}if(c&&u<9&&!b&&(!P||!P.left&&!P.right)){var de=y.parentNode.getClientRects()[0];de?P={left:de.left,right:de.left+Ti(a.display),top:de.top,bottom:de.bottom}:P=St}for(var ne=P.top-l.rect.top,we=P.bottom-l.rect.top,Ee=(ne+we)/2,Be=l.view.measure.heights,Ge=0;Ge<Be.length-1&&!(Ee<Be[Ge]);Ge++);var et=Ge?Be[Ge-1]:0,Ye=Be[Ge],tt={left:(S=="right"?P.right:P.left)-l.rect.left,right:(S=="left"?P.left:P.right)-l.rect.left,top:et,bottom:Ye};return!P.left&&!P.right&&(tt.bogus=!0),a.options.singleCursorHeightPerLine||(tt.rtop=ne,tt.rbottom=we),tt}function Ts(a,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!zt(a))return l;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*p,right:l.right*p,top:l.top*d,bottom:l.bottom*d}}function ma(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var l=0;l<a.rest.length;l++)a.measure.caches[l]={}}function Ef(a){a.display.externalMeasure=null,F(a.display.lineMeasure);for(var l=0;l<a.display.view.length;l++)ma(a.display.view[l])}function ya(a){Ef(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Af(){return g&&B?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Df(){return g&&B?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Cc(a){var l=0;if(a.widgets)for(var p=0;p<a.widgets.length;++p)a.widgets[p].above&&(l+=Eo(a.widgets[p]));return l}function Ps(a,l,p,d,v){if(!v){var y=Cc(l);p.top+=y,p.bottom+=y}if(d=="line")return p;d||(d="local");var b=nn(l);if(d=="local"?b+=Ao(a.display):b-=a.display.viewOffset,d=="page"||d=="window"){var x=a.display.lineSpace.getBoundingClientRect();b+=x.top+(d=="window"?0:Df());var S=x.left+(d=="window"?0:Af());p.left+=S,p.right+=S}return p.top+=b,p.bottom+=b,p}function Mf(a,l,p){if(p=="div")return l;var d=l.left,v=l.top;if(p=="page")d-=Af(),v-=Df();else if(p=="local"||!p){var y=a.display.sizer.getBoundingClientRect();d+=y.left,v+=y.top}var b=a.display.lineSpace.getBoundingClientRect();return{left:d-b.left,top:v-b.top}}function Es(a,l,p,d,v){return d||(d=Ze(a.doc,l.line)),Ps(a,d,pe(a,d,l.ch,v),p)}function Nn(a,l,p,d,v,y){d=d||Ze(a.doc,l.line),v||(v=ke(a,d));function b(we,Ee){var Be=He(a,v,we,Ee?"right":"left",y);return Ee?Be.left=Be.right:Be.right=Be.left,Ps(a,d,Be,p)}var x=D(d,a.doc.direction),S=l.ch,P=l.sticky;if(S>=d.text.length?(S=d.text.length,P="before"):S<=0&&(S=0,P="after"),!x)return b(P=="before"?S-1:S,P=="before");function G(we,Ee,Be){var Ge=x[Ee],et=Ge.level==1;return b(Be?we-1:we,et!=Be)}var J=V(x,S,P),de=gt,ne=G(S,J,P=="before");return de!=null&&(ne.other=G(S,de,P!="before")),ne}function Lf(a,l){var p=0;l=je(a.doc,l),a.options.lineWrapping||(p=Ti(a.display)*l.ch);var d=Ze(a.doc,l.line),v=nn(d)+Ao(a.display);return{left:p,right:p,top:v,bottom:v+d.height}}function Sc(a,l,p,d,v){var y=Ae(a,l,p);return y.xRel=v,d&&(y.outside=d),y}function Oc(a,l,p){var d=a.doc;if(p+=a.display.viewOffset,p<0)return Sc(d.first,0,null,-1,-1);var v=Nt(d,p),y=d.first+d.size-1;if(v>y)return Sc(d.first+d.size-1,Ze(d,y).text.length,null,1,1);l<0&&(l=0);for(var b=Ze(d,v);;){var x=by(a,b,v,l,p),S=ut(b,x.ch+(x.xRel>0||x.outside>0?1:0));if(!S)return x;var P=S.find(1);if(P.line==v)return P;b=Ze(d,v=P.line)}}function Rf(a,l,p,d){d-=Cc(l);var v=l.text.length,y=rt(function(b){return He(a,p,b-1).bottom<=d},v,0);return v=rt(function(b){return He(a,p,b).top>d},y,v),{begin:y,end:v}}function jf(a,l,p,d){p||(p=ke(a,l));var v=Ps(a,l,He(a,p,d),"line").top;return Rf(a,l,p,v)}function kc(a,l,p,d){return a.bottom<=p?!1:a.top>p?!0:(d?a.left:a.right)>l}function by(a,l,p,d,v){v-=nn(l);var y=ke(a,l),b=Cc(l),x=0,S=l.text.length,P=!0,G=D(l,a.doc.direction);if(G){var J=(a.options.lineWrapping?xy:wy)(a,l,p,y,G,d,v);P=J.level!=1,x=P?J.from:J.to-1,S=P?J.to:J.from-1}var de=null,ne=null,we=rt(function(pt){var ft=He(a,y,pt);return ft.top+=b,ft.bottom+=b,kc(ft,d,v,!1)?(ft.top<=v&&ft.left<=d&&(de=pt,ne=ft),!0):!1},x,S),Ee,Be,Ge=!1;if(ne){var et=d-ne.left<ne.right-d,Ye=et==P;we=de+(Ye?0:1),Be=Ye?"after":"before",Ee=et?ne.left:ne.right}else{!P&&(we==S||we==x)&&we++,Be=we==0?"after":we==l.text.length?"before":He(a,y,we-(P?1:0)).bottom+b<=v==P?"after":"before";var tt=Nn(a,Ae(p,we,Be),"line",l,y);Ee=tt.left,Ge=v<tt.top?-1:v>=tt.bottom?1:0}return we=oe(l.text,we,1),Sc(p,we,Be,Ge,d-Ee)}function wy(a,l,p,d,v,y,b){var x=rt(function(J){var de=v[J],ne=de.level!=1;return kc(Nn(a,Ae(p,ne?de.to:de.from,ne?"before":"after"),"line",l,d),y,b,!0)},0,v.length-1),S=v[x];if(x>0){var P=S.level!=1,G=Nn(a,Ae(p,P?S.from:S.to,P?"after":"before"),"line",l,d);kc(G,y,b,!0)&&G.top>b&&(S=v[x-1])}return S}function xy(a,l,p,d,v,y,b){var x=Rf(a,l,d,b),S=x.begin,P=x.end;/\s/.test(l.text.charAt(P-1))&&P--;for(var G=null,J=null,de=0;de<v.length;de++){var ne=v[de];if(!(ne.from>=P||ne.to<=S)){var we=ne.level!=1,Ee=He(a,d,we?Math.min(P,ne.to)-1:Math.max(S,ne.from)).right,Be=Ee<y?y-Ee+1e9:Ee-y;(!G||J>Be)&&(G=ne,J=Be)}}return G||(G=v[v.length-1]),G.from<S&&(G={from:S,to:G.to,level:G.level}),G.to>P&&(G={from:G.from,to:P,level:G.level}),G}var $o;function ki(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if($o==null){$o=U("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)$o.appendChild(document.createTextNode("x")),$o.appendChild(U("br"));$o.appendChild(document.createTextNode("x"))}R(a.measure,$o);var p=$o.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),F(a.measure),p||1}function Ti(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var l=U("span","xxxxxxxxxx"),p=U("pre",[l],"CodeMirror-line-like");R(a.measure,p);var d=l.getBoundingClientRect(),v=(d.right-d.left)/10;return v>2&&(a.cachedCharWidth=v),v||10}function Tc(a){for(var l=a.display,p={},d={},v=l.gutters.clientLeft,y=l.gutters.firstChild,b=0;y;y=y.nextSibling,++b){var x=a.display.gutterSpecs[b].className;p[x]=y.offsetLeft+y.clientLeft+v,d[x]=y.clientWidth}return{fixedPos:Pc(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:l.wrapper.clientWidth}}function Pc(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Bf(a){var l=ki(a.display),p=a.options.lineWrapping,d=p&&Math.max(5,a.display.scroller.clientWidth/Ti(a.display)-3);return function(v){if(yr(a.doc,v))return 0;var y=0;if(v.widgets)for(var b=0;b<v.widgets.length;b++)v.widgets[b].height&&(y+=v.widgets[b].height);return p?y+(Math.ceil(v.text.length/d)||1)*l:y+l}}function Ec(a){var l=a.doc,p=Bf(a);l.iter(function(d){var v=p(d);v!=d.height&&ar(d,v)})}function Jo(a,l,p,d){var v=a.display;if(!p&&Z(l).getAttribute("cm-not-content")=="true")return null;var y,b,x=v.lineSpace.getBoundingClientRect();try{y=l.clientX-x.left,b=l.clientY-x.top}catch{return null}var S=Oc(a,y,b),P;if(d&&S.xRel>0&&(P=Ze(a.doc,S.line).text).length==S.ch){var G=ye(P,P.length,a.options.tabSize)-P.length;S=Ae(S.line,Math.max(0,Math.round((y-ks(a.display).left)/Ti(a.display))-G))}return S}function Zo(a,l){if(l>=a.display.viewTo||(l-=a.display.viewFrom,l<0))return null;for(var p=a.display.view,d=0;d<p.length;d++)if(l-=p[d].size,l<0)return d}function Ur(a,l,p,d){l==null&&(l=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),d||(d=0);var v=a.display;if(d&&p<v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>l)&&(v.updateLineNumbers=l),a.curOp.viewChanged=!0,l>=v.viewTo)hr&&tn(a.doc,l)<v.viewTo&&Mo(a);else if(p<=v.viewFrom)hr&&rn(a.doc,p+d)>v.viewFrom?Mo(a):(v.viewFrom+=d,v.viewTo+=d);else if(l<=v.viewFrom&&p>=v.viewTo)Mo(a);else if(l<=v.viewFrom){var y=As(a,p,p+d,1);y?(v.view=v.view.slice(y.index),v.viewFrom=y.lineN,v.viewTo+=d):Mo(a)}else if(p>=v.viewTo){var b=As(a,l,l,-1);b?(v.view=v.view.slice(0,b.index),v.viewTo=b.lineN):Mo(a)}else{var x=As(a,l,l,-1),S=As(a,p,p+d,1);x&&S?(v.view=v.view.slice(0,x.index).concat(Si(a,x.lineN,S.lineN)).concat(v.view.slice(S.index)),v.viewTo+=d):Mo(a)}var P=v.externalMeasured;P&&(p<P.lineN?P.lineN+=d:l<P.lineN+P.size&&(v.externalMeasured=null))}function Do(a,l,p){a.curOp.viewChanged=!0;var d=a.display,v=a.display.externalMeasured;if(v&&l>=v.lineN&&l<v.lineN+v.size&&(d.externalMeasured=null),!(l<d.viewFrom||l>=d.viewTo)){var y=d.view[Zo(a,l)];if(y.node!=null){var b=y.changes||(y.changes=[]);Re(b,p)==-1&&b.push(p)}}}function Mo(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function As(a,l,p,d){var v=Zo(a,l),y,b=a.display.view;if(!hr||p==a.doc.first+a.doc.size)return{index:v,lineN:p};for(var x=a.display.viewFrom,S=0;S<v;S++)x+=b[S].size;if(x!=l){if(d>0){if(v==b.length-1)return null;y=x+b[v].size-l,v++}else y=x-l;l+=y,p+=y}for(;tn(a.doc,p)!=p;){if(v==(d<0?0:b.length-1))return null;p+=d*b[v-(d<0?1:0)].size,v+=d}return{index:v,lineN:p}}function Cy(a,l,p){var d=a.display,v=d.view;v.length==0||l>=d.viewTo||p<=d.viewFrom?(d.view=Si(a,l,p),d.viewFrom=l):(d.viewFrom>l?d.view=Si(a,l,d.viewFrom).concat(d.view):d.viewFrom<l&&(d.view=d.view.slice(Zo(a,l))),d.viewFrom=l,d.viewTo<p?d.view=d.view.concat(Si(a,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,Zo(a,p)))),d.viewTo=p}function If(a){for(var l=a.display.view,p=0,d=0;d<l.length;d++){var v=l[d];!v.hidden&&(!v.node||v.changes)&&++p}return p}function _a(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Vf(a,l){l===void 0&&(l=!0);for(var p=a.doc,d={},v=d.cursors=document.createDocumentFragment(),y=d.selection=document.createDocumentFragment(),b=0;b<p.sel.ranges.length;b++)if(!(!l&&b==p.sel.primIndex)){var x=p.sel.ranges[b];if(!(x.from().line>=a.display.viewTo||x.to().line<a.display.viewFrom)){var S=x.empty();(S||a.options.showCursorWhenSelecting)&&Nf(a,x.head,v),S||Sy(a,x,y)}}return d}function Nf(a,l,p){var d=Nn(a,l,"div",null,null,!a.options.singleCursorHeightPerLine),v=p.appendChild(U("div","\xA0","CodeMirror-cursor"));if(v.style.left=d.left+"px",v.style.top=d.top+"px",v.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var y=Es(a,l,"div",null,null);y.right-y.left>0&&(v.style.width=y.right-y.left+"px")}if(d.other){var b=p.appendChild(U("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));b.style.display="",b.style.left=d.other.left+"px",b.style.top=d.other.top+"px",b.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function Ds(a,l){return a.top-l.top||a.left-l.left}function Sy(a,l,p){var d=a.display,v=a.doc,y=document.createDocumentFragment(),b=ks(a.display),x=b.left,S=Math.max(d.sizerWidth,ao(a)-d.sizer.offsetLeft)-b.right,P=v.direction=="ltr";function G(Ye,tt,pt,ft){tt<0&&(tt=0),tt=Math.round(tt),ft=Math.round(ft),y.appendChild(U("div",null,"CodeMirror-selected","position: absolute; left: "+Ye+`px;
                             top: `+tt+"px; width: "+(pt??S-Ye)+`px;
                             height: `+(ft-tt)+"px"))}function J(Ye,tt,pt){var ft=Ze(v,Ye),Tt=ft.text.length,Ut,xr;function $t(lr,Kr){return Es(a,Ae(Ye,lr),"div",ft,Kr)}function sn(lr,Kr,Pr){var mr=jf(a,ft,null,lr),cr=Kr=="ltr"==(Pr=="after")?"left":"right",Qt=Pr=="after"?mr.begin:mr.end-(/\s/.test(ft.text.charAt(mr.end-1))?2:1);return $t(Qt,cr)[cr]}var zr=D(ft,v.direction);return bt(zr,tt||0,pt??Tt,function(lr,Kr,Pr,mr){var cr=Pr=="ltr",Qt=$t(lr,cr?"left":"right"),Gr=$t(Kr-1,cr?"right":"left"),Fi=tt==null&&lr==0,Vo=pt==null&&Kr==Tt,Rr=mr==0,qn=!zr||mr==zr.length-1;if(Gr.top-Qt.top<=3){var Cr=(P?Fi:Vo)&&Rr,tu=(P?Vo:Fi)&&qn,lo=Cr?x:(cr?Qt:Gr).left,ni=tu?S:(cr?Gr:Qt).right;G(lo,Qt.top,ni-lo,Qt.bottom)}else{var oi,Vr,Hi,ru;cr?(oi=P&&Fi&&Rr?x:Qt.left,Vr=P?S:sn(lr,Pr,"before"),Hi=P?x:sn(Kr,Pr,"after"),ru=P&&Vo&&qn?S:Gr.right):(oi=P?sn(lr,Pr,"before"):x,Vr=!P&&Fi&&Rr?S:Qt.right,Hi=!P&&Vo&&qn?x:Gr.left,ru=P?sn(Kr,Pr,"after"):S),G(oi,Qt.top,Vr-oi,Qt.bottom),Qt.bottom<Gr.top&&G(x,Qt.bottom,null,Gr.top),G(Hi,Gr.top,ru-Hi,Gr.bottom)}(!Ut||Ds(Qt,Ut)<0)&&(Ut=Qt),Ds(Gr,Ut)<0&&(Ut=Gr),(!xr||Ds(Qt,xr)<0)&&(xr=Qt),Ds(Gr,xr)<0&&(xr=Gr)}),{start:Ut,end:xr}}var de=l.from(),ne=l.to();if(de.line==ne.line)J(de.line,de.ch,ne.ch);else{var we=Ze(v,de.line),Ee=Ze(v,ne.line),Be=Ct(we)==Ct(Ee),Ge=J(de.line,de.ch,Be?we.text.length+1:null).end,et=J(ne.line,Be?0:null,ne.ch).start;Be&&(Ge.top<et.top-2?(G(Ge.right,Ge.top,null,Ge.bottom),G(x,et.top,et.left,et.bottom)):G(Ge.right,Ge.top,et.left-Ge.right,Ge.bottom)),Ge.bottom<et.top&&G(x,Ge.bottom,null,et.top)}p.appendChild(y)}function Ac(a){if(a.state.focused){var l=a.display;clearInterval(l.blinker);var p=!0;l.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?l.blinker=setInterval(function(){a.hasFocus()||Pi(a),l.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function Ff(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Mc(a))}function Dc(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Pi(a))},100)}function Mc(a,l){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(qe(a,"focus",a,l),a.state.focused=!0,ve(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),f&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Ac(a))}function Pi(a,l){a.state.delayingBlurEvent||(a.state.focused&&(qe(a,"blur",a,l),a.state.focused=!1,ae(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Ms(a){for(var l=a.display,p=l.lineDiv.offsetTop,d=Math.max(0,l.scroller.getBoundingClientRect().top),v=l.lineDiv.getBoundingClientRect().top,y=0,b=0;b<l.view.length;b++){var x=l.view[b],S=a.options.lineWrapping,P=void 0,G=0;if(!x.hidden){if(v+=x.line.height,c&&u<8){var J=x.node.offsetTop+x.node.offsetHeight;P=J-p,p=J}else{var de=x.node.getBoundingClientRect();P=de.bottom-de.top,!S&&x.text.firstChild&&(G=x.text.firstChild.getBoundingClientRect().right-de.left-1)}var ne=x.line.height-P;if((ne>.005||ne<-.005)&&(v<d&&(y-=ne),ar(x.line,P),Hf(x.line),x.rest))for(var we=0;we<x.rest.length;we++)Hf(x.rest[we]);if(G>a.display.sizerWidth){var Ee=Math.ceil(G/Ti(a.display));Ee>a.display.maxLineLength&&(a.display.maxLineLength=Ee,a.display.maxLine=x.line,a.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(l.scroller.scrollTop+=y)}function Hf(a){if(a.widgets)for(var l=0;l<a.widgets.length;++l){var p=a.widgets[l],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function Ls(a,l,p){var d=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;d=Math.floor(d-Ao(a));var v=p&&p.bottom!=null?p.bottom:d+a.wrapper.clientHeight,y=Nt(l,d),b=Nt(l,v);if(p&&p.ensure){var x=p.ensure.from.line,S=p.ensure.to.line;x<y?(y=x,b=Nt(l,nn(Ze(l,x))+a.wrapper.clientHeight)):Math.min(S,l.lastLine())>=b&&(y=Nt(l,nn(Ze(l,S))-a.wrapper.clientHeight),b=S)}return{from:y,to:Math.max(b,y+1)}}function Oy(a,l){if(!We(a,"scrollCursorIntoView")){var p=a.display,d=p.sizer.getBoundingClientRect(),v=null;if(l.top+d.top<0?v=!0:l.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(v=!1),v!=null&&!C){var y=U("div","\u200B",null,`position: absolute;
                         top: `+(l.top-p.viewOffset-Ao(a.display))+`px;
                         height: `+(l.bottom-l.top+on(a)+p.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");a.display.lineSpace.appendChild(y),y.scrollIntoView(v),a.display.lineSpace.removeChild(y)}}}function ky(a,l,p,d){d==null&&(d=0);var v;!a.options.lineWrapping&&l==p&&(p=l.sticky=="before"?Ae(l.line,l.ch+1,"before"):l,l=l.ch?Ae(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var y=0;y<5;y++){var b=!1,x=Nn(a,l),S=!p||p==l?x:Nn(a,p);v={left:Math.min(x.left,S.left),top:Math.min(x.top,S.top)-d,right:Math.max(x.left,S.left),bottom:Math.max(x.bottom,S.bottom)+d};var P=Lc(a,v),G=a.doc.scrollTop,J=a.doc.scrollLeft;if(P.scrollTop!=null&&(wa(a,P.scrollTop),Math.abs(a.doc.scrollTop-G)>1&&(b=!0)),P.scrollLeft!=null&&(Qo(a,P.scrollLeft),Math.abs(a.doc.scrollLeft-J)>1&&(b=!0)),!b)break}return v}function Ty(a,l){var p=Lc(a,l);p.scrollTop!=null&&wa(a,p.scrollTop),p.scrollLeft!=null&&Qo(a,p.scrollLeft)}function Lc(a,l){var p=a.display,d=ki(a.display);l.top<0&&(l.top=0);var v=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,y=O(a),b={};l.bottom-l.top>y&&(l.bottom=l.top+y);var x=a.doc.height+Xo(p),S=l.top<d,P=l.bottom>x-d;if(l.top<v)b.scrollTop=S?0:l.top;else if(l.bottom>v+y){var G=Math.min(l.top,(P?x:l.bottom)-y);G!=v&&(b.scrollTop=G)}var J=a.options.fixedGutter?0:p.gutters.offsetWidth,de=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-J,ne=ao(a)-p.gutters.offsetWidth,we=l.right-l.left>ne;return we&&(l.right=l.left+ne),l.left<10?b.scrollLeft=0:l.left<de?b.scrollLeft=Math.max(0,l.left+J-(we?0:10)):l.right>ne+de-3&&(b.scrollLeft=l.right+(we?0:10)-ne),b}function Rc(a,l){l!=null&&(Rs(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+l)}function Ei(a){Rs(a);var l=a.getCursor();a.curOp.scrollToPos={from:l,to:l,margin:a.options.cursorScrollMargin}}function ba(a,l,p){(l!=null||p!=null)&&Rs(a),l!=null&&(a.curOp.scrollLeft=l),p!=null&&(a.curOp.scrollTop=p)}function Py(a,l){Rs(a),a.curOp.scrollToPos=l}function Rs(a){var l=a.curOp.scrollToPos;if(l){a.curOp.scrollToPos=null;var p=Lf(a,l.from),d=Lf(a,l.to);Uf(a,p,d,l.margin)}}function Uf(a,l,p,d){var v=Lc(a,{left:Math.min(l.left,p.left),top:Math.min(l.top,p.top)-d,right:Math.max(l.right,p.right),bottom:Math.max(l.bottom,p.bottom)+d});ba(a,v.scrollLeft,v.scrollTop)}function wa(a,l){Math.abs(a.doc.scrollTop-l)<2||(t||Bc(a,{top:l}),Wf(a,l,!0),t&&Bc(a),Sa(a,100))}function Wf(a,l,p){l=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,l)),!(a.display.scroller.scrollTop==l&&!p)&&(a.doc.scrollTop=l,a.display.scrollbars.setScrollTop(l),a.display.scroller.scrollTop!=l&&(a.display.scroller.scrollTop=l))}function Qo(a,l,p,d){l=Math.max(0,Math.min(l,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?l==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-l)<2)&&!d)&&(a.doc.scrollLeft=l,qf(a),a.display.scroller.scrollLeft!=l&&(a.display.scroller.scrollLeft=l),a.display.scrollbars.setScrollLeft(l))}function xa(a){var l=a.display,p=l.gutters.offsetWidth,d=Math.round(a.doc.height+Xo(a.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+on(a)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:p}}var ei=function(a,l,p){this.cm=p;var d=this.vert=U("div",[U("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=U("div",[U("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=v.tabIndex=-1,a(d),a(v),he(d,"scroll",function(){d.clientHeight&&l(d.scrollTop,"vertical")}),he(v,"scroll",function(){v.clientWidth&&l(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ei.prototype.update=function(a){var l=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=l?d+"px":"0";var v=a.viewHeight-(l?d:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+v)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=a.barLeft+"px";var y=a.viewWidth-a.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:l?d:0}},ei.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ei.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ei.prototype.zeroWidthHack=function(){var a=N&&!w?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new be,this.disableVert=new be},ei.prototype.enableZeroWidthBar=function(a,l,p){a.style.pointerEvents="auto";function d(){var v=a.getBoundingClientRect(),y=p=="vert"?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1);y!=a?a.style.pointerEvents="none":l.set(1e3,d)}l.set(1e3,d)},ei.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var Ca=function(){};Ca.prototype.update=function(){return{bottom:0,right:0}},Ca.prototype.setScrollLeft=function(){},Ca.prototype.setScrollTop=function(){},Ca.prototype.clear=function(){};function Ai(a,l){l||(l=xa(a));var p=a.display.barWidth,d=a.display.barHeight;zf(a,l);for(var v=0;v<4&&p!=a.display.barWidth||d!=a.display.barHeight;v++)p!=a.display.barWidth&&a.options.lineWrapping&&Ms(a),zf(a,xa(a)),p=a.display.barWidth,d=a.display.barHeight}function zf(a,l){var p=a.display,d=p.scrollbars.update(l);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=l.gutterWidth+"px"):p.gutterFiller.style.display=""}var Kf={native:ei,null:Ca};function Gf(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&ae(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Kf[a.options.scrollbarStyle](function(l){a.display.wrapper.insertBefore(l,a.display.scrollbarFiller),he(l,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,p){p=="horizontal"?Qo(a,l):wa(a,l)},a),a.display.scrollbars.addClass&&ve(a.display.wrapper,a.display.scrollbars.addClass)}var Ey=0;function ti(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ey,markArrays:null},ws(a.curOp)}function ri(a){var l=a.curOp;l&&pa(l,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;Ay(p)})}function Ay(a){for(var l=a.ops,p=0;p<l.length;p++)Dy(l[p]);for(var d=0;d<l.length;d++)My(l[d]);for(var v=0;v<l.length;v++)Ly(l[v]);for(var y=0;y<l.length;y++)Ry(l[y]);for(var b=0;b<l.length;b++)jy(l[b])}function Dy(a){var l=a.cm,p=l.display;Iy(l),a.updateMaxLine&&Co(l),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&l.options.lineWrapping,a.update=a.mustUpdate&&new js(l,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function My(a){a.updatedDisplay=a.mustUpdate&&jc(a.cm,a.update)}function Ly(a){var l=a.cm,p=l.display;a.updatedDisplay&&Ms(l),a.barMeasure=xa(l),p.maxLineChanged&&!l.options.lineWrapping&&(a.adjustWidthTo=pe(l,p.maxLine,p.maxLine.text.length).left+3,l.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+on(l)+l.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-ao(l))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function Ry(a){var l=a.cm;a.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<l.doc.scrollLeft&&Qo(l,Math.min(l.display.scroller.scrollLeft,a.maxScrollLeft),!0),l.display.maxLineChanged=!1);var p=a.focus&&a.focus==me();a.preparedSelection&&l.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=l.doc.height)&&Ai(l,a.barMeasure),a.updatedDisplay&&Vc(l,a.barMeasure),a.selectionChanged&&Ac(l),l.state.focused&&a.updateInput&&l.display.input.reset(a.typing),p&&Ff(a.cm)}function jy(a){var l=a.cm,p=l.display,d=l.doc;if(a.updatedDisplay&&Yf(l,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&Wf(l,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&Qo(l,a.scrollLeft,!0,!0),a.scrollToPos){var v=ky(l,je(d,a.scrollToPos.from),je(d,a.scrollToPos.to),a.scrollToPos.margin);Oy(l,v)}var y=a.maybeHiddenMarkers,b=a.maybeUnhiddenMarkers;if(y)for(var x=0;x<y.length;++x)y[x].lines.length||qe(y[x],"hide");if(b)for(var S=0;S<b.length;++S)b[S].lines.length&&qe(b[S],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=l.display.scroller.scrollTop),a.changeObjs&&qe(l,"changes",l,a.changeObjs),a.update&&a.update.finish()}function an(a,l){if(a.curOp)return l();ti(a);try{return l()}finally{ri(a)}}function br(a,l){return function(){if(a.curOp)return l.apply(a,arguments);ti(a);try{return l.apply(a,arguments)}finally{ri(a)}}}function Ir(a){return function(){if(this.curOp)return a.apply(this,arguments);ti(this);try{return a.apply(this,arguments)}finally{ri(this)}}}function wr(a){return function(){var l=this.cm;if(!l||l.curOp)return a.apply(this,arguments);ti(l);try{return a.apply(this,arguments)}finally{ri(l)}}}function Sa(a,l){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(l,$e(By,a))}function By(a){var l=a.doc;if(!(l.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,d=Hr(a,l.highlightFrontier),v=[];l.iter(d.line,Math.min(l.first+l.size,a.display.viewTo+500),function(y){if(d.line>=a.display.viewFrom){var b=y.styles,x=y.text.length>a.options.maxHighlightLength?kr(l.mode,d.state):null,S=mo(a,y,d,!0);x&&(d.state=x),y.styles=S.styles;var P=y.styleClasses,G=S.classes;G?y.styleClasses=G:P&&(y.styleClasses=null);for(var J=!b||b.length!=y.styles.length||P!=G&&(!P||!G||P.bgClass!=G.bgClass||P.textClass!=G.textClass),de=0;!J&&de<b.length;++de)J=b[de]!=y.styles[de];J&&v.push(d.line),y.stateAfter=d.save(),d.nextLine()}else y.text.length<=a.options.maxHighlightLength&&Gn(a,y.text,d),y.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return Sa(a,a.options.workDelay),!0}),l.highlightFrontier=d.line,l.modeFrontier=Math.max(l.modeFrontier,d.line),v.length&&an(a,function(){for(var y=0;y<v.length;y++)Do(a,v[y],"text")})}}var js=function(a,l,p){var d=a.display;this.viewport=l,this.visible=Ls(d,a.doc,l),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=ao(a),this.force=p,this.dims=Tc(a),this.events=[]};js.prototype.signal=function(a,l){kt(a,l)&&this.events.push(arguments)},js.prototype.finish=function(){for(var a=0;a<this.events.length;a++)qe.apply(null,this.events[a])};function Iy(a){var l=a.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=on(a)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=on(a)+"px",l.scrollbarsClipped=!0)}function Vy(a){if(a.hasFocus())return null;var l=me();if(!l||!E(a.display.lineDiv,l))return null;var p={activeElt:l};if(window.getSelection){var d=window.getSelection();d.anchorNode&&d.extend&&E(a.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function Ny(a){if(!(!a||!a.activeElt||a.activeElt==me())&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&E(document.body,a.anchorNode)&&E(document.body,a.focusNode))){var l=window.getSelection(),p=document.createRange();p.setEnd(a.anchorNode,a.anchorOffset),p.collapse(!1),l.removeAllRanges(),l.addRange(p),l.extend(a.focusNode,a.focusOffset)}}function jc(a,l){var p=a.display,d=a.doc;if(l.editorIsHidden)return Mo(a),!1;if(!l.force&&l.visible.from>=p.viewFrom&&l.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&If(a)==0)return!1;Xf(a)&&(Mo(a),l.dims=Tc(a));var v=d.first+d.size,y=Math.max(l.visible.from-a.options.viewportMargin,d.first),b=Math.min(v,l.visible.to+a.options.viewportMargin);p.viewFrom<y&&y-p.viewFrom<20&&(y=Math.max(d.first,p.viewFrom)),p.viewTo>b&&p.viewTo-b<20&&(b=Math.min(v,p.viewTo)),hr&&(y=tn(a.doc,y),b=rn(a.doc,b));var x=y!=p.viewFrom||b!=p.viewTo||p.lastWrapHeight!=l.wrapperHeight||p.lastWrapWidth!=l.wrapperWidth;Cy(a,y,b),p.viewOffset=nn(Ze(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var S=If(a);if(!x&&S==0&&!l.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var P=Vy(a);return S>4&&(p.lineDiv.style.display="none"),Fy(a,p.updateLineNumbers,l.dims),S>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,Ny(P),F(p.cursorDiv),F(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,x&&(p.lastWrapHeight=l.wrapperHeight,p.lastWrapWidth=l.wrapperWidth,Sa(a,400)),p.updateLineNumbers=null,!0}function Yf(a,l){for(var p=l.viewport,d=!0;;d=!1){if(!d||!a.options.lineWrapping||l.oldDisplayWidth==ao(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+Xo(a.display)-O(a),p.top)}),l.visible=Ls(a.display,a.doc,p),l.visible.from>=a.display.viewFrom&&l.visible.to<=a.display.viewTo)break}else d&&(l.visible=Ls(a.display,a.doc,p));if(!jc(a,l))break;Ms(a);var v=xa(a);_a(a),Ai(a,v),Vc(a,v),l.force=!1}l.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(l.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Bc(a,l){var p=new js(a,l);if(jc(a,p)){Ms(a),Yf(a,p);var d=xa(a);_a(a),Ai(a,d),Vc(a,d),p.finish()}}function Fy(a,l,p){var d=a.display,v=a.options.lineNumbers,y=d.lineDiv,b=y.firstChild;function x(we){var Ee=we.nextSibling;return f&&N&&a.display.currentWheelTarget==we?we.style.display="none":we.parentNode.removeChild(we),Ee}for(var S=d.view,P=d.viewFrom,G=0;G<S.length;G++){var J=S[G];if(!J.hidden)if(!J.node||J.node.parentNode!=y){var de=Ss(a,J,P,p);y.insertBefore(de,b)}else{for(;b!=J.node;)b=x(b);var ne=v&&l!=null&&l<=P&&J.lineNumber;J.changes&&(Re(J.changes,"gutter")>-1&&(ne=!1),Yn(a,J,P,p)),ne&&(F(J.lineNumber),J.lineNumber.appendChild(document.createTextNode(gn(a.options,P)))),b=J.node.nextSibling}P+=J.size}for(;b;)b=x(b)}function Ic(a){var l=a.gutters.offsetWidth;a.sizer.style.marginLeft=l+"px",Zt(a,"gutterChanged",a)}function Vc(a,l){a.display.sizer.style.minHeight=l.docHeight+"px",a.display.heightForcer.style.top=l.docHeight+"px",a.display.gutters.style.height=l.docHeight+a.display.barHeight+on(a)+"px"}function qf(a){var l=a.display,p=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!a.options.fixedGutter))){for(var d=Pc(l)-l.scroller.scrollLeft+a.doc.scrollLeft,v=l.gutters.offsetWidth,y=d+"px",b=0;b<p.length;b++)if(!p[b].hidden){a.options.fixedGutter&&(p[b].gutter&&(p[b].gutter.style.left=y),p[b].gutterBackground&&(p[b].gutterBackground.style.left=y));var x=p[b].alignable;if(x)for(var S=0;S<x.length;S++)x[S].style.left=y}a.options.fixedGutter&&(l.gutters.style.left=d+v+"px")}}function Xf(a){if(!a.options.lineNumbers)return!1;var l=a.doc,p=gn(a.options,l.first+l.size-1),d=a.display;if(p.length!=d.lineNumChars){var v=d.measure.appendChild(U("div",[U("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=v.firstChild.offsetWidth,b=v.offsetWidth-y;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(y,d.lineGutter.offsetWidth-b)+1,d.lineNumWidth=d.lineNumInnerWidth+b,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",Ic(a.display),!0}return!1}function Nc(a,l){for(var p=[],d=!1,v=0;v<a.length;v++){var y=a[v],b=null;if(typeof y!="string"&&(b=y.style,y=y.className),y=="CodeMirror-linenumbers")if(l)d=!0;else continue;p.push({className:y,style:b})}return l&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function $f(a){var l=a.gutters,p=a.gutterSpecs;F(l),a.lineGutter=null;for(var d=0;d<p.length;++d){var v=p[d],y=v.className,b=v.style,x=l.appendChild(U("div",null,"CodeMirror-gutter "+y));b&&(x.style.cssText=b),y=="CodeMirror-linenumbers"&&(a.lineGutter=x,x.style.width=(a.lineNumWidth||1)+"px")}l.style.display=p.length?"":"none",Ic(a)}function Oa(a){$f(a.display),Ur(a),qf(a)}function Hy(a,l,p,d){var v=this;this.input=p,v.scrollbarFiller=U("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=U("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=H("div",null,"CodeMirror-code"),v.selectionDiv=U("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=U("div",null,"CodeMirror-cursors"),v.measure=U("div",null,"CodeMirror-measure"),v.lineMeasure=U("div",null,"CodeMirror-measure"),v.lineSpace=H("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none");var y=H("div",[v.lineSpace],"CodeMirror-lines");v.mover=U("div",[y],null,"position: relative"),v.sizer=U("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=U("div",null,null,"position: absolute; height: "+Ue+"px; width: 1px;"),v.gutters=U("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=U("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=U("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),v.wrapper.setAttribute("translate","no"),c&&u<8&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),!f&&!(t&&W)&&(v.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(v.wrapper):a(v.wrapper)),v.viewFrom=v.viewTo=l.first,v.reportedViewFrom=v.reportedViewTo=l.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,v.gutterSpecs=Nc(d.gutters,d.lineNumbers),$f(v),p.init(v)}var Bs=0,wn=null;c?wn=-.53:t?wn=15:g?wn=-.7:_&&(wn=-.3333333333333333);function Jf(a){var l=a.wheelDeltaX,p=a.wheelDeltaY;return l==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(l=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:l,y:p}}function Uy(a){var l=Jf(a);return l.x*=wn,l.y*=wn,l}function Zf(a,l){var p=Jf(l),d=p.x,v=p.y,y=a.display,b=y.scroller,x=b.scrollWidth>b.clientWidth,S=b.scrollHeight>b.clientHeight;if(d&&x||v&&S){if(v&&N&&f){e:for(var P=l.target,G=y.view;P!=b;P=P.parentNode)for(var J=0;J<G.length;J++)if(G[J].node==P){a.display.currentWheelTarget=P;break e}}if(d&&!t&&!m&&wn!=null){v&&S&&wa(a,Math.max(0,b.scrollTop+v*wn)),Qo(a,Math.max(0,b.scrollLeft+d*wn)),(!v||v&&S)&&Pt(l),y.wheelStartX=null;return}if(v&&wn!=null){var de=v*wn,ne=a.doc.scrollTop,we=ne+y.wrapper.clientHeight;de<0?ne=Math.max(0,ne+de-50):we=Math.min(a.doc.height,we+de+50),Bc(a,{top:ne,bottom:we})}Bs<20&&(y.wheelStartX==null?(y.wheelStartX=b.scrollLeft,y.wheelStartY=b.scrollTop,y.wheelDX=d,y.wheelDY=v,setTimeout(function(){if(y.wheelStartX!=null){var Ee=b.scrollLeft-y.wheelStartX,Be=b.scrollTop-y.wheelStartY,Ge=Be&&y.wheelDY&&Be/y.wheelDY||Ee&&y.wheelDX&&Ee/y.wheelDX;y.wheelStartX=y.wheelStartY=null,Ge&&(wn=(wn*Bs+Ge)/(Bs+1),++Bs)}},200)):(y.wheelDX+=d,y.wheelDY+=v))}}var xn=function(a,l){this.ranges=a,this.primIndex=l};xn.prototype.primary=function(){return this.ranges[this.primIndex]},xn.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var p=this.ranges[l],d=a.ranges[l];if(!Fr(p.anchor,d.anchor)||!Fr(p.head,d.head))return!1}return!0},xn.prototype.deepCopy=function(){for(var a=[],l=0;l<this.ranges.length;l++)a[l]=new jt(M(this.ranges[l].anchor),M(this.ranges[l].head));return new xn(a,this.primIndex)},xn.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},xn.prototype.contains=function(a,l){l||(l=a);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(vt(l,d.from())>=0&&vt(a,d.to())<=0)return p}return-1};var jt=function(a,l){this.anchor=a,this.head=l};jt.prototype.from=function(){return Ce(this.anchor,this.head)},jt.prototype.to=function(){return $(this.anchor,this.head)},jt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Fn(a,l,p){var d=a&&a.options.selectionsMayTouch,v=l[p];l.sort(function(de,ne){return vt(de.from(),ne.from())}),p=Re(l,v);for(var y=1;y<l.length;y++){var b=l[y],x=l[y-1],S=vt(x.to(),b.from());if(d&&!b.empty()?S>0:S>=0){var P=Ce(x.from(),b.from()),G=$(x.to(),b.to()),J=x.empty()?b.from()==b.head:x.from()==x.head;y<=p&&--p,l.splice(--y,2,new jt(J?G:P,J?P:G))}}return new xn(l,p)}function Lo(a,l){return new xn([new jt(a,l||a)],0)}function Ro(a){return a.text?Ae(a.from.line+a.text.length-1,Fe(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function Qf(a,l){if(vt(a,l.from)<0)return a;if(vt(a,l.to)<=0)return Ro(l);var p=a.line+l.text.length-(l.to.line-l.from.line)-1,d=a.ch;return a.line==l.to.line&&(d+=Ro(l).ch-l.to.ch),Ae(p,d)}function Fc(a,l){for(var p=[],d=0;d<a.sel.ranges.length;d++){var v=a.sel.ranges[d];p.push(new jt(Qf(v.anchor,l),Qf(v.head,l)))}return Fn(a.cm,p,a.sel.primIndex)}function ed(a,l,p){return a.line==l.line?Ae(p.line,a.ch-l.ch+p.ch):Ae(p.line+(a.line-l.line),a.ch)}function Wy(a,l,p){for(var d=[],v=Ae(a.first,0),y=v,b=0;b<l.length;b++){var x=l[b],S=ed(x.from,v,y),P=ed(Ro(x),v,y);if(v=x.to,y=P,p=="around"){var G=a.sel.ranges[b],J=vt(G.head,G.anchor)<0;d[b]=new jt(J?P:S,J?S:P)}else d[b]=new jt(S,S)}return new xn(d,a.sel.primIndex)}function Hc(a){a.doc.mode=Dt(a.options,a.doc.modeOption),ka(a)}function ka(a){a.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Sa(a,100),a.state.modeGen++,a.curOp&&Ur(a)}function td(a,l){return l.from.ch==0&&l.to.ch==0&&Fe(l.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Uc(a,l,p,d){function v(et){return p?p[et]:null}function y(et,Ye,tt){vs(et,Ye,tt,d),Zt(et,"change",et,l)}function b(et,Ye){for(var tt=[],pt=et;pt<Ye;++pt)tt.push(new _r(P[pt],v(pt),d));return tt}var x=l.from,S=l.to,P=l.text,G=Ze(a,x.line),J=Ze(a,S.line),de=Fe(P),ne=v(P.length-1),we=S.line-x.line;if(l.full)a.insert(0,b(0,P.length)),a.remove(P.length,a.size-P.length);else if(td(a,l)){var Ee=b(0,P.length-1);y(J,J.text,ne),we&&a.remove(x.line,we),Ee.length&&a.insert(x.line,Ee)}else if(G==J)if(P.length==1)y(G,G.text.slice(0,x.ch)+de+G.text.slice(S.ch),ne);else{var Be=b(1,P.length-1);Be.push(new _r(de+G.text.slice(S.ch),ne,d)),y(G,G.text.slice(0,x.ch)+P[0],v(0)),a.insert(x.line+1,Be)}else if(P.length==1)y(G,G.text.slice(0,x.ch)+P[0]+J.text.slice(S.ch),v(0)),a.remove(x.line+1,we);else{y(G,G.text.slice(0,x.ch)+P[0],v(0)),y(J,de+J.text.slice(S.ch),ne);var Ge=b(1,P.length-1);we>1&&a.remove(x.line+1,we-1),a.insert(x.line+1,Ge)}Zt(a,"change",a,l)}function jo(a,l,p){function d(v,y,b){if(v.linked)for(var x=0;x<v.linked.length;++x){var S=v.linked[x];if(S.doc!=y){var P=b&&S.sharedHist;p&&!P||(l(S.doc,P),d(S.doc,v,P))}}}d(a,null,!0)}function rd(a,l){if(l.cm)throw new Error("This document is already in use.");a.doc=l,l.cm=a,Ec(a),Hc(a),nd(a),a.options.direction=l.direction,a.options.lineWrapping||Co(a),a.options.mode=l.modeOption,Ur(a)}function nd(a){(a.doc.direction=="rtl"?ve:ae)(a.display.lineDiv,"CodeMirror-rtl")}function zy(a){an(a,function(){nd(a),Ur(a)})}function Is(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Wc(a,l){var p={from:M(l.from),to:Ro(l),text:pr(a,l.from,l.to)};return ad(a,p,l.from.line,l.to.line+1),jo(a,function(d){return ad(d,p,l.from.line,l.to.line+1)},!0),p}function od(a){for(;a.length;){var l=Fe(a);if(l.ranges)a.pop();else break}}function Ky(a,l){if(l)return od(a.done),Fe(a.done);if(a.done.length&&!Fe(a.done).ranges)return Fe(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),Fe(a.done)}function id(a,l,p,d){var v=a.history;v.undone.length=0;var y=+new Date,b,x;if((v.lastOp==d||v.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&v.lastModTime>y-(a.cm?a.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(b=Ky(v,v.lastOp==d)))x=Fe(b.changes),vt(l.from,l.to)==0&&vt(l.from,x.to)==0?x.to=Ro(l):b.changes.push(Wc(a,l));else{var S=Fe(v.done);for((!S||!S.ranges)&&Vs(a.sel,v.done),b={changes:[Wc(a,l)],generation:v.generation},v.done.push(b);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift()}v.done.push(p),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=y,v.lastOp=v.lastSelOp=d,v.lastOrigin=v.lastSelOrigin=l.origin,x||qe(a,"historyAdded")}function Gy(a,l,p,d){var v=l.charAt(0);return v=="*"||v=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function Yy(a,l,p,d){var v=a.history,y=d&&d.origin;p==v.lastSelOp||y&&v.lastSelOrigin==y&&(v.lastModTime==v.lastSelTime&&v.lastOrigin==y||Gy(a,y,Fe(v.done),l))?v.done[v.done.length-1]=l:Vs(l,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=y,v.lastSelOp=p,d&&d.clearRedo!==!1&&od(v.undone)}function Vs(a,l){var p=Fe(l);p&&p.ranges&&p.equals(a)||l.push(a)}function ad(a,l,p,d){var v=l["spans_"+a.id],y=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,d),function(b){b.markedSpans&&((v||(v=l["spans_"+a.id]={}))[y]=b.markedSpans),++y})}function qy(a){if(!a)return null;for(var l,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?l||(l=a.slice(0,p)):l&&l.push(a[p]);return l?l.length?l:null:a}function Xy(a,l){var p=l["spans_"+a.id];if(!p)return null;for(var d=[],v=0;v<l.text.length;++v)d.push(qy(p[v]));return d}function sd(a,l){var p=Xy(a,l),d=yn(a,l);if(!p)return d;if(!d)return p;for(var v=0;v<p.length;++v){var y=p[v],b=d[v];if(y&&b)e:for(var x=0;x<b.length;++x){for(var S=b[x],P=0;P<y.length;++P)if(y[P].marker==S.marker)continue e;y.push(S)}else b&&(p[v]=b)}return p}function Di(a,l,p){for(var d=[],v=0;v<a.length;++v){var y=a[v];if(y.ranges){d.push(p?xn.prototype.deepCopy.call(y):y);continue}var b=y.changes,x=[];d.push({changes:x});for(var S=0;S<b.length;++S){var P=b[S],G=void 0;if(x.push({from:P.from,to:P.to,text:P.text}),l)for(var J in P)(G=J.match(/^spans_(\d+)$/))&&Re(l,Number(G[1]))>-1&&(Fe(x)[J]=P[J],delete P[J])}}return d}function zc(a,l,p,d){if(d){var v=a.anchor;if(p){var y=vt(l,v)<0;y!=vt(p,v)<0?(v=l,l=p):y!=vt(l,p)<0&&(l=p)}return new jt(v,l)}else return new jt(p||l,l)}function Ns(a,l,p,d,v){v==null&&(v=a.cm&&(a.cm.display.shift||a.extend)),Lr(a,new xn([zc(a.sel.primary(),l,p,v)],0),d)}function ld(a,l,p){for(var d=[],v=a.cm&&(a.cm.display.shift||a.extend),y=0;y<a.sel.ranges.length;y++)d[y]=zc(a.sel.ranges[y],l[y],null,v);var b=Fn(a.cm,d,a.sel.primIndex);Lr(a,b,p)}function Kc(a,l,p,d){var v=a.sel.ranges.slice(0);v[l]=p,Lr(a,Fn(a.cm,v,a.sel.primIndex),d)}function cd(a,l,p,d){Lr(a,Lo(l,p),d)}function $y(a,l,p){var d={ranges:l.ranges,update:function(v){this.ranges=[];for(var y=0;y<v.length;y++)this.ranges[y]=new jt(je(a,v[y].anchor),je(a,v[y].head))},origin:p&&p.origin};return qe(a,"beforeSelectionChange",a,d),a.cm&&qe(a.cm,"beforeSelectionChange",a.cm,d),d.ranges!=l.ranges?Fn(a.cm,d.ranges,d.ranges.length-1):l}function ud(a,l,p){var d=a.history.done,v=Fe(d);v&&v.ranges?(d[d.length-1]=l,Fs(a,l,p)):Lr(a,l,p)}function Lr(a,l,p){Fs(a,l,p),Yy(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function Fs(a,l,p){(kt(a,"beforeSelectionChange")||a.cm&&kt(a.cm,"beforeSelectionChange"))&&(l=$y(a,l,p));var d=p&&p.bias||(vt(l.primary().head,a.sel.primary().head)<0?-1:1);fd(a,pd(a,l,d,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&Ei(a.cm)}function fd(a,l){l.equals(a.sel)||(a.sel=l,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,st(a.cm)),Zt(a,"cursorActivity",a))}function dd(a){fd(a,pd(a,a.sel,null,!1))}function pd(a,l,p,d){for(var v,y=0;y<l.ranges.length;y++){var b=l.ranges[y],x=l.ranges.length==a.sel.ranges.length&&a.sel.ranges[y],S=Hs(a,b.anchor,x&&x.anchor,p,d),P=Hs(a,b.head,x&&x.head,p,d);(v||S!=b.anchor||P!=b.head)&&(v||(v=l.ranges.slice(0,y)),v[y]=new jt(S,P))}return v?Fn(a.cm,v,l.primIndex):l}function Mi(a,l,p,d,v){var y=Ze(a,l.line);if(y.markedSpans)for(var b=0;b<y.markedSpans.length;++b){var x=y.markedSpans[b],S=x.marker,P="selectLeft"in S?!S.selectLeft:S.inclusiveLeft,G="selectRight"in S?!S.selectRight:S.inclusiveRight;if((x.from==null||(P?x.from<=l.ch:x.from<l.ch))&&(x.to==null||(G?x.to>=l.ch:x.to>l.ch))){if(v&&(qe(S,"beforeCursorEnter"),S.explicitlyCleared))if(y.markedSpans){--b;continue}else break;if(!S.atomic)continue;if(p){var J=S.find(d<0?1:-1),de=void 0;if((d<0?G:P)&&(J=hd(a,J,-d,J&&J.line==l.line?y:null)),J&&J.line==l.line&&(de=vt(J,p))&&(d<0?de<0:de>0))return Mi(a,J,l,d,v)}var ne=S.find(d<0?-1:1);return(d<0?P:G)&&(ne=hd(a,ne,d,ne.line==l.line?y:null)),ne?Mi(a,ne,l,d,v):null}}return l}function Hs(a,l,p,d,v){var y=d||1,b=Mi(a,l,p,y,v)||!v&&Mi(a,l,p,y,!0)||Mi(a,l,p,-y,v)||!v&&Mi(a,l,p,-y,!0);return b||(a.cantEdit=!0,Ae(a.first,0))}function hd(a,l,p,d){return p<0&&l.ch==0?l.line>a.first?je(a,Ae(l.line-1)):null:p>0&&l.ch==(d||Ze(a,l.line)).text.length?l.line<a.first+a.size-1?Ae(l.line+1,0):null:new Ae(l.line,l.ch+p)}function vd(a){a.setSelection(Ae(a.firstLine(),0),Ae(a.lastLine()),Ve)}function gd(a,l,p){var d={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(v,y,b,x){v&&(d.from=je(a,v)),y&&(d.to=je(a,y)),b&&(d.text=b),x!==void 0&&(d.origin=x)}),qe(a,"beforeChange",a,d),a.cm&&qe(a.cm,"beforeChange",a.cm,d),d.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Li(a,l,p){if(a.cm){if(!a.cm.curOp)return br(a.cm,Li)(a,l,p);if(a.cm.state.suppressEdits)return}if(!((kt(a,"beforeChange")||a.cm&&kt(a.cm,"beforeChange"))&&(l=gd(a,l,!0),!l))){var d=sr&&!p&&xo(a,l.from,l.to);if(d)for(var v=d.length-1;v>=0;--v)md(a,{from:d[v].from,to:d[v].to,text:v?[""]:l.text,origin:l.origin});else md(a,l)}}function md(a,l){if(!(l.text.length==1&&l.text[0]==""&&vt(l.from,l.to)==0)){var p=Fc(a,l);id(a,l,p,a.cm?a.cm.curOp.id:NaN),Ta(a,l,p,yn(a,l));var d=[];jo(a,function(v,y){!y&&Re(d,v.history)==-1&&(wd(v.history,l),d.push(v.history)),Ta(v,l,null,yn(v,l))})}}function Us(a,l,p){var d=a.cm&&a.cm.state.suppressEdits;if(!(d&&!p)){for(var v=a.history,y,b=a.sel,x=l=="undo"?v.done:v.undone,S=l=="undo"?v.undone:v.done,P=0;P<x.length&&(y=x[P],!(p?y.ranges&&!y.equals(a.sel):!y.ranges));P++);if(P!=x.length){for(v.lastOrigin=v.lastSelOrigin=null;;)if(y=x.pop(),y.ranges){if(Vs(y,S),p&&!y.equals(a.sel)){Lr(a,y,{clearRedo:!1});return}b=y}else if(d){x.push(y);return}else break;var G=[];Vs(b,S),S.push({changes:G,generation:v.generation}),v.generation=y.generation||++v.maxGeneration;for(var J=kt(a,"beforeChange")||a.cm&&kt(a.cm,"beforeChange"),de=function(Ee){var Be=y.changes[Ee];if(Be.origin=l,J&&!gd(a,Be,!1))return x.length=0,{};G.push(Wc(a,Be));var Ge=Ee?Fc(a,Be):Fe(x);Ta(a,Be,Ge,sd(a,Be)),!Ee&&a.cm&&a.cm.scrollIntoView({from:Be.from,to:Ro(Be)});var et=[];jo(a,function(Ye,tt){!tt&&Re(et,Ye.history)==-1&&(wd(Ye.history,Be),et.push(Ye.history)),Ta(Ye,Be,null,sd(Ye,Be))})},ne=y.changes.length-1;ne>=0;--ne){var we=de(ne);if(we)return we.v}}}}function yd(a,l){if(l!=0&&(a.first+=l,a.sel=new xn(ot(a.sel.ranges,function(v){return new jt(Ae(v.anchor.line+l,v.anchor.ch),Ae(v.head.line+l,v.head.ch))}),a.sel.primIndex),a.cm)){Ur(a.cm,a.first,a.first-l,l);for(var p=a.cm.display,d=p.viewFrom;d<p.viewTo;d++)Do(a.cm,d,"gutter")}}function Ta(a,l,p,d){if(a.cm&&!a.cm.curOp)return br(a.cm,Ta)(a,l,p,d);if(l.to.line<a.first){yd(a,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>a.lastLine())){if(l.from.line<a.first){var v=l.text.length-1-(a.first-l.from.line);yd(a,v),l={from:Ae(a.first,0),to:Ae(l.to.line+v,l.to.ch),text:[Fe(l.text)],origin:l.origin}}var y=a.lastLine();l.to.line>y&&(l={from:l.from,to:Ae(y,Ze(a,y).text.length),text:[l.text[0]],origin:l.origin}),l.removed=pr(a,l.from,l.to),p||(p=Fc(a,l)),a.cm?Jy(a.cm,l,d):Uc(a,l,d),Fs(a,p,Ve),a.cantEdit&&Hs(a,Ae(a.firstLine(),0))&&(a.cantEdit=!1)}}function Jy(a,l,p){var d=a.doc,v=a.display,y=l.from,b=l.to,x=!1,S=y.line;a.options.lineWrapping||(S=xt(Ct(Ze(d,y.line))),d.iter(S,b.line+1,function(ne){if(ne==v.maxLine)return x=!0,!0})),d.sel.contains(l.from,l.to)>-1&&st(a),Uc(d,l,p,Bf(a)),a.options.lineWrapping||(d.iter(S,y.line+l.text.length,function(ne){var we=Vn(ne);we>v.maxLineLength&&(v.maxLine=ne,v.maxLineLength=we,v.maxLineChanged=!0,x=!1)}),x&&(a.curOp.updateMaxLine=!0)),to(d,y.line),Sa(a,400);var P=l.text.length-(b.line-y.line)-1;l.full?Ur(a):y.line==b.line&&l.text.length==1&&!td(a.doc,l)?Do(a,y.line,"text"):Ur(a,y.line,b.line+1,P);var G=kt(a,"changes"),J=kt(a,"change");if(J||G){var de={from:y,to:b,text:l.text,removed:l.removed,origin:l.origin};J&&Zt(a,"change",a,de),G&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(de)}a.display.selForContextMenu=null}function Ri(a,l,p,d,v){var y;d||(d=p),vt(d,p)<0&&(y=[d,p],p=y[0],d=y[1]),typeof l=="string"&&(l=a.splitLines(l)),Li(a,{from:p,to:d,text:l,origin:v})}function _d(a,l,p,d){p<a.line?a.line+=d:l<a.line&&(a.line=l,a.ch=0)}function bd(a,l,p,d){for(var v=0;v<a.length;++v){var y=a[v],b=!0;if(y.ranges){y.copied||(y=a[v]=y.deepCopy(),y.copied=!0);for(var x=0;x<y.ranges.length;x++)_d(y.ranges[x].anchor,l,p,d),_d(y.ranges[x].head,l,p,d);continue}for(var S=0;S<y.changes.length;++S){var P=y.changes[S];if(p<P.from.line)P.from=Ae(P.from.line+d,P.from.ch),P.to=Ae(P.to.line+d,P.to.ch);else if(l<=P.to.line){b=!1;break}}b||(a.splice(0,v+1),v=0)}}function wd(a,l){var p=l.from.line,d=l.to.line,v=l.text.length-(d-p)-1;bd(a.done,p,d,v),bd(a.undone,p,d,v)}function Pa(a,l,p,d){var v=l,y=l;return typeof l=="number"?y=Ze(a,Me(a,l)):v=xt(l),v==null?null:(d(y,v)&&a.cm&&Do(a.cm,v,p),y)}function Ea(a){this.lines=a,this.parent=null;for(var l=0,p=0;p<a.length;++p)a[p].parent=this,l+=a[p].height;this.height=l}Ea.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,l){for(var p=a,d=a+l;p<d;++p){var v=this.lines[p];this.height-=v.height,wi(v),Zt(v,"delete")}this.lines.splice(a,l)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,l,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(l).concat(this.lines.slice(a));for(var d=0;d<l.length;++d)l[d].parent=this},iterN:function(a,l,p){for(var d=a+l;a<d;++a)if(p(this.lines[a]))return!0}};function Aa(a){this.children=a;for(var l=0,p=0,d=0;d<a.length;++d){var v=a[d];l+=v.chunkSize(),p+=v.height,v.parent=this}this.size=l,this.height=p,this.parent=null}Aa.prototype={chunkSize:function(){return this.size},removeInner:function(a,l){this.size-=l;for(var p=0;p<this.children.length;++p){var d=this.children[p],v=d.chunkSize();if(a<v){var y=Math.min(l,v-a),b=d.height;if(d.removeInner(a,y),this.height-=b-d.height,v==y&&(this.children.splice(p--,1),d.parent=null),(l-=y)==0)break;a=0}else a-=v}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof Ea))){var x=[];this.collapse(x),this.children=[new Ea(x)],this.children[0].parent=this}},collapse:function(a){for(var l=0;l<this.children.length;++l)this.children[l].collapse(a)},insertInner:function(a,l,p){this.size+=l.length,this.height+=p;for(var d=0;d<this.children.length;++d){var v=this.children[d],y=v.chunkSize();if(a<=y){if(v.insertInner(a,l,p),v.lines&&v.lines.length>50){for(var b=v.lines.length%25+25,x=b;x<v.lines.length;){var S=new Ea(v.lines.slice(x,x+=25));v.height-=S.height,this.children.splice(++d,0,S),S.parent=this}v.lines=v.lines.slice(0,b),this.maybeSpill()}break}a-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var l=a.children.splice(a.children.length-5,5),p=new Aa(l);if(a.parent){a.size-=p.size,a.height-=p.height;var v=Re(a.parent.children,a);a.parent.children.splice(v+1,0,p)}else{var d=new Aa(a.children);d.parent=a,a.children=[d,p],a=d}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,l,p){for(var d=0;d<this.children.length;++d){var v=this.children[d],y=v.chunkSize();if(a<y){var b=Math.min(l,y-a);if(v.iterN(a,b,p))return!0;if((l-=b)==0)break;a=0}else a-=y}}};var Da=function(a,l,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=a,this.node=l};Da.prototype.clear=function(){var a=this.doc.cm,l=this.line.widgets,p=this.line,d=xt(p);if(!(d==null||!l)){for(var v=0;v<l.length;++v)l[v]==this&&l.splice(v--,1);l.length||(p.widgets=null);var y=Eo(this);ar(p,Math.max(0,p.height-y)),a&&(an(a,function(){xd(a,p,-y),Do(a,d,"widget")}),Zt(a,"lineWidgetCleared",a,this,d))}},Da.prototype.changed=function(){var a=this,l=this.height,p=this.doc.cm,d=this.line;this.height=null;var v=Eo(this)-l;v&&(yr(this.doc,d)||ar(d,d.height+v),p&&an(p,function(){p.curOp.forceUpdate=!0,xd(p,d,v),Zt(p,"lineWidgetChanged",p,a,xt(d))}))},At(Da);function xd(a,l,p){nn(l)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Rc(a,p)}function Zy(a,l,p,d){var v=new Da(a,p,d),y=a.cm;return y&&v.noHScroll&&(y.display.alignWidgets=!0),Pa(a,l,"widget",function(b){var x=b.widgets||(b.widgets=[]);if(v.insertAt==null?x.push(v):x.splice(Math.min(x.length,Math.max(0,v.insertAt)),0,v),v.line=b,y&&!yr(a,b)){var S=nn(b)<a.scrollTop;ar(b,b.height+Eo(v)),S&&Rc(y,v.height),y.curOp.forceUpdate=!0}return!0}),y&&Zt(y,"lineWidgetAdded",y,v,typeof l=="number"?l:xt(l)),v}var Cd=0,Bo=function(a,l){this.lines=[],this.type=l,this.doc=a,this.id=++Cd};Bo.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,l=a&&!a.curOp;if(l&&ti(a),kt(this,"clear")){var p=this.find();p&&Zt(this,"clear",p.from,p.to)}for(var d=null,v=null,y=0;y<this.lines.length;++y){var b=this.lines[y],x=Dr(b.markedSpans,this);a&&!this.collapsed?Do(a,xt(b),"text"):a&&(x.to!=null&&(v=xt(b)),x.from!=null&&(d=xt(b))),b.markedSpans=Yo(b.markedSpans,x),x.from==null&&this.collapsed&&!yr(this.doc,b)&&a&&ar(b,ki(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var S=0;S<this.lines.length;++S){var P=Ct(this.lines[S]),G=Vn(P);G>a.display.maxLineLength&&(a.display.maxLine=P,a.display.maxLineLength=G,a.display.maxLineChanged=!0)}d!=null&&a&&this.collapsed&&Ur(a,d,v+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&dd(a.doc)),a&&Zt(a,"markerCleared",a,this,d,v),l&&ri(a),this.parent&&this.parent.clear()}},Bo.prototype.find=function(a,l){a==null&&this.type=="bookmark"&&(a=1);for(var p,d,v=0;v<this.lines.length;++v){var y=this.lines[v],b=Dr(y.markedSpans,this);if(b.from!=null&&(p=Ae(l?y:xt(y),b.from),a==-1))return p;if(b.to!=null&&(d=Ae(l?y:xt(y),b.to),a==1))return d}return p&&{from:p,to:d}},Bo.prototype.changed=function(){var a=this,l=this.find(-1,!0),p=this,d=this.doc.cm;!l||!d||an(d,function(){var v=l.line,y=xt(l.line),b=le(d,y);if(b&&(ma(b),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!yr(p.doc,v)&&p.height!=null){var x=p.height;p.height=null;var S=Eo(p)-x;S&&ar(v,v.height+S)}Zt(d,"markerChanged",d,a)})},Bo.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||Re(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Bo.prototype.detachLine=function(a){if(this.lines.splice(Re(this.lines,a),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},At(Bo);function ji(a,l,p,d,v){if(d&&d.shared)return Qy(a,l,p,d,v);if(a.cm&&!a.cm.curOp)return br(a.cm,ji)(a,l,p,d,v);var y=new Bo(a,v),b=vt(l,p);if(d&&mt(d,y,!1),b>0||b==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=H("span",[y.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(ct(a,l.line,l,p,y)||l.line!=p.line&&ct(a,p.line,l,p,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");Go()}y.addToHistory&&id(a,{from:l,to:p,origin:"markText"},a.sel,NaN);var x=l.line,S=a.cm,P;if(a.iter(x,p.line+1,function(J){S&&y.collapsed&&!S.options.lineWrapping&&Ct(J)==S.display.maxLine&&(P=!0),y.collapsed&&x!=l.line&&ar(J,0),Pn(J,new Bn(y,x==l.line?l.ch:null,x==p.line?p.ch:null),a.cm&&a.cm.curOp),++x}),y.collapsed&&a.iter(l.line,p.line+1,function(J){yr(a,J)&&ar(J,0)}),y.clearOnEnter&&he(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(bo(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),y.collapsed&&(y.id=++Cd,y.atomic=!0),S){if(P&&(S.curOp.updateMaxLine=!0),y.collapsed)Ur(S,l.line,p.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var G=l.line;G<=p.line;G++)Do(S,G,"text");y.atomic&&dd(S.doc),Zt(S,"markerAdded",S,y)}return y}var Ma=function(a,l){this.markers=a,this.primary=l;for(var p=0;p<a.length;++p)a[p].parent=this};Ma.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Zt(this,"clear")}},Ma.prototype.find=function(a,l){return this.primary.find(a,l)},At(Ma);function Qy(a,l,p,d,v){d=mt(d),d.shared=!1;var y=[ji(a,l,p,d,v)],b=y[0],x=d.widgetNode;return jo(a,function(S){x&&(d.widgetNode=x.cloneNode(!0)),y.push(ji(S,je(S,l),je(S,p),d,v));for(var P=0;P<S.linked.length;++P)if(S.linked[P].isParent)return;b=Fe(y)}),new Ma(y,b)}function Sd(a){return a.findMarks(Ae(a.first,0),a.clipPos(Ae(a.lastLine())),function(l){return l.parent})}function e0(a,l){for(var p=0;p<l.length;p++){var d=l[p],v=d.find(),y=a.clipPos(v.from),b=a.clipPos(v.to);if(vt(y,b)){var x=ji(a,y,b,d.primary,d.primary.type);d.markers.push(x),x.parent=d}}}function t0(a){for(var l=function(d){var v=a[d],y=[v.primary.doc];jo(v.primary.doc,function(S){return y.push(S)});for(var b=0;b<v.markers.length;b++){var x=v.markers[b];Re(y,x.doc)==-1&&(x.parent=null,v.markers.splice(b--,1))}},p=0;p<a.length;p++)l(p)}var r0=0,Wr=function(a,l,p,d,v){if(!(this instanceof Wr))return new Wr(a,l,p,d,v);p==null&&(p=0),Aa.call(this,[new Ea([new _r("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var y=Ae(p,0);this.sel=Lo(y),this.history=new Is(null),this.id=++r0,this.modeOption=l,this.lineSep=d,this.direction=v=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Uc(this,{from:y,to:y,text:a}),Lr(this,Lo(y),Ve)};Wr.prototype=k(Aa.prototype,{constructor:Wr,iter:function(a,l,p){p?this.iterN(a-this.first,l-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,l){for(var p=0,d=0;d<l.length;++d)p+=l[d].height;this.insertInner(a-this.first,l,p)},remove:function(a,l){this.removeInner(a-this.first,l)},getValue:function(a){var l=Ar(this,this.first,this.first+this.size);return a===!1?l:l.join(a||this.lineSeparator())},setValue:wr(function(a){var l=Ae(this.first,0),p=this.first+this.size-1;Li(this,{from:l,to:Ae(p,Ze(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&ba(this.cm,0,0),Lr(this,Lo(l),Ve)}),replaceRange:function(a,l,p,d){l=je(this,l),p=p?je(this,p):l,Ri(this,a,l,p,d)},getRange:function(a,l,p){var d=pr(this,je(this,a),je(this,l));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(a){var l=this.getLineHandle(a);return l&&l.text},getLineHandle:function(a){if(vn(this,a))return Ze(this,a)},getLineNumber:function(a){return xt(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=Ze(this,a)),Ct(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return je(this,a)},getCursor:function(a){var l=this.sel.primary(),p;return a==null||a=="head"?p=l.head:a=="anchor"?p=l.anchor:a=="end"||a=="to"||a===!1?p=l.to():p=l.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:wr(function(a,l,p){cd(this,je(this,typeof a=="number"?Ae(a,l||0):a),null,p)}),setSelection:wr(function(a,l,p){cd(this,je(this,a),je(this,l||a),p)}),extendSelection:wr(function(a,l,p){Ns(this,je(this,a),l&&je(this,l),p)}),extendSelections:wr(function(a,l){ld(this,Et(this,a),l)}),extendSelectionsBy:wr(function(a,l){var p=ot(this.sel.ranges,a);ld(this,Et(this,p),l)}),setSelections:wr(function(a,l,p){if(a.length){for(var d=[],v=0;v<a.length;v++)d[v]=new jt(je(this,a[v].anchor),je(this,a[v].head||a[v].anchor));l==null&&(l=Math.min(a.length-1,this.sel.primIndex)),Lr(this,Fn(this.cm,d,l),p)}}),addSelection:wr(function(a,l,p){var d=this.sel.ranges.slice(0);d.push(new jt(je(this,a),je(this,l||a))),Lr(this,Fn(this.cm,d,d.length-1),p)}),getSelection:function(a){for(var l=this.sel.ranges,p,d=0;d<l.length;d++){var v=pr(this,l[d].from(),l[d].to());p=p?p.concat(v):v}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var l=[],p=this.sel.ranges,d=0;d<p.length;d++){var v=pr(this,p[d].from(),p[d].to());a!==!1&&(v=v.join(a||this.lineSeparator())),l[d]=v}return l},replaceSelection:function(a,l,p){for(var d=[],v=0;v<this.sel.ranges.length;v++)d[v]=a;this.replaceSelections(d,l,p||"+input")},replaceSelections:wr(function(a,l,p){for(var d=[],v=this.sel,y=0;y<v.ranges.length;y++){var b=v.ranges[y];d[y]={from:b.from(),to:b.to(),text:this.splitLines(a[y]),origin:p}}for(var x=l&&l!="end"&&Wy(this,d,l),S=d.length-1;S>=0;S--)Li(this,d[S]);x?ud(this,x):this.cm&&Ei(this.cm)}),undo:wr(function(){Us(this,"undo")}),redo:wr(function(){Us(this,"redo")}),undoSelection:wr(function(){Us(this,"undo",!0)}),redoSelection:wr(function(){Us(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,l=0,p=0,d=0;d<a.done.length;d++)a.done[d].ranges||++l;for(var v=0;v<a.undone.length;v++)a.undone[v].ranges||++p;return{undo:l,redo:p}},clearHistory:function(){var a=this;this.history=new Is(this.history),jo(this,function(l){return l.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Di(this.history.done),undone:Di(this.history.undone)}},setHistory:function(a){var l=this.history=new Is(this.history);l.done=Di(a.done.slice(0),null,!0),l.undone=Di(a.undone.slice(0),null,!0)},setGutterMarker:wr(function(a,l,p){return Pa(this,a,"gutter",function(d){var v=d.gutterMarkers||(d.gutterMarkers={});return v[l]=p,!p&&ge(v)&&(d.gutterMarkers=null),!0})}),clearGutter:wr(function(a){var l=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&Pa(l,p,"gutter",function(){return p.gutterMarkers[a]=null,ge(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var l;if(typeof a=="number"){if(!vn(this,a)||(l=a,a=Ze(this,a),!a))return null}else if(l=xt(a),l==null)return null;return{line:l,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:wr(function(a,l,p){return Pa(this,a,l=="gutter"?"gutter":"class",function(d){var v=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!d[v])d[v]=p;else{if(q(p).test(d[v]))return!1;d[v]+=" "+p}return!0})}),removeLineClass:wr(function(a,l,p){return Pa(this,a,l=="gutter"?"gutter":"class",function(d){var v=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",y=d[v];if(y)if(p==null)d[v]=null;else{var b=y.match(q(p));if(!b)return!1;var x=b.index+b[0].length;d[v]=y.slice(0,b.index)+(!b.index||x==y.length?"":" ")+y.slice(x)||null}else return!1;return!0})}),addLineWidget:wr(function(a,l,p){return Zy(this,a,l,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,l,p){return ji(this,je(this,a),je(this,l),p,p&&p.type||"range")},setBookmark:function(a,l){var p={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return a=je(this,a),ji(this,a,a,p,"bookmark")},findMarksAt:function(a){a=je(this,a);var l=[],p=Ze(this,a.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var v=p[d];(v.from==null||v.from<=a.ch)&&(v.to==null||v.to>=a.ch)&&l.push(v.marker.parent||v.marker)}return l},findMarks:function(a,l,p){a=je(this,a),l=je(this,l);var d=[],v=a.line;return this.iter(a.line,l.line+1,function(y){var b=y.markedSpans;if(b)for(var x=0;x<b.length;x++){var S=b[x];!(S.to!=null&&v==a.line&&a.ch>=S.to||S.from==null&&v!=a.line||S.from!=null&&v==l.line&&S.from>=l.ch)&&(!p||p(S.marker))&&d.push(S.marker.parent||S.marker)}++v}),d},getAllMarks:function(){var a=[];return this.iter(function(l){var p=l.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&a.push(p[d].marker)}),a},posFromIndex:function(a){var l,p=this.first,d=this.lineSeparator().length;return this.iter(function(v){var y=v.text.length+d;if(y>a)return l=a,!0;a-=y,++p}),je(this,Ae(p,l))},indexFromPos:function(a){a=je(this,a);var l=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(d){l+=d.text.length+p}),l},copy:function(a){var l=new Wr(Ar(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,a&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(a){a||(a={});var l=this.first,p=this.first+this.size;a.from!=null&&a.from>l&&(l=a.from),a.to!=null&&a.to<p&&(p=a.to);var d=new Wr(Ar(this,l,p),a.mode||this.modeOption,l,this.lineSep,this.direction);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],e0(d,Sd(this)),d},unlinkDoc:function(a){if(a instanceof Gt&&(a=a.doc),this.linked)for(var l=0;l<this.linked.length;++l){var p=this.linked[l];if(p.doc==a){this.linked.splice(l,1),a.unlinkDoc(this),t0(Sd(this));break}}if(a.history==this.history){var d=[a.id];jo(a,function(v){return d.push(v.id)},!0),a.history=new Is(null),a.history.done=Di(this.history.done,d),a.history.undone=Di(this.history.undone,d)}},iterLinkedDocs:function(a){jo(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Ft(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:wr(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(l){return l.order=null}),this.cm&&zy(this.cm))})}),Wr.prototype.eachLine=Wr.prototype.iter;var Od=0;function n0(a){var l=this;if(kd(l),!(We(l,a)||An(l.display,a))){Pt(a),c&&(Od=+new Date);var p=Jo(l,a,!0),d=a.dataTransfer.files;if(!(!p||l.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var v=d.length,y=Array(v),b=0,x=function(){++b==v&&br(l,function(){p=je(l.doc,p);var ne={from:p,to:p,text:l.doc.splitLines(y.filter(function(we){return we!=null}).join(l.doc.lineSeparator())),origin:"paste"};Li(l.doc,ne),ud(l.doc,Lo(je(l.doc,p),je(l.doc,Ro(ne))))})()},S=function(ne,we){if(l.options.allowDropFileTypes&&Re(l.options.allowDropFileTypes,ne.type)==-1){x();return}var Ee=new FileReader;Ee.onerror=function(){return x()},Ee.onload=function(){var Be=Ee.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Be)){x();return}y[we]=Be,x()},Ee.readAsText(ne)},P=0;P<d.length;P++)S(d[P],P);else{if(l.state.draggingText&&l.doc.sel.contains(p)>-1){l.state.draggingText(a),setTimeout(function(){return l.display.input.focus()},20);return}try{var G=a.dataTransfer.getData("Text");if(G){var J;if(l.state.draggingText&&!l.state.draggingText.copy&&(J=l.listSelections()),Fs(l.doc,Lo(p,p)),J)for(var de=0;de<J.length;++de)Ri(l.doc,"",J[de].anchor,J[de].head,"drag");l.replaceSelection(G,"around","paste"),l.display.input.focus()}}catch{}}}}function o0(a,l){if(c&&(!a.state.draggingText||+new Date-Od<100)){j(l);return}if(!(We(a,l)||An(a.display,l))&&(l.dataTransfer.setData("Text",a.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!_)){var p=U("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),l.dataTransfer.setDragImage(p,0,0),m&&p.parentNode.removeChild(p)}}function i0(a,l){var p=Jo(a,l);if(p){var d=document.createDocumentFragment();Nf(a,p,d),a.display.dragCursor||(a.display.dragCursor=U("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),R(a.display.dragCursor,d)}}function kd(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Td(a){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<l.length;d++){var v=l[d].CodeMirror;v&&p.push(v)}p.length&&p[0].operation(function(){for(var y=0;y<p.length;y++)a(p[y])})}}var Pd=!1;function a0(){Pd||(s0(),Pd=!0)}function s0(){var a;he(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,Td(l0)},100))}),he(window,"blur",function(){return Td(Pi)})}function l0(a){var l=a.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,a.setSize()}for(var Io={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},La=0;La<10;La++)Io[La+48]=Io[La+96]=String(La);for(var Ws=65;Ws<=90;Ws++)Io[Ws]=String.fromCharCode(Ws);for(var Ra=1;Ra<=12;Ra++)Io[Ra+111]=Io[Ra+63235]="F"+Ra;var so={};so.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},so.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},so.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},so.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},so.default=N?so.macDefault:so.pcDefault;function c0(a){var l=a.split(/-(?!$)/);a=l[l.length-1];for(var p,d,v,y,b=0;b<l.length-1;b++){var x=l[b];if(/^(cmd|meta|m)$/i.test(x))y=!0;else if(/^a(lt)?$/i.test(x))p=!0;else if(/^(c|ctrl|control)$/i.test(x))d=!0;else if(/^s(hift)?$/i.test(x))v=!0;else throw new Error("Unrecognized modifier name: "+x)}return p&&(a="Alt-"+a),d&&(a="Ctrl-"+a),y&&(a="Cmd-"+a),v&&(a="Shift-"+a),a}function u0(a){var l={};for(var p in a)if(a.hasOwnProperty(p)){var d=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete a[p];continue}for(var v=ot(p.split(" "),c0),y=0;y<v.length;y++){var b=void 0,x=void 0;y==v.length-1?(x=v.join(" "),b=d):(x=v.slice(0,y+1).join(" "),b="...");var S=l[x];if(!S)l[x]=b;else if(S!=b)throw new Error("Inconsistent bindings for "+x)}delete a[p]}for(var P in l)a[P]=l[P];return a}function Bi(a,l,p,d){l=zs(l);var v=l.call?l.call(a,d):l[a];if(v===!1)return"nothing";if(v==="...")return"multi";if(v!=null&&p(v))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return Bi(a,l.fallthrough,p,d);for(var y=0;y<l.fallthrough.length;y++){var b=Bi(a,l.fallthrough[y],p,d);if(b)return b}}}function Ed(a){var l=typeof a=="string"?a:Io[a.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function Ad(a,l,p){var d=a;return l.altKey&&d!="Alt"&&(a="Alt-"+a),(Se?l.metaKey:l.ctrlKey)&&d!="Ctrl"&&(a="Ctrl-"+a),(Se?l.ctrlKey:l.metaKey)&&d!="Mod"&&(a="Cmd-"+a),!p&&l.shiftKey&&d!="Shift"&&(a="Shift-"+a),a}function Dd(a,l){if(m&&a.keyCode==34&&a.char)return!1;var p=Io[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),Ad(p,a,l))}function zs(a){return typeof a=="string"?so[a]:a}function Ii(a,l){for(var p=a.doc.sel.ranges,d=[],v=0;v<p.length;v++){for(var y=l(p[v]);d.length&&vt(y.from,Fe(d).to)<=0;){var b=d.pop();if(vt(b.from,y.from)<0){y.from=b.from;break}}d.push(y)}an(a,function(){for(var x=d.length-1;x>=0;x--)Ri(a.doc,"",d[x].from,d[x].to,"+delete");Ei(a)})}function Gc(a,l,p){var d=oe(a.text,l+p,p);return d<0||d>a.text.length?null:d}function Yc(a,l,p){var d=Gc(a,l.ch,p);return d==null?null:new Ae(l.line,d,p<0?"after":"before")}function qc(a,l,p,d,v){if(a){l.doc.direction=="rtl"&&(v=-v);var y=D(p,l.doc.direction);if(y){var b=v<0?Fe(y):y[0],x=v<0==(b.level==1),S=x?"after":"before",P;if(b.level>0||l.doc.direction=="rtl"){var G=ke(l,p);P=v<0?p.text.length-1:0;var J=He(l,G,P).top;P=rt(function(de){return He(l,G,de).top==J},v<0==(b.level==1)?b.from:b.to-1,P),S=="before"&&(P=Gc(p,P,1))}else P=v<0?b.to:b.from;return new Ae(d,P,S)}}return new Ae(d,v<0?p.text.length:0,v<0?"before":"after")}function f0(a,l,p,d){var v=D(l,a.doc.direction);if(!v)return Yc(l,p,d);p.ch>=l.text.length?(p.ch=l.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var y=V(v,p.ch,p.sticky),b=v[y];if(a.doc.direction=="ltr"&&b.level%2==0&&(d>0?b.to>p.ch:b.from<p.ch))return Yc(l,p,d);var x=function(Ge,et){return Gc(l,Ge instanceof Ae?Ge.ch:Ge,et)},S,P=function(Ge){return a.options.lineWrapping?(S=S||ke(a,l),jf(a,l,S,Ge)):{begin:0,end:l.text.length}},G=P(p.sticky=="before"?x(p,-1):p.ch);if(a.doc.direction=="rtl"||b.level==1){var J=b.level==1==d<0,de=x(p,J?1:-1);if(de!=null&&(J?de<=b.to&&de<=G.end:de>=b.from&&de>=G.begin)){var ne=J?"before":"after";return new Ae(p.line,de,ne)}}var we=function(Ge,et,Ye){for(var tt=function(Ut,xr){return xr?new Ae(p.line,x(Ut,1),"before"):new Ae(p.line,Ut,"after")};Ge>=0&&Ge<v.length;Ge+=et){var pt=v[Ge],ft=et>0==(pt.level!=1),Tt=ft?Ye.begin:x(Ye.end,-1);if(pt.from<=Tt&&Tt<pt.to||(Tt=ft?pt.from:x(pt.to,-1),Ye.begin<=Tt&&Tt<Ye.end))return tt(Tt,ft)}},Ee=we(y+d,d,G);if(Ee)return Ee;var Be=d>0?G.end:x(G.begin,-1);return Be!=null&&!(d>0&&Be==l.text.length)&&(Ee=we(d>0?0:v.length-1,d,P(Be)),Ee)?Ee:null}var ja={selectAll:vd,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Ve)},killLine:function(a){return Ii(a,function(l){if(l.empty()){var p=Ze(a.doc,l.head.line).text.length;return l.head.ch==p&&l.head.line<a.lastLine()?{from:l.head,to:Ae(l.head.line+1,0)}:{from:l.head,to:Ae(l.head.line,p)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(a){return Ii(a,function(l){return{from:Ae(l.from().line,0),to:je(a.doc,Ae(l.to().line+1,0))}})},delLineLeft:function(a){return Ii(a,function(l){return{from:Ae(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(a){return Ii(a,function(l){var p=a.charCoords(l.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return{from:d,to:l.from()}})},delWrappedLineRight:function(a){return Ii(a,function(l){var p=a.charCoords(l.head,"div").top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:l.from(),to:d}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Ae(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Ae(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(l){return Md(a,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(l){return Ld(a,l.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(l){return d0(a,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},at)},goLineLeft:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},at)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return d.ch<a.getLine(d.line).search(/\S/)?Ld(a,l.head):d},at)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var l=[],p=a.listSelections(),d=a.options.tabSize,v=0;v<p.length;v++){var y=p[v].from(),b=ye(a.getLine(y.line),y.ch,d);l.push(Qe(d-b%d))}a.replaceSelections(l)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return an(a,function(){for(var l=a.listSelections(),p=[],d=0;d<l.length;d++)if(l[d].empty()){var v=l[d].head,y=Ze(a.doc,v.line).text;if(y){if(v.ch==y.length&&(v=new Ae(v.line,v.ch-1)),v.ch>0)v=new Ae(v.line,v.ch+1),a.replaceRange(y.charAt(v.ch-1)+y.charAt(v.ch-2),Ae(v.line,v.ch-2),v,"+transpose");else if(v.line>a.doc.first){var b=Ze(a.doc,v.line-1).text;b&&(v=new Ae(v.line,1),a.replaceRange(y.charAt(0)+a.doc.lineSeparator()+b.charAt(b.length-1),Ae(v.line-1,b.length-1),v,"+transpose"))}}p.push(new jt(v,v))}a.setSelections(p)})},newlineAndIndent:function(a){return an(a,function(){for(var l=a.listSelections(),p=l.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),l[p].anchor,l[p].head,"+input");l=a.listSelections();for(var d=0;d<l.length;d++)a.indentLine(l[d].from().line,null,!0);Ei(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Md(a,l){var p=Ze(a.doc,l),d=Ct(p);return d!=p&&(l=xt(d)),qc(!0,a,d,l,1)}function d0(a,l){var p=Ze(a.doc,l),d=dt(p);return d!=p&&(l=xt(d)),qc(!0,a,p,l,-1)}function Ld(a,l){var p=Md(a,l.line),d=Ze(a.doc,p.line),v=D(d,a.doc.direction);if(!v||v[0].level==0){var y=Math.max(p.ch,d.text.search(/\S/)),b=l.line==p.line&&l.ch<=y&&l.ch;return Ae(p.line,b?0:y,p.sticky)}return p}function Ks(a,l,p){if(typeof l=="string"&&(l=ja[l],!l))return!1;a.display.input.ensurePolled();var d=a.display.shift,v=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),v=l(a)!=Ne}finally{a.display.shift=d,a.state.suppressEdits=!1}return v}function p0(a,l,p){for(var d=0;d<a.state.keyMaps.length;d++){var v=Bi(l,a.state.keyMaps[d],p,a);if(v)return v}return a.options.extraKeys&&Bi(l,a.options.extraKeys,p,a)||Bi(l,a.options.keyMap,p,a)}var h0=new be;function Ba(a,l,p,d){var v=a.state.keySeq;if(v){if(Ed(l))return"handled";if(/\'$/.test(l)?a.state.keySeq=null:h0.set(50,function(){a.state.keySeq==v&&(a.state.keySeq=null,a.display.input.reset())}),Rd(a,v+" "+l,p,d))return!0}return Rd(a,l,p,d)}function Rd(a,l,p,d){var v=p0(a,l,d);return v=="multi"&&(a.state.keySeq=l),v=="handled"&&Zt(a,"keyHandled",a,l,p),(v=="handled"||v=="multi")&&(Pt(p),Ac(a)),!!v}function jd(a,l){var p=Dd(l,!0);return p?l.shiftKey&&!a.state.keySeq?Ba(a,"Shift-"+p,l,function(d){return Ks(a,d,!0)})||Ba(a,p,l,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return Ks(a,d)}):Ba(a,p,l,function(d){return Ks(a,d)}):!1}function v0(a,l,p){return Ba(a,"'"+p+"'",l,function(d){return Ks(a,d,!0)})}var Xc=null;function Bd(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&(l.curOp.focus=me(),!We(l,a))){c&&u<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;l.display.shift=p==16||a.shiftKey;var d=jd(l,a);m&&(Xc=d?p:null,!d&&p==88&&!Zr&&(N?a.metaKey:a.ctrlKey)&&l.replaceSelection("",null,"cut")),t&&!N&&!d&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&g0(l)}}function g0(a){var l=a.display.lineDiv;ve(l,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(ae(l,"CodeMirror-crosshair"),Xe(document,"keyup",p),Xe(document,"mouseover",p))}he(document,"keyup",p),he(document,"mouseover",p)}function Id(a){a.keyCode==16&&(this.doc.sel.shift=!1),We(this,a)}function Vd(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&!(An(l.display,a)||We(l,a)||a.ctrlKey&&!a.altKey||N&&a.metaKey)){var p=a.keyCode,d=a.charCode;if(m&&p==Xc){Xc=null,Pt(a);return}if(!(m&&(!a.which||a.which<10)&&jd(l,a))){var v=String.fromCharCode(d??p);v!="\b"&&(v0(l,a,v)||l.display.input.onKeyPress(a))}}}var m0=400,$c=function(a,l,p){this.time=a,this.pos=l,this.button=p};$c.prototype.compare=function(a,l,p){return this.time+m0>a&&vt(l,this.pos)==0&&p==this.button};var Ia,Va;function y0(a,l){var p=+new Date;return Va&&Va.compare(p,a,l)?(Ia=Va=null,"triple"):Ia&&Ia.compare(p,a,l)?(Va=new $c(p,a,l),Ia=null,"double"):(Ia=new $c(p,a,l),Va=null,"single")}function Nd(a){var l=this,p=l.display;if(!(We(l,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,An(p,a)){f||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!Jc(l,a)){var d=Jo(l,a),v=se(a),y=d?y0(d,v):"single";window.focus(),v==1&&l.state.selectingText&&l.state.selectingText(a),!(d&&_0(l,v,d,y,a))&&(v==1?d?w0(l,d,y,a):Z(a)==p.scroller&&Pt(a):v==2?(d&&Ns(l.doc,d),setTimeout(function(){return p.input.focus()},20)):v==3&&(ce?l.display.input.onContextMenu(a):Dc(l)))}}}function _0(a,l,p,d,v){var y="Click";return d=="double"?y="Double"+y:d=="triple"&&(y="Triple"+y),y=(l==1?"Left":l==2?"Middle":"Right")+y,Ba(a,Ad(y,v),v,function(b){if(typeof b=="string"&&(b=ja[b]),!b)return!1;var x=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),x=b(a,p)!=Ne}finally{a.state.suppressEdits=!1}return x})}function b0(a,l,p){var d=a.getOption("configureMouse"),v=d?d(a,l,p):{};if(v.unit==null){var y=z?p.shiftKey&&p.metaKey:p.altKey;v.unit=y?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(v.extend==null||a.doc.extend)&&(v.extend=a.doc.extend||p.shiftKey),v.addNew==null&&(v.addNew=N?p.metaKey:p.ctrlKey),v.moveOnDrag==null&&(v.moveOnDrag=!(N?p.altKey:p.ctrlKey)),v}function w0(a,l,p,d){c?setTimeout($e(Ff,a),0):a.curOp.focus=me();var v=b0(a,p,d),y=a.doc.sel,b;a.options.dragDrop&&Te&&!a.isReadOnly()&&p=="single"&&(b=y.contains(l))>-1&&(vt((b=y.ranges[b]).from(),l)<0||l.xRel>0)&&(vt(b.to(),l)>0||l.xRel<0)?x0(a,d,l,v):C0(a,d,l,v)}function x0(a,l,p,d){var v=a.display,y=!1,b=br(a,function(P){f&&(v.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:Dc(a)),Xe(v.wrapper.ownerDocument,"mouseup",b),Xe(v.wrapper.ownerDocument,"mousemove",x),Xe(v.scroller,"dragstart",S),Xe(v.scroller,"drop",b),y||(Pt(P),d.addNew||Ns(a.doc,p,null,null,d.extend),f&&!_||c&&u==9?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),x=function(P){y=y||Math.abs(l.clientX-P.clientX)+Math.abs(l.clientY-P.clientY)>=10},S=function(){return y=!0};f&&(v.scroller.draggable=!0),a.state.draggingText=b,b.copy=!d.moveOnDrag,he(v.wrapper.ownerDocument,"mouseup",b),he(v.wrapper.ownerDocument,"mousemove",x),he(v.scroller,"dragstart",S),he(v.scroller,"drop",b),a.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}function Fd(a,l,p){if(p=="char")return new jt(l,l);if(p=="word")return a.findWordAt(l);if(p=="line")return new jt(Ae(l.line,0),je(a.doc,Ae(l.line+1,0)));var d=p(a,l);return new jt(d.from,d.to)}function C0(a,l,p,d){c&&Dc(a);var v=a.display,y=a.doc;Pt(l);var b,x,S=y.sel,P=S.ranges;if(d.addNew&&!d.extend?(x=y.sel.contains(p),x>-1?b=P[x]:b=new jt(p,p)):(b=y.sel.primary(),x=y.sel.primIndex),d.unit=="rectangle")d.addNew||(b=new jt(p,p)),p=Jo(a,l,!0,!0),x=-1;else{var G=Fd(a,p,d.unit);d.extend?b=zc(b,G.anchor,G.head,d.extend):b=G}d.addNew?x==-1?(x=P.length,Lr(y,Fn(a,P.concat([b]),x),{scroll:!1,origin:"*mouse"})):P.length>1&&P[x].empty()&&d.unit=="char"&&!d.extend?(Lr(y,Fn(a,P.slice(0,x).concat(P.slice(x+1)),0),{scroll:!1,origin:"*mouse"}),S=y.sel):Kc(y,x,b,nt):(x=0,Lr(y,new xn([b],0),nt),S=y.sel);var J=p;function de(Ye){if(vt(J,Ye)!=0)if(J=Ye,d.unit=="rectangle"){for(var tt=[],pt=a.options.tabSize,ft=ye(Ze(y,p.line).text,p.ch,pt),Tt=ye(Ze(y,Ye.line).text,Ye.ch,pt),Ut=Math.min(ft,Tt),xr=Math.max(ft,Tt),$t=Math.min(p.line,Ye.line),sn=Math.min(a.lastLine(),Math.max(p.line,Ye.line));$t<=sn;$t++){var zr=Ze(y,$t).text,lr=re(zr,Ut,pt);Ut==xr?tt.push(new jt(Ae($t,lr),Ae($t,lr))):zr.length>lr&&tt.push(new jt(Ae($t,lr),Ae($t,re(zr,xr,pt))))}tt.length||tt.push(new jt(p,p)),Lr(y,Fn(a,S.ranges.slice(0,x).concat(tt),x),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Ye)}else{var Kr=b,Pr=Fd(a,Ye,d.unit),mr=Kr.anchor,cr;vt(Pr.anchor,mr)>0?(cr=Pr.head,mr=Ce(Kr.from(),Pr.anchor)):(cr=Pr.anchor,mr=$(Kr.to(),Pr.head));var Qt=S.ranges.slice(0);Qt[x]=S0(a,new jt(je(y,mr),cr)),Lr(y,Fn(a,Qt,x),nt)}}var ne=v.wrapper.getBoundingClientRect(),we=0;function Ee(Ye){var tt=++we,pt=Jo(a,Ye,!0,d.unit=="rectangle");if(pt)if(vt(pt,J)!=0){a.curOp.focus=me(),de(pt);var ft=Ls(v,y);(pt.line>=ft.to||pt.line<ft.from)&&setTimeout(br(a,function(){we==tt&&Ee(Ye)}),150)}else{var Tt=Ye.clientY<ne.top?-20:Ye.clientY>ne.bottom?20:0;Tt&&setTimeout(br(a,function(){we==tt&&(v.scroller.scrollTop+=Tt,Ee(Ye))}),50)}}function Be(Ye){a.state.selectingText=!1,we=1/0,Ye&&(Pt(Ye),v.input.focus()),Xe(v.wrapper.ownerDocument,"mousemove",Ge),Xe(v.wrapper.ownerDocument,"mouseup",et),y.history.lastSelOrigin=null}var Ge=br(a,function(Ye){Ye.buttons===0||!se(Ye)?Be(Ye):Ee(Ye)}),et=br(a,Be);a.state.selectingText=et,he(v.wrapper.ownerDocument,"mousemove",Ge),he(v.wrapper.ownerDocument,"mouseup",et)}function S0(a,l){var p=l.anchor,d=l.head,v=Ze(a.doc,p.line);if(vt(p,d)==0&&p.sticky==d.sticky)return l;var y=D(v);if(!y)return l;var b=V(y,p.ch,p.sticky),x=y[b];if(x.from!=p.ch&&x.to!=p.ch)return l;var S=b+(x.from==p.ch==(x.level!=1)?0:1);if(S==0||S==y.length)return l;var P;if(d.line!=p.line)P=(d.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var G=V(y,d.ch,d.sticky),J=G-b||(d.ch-p.ch)*(x.level==1?-1:1);G==S-1||G==S?P=J<0:P=J>0}var de=y[S+(P?-1:0)],ne=P==(de.level==1),we=ne?de.from:de.to,Ee=ne?"after":"before";return p.ch==we&&p.sticky==Ee?l:new jt(new Ae(p.line,we,Ee),d)}function Hd(a,l,p,d){var v,y;if(l.touches)v=l.touches[0].clientX,y=l.touches[0].clientY;else try{v=l.clientX,y=l.clientY}catch{return!1}if(v>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&Pt(l);var b=a.display,x=b.lineDiv.getBoundingClientRect();if(y>x.bottom||!kt(a,p))return fr(l);y-=x.top-b.viewOffset;for(var S=0;S<a.display.gutterSpecs.length;++S){var P=b.gutters.childNodes[S];if(P&&P.getBoundingClientRect().right>=v){var G=Nt(a.doc,y),J=a.display.gutterSpecs[S];return qe(a,p,a,G,J.className,l),fr(l)}}}function Jc(a,l){return Hd(a,l,"gutterClick",!0)}function Ud(a,l){An(a.display,l)||O0(a,l)||We(a,l,"contextmenu")||ce||a.display.input.onContextMenu(l)}function O0(a,l){return kt(a,"gutterContextMenu")?Hd(a,l,"gutterContextMenu",!1):!1}function Wd(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ya(a)}var Vi={toString:function(){return"CodeMirror.Init"}},zd={},Gs={};function k0(a){var l=a.optionHandlers;function p(d,v,y,b){a.defaults[d]=v,y&&(l[d]=b?function(x,S,P){P!=Vi&&y(x,S,P)}:y)}a.defineOption=p,a.Init=Vi,p("value","",function(d,v){return d.setValue(v)},!0),p("mode",null,function(d,v){d.doc.modeOption=v,Hc(d)},!0),p("indentUnit",2,Hc,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){ka(d),ya(d),Ur(d)},!0),p("lineSeparator",null,function(d,v){if(d.doc.lineSep=v,!!v){var y=[],b=d.doc.first;d.doc.iter(function(S){for(var P=0;;){var G=S.text.indexOf(v,P);if(G==-1)break;P=G+v.length,y.push(Ae(b,G))}b++});for(var x=y.length-1;x>=0;x--)Ri(d.doc,v,y[x],Ae(y[x].line,y[x].ch+v.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(d,v,y){d.state.specialChars=new RegExp(v.source+(v.test("	")?"":"|	"),"g"),y!=Vi&&d.refresh()}),p("specialCharPlaceholder",ms,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",W?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,v){return d.getInputField().spellcheck=v},!0),p("autocorrect",!1,function(d,v){return d.getInputField().autocorrect=v},!0),p("autocapitalize",!1,function(d,v){return d.getInputField().autocapitalize=v},!0),p("rtlMoveVisually",!ue),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){Wd(d),Oa(d)},!0),p("keyMap","default",function(d,v,y){var b=zs(v),x=y!=Vi&&zs(y);x&&x.detach&&x.detach(d,b),b.attach&&b.attach(d,x||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,P0,!0),p("gutters",[],function(d,v){d.display.gutterSpecs=Nc(v,d.options.lineNumbers),Oa(d)},!0),p("fixedGutter",!0,function(d,v){d.display.gutters.style.left=v?Pc(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return Ai(d)},!0),p("scrollbarStyle","native",function(d){Gf(d),Ai(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,v){d.display.gutterSpecs=Nc(d.options.gutters,v),Oa(d)},!0),p("firstLineNumber",1,Oa,!0),p("lineNumberFormatter",function(d){return d},Oa,!0),p("showCursorWhenSelecting",!1,_a,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,v){v=="nocursor"&&(Pi(d),d.display.input.blur()),d.display.input.readOnlyChanged(v)}),p("screenReaderLabel",null,function(d,v){v=v===""?null:v,d.display.input.screenReaderLabelChanged(v)}),p("disableInput",!1,function(d,v){v||d.display.input.reset()},!0),p("dragDrop",!0,T0),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,_a,!0),p("singleCursorHeightPerLine",!0,_a,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,ka,!0),p("addModeClass",!1,ka,!0),p("pollInterval",100),p("undoDepth",200,function(d,v){return d.doc.history.undoDepth=v}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,ka,!0),p("moveInputWithCursor",!0,function(d,v){v||d.display.input.resetPosition()}),p("tabindex",null,function(d,v){return d.display.input.getField().tabIndex=v||""}),p("autofocus",null),p("direction","ltr",function(d,v){return d.doc.setDirection(v)},!0),p("phrases",null)}function T0(a,l,p){var d=p&&p!=Vi;if(!l!=!d){var v=a.display.dragFunctions,y=l?he:Xe;y(a.display.scroller,"dragstart",v.start),y(a.display.scroller,"dragenter",v.enter),y(a.display.scroller,"dragover",v.over),y(a.display.scroller,"dragleave",v.leave),y(a.display.scroller,"drop",v.drop)}}function P0(a){a.options.lineWrapping?(ve(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(ae(a.display.wrapper,"CodeMirror-wrap"),Co(a)),Ec(a),Ur(a),ya(a),setTimeout(function(){return Ai(a)},100)}function Gt(a,l){var p=this;if(!(this instanceof Gt))return new Gt(a,l);this.options=l=l?mt(l):{},mt(zd,l,!1);var d=l.value;typeof d=="string"?d=new Wr(d,l.mode,null,l.lineSeparator,l.direction):l.mode&&(d.modeOption=l.mode),this.doc=d;var v=new Gt.inputStyles[l.inputStyle](this),y=this.display=new Hy(a,d,v,l);y.wrapper.CodeMirror=this,Wd(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Gf(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new be,keySeq:null,specialChars:null},l.autofocus&&!W&&y.input.focus(),c&&u<11&&setTimeout(function(){return p.display.input.reset(!0)},20),E0(this),a0(),ti(this),this.curOp.forceUpdate=!0,rd(this,d),l.autofocus&&!W||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Mc(p)},20):Pi(this);for(var b in Gs)Gs.hasOwnProperty(b)&&Gs[b](this,l[b],Vi);Xf(this),l.finishInit&&l.finishInit(this);for(var x=0;x<Zc.length;++x)Zc[x](this);ri(this),f&&l.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}Gt.defaults=zd,Gt.optionHandlers=Gs;function E0(a){var l=a.display;he(l.scroller,"mousedown",br(a,Nd)),c&&u<11?he(l.scroller,"dblclick",br(a,function(S){if(!We(a,S)){var P=Jo(a,S);if(!(!P||Jc(a,S)||An(a.display,S))){Pt(S);var G=a.findWordAt(P);Ns(a.doc,G.anchor,G.head)}}})):he(l.scroller,"dblclick",function(S){return We(a,S)||Pt(S)}),he(l.scroller,"contextmenu",function(S){return Ud(a,S)}),he(l.input.getField(),"contextmenu",function(S){l.scroller.contains(S.target)||Ud(a,S)});var p,d={end:0};function v(){l.activeTouch&&(p=setTimeout(function(){return l.activeTouch=null},1e3),d=l.activeTouch,d.end=+new Date)}function y(S){if(S.touches.length!=1)return!1;var P=S.touches[0];return P.radiusX<=1&&P.radiusY<=1}function b(S,P){if(P.left==null)return!0;var G=P.left-S.left,J=P.top-S.top;return G*G+J*J>400}he(l.scroller,"touchstart",function(S){if(!We(a,S)&&!y(S)&&!Jc(a,S)){l.input.ensurePolled(),clearTimeout(p);var P=+new Date;l.activeTouch={start:P,moved:!1,prev:P-d.end<=300?d:null},S.touches.length==1&&(l.activeTouch.left=S.touches[0].pageX,l.activeTouch.top=S.touches[0].pageY)}}),he(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),he(l.scroller,"touchend",function(S){var P=l.activeTouch;if(P&&!An(l,S)&&P.left!=null&&!P.moved&&new Date-P.start<300){var G=a.coordsChar(l.activeTouch,"page"),J;!P.prev||b(P,P.prev)?J=new jt(G,G):!P.prev.prev||b(P,P.prev.prev)?J=a.findWordAt(G):J=new jt(Ae(G.line,0),je(a.doc,Ae(G.line+1,0))),a.setSelection(J.anchor,J.head),a.focus(),Pt(S)}v()}),he(l.scroller,"touchcancel",v),he(l.scroller,"scroll",function(){l.scroller.clientHeight&&(wa(a,l.scroller.scrollTop),Qo(a,l.scroller.scrollLeft,!0),qe(a,"scroll",a))}),he(l.scroller,"mousewheel",function(S){return Zf(a,S)}),he(l.scroller,"DOMMouseScroll",function(S){return Zf(a,S)}),he(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(S){We(a,S)||j(S)},over:function(S){We(a,S)||(i0(a,S),j(S))},start:function(S){return o0(a,S)},drop:br(a,n0),leave:function(S){We(a,S)||kd(a)}};var x=l.input.getField();he(x,"keyup",function(S){return Id.call(a,S)}),he(x,"keydown",br(a,Bd)),he(x,"keypress",br(a,Vd)),he(x,"focus",function(S){return Mc(a,S)}),he(x,"blur",function(S){return Pi(a,S)})}var Zc=[];Gt.defineInitHook=function(a){return Zc.push(a)};function Na(a,l,p,d){var v=a.doc,y;p==null&&(p="add"),p=="smart"&&(v.mode.indent?y=Hr(a,l).state:p="prev");var b=a.options.tabSize,x=Ze(v,l),S=ye(x.text,null,b);x.stateAfter&&(x.stateAfter=null);var P=x.text.match(/^\s*/)[0],G;if(!d&&!/\S/.test(x.text))G=0,p="not";else if(p=="smart"&&(G=v.mode.indent(y,x.text.slice(P.length),x.text),G==Ne||G>150)){if(!d)return;p="prev"}p=="prev"?l>v.first?G=ye(Ze(v,l-1).text,null,b):G=0:p=="add"?G=S+a.options.indentUnit:p=="subtract"?G=S-a.options.indentUnit:typeof p=="number"&&(G=S+p),G=Math.max(0,G);var J="",de=0;if(a.options.indentWithTabs)for(var ne=Math.floor(G/b);ne;--ne)de+=b,J+="	";if(de<G&&(J+=Qe(G-de)),J!=P)return Ri(v,J,Ae(l,0),Ae(l,P.length),"+input"),x.stateAfter=null,!0;for(var we=0;we<v.sel.ranges.length;we++){var Ee=v.sel.ranges[we];if(Ee.head.line==l&&Ee.head.ch<P.length){var Be=Ae(l,P.length);Kc(v,we,new jt(Be,Be));break}}}var Hn=null;function Ys(a){Hn=a}function Qc(a,l,p,d,v){var y=a.doc;a.display.shift=!1,d||(d=y.sel);var b=+new Date-200,x=v=="paste"||a.state.pasteIncoming>b,S=Ft(l),P=null;if(x&&d.ranges.length>1)if(Hn&&Hn.text.join(`
`)==l){if(d.ranges.length%Hn.text.length==0){P=[];for(var G=0;G<Hn.text.length;G++)P.push(y.splitLines(Hn.text[G]))}}else S.length==d.ranges.length&&a.options.pasteLinesPerSelection&&(P=ot(S,function(Ge){return[Ge]}));for(var J=a.curOp.updateInput,de=d.ranges.length-1;de>=0;de--){var ne=d.ranges[de],we=ne.from(),Ee=ne.to();ne.empty()&&(p&&p>0?we=Ae(we.line,we.ch-p):a.state.overwrite&&!x?Ee=Ae(Ee.line,Math.min(Ze(y,Ee.line).text.length,Ee.ch+Fe(S).length)):x&&Hn&&Hn.lineWise&&Hn.text.join(`
`)==S.join(`
`)&&(we=Ee=Ae(we.line,0)));var Be={from:we,to:Ee,text:P?P[de%P.length]:S,origin:v||(x?"paste":a.state.cutIncoming>b?"cut":"+input")};Li(a.doc,Be),Zt(a,"inputRead",a,Be)}l&&!x&&Gd(a,l),Ei(a),a.curOp.updateInput<2&&(a.curOp.updateInput=J),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Kd(a,l){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&an(l,function(){return Qc(l,p,0,null,"paste")}),!0}function Gd(a,l){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,d=p.ranges.length-1;d>=0;d--){var v=p.ranges[d];if(!(v.head.ch>100||d&&p.ranges[d-1].head.line==v.head.line)){var y=a.getModeAt(v.head),b=!1;if(y.electricChars){for(var x=0;x<y.electricChars.length;x++)if(l.indexOf(y.electricChars.charAt(x))>-1){b=Na(a,v.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(Ze(a.doc,v.head.line).text.slice(0,v.head.ch))&&(b=Na(a,v.head.line,"smart"));b&&Zt(a,"electricInput",a,v.head.line)}}}function Yd(a){for(var l=[],p=[],d=0;d<a.doc.sel.ranges.length;d++){var v=a.doc.sel.ranges[d].head.line,y={anchor:Ae(v,0),head:Ae(v+1,0)};p.push(y),l.push(a.getRange(y.anchor,y.head))}return{text:l,ranges:p}}function qd(a,l,p,d){a.setAttribute("autocorrect",p?"":"off"),a.setAttribute("autocapitalize",d?"":"off"),a.setAttribute("spellcheck",!!l)}function Xd(){var a=U("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),l=U("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return f?a.style.width="1000px":a.setAttribute("wrap","off"),T&&(a.style.border="1px solid black"),qd(a),l}function A0(a){var l=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(d,v){var y=this.options,b=y[d];y[d]==v&&d!="mode"||(y[d]=v,l.hasOwnProperty(d)&&br(this,l[d])(this,v,b),qe(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,v){this.state.keyMaps[v?"push":"unshift"](zs(d))},removeKeyMap:function(d){for(var v=this.state.keyMaps,y=0;y<v.length;++y)if(v[y]==d||v[y].name==d)return v.splice(y,1),!0},addOverlay:Ir(function(d,v){var y=d.token?d:a.getMode(this.options,d);if(y.startState)throw new Error("Overlays may not be stateful.");ht(this.state.overlays,{mode:y,modeSpec:d,opaque:v&&v.opaque,priority:v&&v.priority||0},function(b){return b.priority}),this.state.modeGen++,Ur(this)}),removeOverlay:Ir(function(d){for(var v=this.state.overlays,y=0;y<v.length;++y){var b=v[y].modeSpec;if(b==d||typeof d=="string"&&b.name==d){v.splice(y,1),this.state.modeGen++,Ur(this);return}}}),indentLine:Ir(function(d,v,y){typeof v!="string"&&typeof v!="number"&&(v==null?v=this.options.smartIndent?"smart":"prev":v=v?"add":"subtract"),vn(this.doc,d)&&Na(this,d,v,y)}),indentSelection:Ir(function(d){for(var v=this.doc.sel.ranges,y=-1,b=0;b<v.length;b++){var x=v[b];if(x.empty())x.head.line>y&&(Na(this,x.head.line,d,!0),y=x.head.line,b==this.doc.sel.primIndex&&Ei(this));else{var S=x.from(),P=x.to(),G=Math.max(y,S.line);y=Math.min(this.lastLine(),P.line-(P.ch?0:1))+1;for(var J=G;J<y;++J)Na(this,J,d);var de=this.doc.sel.ranges;S.ch==0&&v.length==de.length&&de[b].from().ch>0&&Kc(this.doc,b,new jt(S,de[b].to()),Ve)}}}),getTokenAt:function(d,v){return Ko(this,d,v)},getLineTokens:function(d,v){return Ko(this,Ae(d),v,!0)},getTokenTypeAt:function(d){d=je(this.doc,d);var v=mn(this,Ze(this.doc,d.line)),y=0,b=(v.length-1)/2,x=d.ch,S;if(x==0)S=v[2];else for(;;){var P=y+b>>1;if((P?v[P*2-1]:0)>=x)b=P;else if(v[P*2+1]<x)y=P+1;else{S=v[P*2+2];break}}var G=S?S.indexOf("overlay "):-1;return G<0?S:G==0?null:S.slice(0,G-1)},getModeAt:function(d){var v=this.doc.mode;return v.innerMode?a.innerMode(v,this.getTokenAt(d).state).mode:v},getHelper:function(d,v){return this.getHelpers(d,v)[0]},getHelpers:function(d,v){var y=[];if(!p.hasOwnProperty(v))return y;var b=p[v],x=this.getModeAt(d);if(typeof x[v]=="string")b[x[v]]&&y.push(b[x[v]]);else if(x[v])for(var S=0;S<x[v].length;S++){var P=b[x[v][S]];P&&y.push(P)}else x.helperType&&b[x.helperType]?y.push(b[x.helperType]):b[x.name]&&y.push(b[x.name]);for(var G=0;G<b._global.length;G++){var J=b._global[G];J.pred(x,this)&&Re(y,J.val)==-1&&y.push(J.val)}return y},getStateAfter:function(d,v){var y=this.doc;return d=Me(y,d??y.first+y.size-1),Hr(this,d+1,v).state},cursorCoords:function(d,v){var y,b=this.doc.sel.primary();return d==null?y=b.head:typeof d=="object"?y=je(this.doc,d):y=d?b.from():b.to(),Nn(this,y,v||"page")},charCoords:function(d,v){return Es(this,je(this.doc,d),v||"page")},coordsChar:function(d,v){return d=Mf(this,d,v||"page"),Oc(this,d.left,d.top)},lineAtHeight:function(d,v){return d=Mf(this,{top:d,left:0},v||"page").top,Nt(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,v,y){var b=!1,x;if(typeof d=="number"){var S=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>S&&(d=S,b=!0),x=Ze(this.doc,d)}else x=d;return Ps(this,x,{top:0,left:0},v||"page",y||b).top+(b?this.doc.height-nn(x):0)},defaultTextHeight:function(){return ki(this.display)},defaultCharWidth:function(){return Ti(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,v,y,b,x){var S=this.display;d=Nn(this,je(this.doc,d));var P=d.bottom,G=d.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),S.sizer.appendChild(v),b=="over")P=d.top;else if(b=="above"||b=="near"){var J=Math.max(S.wrapper.clientHeight,this.doc.height),de=Math.max(S.sizer.clientWidth,S.lineSpace.clientWidth);(b=="above"||d.bottom+v.offsetHeight>J)&&d.top>v.offsetHeight?P=d.top-v.offsetHeight:d.bottom+v.offsetHeight<=J&&(P=d.bottom),G+v.offsetWidth>de&&(G=de-v.offsetWidth)}v.style.top=P+"px",v.style.left=v.style.right="",x=="right"?(G=S.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):(x=="left"?G=0:x=="middle"&&(G=(S.sizer.clientWidth-v.offsetWidth)/2),v.style.left=G+"px"),y&&Ty(this,{left:G,top:P,right:G+v.offsetWidth,bottom:P+v.offsetHeight})},triggerOnKeyDown:Ir(Bd),triggerOnKeyPress:Ir(Vd),triggerOnKeyUp:Id,triggerOnMouseDown:Ir(Nd),execCommand:function(d){if(ja.hasOwnProperty(d))return ja[d].call(null,this)},triggerElectric:Ir(function(d){Gd(this,d)}),findPosH:function(d,v,y,b){var x=1;v<0&&(x=-1,v=-v);for(var S=je(this.doc,d),P=0;P<v&&(S=eu(this.doc,S,x,y,b),!S.hitSide);++P);return S},moveH:Ir(function(d,v){var y=this;this.extendSelectionsBy(function(b){return y.display.shift||y.doc.extend||b.empty()?eu(y.doc,b.head,d,v,y.options.rtlMoveVisually):d<0?b.from():b.to()},at)}),deleteH:Ir(function(d,v){var y=this.doc.sel,b=this.doc;y.somethingSelected()?b.replaceSelection("",null,"+delete"):Ii(this,function(x){var S=eu(b,x.head,d,v,!1);return d<0?{from:S,to:x.head}:{from:x.head,to:S}})}),findPosV:function(d,v,y,b){var x=1,S=b;v<0&&(x=-1,v=-v);for(var P=je(this.doc,d),G=0;G<v;++G){var J=Nn(this,P,"div");if(S==null?S=J.left:J.left=S,P=$d(this,J,x,y),P.hitSide)break}return P},moveV:Ir(function(d,v){var y=this,b=this.doc,x=[],S=!this.display.shift&&!b.extend&&b.sel.somethingSelected();if(b.extendSelectionsBy(function(G){if(S)return d<0?G.from():G.to();var J=Nn(y,G.head,"div");G.goalColumn!=null&&(J.left=G.goalColumn),x.push(J.left);var de=$d(y,J,d,v);return v=="page"&&G==b.sel.primary()&&Rc(y,Es(y,de,"div").top-J.top),de},at),x.length)for(var P=0;P<b.sel.ranges.length;P++)b.sel.ranges[P].goalColumn=x[P]}),findWordAt:function(d){var v=this.doc,y=Ze(v,d.line).text,b=d.ch,x=d.ch;if(y){var S=this.getHelper(d,"wordChars");(d.sticky=="before"||x==y.length)&&b?--b:++x;for(var P=y.charAt(b),G=ie(P,S)?function(J){return ie(J,S)}:/\s/.test(P)?function(J){return/\s/.test(J)}:function(J){return!/\s/.test(J)&&!ie(J)};b>0&&G(y.charAt(b-1));)--b;for(;x<y.length&&G(y.charAt(x));)++x}return new jt(Ae(d.line,b),Ae(d.line,x))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ve(this.display.cursorDiv,"CodeMirror-overwrite"):ae(this.display.cursorDiv,"CodeMirror-overwrite"),qe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==me()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ir(function(d,v){ba(this,d,v)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-on(this)-this.display.barHeight,width:d.scrollWidth-on(this)-this.display.barWidth,clientHeight:O(this),clientWidth:ao(this)}},scrollIntoView:Ir(function(d,v){d==null?(d={from:this.doc.sel.primary().head,to:null},v==null&&(v=this.options.cursorScrollMargin)):typeof d=="number"?d={from:Ae(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=v||0,d.from.line!=null?Py(this,d):Uf(this,d.from,d.to,d.margin)}),setSize:Ir(function(d,v){var y=this,b=function(S){return typeof S=="number"||/^\d+$/.test(String(S))?S+"px":S};d!=null&&(this.display.wrapper.style.width=b(d)),v!=null&&(this.display.wrapper.style.height=b(v)),this.options.lineWrapping&&Ef(this);var x=this.display.viewFrom;this.doc.iter(x,this.display.viewTo,function(S){if(S.widgets){for(var P=0;P<S.widgets.length;P++)if(S.widgets[P].noHScroll){Do(y,x,"widget");break}}++x}),this.curOp.forceUpdate=!0,qe(this,"refresh",this)}),operation:function(d){return an(this,d)},startOperation:function(){return ti(this)},endOperation:function(){return ri(this)},refresh:Ir(function(){var d=this.display.cachedTextHeight;Ur(this),this.curOp.forceUpdate=!0,ya(this),ba(this,this.doc.scrollLeft,this.doc.scrollTop),Ic(this.display),(d==null||Math.abs(d-ki(this.display))>.5||this.options.lineWrapping)&&Ec(this),qe(this,"refresh",this)}),swapDoc:Ir(function(d){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),rd(this,d),ya(this),this.display.input.reset(),ba(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,Zt(this,"swapDoc",this,v),v}),phrase:function(d){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,d)?v[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},At(a),a.registerHelper=function(d,v,y){p.hasOwnProperty(d)||(p[d]=a[d]={_global:[]}),p[d][v]=y},a.registerGlobalHelper=function(d,v,y,b){a.registerHelper(d,v,b),p[d]._global.push({pred:y,val:b})}}function eu(a,l,p,d,v){var y=l,b=p,x=Ze(a,l.line),S=v&&a.direction=="rtl"?-p:p;function P(){var et=l.line+S;return et<a.first||et>=a.first+a.size?!1:(l=new Ae(et,l.ch,l.sticky),x=Ze(a,et))}function G(et){var Ye;if(d=="codepoint"){var tt=x.text.charCodeAt(l.ch+(p>0?0:-1));if(isNaN(tt))Ye=null;else{var pt=p>0?tt>=55296&&tt<56320:tt>=56320&&tt<57343;Ye=new Ae(l.line,Math.max(0,Math.min(x.text.length,l.ch+p*(pt?2:1))),-p)}}else v?Ye=f0(a.cm,x,l,p):Ye=Yc(x,l,p);if(Ye==null)if(!et&&P())l=qc(v,a.cm,x,l.line,S);else return!1;else l=Ye;return!0}if(d=="char"||d=="codepoint")G();else if(d=="column")G(!0);else if(d=="word"||d=="group")for(var J=null,de=d=="group",ne=a.cm&&a.cm.getHelper(l,"wordChars"),we=!0;!(p<0&&!G(!we));we=!1){var Ee=x.text.charAt(l.ch)||`
`,Be=ie(Ee,ne)?"w":de&&Ee==`
`?"n":!de||/\s/.test(Ee)?null:"p";if(de&&!we&&!Be&&(Be="s"),J&&J!=Be){p<0&&(p=1,G(),l.sticky="after");break}if(Be&&(J=Be),p>0&&!G(!we))break}var Ge=Hs(a,l,y,b,!0);return Fr(y,Ge)&&(Ge.hitSide=!0),Ge}function $d(a,l,p,d){var v=a.doc,y=l.left,b;if(d=="page"){var x=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),S=Math.max(x-.5*ki(a.display),3);b=(p>0?l.bottom:l.top)+p*S}else d=="line"&&(b=p>0?l.bottom+3:l.top-3);for(var P;P=Oc(a,y,b),!!P.outside;){if(p<0?b<=0:b>=v.height){P.hitSide=!0;break}b+=p*5}return P}var Vt=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new be,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Vt.prototype.init=function(a){var l=this,p=this,d=p.cm,v=p.div=a.lineDiv;v.contentEditable=!0,qd(v,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function y(x){for(var S=x.target;S;S=S.parentNode){if(S==v)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(S.className))break}return!1}he(v,"paste",function(x){!y(x)||We(d,x)||Kd(x,d)||u<=11&&setTimeout(br(d,function(){return l.updateFromDOM()}),20)}),he(v,"compositionstart",function(x){l.composing={data:x.data,done:!1}}),he(v,"compositionupdate",function(x){l.composing||(l.composing={data:x.data,done:!1})}),he(v,"compositionend",function(x){l.composing&&(x.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),he(v,"touchstart",function(){return p.forceCompositionEnd()}),he(v,"input",function(){l.composing||l.readFromDOMSoon()});function b(x){if(!(!y(x)||We(d,x))){if(d.somethingSelected())Ys({lineWise:!1,text:d.getSelections()}),x.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var S=Yd(d);Ys({lineWise:!0,text:S.text}),x.type=="cut"&&d.operation(function(){d.setSelections(S.ranges,0,Ve),d.replaceSelection("",null,"cut")})}else return;if(x.clipboardData){x.clipboardData.clearData();var P=Hn.text.join(`
`);if(x.clipboardData.setData("Text",P),x.clipboardData.getData("Text")==P){x.preventDefault();return}}var G=Xd(),J=G.firstChild;d.display.lineSpace.insertBefore(G,d.display.lineSpace.firstChild),J.value=Hn.text.join(`
`);var de=me();Je(J),setTimeout(function(){d.display.lineSpace.removeChild(G),de.focus(),de==v&&p.showPrimarySelection()},50)}}he(v,"copy",b),he(v,"cut",b)},Vt.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Vt.prototype.prepareSelection=function(){var a=Vf(this.cm,!1);return a.focus=me()==this.div,a},Vt.prototype.showSelection=function(a,l){!a||!this.cm.display.view.length||((a.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Vt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Vt.prototype.showPrimarySelection=function(){var a=this.getSelection(),l=this.cm,p=l.doc.sel.primary(),d=p.from(),v=p.to();if(l.display.viewTo==l.display.viewFrom||d.line>=l.display.viewTo||v.line<l.display.viewFrom){a.removeAllRanges();return}var y=qs(l,a.anchorNode,a.anchorOffset),b=qs(l,a.focusNode,a.focusOffset);if(!(y&&!y.bad&&b&&!b.bad&&vt(Ce(y,b),d)==0&&vt($(y,b),v)==0)){var x=l.display.view,S=d.line>=l.display.viewFrom&&Jd(l,d)||{node:x[0].measure.map[2],offset:0},P=v.line<l.display.viewTo&&Jd(l,v);if(!P){var G=x[x.length-1].measure,J=G.maps?G.maps[G.maps.length-1]:G.map;P={node:J[J.length-1],offset:J[J.length-2]-J[J.length-3]}}if(!S||!P){a.removeAllRanges();return}var de=a.rangeCount&&a.getRangeAt(0),ne;try{ne=te(S.node,S.offset,P.offset,P.node)}catch{}ne&&(!t&&l.state.focused?(a.collapse(S.node,S.offset),ne.collapsed||(a.removeAllRanges(),a.addRange(ne))):(a.removeAllRanges(),a.addRange(ne)),de&&a.anchorNode==null?a.addRange(de):t&&this.startGracePeriod()),this.rememberSelection()}},Vt.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Vt.prototype.showMultipleSelections=function(a){R(this.cm.display.cursorDiv,a.cursors),R(this.cm.display.selectionDiv,a.selection)},Vt.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Vt.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var l=a.getRangeAt(0).commonAncestorContainer;return E(this.div,l)},Vt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||me()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Vt.prototype.blur=function(){this.div.blur()},Vt.prototype.getField=function(){return this.div},Vt.prototype.supportsTouch=function(){return!0},Vt.prototype.receivedFocus=function(){var a=this,l=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):an(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function p(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},Vt.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Vt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),l=this.cm;if(B&&g&&this.cm.display.gutterSpecs.length&&D0(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=qs(l,a.anchorNode,a.anchorOffset),d=qs(l,a.focusNode,a.focusOffset);p&&d&&an(l,function(){Lr(l.doc,Lo(p,d),Ve),(p.bad||d.bad)&&(l.curOp.selectionChanged=!0)})}}},Vt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,l=a.display,p=a.doc.sel.primary(),d=p.from(),v=p.to();if(d.ch==0&&d.line>a.firstLine()&&(d=Ae(d.line-1,Ze(a.doc,d.line-1).length)),v.ch==Ze(a.doc,v.line).text.length&&v.line<a.lastLine()&&(v=Ae(v.line+1,0)),d.line<l.viewFrom||v.line>l.viewTo-1)return!1;var y,b,x;d.line==l.viewFrom||(y=Zo(a,d.line))==0?(b=xt(l.view[0].line),x=l.view[0].node):(b=xt(l.view[y].line),x=l.view[y-1].node.nextSibling);var S=Zo(a,v.line),P,G;if(S==l.view.length-1?(P=l.viewTo-1,G=l.lineDiv.lastChild):(P=xt(l.view[S+1].line)-1,G=l.view[S+1].node.previousSibling),!x)return!1;for(var J=a.doc.splitLines(M0(a,x,G,b,P)),de=pr(a.doc,Ae(b,0),Ae(P,Ze(a.doc,P).text.length));J.length>1&&de.length>1;)if(Fe(J)==Fe(de))J.pop(),de.pop(),P--;else if(J[0]==de[0])J.shift(),de.shift(),b++;else break;for(var ne=0,we=0,Ee=J[0],Be=de[0],Ge=Math.min(Ee.length,Be.length);ne<Ge&&Ee.charCodeAt(ne)==Be.charCodeAt(ne);)++ne;for(var et=Fe(J),Ye=Fe(de),tt=Math.min(et.length-(J.length==1?ne:0),Ye.length-(de.length==1?ne:0));we<tt&&et.charCodeAt(et.length-we-1)==Ye.charCodeAt(Ye.length-we-1);)++we;if(J.length==1&&de.length==1&&b==d.line)for(;ne&&ne>d.ch&&et.charCodeAt(et.length-we-1)==Ye.charCodeAt(Ye.length-we-1);)ne--,we++;J[J.length-1]=et.slice(0,et.length-we).replace(/^\u200b+/,""),J[0]=J[0].slice(ne).replace(/\u200b+$/,"");var pt=Ae(b,ne),ft=Ae(P,de.length?Fe(de).length-we:0);if(J.length>1||J[0]||vt(pt,ft))return Ri(a.doc,J,pt,ft,"+input"),!0},Vt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Vt.prototype.reset=function(){this.forceCompositionEnd()},Vt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Vt.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},Vt.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&an(this.cm,function(){return Ur(a.cm)})},Vt.prototype.setUneditable=function(a){a.contentEditable="false"},Vt.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||br(this.cm,Qc)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},Vt.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},Vt.prototype.onContextMenu=function(){},Vt.prototype.resetPosition=function(){},Vt.prototype.needsContentAttribute=!0;function Jd(a,l){var p=le(a,l.line);if(!p||p.hidden)return null;var d=Ze(a.doc,l.line),v=X(p,d,l.line),y=D(d,a.doc.direction),b="left";if(y){var x=V(y,l.ch);b=x%2?"right":"left"}var S=wt(v.map,l.ch,b);return S.offset=S.collapse=="right"?S.end:S.start,S}function D0(a){for(var l=a;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function Ni(a,l){return l&&(a.bad=!0),a}function M0(a,l,p,d,v){var y="",b=!1,x=a.doc.lineSeparator(),S=!1;function P(ne){return function(we){return we.id==ne}}function G(){b&&(y+=x,S&&(y+=x),b=S=!1)}function J(ne){ne&&(G(),y+=ne)}function de(ne){if(ne.nodeType==1){var we=ne.getAttribute("cm-text");if(we){J(we);return}var Ee=ne.getAttribute("cm-marker"),Be;if(Ee){var Ge=a.findMarks(Ae(d,0),Ae(v+1,0),P(+Ee));Ge.length&&(Be=Ge[0].find(0))&&J(pr(a.doc,Be.from,Be.to).join(x));return}if(ne.getAttribute("contenteditable")=="false")return;var et=/^(pre|div|p|li|table|br)$/i.test(ne.nodeName);if(!/^br$/i.test(ne.nodeName)&&ne.textContent.length==0)return;et&&G();for(var Ye=0;Ye<ne.childNodes.length;Ye++)de(ne.childNodes[Ye]);/^(pre|p)$/i.test(ne.nodeName)&&(S=!0),et&&(b=!0)}else ne.nodeType==3&&J(ne.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;de(l),l!=p;)l=l.nextSibling,S=!1;return y}function qs(a,l,p){var d;if(l==a.display.lineDiv){if(d=a.display.lineDiv.childNodes[p],!d)return Ni(a.clipPos(Ae(a.display.viewTo-1)),!0);l=null,p=0}else for(d=l;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var v=0;v<a.display.view.length;v++){var y=a.display.view[v];if(y.node==d)return L0(y,l,p)}}function L0(a,l,p){var d=a.text.firstChild,v=!1;if(!l||!E(d,l))return Ni(Ae(xt(a.line),0),!0);if(l==d&&(v=!0,l=d.childNodes[p],p=0,!l)){var y=a.rest?Fe(a.rest):a.line;return Ni(Ae(xt(y),y.text.length),v)}var b=l.nodeType==3?l:null,x=l;for(!b&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(b=l.firstChild,p&&(p=b.nodeValue.length));x.parentNode!=d;)x=x.parentNode;var S=a.measure,P=S.maps;function G(Be,Ge,et){for(var Ye=-1;Ye<(P?P.length:0);Ye++)for(var tt=Ye<0?S.map:P[Ye],pt=0;pt<tt.length;pt+=3){var ft=tt[pt+2];if(ft==Be||ft==Ge){var Tt=xt(Ye<0?a.line:a.rest[Ye]),Ut=tt[pt]+et;return(et<0||ft!=Be)&&(Ut=tt[pt+(et?1:0)]),Ae(Tt,Ut)}}}var J=G(b,x,p);if(J)return Ni(J,v);for(var de=x.nextSibling,ne=b?b.nodeValue.length-p:0;de;de=de.nextSibling){if(J=G(de,de.firstChild,0),J)return Ni(Ae(J.line,J.ch-ne),v);ne+=de.textContent.length}for(var we=x.previousSibling,Ee=p;we;we=we.previousSibling){if(J=G(we,we.firstChild,-1),J)return Ni(Ae(J.line,J.ch+Ee),v);Ee+=we.textContent.length}}var nr=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new be,this.hasSelection=!1,this.composing=null};nr.prototype.init=function(a){var l=this,p=this,d=this.cm;this.createField(a);var v=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),T&&(v.style.width="0px"),he(v,"input",function(){c&&u>=9&&l.hasSelection&&(l.hasSelection=null),p.poll()}),he(v,"paste",function(b){We(d,b)||Kd(b,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function y(b){if(!We(d,b)){if(d.somethingSelected())Ys({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var x=Yd(d);Ys({lineWise:!0,text:x.text}),b.type=="cut"?d.setSelections(x.ranges,null,Ve):(p.prevInput="",v.value=x.text.join(`
`),Je(v))}else return;b.type=="cut"&&(d.state.cutIncoming=+new Date)}}he(v,"cut",y),he(v,"copy",y),he(a.scroller,"paste",function(b){if(!(An(a,b)||We(d,b))){if(!v.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var x=new Event("paste");x.clipboardData=b.clipboardData,v.dispatchEvent(x)}}),he(a.lineSpace,"selectstart",function(b){An(a,b)||Pt(b)}),he(v,"compositionstart",function(){var b=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:b,range:d.markText(b,d.getCursor("to"),{className:"CodeMirror-composing"})}}),he(v,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},nr.prototype.createField=function(a){this.wrapper=Xd(),this.textarea=this.wrapper.firstChild},nr.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},nr.prototype.prepareSelection=function(){var a=this.cm,l=a.display,p=a.doc,d=Vf(a);if(a.options.moveInputWithCursor){var v=Nn(a,p.sel.primary().head,"div"),y=l.wrapper.getBoundingClientRect(),b=l.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,v.top+b.top-y.top)),d.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,v.left+b.left-y.left))}return d},nr.prototype.showSelection=function(a){var l=this.cm,p=l.display;R(p.cursorDiv,a.cursors),R(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},nr.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing)){var l=this.cm;if(l.somethingSelected()){this.prevInput="";var p=l.getSelection();this.textarea.value=p,l.state.focused&&Je(this.textarea),c&&u>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",c&&u>=9&&(this.hasSelection=null))}},nr.prototype.getField=function(){return this.textarea},nr.prototype.supportsTouch=function(){return!1},nr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!W||me()!=this.textarea))try{this.textarea.focus()}catch{}},nr.prototype.blur=function(){this.textarea.blur()},nr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},nr.prototype.receivedFocus=function(){this.slowPoll()},nr.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},nr.prototype.fastPoll=function(){var a=!1,l=this;l.pollingFast=!0;function p(){var d=l.poll();!d&&!a?(a=!0,l.polling.set(60,p)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,p)},nr.prototype.poll=function(){var a=this,l=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||!l.state.focused||Wt(p)&&!d&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var v=p.value;if(v==d&&!l.somethingSelected())return!1;if(c&&u>=9&&this.hasSelection===v||N&&/[\uf700-\uf7ff]/.test(v))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var y=v.charCodeAt(0);if(y==8203&&!d&&(d="\u200B"),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var b=0,x=Math.min(d.length,v.length);b<x&&d.charCodeAt(b)==v.charCodeAt(b);)++b;return an(l,function(){Qc(l,v.slice(b),d.length-b,null,a.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=v,a.composing&&(a.composing.range.clear(),a.composing.range=l.markText(a.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},nr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},nr.prototype.onKeyPress=function(){c&&u>=9&&(this.hasSelection=null),this.fastPoll()},nr.prototype.onContextMenu=function(a){var l=this,p=l.cm,d=p.display,v=l.textarea;l.contextMenuPending&&l.contextMenuPending();var y=Jo(p,a),b=d.scroller.scrollTop;if(!y||m)return;var x=p.options.resetSelectionOnContextMenu;x&&p.doc.sel.contains(y)==-1&&br(p,Lr)(p.doc,Lo(y),Ve);var S=v.style.cssText,P=l.wrapper.style.cssText,G=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",v.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-G.top-5)+"px; left: "+(a.clientX-G.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var J;f&&(J=window.scrollY),d.input.focus(),f&&window.scrollTo(null,J),d.input.reset(),p.somethingSelected()||(v.value=l.prevInput=" "),l.contextMenuPending=ne,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function de(){if(v.selectionStart!=null){var Ee=p.somethingSelected(),Be="\u200B"+(Ee?v.value:"");v.value="\u21DA",v.value=Be,l.prevInput=Ee?"":"\u200B",v.selectionStart=1,v.selectionEnd=Be.length,d.selForContextMenu=p.doc.sel}}function ne(){if(l.contextMenuPending==ne&&(l.contextMenuPending=!1,l.wrapper.style.cssText=P,v.style.cssText=S,c&&u<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=b),v.selectionStart!=null)){(!c||c&&u<9)&&de();var Ee=0,Be=function(){d.selForContextMenu==p.doc.sel&&v.selectionStart==0&&v.selectionEnd>0&&l.prevInput=="\u200B"?br(p,vd)(p):Ee++<10?d.detectingSelectAll=setTimeout(Be,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(Be,200)}}if(c&&u>=9&&de(),ce){j(a);var we=function(){Xe(window,"mouseup",we),setTimeout(ne,20)};he(window,"mouseup",we)}else setTimeout(ne,50)},nr.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},nr.prototype.setUneditable=function(){},nr.prototype.needsContentAttribute=!1;function R0(a,l){if(l=l?mt(l):{},l.value=a.value,!l.tabindex&&a.tabIndex&&(l.tabindex=a.tabIndex),!l.placeholder&&a.placeholder&&(l.placeholder=a.placeholder),l.autofocus==null){var p=me();l.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function d(){a.value=x.getValue()}var v;if(a.form&&(he(a.form,"submit",d),!l.leaveSubmitMethodAlone)){var y=a.form;v=y.submit;try{var b=y.submit=function(){d(),y.submit=v,y.submit(),y.submit=b}}catch{}}l.finishInit=function(S){S.save=d,S.getTextArea=function(){return a},S.toTextArea=function(){S.toTextArea=isNaN,d(),a.parentNode.removeChild(S.getWrapperElement()),a.style.display="",a.form&&(Xe(a.form,"submit",d),!l.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=v))}},a.style.display="none";var x=Gt(function(S){return a.parentNode.insertBefore(S,a.nextSibling)},l);return x}function j0(a){a.off=Xe,a.on=he,a.wheelEventPixels=Uy,a.Doc=Wr,a.splitLines=Ft,a.countColumn=ye,a.findColumn=re,a.isWordChar=Y,a.Pass=Ne,a.signal=qe,a.Line=_r,a.changeEnd=Ro,a.scrollbarModel=Kf,a.Pos=Ae,a.cmpPos=vt,a.modes=hn,a.mimeModes=Ht,a.resolveMode=Qr,a.getMode=Dt,a.modeExtensions=jr,a.extendMode=yt,a.copyState=kr,a.startState=Br,a.innerMode=rr,a.commands=ja,a.keyMap=so,a.keyName=Dd,a.isModifierKey=Ed,a.lookupKey=Bi,a.normalizeKeyMap=u0,a.StringStream=Rt,a.SharedTextMarker=Ma,a.TextMarker=Bo,a.LineWidget=Da,a.e_preventDefault=Pt,a.e_stopPropagation=qt,a.e_stop=j,a.addClass=ve,a.contains=E,a.rmClass=ae,a.keyNames=Io}k0(Gt),A0(Gt);var B0="iter insert remove copy getEditor constructor".split(" ");for(var Xs in Wr.prototype)Wr.prototype.hasOwnProperty(Xs)&&Re(B0,Xs)<0&&(Gt.prototype[Xs]=function(a){return function(){return a.apply(this.doc,arguments)}}(Wr.prototype[Xs]));return At(Wr),Gt.inputStyles={textarea:nr,contenteditable:Vt},Gt.defineMode=function(a){!Gt.defaults.mode&&a!="null"&&(Gt.defaults.mode=a),Kt.apply(this,arguments)},Gt.defineMIME=Xt,Gt.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),Gt.defineMIME("text/plain","null"),Gt.defineExtension=function(a,l){Gt.prototype[a]=l},Gt.defineDocExtension=function(a,l){Wr.prototype[a]=l},Gt.fromTextArea=R0,j0(Gt),Gt.version="5.63.0",Gt})},7389:(i,n,e)=>{(function(t){t(e(4408))})(function(t){"use strict";t.defineMode("css",function(F,R){var U=R.inline;R.propertyKeywords||(R=t.resolveMode("text/css"));var H=F.indentUnit,te=R.tokenHooks,E=R.documentTypes||{},me=R.mediaTypes||{},ve=R.mediaFeatures||{},Le=R.mediaValueKeywords||{},Je=R.propertyKeywords||{},$e=R.nonStandardPropertyKeywords||{},mt=R.fontProperties||{},ye=R.counterDescriptors||{},be=R.colorKeywords||{},Re=R.valueKeywords||{},Ue=R.allowNested,Ne=R.lineComment,Ve=R.supportsAtComponent===!0,nt=F.highlightNonStandardPropertyKeywords!==!1,at,re;function xe(K,fe){return at=fe,K}function Qe(K,fe){var oe=K.next();if(te[oe]){var rt=te[oe](K,fe);if(rt!==!1)return rt}if(oe=="@")return K.eatWhile(/[\w\\\-]/),xe("def",K.current());if(oe=="="||(oe=="~"||oe=="|")&&K.eat("="))return xe(null,"compare");if(oe=='"'||oe=="'")return fe.tokenize=Fe(oe),fe.tokenize(K,fe);if(oe=="#")return K.eatWhile(/[\w\\\-]/),xe("atom","hash");if(oe=="!")return K.match(/^\s*\w*/),xe("keyword","important");if(/\d/.test(oe)||oe=="."&&K.eat(/\d/))return K.eatWhile(/[\w.%]/),xe("number","unit");if(oe==="-"){if(/[\d.]/.test(K.peek()))return K.eatWhile(/[\w.%]/),xe("number","unit");if(K.match(/^-[\w\\\-]*/))return K.eatWhile(/[\w\\\-]/),K.match(/^\s*:/,!1)?xe("variable-2","variable-definition"):xe("variable-2","variable");if(K.match(/^\w+-/))return xe("meta","meta")}else return/[,+>*\/]/.test(oe)?xe(null,"select-op"):oe=="."&&K.match(/^-?[_a-z][_a-z0-9-]*/i)?xe("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(oe)?xe(null,oe):K.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(K.current())&&(fe.tokenize=ot),xe("variable callee","variable")):/[\w\\\-]/.test(oe)?(K.eatWhile(/[\w\\\-]/),xe("property","word")):xe(null,null)}function Fe(K){return function(fe,oe){for(var rt=!1,bt;(bt=fe.next())!=null;){if(bt==K&&!rt){K==")"&&fe.backUp(1);break}rt=!rt&&bt=="\\"}return(bt==K||!rt&&K!=")")&&(oe.tokenize=null),xe("string","string")}}function ot(K,fe){return K.next(),K.match(/^\s*[\"\')]/,!1)?fe.tokenize=null:fe.tokenize=Fe(")"),xe(null,"(")}function ht(K,fe,oe){this.type=K,this.indent=fe,this.prev=oe}function it(K,fe,oe,rt){return K.context=new ht(oe,fe.indentation()+(rt===!1?0:H),K.context),oe}function k(K){return K.context.prev&&(K.context=K.context.prev),K.context.type}function I(K,fe,oe){return ge[oe.context.type](K,fe,oe)}function Y(K,fe,oe,rt){for(var bt=rt||1;bt>0;bt--)oe.context=oe.context.prev;return I(K,fe,oe)}function ie(K){var fe=K.current().toLowerCase();Re.hasOwnProperty(fe)?re="atom":be.hasOwnProperty(fe)?re="keyword":re="variable"}var ge={};return ge.top=function(K,fe,oe){if(K=="{")return it(oe,fe,"block");if(K=="}"&&oe.context.prev)return k(oe);if(Ve&&/@component/i.test(K))return it(oe,fe,"atComponentBlock");if(/^@(-moz-)?document$/i.test(K))return it(oe,fe,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(K))return it(oe,fe,"atBlock");if(/^@(font-face|counter-style)/i.test(K))return oe.stateArg=K,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(K))return"keyframes";if(K&&K.charAt(0)=="@")return it(oe,fe,"at");if(K=="hash")re="builtin";else if(K=="word")re="tag";else{if(K=="variable-definition")return"maybeprop";if(K=="interpolation")return it(oe,fe,"interpolation");if(K==":")return"pseudo";if(Ue&&K=="(")return it(oe,fe,"parens")}return oe.context.type},ge.block=function(K,fe,oe){if(K=="word"){var rt=fe.current().toLowerCase();return Je.hasOwnProperty(rt)?(re="property","maybeprop"):$e.hasOwnProperty(rt)?(re=nt?"string-2":"property","maybeprop"):Ue?(re=fe.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(re+=" error","maybeprop")}else return K=="meta"?"block":!Ue&&(K=="hash"||K=="qualifier")?(re="error","block"):ge.top(K,fe,oe)},ge.maybeprop=function(K,fe,oe){return K==":"?it(oe,fe,"prop"):I(K,fe,oe)},ge.prop=function(K,fe,oe){if(K==";")return k(oe);if(K=="{"&&Ue)return it(oe,fe,"propBlock");if(K=="}"||K=="{")return Y(K,fe,oe);if(K=="(")return it(oe,fe,"parens");if(K=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(fe.current()))re+=" error";else if(K=="word")ie(fe);else if(K=="interpolation")return it(oe,fe,"interpolation");return"prop"},ge.propBlock=function(K,fe,oe){return K=="}"?k(oe):K=="word"?(re="property","maybeprop"):oe.context.type},ge.parens=function(K,fe,oe){return K=="{"||K=="}"?Y(K,fe,oe):K==")"?k(oe):K=="("?it(oe,fe,"parens"):K=="interpolation"?it(oe,fe,"interpolation"):(K=="word"&&ie(fe),"parens")},ge.pseudo=function(K,fe,oe){return K=="meta"?"pseudo":K=="word"?(re="variable-3",oe.context.type):I(K,fe,oe)},ge.documentTypes=function(K,fe,oe){return K=="word"&&E.hasOwnProperty(fe.current())?(re="tag",oe.context.type):ge.atBlock(K,fe,oe)},ge.atBlock=function(K,fe,oe){if(K=="(")return it(oe,fe,"atBlock_parens");if(K=="}"||K==";")return Y(K,fe,oe);if(K=="{")return k(oe)&&it(oe,fe,Ue?"block":"top");if(K=="interpolation")return it(oe,fe,"interpolation");if(K=="word"){var rt=fe.current().toLowerCase();rt=="only"||rt=="not"||rt=="and"||rt=="or"?re="keyword":me.hasOwnProperty(rt)?re="attribute":ve.hasOwnProperty(rt)?re="property":Le.hasOwnProperty(rt)?re="keyword":Je.hasOwnProperty(rt)?re="property":$e.hasOwnProperty(rt)?re=nt?"string-2":"property":Re.hasOwnProperty(rt)?re="atom":be.hasOwnProperty(rt)?re="keyword":re="error"}return oe.context.type},ge.atComponentBlock=function(K,fe,oe){return K=="}"?Y(K,fe,oe):K=="{"?k(oe)&&it(oe,fe,Ue?"block":"top",!1):(K=="word"&&(re="error"),oe.context.type)},ge.atBlock_parens=function(K,fe,oe){return K==")"?k(oe):K=="{"||K=="}"?Y(K,fe,oe,2):ge.atBlock(K,fe,oe)},ge.restricted_atBlock_before=function(K,fe,oe){return K=="{"?it(oe,fe,"restricted_atBlock"):K=="word"&&oe.stateArg=="@counter-style"?(re="variable","restricted_atBlock_before"):I(K,fe,oe)},ge.restricted_atBlock=function(K,fe,oe){return K=="}"?(oe.stateArg=null,k(oe)):K=="word"?(oe.stateArg=="@font-face"&&!mt.hasOwnProperty(fe.current().toLowerCase())||oe.stateArg=="@counter-style"&&!ye.hasOwnProperty(fe.current().toLowerCase())?re="error":re="property","maybeprop"):"restricted_atBlock"},ge.keyframes=function(K,fe,oe){return K=="word"?(re="variable","keyframes"):K=="{"?it(oe,fe,"top"):I(K,fe,oe)},ge.at=function(K,fe,oe){return K==";"?k(oe):K=="{"||K=="}"?Y(K,fe,oe):(K=="word"?re="tag":K=="hash"&&(re="builtin"),"at")},ge.interpolation=function(K,fe,oe){return K=="}"?k(oe):K=="{"||K==";"?Y(K,fe,oe):(K=="word"?re="variable":K!="variable"&&K!="("&&K!=")"&&(re="error"),"interpolation")},{startState:function(K){return{tokenize:null,state:U?"block":"top",stateArg:null,context:new ht(U?"block":"top",K||0,null)}},token:function(K,fe){if(!fe.tokenize&&K.eatSpace())return null;var oe=(fe.tokenize||Qe)(K,fe);return oe&&typeof oe=="object"&&(at=oe[1],oe=oe[0]),re=oe,at!="comment"&&(fe.state=ge[fe.state](at,K,fe)),re},indent:function(K,fe){var oe=K.context,rt=fe&&fe.charAt(0),bt=oe.indent;return oe.type=="prop"&&(rt=="}"||rt==")")&&(oe=oe.prev),oe.prev&&(rt=="}"&&(oe.type=="block"||oe.type=="top"||oe.type=="interpolation"||oe.type=="restricted_atBlock")?(oe=oe.prev,bt=oe.indent):(rt==")"&&(oe.type=="parens"||oe.type=="atBlock_parens")||rt=="{"&&(oe.type=="at"||oe.type=="atBlock"))&&(bt=Math.max(0,oe.indent-H))),bt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Ne,fold:"brace"}});function r(F){for(var R={},U=0;U<F.length;++U)R[F[U].toLowerCase()]=!0;return R}var o=["domain","regexp","url","url-prefix"],s=r(o),c=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],u=r(c),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],h=r(f),g=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],m=r(g),_=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],w=r(_),C=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],T=r(C),B=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],W=r(B),N=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],z=r(N),ue=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],_e=r(ue),Se=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],ce=r(Se),q=o.concat(c).concat(f).concat(g).concat(_).concat(C).concat(ue).concat(Se);t.registerHelper("hintWords","css",q);function ae(F,R){for(var U=!1,H;(H=F.next())!=null;){if(U&&H=="/"){R.tokenize=null;break}U=H=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:s,mediaTypes:u,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:T,fontProperties:W,counterDescriptors:z,colorKeywords:_e,valueKeywords:ce,tokenHooks:{"/":function(F,R){return F.eat("*")?(R.tokenize=ae,ae(F,R)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:u,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:T,colorKeywords:_e,valueKeywords:ce,fontProperties:W,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(F,R){return F.eat("/")?(F.skipToEnd(),["comment","comment"]):F.eat("*")?(R.tokenize=ae,ae(F,R)):["operator","operator"]},":":function(F){return F.match(/^\s*\{/,!1)?[null,null]:!1},$:function(F){return F.match(/^[\w-]+/),F.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(F){return F.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:u,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:T,colorKeywords:_e,valueKeywords:ce,fontProperties:W,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(F,R){return F.eat("/")?(F.skipToEnd(),["comment","comment"]):F.eat("*")?(R.tokenize=ae,ae(F,R)):["operator","operator"]},"@":function(F){return F.eat("{")?[null,"interpolation"]:F.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(F.eatWhile(/[\w\\\-]/),F.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:s,mediaTypes:u,mediaFeatures:h,propertyKeywords:w,nonStandardPropertyKeywords:T,fontProperties:W,counterDescriptors:z,colorKeywords:_e,valueKeywords:ce,supportsAtComponent:!0,tokenHooks:{"/":function(F,R){return F.eat("*")?(R.tokenize=ae,ae(F,R)):!1}},name:"css",helperType:"gss"})})},8253:(i,n,e)=>{(function(t){t(e(4408),e(9701),e(6061),e(7389))})(function(t){"use strict";var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function o(m,_,w){var C=m.current(),T=C.search(_);return T>-1?m.backUp(C.length-T):C.match(/<\/?$/)&&(m.backUp(C.length),m.match(_,!1)||m.match(C)),w}var s={};function c(m){var _=s[m];return _||(s[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function u(m,_){var w=m.match(c(_));return w?/^\s*(.*?)\s*$/.exec(w[2])[1]:""}function f(m,_){return new RegExp((_?"^":"")+"</s*"+m+"s*>","i")}function h(m,_){for(var w in m)for(var C=_[w]||(_[w]=[]),T=m[w],B=T.length-1;B>=0;B--)C.unshift(T[B])}function g(m,_){for(var w=0;w<m.length;w++){var C=m[w];if(!C[0]||C[1].test(u(_,C[0])))return C[2]}}t.defineMode("htmlmixed",function(m,_){var w=t.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:_.multilineTagIndentFactor,multilineTagIndentPastTag:_.multilineTagIndentPastTag,allowMissingTagName:_.allowMissingTagName}),C={},T=_&&_.tags,B=_&&_.scriptTypes;if(h(r,C),T&&h(T,C),B)for(var W=B.length-1;W>=0;W--)C.script.unshift(["type",B[W].matches,B[W].mode]);function N(z,ue){var _e=w.token(z,ue.htmlState),Se=/\btag\b/.test(_e),ce;if(Se&&!/[<>\s\/]/.test(z.current())&&(ce=ue.htmlState.tagName&&ue.htmlState.tagName.toLowerCase())&&C.hasOwnProperty(ce))ue.inTag=ce+" ";else if(ue.inTag&&Se&&/>$/.test(z.current())){var q=/^([\S]+) (.*)/.exec(ue.inTag);ue.inTag=null;var ae=z.current()==">"&&g(C[q[1]],q[2]),F=t.getMode(m,ae),R=f(q[1],!0),U=f(q[1],!1);ue.token=function(H,te){return H.match(R,!1)?(te.token=N,te.localState=te.localMode=null,null):o(H,U,te.localMode.token(H,te.localState))},ue.localMode=F,ue.localState=t.startState(F,w.indent(ue.htmlState,"",""))}else ue.inTag&&(ue.inTag+=z.current(),z.eol()&&(ue.inTag+=" "));return _e}return{startState:function(){var z=t.startState(w);return{token:N,inTag:null,localMode:null,localState:null,htmlState:z}},copyState:function(z){var ue;return z.localState&&(ue=t.copyState(z.localMode,z.localState)),{token:z.token,inTag:z.inTag,localMode:z.localMode,localState:ue,htmlState:t.copyState(w,z.htmlState)}},token:function(z,ue){return ue.token(z,ue)},indent:function(z,ue,_e){return!z.localMode||/^\s*<\//.test(ue)?w.indent(z.htmlState,ue,_e):z.localMode.indent?z.localMode.indent(z.localState,ue,_e):t.Pass},innerMode:function(z){return{state:z.localState||z.htmlState,mode:z.localMode||w}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")})},6061:(i,n,e)=>{(function(t){t(e(4408))})(function(t){"use strict";t.defineMode("javascript",function(r,o){var s=r.indentUnit,c=o.statementIndent,u=o.jsonld,f=o.json||u,h=o.trackScope!==!1,g=o.typescript,m=o.wordCharacters||/[\w$\xa1-\uffff]/,_=function(){function M(Bt){return{type:Bt,style:"keyword"}}var $=M("keyword a"),Ce=M("keyword b"),Me=M("keyword c"),je=M("keyword d"),Ot=M("operator"),Et={type:"atom",style:"atom"};return{if:M("if"),while:$,with:$,else:Ce,do:Ce,try:Ce,finally:Ce,return:je,break:je,continue:je,new:M("new"),delete:Me,void:Me,throw:Me,debugger:M("debugger"),var:M("var"),const:M("var"),let:M("var"),function:M("function"),catch:M("catch"),for:M("for"),switch:M("switch"),case:M("case"),default:M("default"),in:Ot,typeof:Ot,instanceof:Ot,true:Et,false:Et,null:Et,undefined:Et,NaN:Et,Infinity:Et,this:M("this"),class:M("class"),super:M("atom"),yield:Me,export:M("export"),import:M("import"),extends:Me,await:Me}}(),w=/[+\-*&%=<>!?|~^@]/,C=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function T(M){for(var $=!1,Ce,Me=!1;(Ce=M.next())!=null;){if(!$){if(Ce=="/"&&!Me)return;Ce=="["?Me=!0:Me&&Ce=="]"&&(Me=!1)}$=!$&&Ce=="\\"}}var B,W;function N(M,$,Ce){return B=M,W=Ce,$}function z(M,$){var Ce=M.next();if(Ce=='"'||Ce=="'")return $.tokenize=ue(Ce),$.tokenize(M,$);if(Ce=="."&&M.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return N("number","number");if(Ce=="."&&M.match(".."))return N("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ce))return N(Ce);if(Ce=="="&&M.eat(">"))return N("=>","operator");if(Ce=="0"&&M.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return N("number","number");if(/\d/.test(Ce))return M.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),N("number","number");if(Ce=="/")return M.eat("*")?($.tokenize=_e,_e(M,$)):M.eat("/")?(M.skipToEnd(),N("comment","comment")):Fr(M,$,1)?(T(M),M.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),N("regexp","string-2")):(M.eat("="),N("operator","operator",M.current()));if(Ce=="`")return $.tokenize=Se,Se(M,$);if(Ce=="#"&&M.peek()=="!")return M.skipToEnd(),N("meta","meta");if(Ce=="#"&&M.eatWhile(m))return N("variable","property");if(Ce=="<"&&M.match("!--")||Ce=="-"&&M.match("->")&&!/\S/.test(M.string.slice(0,M.start)))return M.skipToEnd(),N("comment","comment");if(w.test(Ce))return(Ce!=">"||!$.lexical||$.lexical.type!=">")&&(M.eat("=")?(Ce=="!"||Ce=="=")&&M.eat("="):/[<>*+\-|&?]/.test(Ce)&&(M.eat(Ce),Ce==">"&&M.eat(Ce))),Ce=="?"&&M.eat(".")?N("."):N("operator","operator",M.current());if(m.test(Ce)){M.eatWhile(m);var Me=M.current();if($.lastType!="."){if(_.propertyIsEnumerable(Me)){var je=_[Me];return N(je.type,je.style,Me)}if(Me=="async"&&M.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return N("async","keyword",Me)}return N("variable","variable",Me)}}function ue(M){return function($,Ce){var Me=!1,je;if(u&&$.peek()=="@"&&$.match(C))return Ce.tokenize=z,N("jsonld-keyword","meta");for(;(je=$.next())!=null&&!(je==M&&!Me);)Me=!Me&&je=="\\";return Me||(Ce.tokenize=z),N("string","string")}}function _e(M,$){for(var Ce=!1,Me;Me=M.next();){if(Me=="/"&&Ce){$.tokenize=z;break}Ce=Me=="*"}return N("comment","comment")}function Se(M,$){for(var Ce=!1,Me;(Me=M.next())!=null;){if(!Ce&&(Me=="`"||Me=="$"&&M.eat("{"))){$.tokenize=z;break}Ce=!Ce&&Me=="\\"}return N("quasi","string-2",M.current())}var ce="([{}])";function q(M,$){$.fatArrowAt&&($.fatArrowAt=null);var Ce=M.string.indexOf("=>",M.start);if(!(Ce<0)){if(g){var Me=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(M.string.slice(M.start,Ce));Me&&(Ce=Me.index)}for(var je=0,Ot=!1,Et=Ce-1;Et>=0;--Et){var Bt=M.string.charAt(Et),It=ce.indexOf(Bt);if(It>=0&&It<3){if(!je){++Et;break}if(--je==0){Bt=="("&&(Ot=!0);break}}else if(It>=3&&It<6)++je;else if(m.test(Bt))Ot=!0;else if(/["'\/`]/.test(Bt))for(;;--Et){if(Et==0)return;var mo=M.string.charAt(Et-1);if(mo==Bt&&M.string.charAt(Et-2)!="\\"){Et--;break}}else if(Ot&&!je){++Et;break}}Ot&&!je&&($.fatArrowAt=Et)}}var ae={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function F(M,$,Ce,Me,je,Ot){this.indented=M,this.column=$,this.type=Ce,this.prev=je,this.info=Ot,Me!=null&&(this.align=Me)}function R(M,$){if(!h)return!1;for(var Ce=M.localVars;Ce;Ce=Ce.next)if(Ce.name==$)return!0;for(var Me=M.context;Me;Me=Me.prev)for(var Ce=Me.vars;Ce;Ce=Ce.next)if(Ce.name==$)return!0}function U(M,$,Ce,Me,je){var Ot=M.cc;for(H.state=M,H.stream=je,H.marked=null,H.cc=Ot,H.style=$,M.lexical.hasOwnProperty("align")||(M.lexical.align=!0);;){var Et=Ot.length?Ot.pop():f?xe:at;if(Et(Ce,Me)){for(;Ot.length&&Ot[Ot.length-1].lex;)Ot.pop()();return H.marked?H.marked:Ce=="variable"&&R(M,Me)?"variable-2":$}}}var H={state:null,column:null,marked:null,cc:null};function te(){for(var M=arguments.length-1;M>=0;M--)H.cc.push(arguments[M])}function E(){return te.apply(null,arguments),!0}function me(M,$){for(var Ce=$;Ce;Ce=Ce.next)if(Ce.name==M)return!0;return!1}function ve(M){var $=H.state;if(H.marked="def",!!h){if($.context){if($.lexical.info=="var"&&$.context&&$.context.block){var Ce=Le(M,$.context);if(Ce!=null){$.context=Ce;return}}else if(!me(M,$.localVars)){$.localVars=new mt(M,$.localVars);return}}o.globalVars&&!me(M,$.globalVars)&&($.globalVars=new mt(M,$.globalVars))}}function Le(M,$){if($)if($.block){var Ce=Le(M,$.prev);return Ce?Ce==$.prev?$:new $e(Ce,$.vars,!0):null}else return me(M,$.vars)?$:new $e($.prev,new mt(M,$.vars),!1);else return null}function Je(M){return M=="public"||M=="private"||M=="protected"||M=="abstract"||M=="readonly"}function $e(M,$,Ce){this.prev=M,this.vars=$,this.block=Ce}function mt(M,$){this.name=M,this.next=$}var ye=new mt("this",new mt("arguments",null));function be(){H.state.context=new $e(H.state.context,H.state.localVars,!1),H.state.localVars=ye}function Re(){H.state.context=new $e(H.state.context,H.state.localVars,!0),H.state.localVars=null}function Ue(){H.state.localVars=H.state.context.vars,H.state.context=H.state.context.prev}Ue.lex=!0;function Ne(M,$){var Ce=function(){var Me=H.state,je=Me.indented;if(Me.lexical.type=="stat")je=Me.lexical.indented;else for(var Ot=Me.lexical;Ot&&Ot.type==")"&&Ot.align;Ot=Ot.prev)je=Ot.indented;Me.lexical=new F(je,H.stream.column(),M,null,Me.lexical,$)};return Ce.lex=!0,Ce}function Ve(){var M=H.state;M.lexical.prev&&(M.lexical.type==")"&&(M.indented=M.lexical.indented),M.lexical=M.lexical.prev)}Ve.lex=!0;function nt(M){function $(Ce){return Ce==M?E():M==";"||Ce=="}"||Ce==")"||Ce=="]"?te():E($)}return $}function at(M,$){return M=="var"?E(Ne("vardef",$),lt,nt(";"),Ve):M=="keyword a"?E(Ne("form"),Fe,at,Ve):M=="keyword b"?E(Ne("form"),at,Ve):M=="keyword d"?H.stream.match(/^\s*$/,!1)?E():E(Ne("stat"),ht,nt(";"),Ve):M=="debugger"?E(nt(";")):M=="{"?E(Ne("}"),Re,he,Ve,Ue):M==";"?E():M=="if"?(H.state.lexical.info=="else"&&H.state.cc[H.state.cc.length-1]==Ve&&H.state.cc.pop()(),E(Ne("form"),Fe,at,Ve,dr)):M=="function"?E(Kt):M=="for"?E(Ne("form"),Re,zt,at,Ue,Ve):M=="class"||g&&$=="interface"?(H.marked="keyword",E(Ne("form",M=="class"?M:$),yt,Ve)):M=="variable"?g&&$=="declare"?(H.marked="keyword",E(at)):g&&($=="module"||$=="enum"||$=="type")&&H.stream.match(/^\s*\w/,!1)?(H.marked="keyword",$=="enum"?E(gn):$=="type"?E(Qr,nt("operator"),st,nt(";")):E(Ne("form"),_t,nt("{"),Ne("}"),he,Ve,Ve)):g&&$=="namespace"?(H.marked="keyword",E(Ne("form"),xe,at,Ve)):g&&$=="abstract"?(H.marked="keyword",E(at)):E(Ne("stat"),rt):M=="switch"?E(Ne("form"),Fe,nt("{"),Ne("}","switch"),Re,he,Ve,Ve,Ue):M=="case"?E(xe,nt(":")):M=="default"?E(nt(":")):M=="catch"?E(Ne("form"),be,re,at,Ve,Ue):M=="export"?E(Ne("stat"),Rt,Ve):M=="import"?E(Ne("stat"),pr,Ve):M=="async"?E(at):$=="@"?E(xe,at):te(Ne("stat"),xe,nt(";"),Ve)}function re(M){if(M=="(")return E(Dt,nt(")"))}function xe(M,$){return ot(M,$,!1)}function Qe(M,$){return ot(M,$,!0)}function Fe(M){return M!="("?te():E(Ne(")"),ht,nt(")"),Ve)}function ot(M,$,Ce){if(H.state.fatArrowAt==H.stream.start){var Me=Ce?ge:ie;if(M=="(")return E(be,Ne(")"),D(Dt,")"),Ve,nt("=>"),Me,Ue);if(M=="variable")return te(be,_t,nt("=>"),Me,Ue)}var je=Ce?k:it;return ae.hasOwnProperty(M)?E(je):M=="function"?E(Kt,je):M=="class"||g&&$=="interface"?(H.marked="keyword",E(Ne("form"),jr,Ve)):M=="keyword c"||M=="async"?E(Ce?Qe:xe):M=="("?E(Ne(")"),ht,nt(")"),Ve,je):M=="operator"||M=="spread"?E(Ce?Qe:xe):M=="["?E(Ne("]"),vn,Ve,je):M=="{"?Oe(gt,"}",null,je):M=="quasi"?te(I,je):M=="new"?E(K(Ce)):E()}function ht(M){return M.match(/[;\}\)\],]/)?te():te(xe)}function it(M,$){return M==","?E(ht):k(M,$,!1)}function k(M,$,Ce){var Me=Ce==!1?it:k,je=Ce==!1?xe:Qe;if(M=="=>")return E(be,Ce?ge:ie,Ue);if(M=="operator")return/\+\+|--/.test($)||g&&$=="!"?E(Me):g&&$=="<"&&H.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?E(Ne(">"),D(st,">"),Ve,Me):$=="?"?E(xe,nt(":"),je):E(je);if(M=="quasi")return te(I,Me);if(M!=";"){if(M=="(")return Oe(Qe,")","call",Me);if(M==".")return E(bt,Me);if(M=="[")return E(Ne("]"),ht,nt("]"),Ve,Me);if(g&&$=="as")return H.marked="keyword",E(st,Me);if(M=="regexp")return H.state.lastType=H.marked="operator",H.stream.backUp(H.stream.pos-H.stream.start-1),E(je)}}function I(M,$){return M!="quasi"?te():$.slice($.length-2)!="${"?E(I):E(ht,Y)}function Y(M){if(M=="}")return H.marked="string-2",H.state.tokenize=Se,E(I)}function ie(M){return q(H.stream,H.state),te(M=="{"?at:xe)}function ge(M){return q(H.stream,H.state),te(M=="{"?at:Qe)}function K(M){return function($){return $=="."?E(M?oe:fe):$=="variable"&&g?E(se,M?k:it):te(M?Qe:xe)}}function fe(M,$){if($=="target")return H.marked="keyword",E(it)}function oe(M,$){if($=="target")return H.marked="keyword",E(k)}function rt(M){return M==":"?E(Ve,at):te(it,nt(";"),Ve)}function bt(M){if(M=="variable")return H.marked="property",E()}function gt(M,$){if(M=="async")return H.marked="property",E(gt);if(M=="variable"||H.style=="keyword"){if(H.marked="property",$=="get"||$=="set")return E(V);var Ce;return g&&H.state.fatArrowAt==H.stream.start&&(Ce=H.stream.match(/^\s*:\s*/,!1))&&(H.state.fatArrowAt=H.stream.pos+Ce[0].length),E(ee)}else{if(M=="number"||M=="string")return H.marked=u?"property":H.style+" property",E(ee);if(M=="jsonld-keyword")return E(ee);if(g&&Je($))return H.marked="keyword",E(gt);if(M=="[")return E(xe,De,nt("]"),ee);if(M=="spread")return E(Qe,ee);if($=="*")return H.marked="keyword",E(gt);if(M==":")return te(ee)}}function V(M){return M!="variable"?te(ee):(H.marked="property",E(Kt))}function ee(M){if(M==":")return E(Qe);if(M=="(")return te(Kt)}function D(M,$,Ce){function Me(je,Ot){if(Ce?Ce.indexOf(je)>-1:je==","){var Et=H.state.lexical;return Et.info=="call"&&(Et.pos=(Et.pos||0)+1),E(function(Bt,It){return Bt==$||It==$?te():te(M)},Me)}return je==$||Ot==$?E():Ce&&Ce.indexOf(";")>-1?te(M):E(nt($))}return function(je,Ot){return je==$||Ot==$?E():te(M,Me)}}function Oe(M,$,Ce){for(var Me=3;Me<arguments.length;Me++)H.cc.push(arguments[Me]);return E(Ne($,Ce),D(M,$),Ve)}function he(M){return M=="}"?E():te(at,he)}function De(M,$){if(g){if(M==":")return E(st);if($=="?")return E(De)}}function Xe(M,$){if(g&&(M==":"||$=="in"))return E(st)}function qe(M){if(g&&M==":")return H.stream.match(/^\s*\w+\s+is\b/,!1)?E(xe,We,st):E(st)}function We(M,$){if($=="is")return H.marked="keyword",E()}function st(M,$){if($=="keyof"||$=="typeof"||$=="infer"||$=="readonly")return H.marked="keyword",E($=="typeof"?Qe:st);if(M=="variable"||$=="void")return H.marked="type",E(Z);if($=="|"||$=="&")return E(st);if(M=="string"||M=="number"||M=="atom")return E(Z);if(M=="[")return E(Ne("]"),D(st,"]",","),Ve,Z);if(M=="{")return E(Ne("}"),At,Ve,Z);if(M=="(")return E(D(j,")"),kt,Z);if(M=="<")return E(D(st,">"),st);if(M=="quasi")return te(qt,Z)}function kt(M){if(M=="=>")return E(st)}function At(M){return M.match(/[\}\)\]]/)?E():M==","||M==";"?E(At):te(Pt,At)}function Pt(M,$){if(M=="variable"||H.style=="keyword")return H.marked="property",E(Pt);if($=="?"||M=="number"||M=="string")return E(Pt);if(M==":")return E(st);if(M=="[")return E(nt("variable"),Xe,nt("]"),Pt);if(M=="(")return te(Xt,Pt);if(!M.match(/[;\}\)\],]/))return E()}function qt(M,$){return M!="quasi"?te():$.slice($.length-2)!="${"?E(qt):E(st,fr)}function fr(M){if(M=="}")return H.marked="string-2",H.state.tokenize=Se,E(qt)}function j(M,$){return M=="variable"&&H.stream.match(/^\s*[?:]/,!1)||$=="?"?E(j):M==":"?E(st):M=="spread"?E(j):te(st)}function Z(M,$){if($=="<")return E(Ne(">"),D(st,">"),Ve,Z);if($=="|"||M=="."||$=="&")return E(st);if(M=="[")return E(st,nt("]"),Z);if($=="extends"||$=="implements")return H.marked="keyword",E(st);if($=="?")return E(st,nt(":"),st)}function se(M,$){if($=="<")return E(Ne(">"),D(st,">"),Ve,Z)}function Te(){return te(st,Ke)}function Ke(M,$){if($=="=")return E(st)}function lt(M,$){return $=="enum"?(H.marked="keyword",E(gn)):te(_t,De,Wt,Zr)}function _t(M,$){if(g&&Je($))return H.marked="keyword",E(_t);if(M=="variable")return ve($),E();if(M=="spread")return E(_t);if(M=="[")return Oe(Ft,"]");if(M=="{")return Oe(ir,"}")}function ir(M,$){return M=="variable"&&!H.stream.match(/^\s*:/,!1)?(ve($),E(Wt)):(M=="variable"&&(H.marked="property"),M=="spread"?E(_t):M=="}"?te():M=="["?E(xe,nt("]"),nt(":"),ir):E(nt(":"),_t,Wt))}function Ft(){return te(_t,Wt)}function Wt(M,$){if($=="=")return E(Qe)}function Zr(M){if(M==",")return E(lt)}function dr(M,$){if(M=="keyword b"&&$=="else")return E(Ne("form","else"),at,Ve)}function zt(M,$){if($=="await")return E(zt);if(M=="(")return E(Ne(")"),hn,Ve)}function hn(M){return M=="var"?E(lt,Ht):M=="variable"?E(Ht):te(Ht)}function Ht(M,$){return M==")"?E():M==";"?E(Ht):$=="in"||$=="of"?(H.marked="keyword",E(xe,Ht)):te(xe,Ht)}function Kt(M,$){if($=="*")return H.marked="keyword",E(Kt);if(M=="variable")return ve($),E(Kt);if(M=="(")return E(be,Ne(")"),D(Dt,")"),Ve,qe,at,Ue);if(g&&$=="<")return E(Ne(">"),D(Te,">"),Ve,Kt)}function Xt(M,$){if($=="*")return H.marked="keyword",E(Xt);if(M=="variable")return ve($),E(Xt);if(M=="(")return E(be,Ne(")"),D(Dt,")"),Ve,qe,Ue);if(g&&$=="<")return E(Ne(">"),D(Te,">"),Ve,Xt)}function Qr(M,$){if(M=="keyword"||M=="variable")return H.marked="type",E(Qr);if($=="<")return E(Ne(">"),D(Te,">"),Ve)}function Dt(M,$){return $=="@"&&E(xe,Dt),M=="spread"?E(Dt):g&&Je($)?(H.marked="keyword",E(Dt)):g&&M=="this"?E(De,Wt):te(_t,De,Wt)}function jr(M,$){return M=="variable"?yt(M,$):kr(M,$)}function yt(M,$){if(M=="variable")return ve($),E(kr)}function kr(M,$){if($=="<")return E(Ne(">"),D(Te,">"),Ve,kr);if($=="extends"||$=="implements"||g&&M==",")return $=="implements"&&(H.marked="keyword"),E(g?st:xe,kr);if(M=="{")return E(Ne("}"),rr,Ve)}function rr(M,$){if(M=="async"||M=="variable"&&($=="static"||$=="get"||$=="set"||g&&Je($))&&H.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return H.marked="keyword",E(rr);if(M=="variable"||H.style=="keyword")return H.marked="property",E(Br,rr);if(M=="number"||M=="string")return E(Br,rr);if(M=="[")return E(xe,De,nt("]"),Br,rr);if($=="*")return H.marked="keyword",E(rr);if(g&&M=="(")return te(Xt,rr);if(M==";"||M==",")return E(rr);if(M=="}")return E();if($=="@")return E(xe,rr)}function Br(M,$){if($=="!"||$=="?")return E(Br);if(M==":")return E(st,Wt);if($=="=")return E(Qe);var Ce=H.state.lexical.prev,Me=Ce&&Ce.info=="interface";return te(Me?Xt:Kt)}function Rt(M,$){return $=="*"?(H.marked="keyword",E(Nt,nt(";"))):$=="default"?(H.marked="keyword",E(xe,nt(";"))):M=="{"?E(D(Ze,"}"),Nt,nt(";")):te(at)}function Ze(M,$){if($=="as")return H.marked="keyword",E(nt("variable"));if(M=="variable")return te(Qe,Ze)}function pr(M){return M=="string"?E():M=="("?te(xe):M=="."?te(it):te(Ar,ar,Nt)}function Ar(M,$){return M=="{"?Oe(Ar,"}"):(M=="variable"&&ve($),$=="*"&&(H.marked="keyword"),E(xt))}function ar(M){if(M==",")return E(Ar,ar)}function xt(M,$){if($=="as")return H.marked="keyword",E(Ar)}function Nt(M,$){if($=="from")return H.marked="keyword",E(xe)}function vn(M){return M=="]"?E():te(D(Qe,"]"))}function gn(){return te(Ne("form"),_t,nt("{"),Ne("}"),D(Ae,"}"),Ve,Ve)}function Ae(){return te(_t,Wt)}function vt(M,$){return M.lastType=="operator"||M.lastType==","||w.test($.charAt(0))||/[,.]/.test($.charAt(0))}function Fr(M,$,Ce){return $.tokenize==z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test($.lastType)||$.lastType=="quasi"&&/\{\s*$/.test(M.string.slice(0,M.pos-(Ce||0)))}return{startState:function(M){var $={tokenize:z,lastType:"sof",cc:[],lexical:new F((M||0)-s,0,"block",!1),localVars:o.localVars,context:o.localVars&&new $e(null,null,!1),indented:M||0};return o.globalVars&&typeof o.globalVars=="object"&&($.globalVars=o.globalVars),$},token:function(M,$){if(M.sol()&&($.lexical.hasOwnProperty("align")||($.lexical.align=!1),$.indented=M.indentation(),q(M,$)),$.tokenize!=_e&&M.eatSpace())return null;var Ce=$.tokenize(M,$);return B=="comment"?Ce:($.lastType=B=="operator"&&(W=="++"||W=="--")?"incdec":B,U($,Ce,B,W,M))},indent:function(M,$){if(M.tokenize==_e||M.tokenize==Se)return t.Pass;if(M.tokenize!=z)return 0;var Ce=$&&$.charAt(0),Me=M.lexical,je;if(!/^\s*else\b/.test($))for(var Ot=M.cc.length-1;Ot>=0;--Ot){var Et=M.cc[Ot];if(Et==Ve)Me=Me.prev;else if(Et!=dr&&Et!=Ue)break}for(;(Me.type=="stat"||Me.type=="form")&&(Ce=="}"||(je=M.cc[M.cc.length-1])&&(je==it||je==k)&&!/^[,\.=+\-*:?[\(]/.test($));)Me=Me.prev;c&&Me.type==")"&&Me.prev.type=="stat"&&(Me=Me.prev);var Bt=Me.type,It=Ce==Bt;return Bt=="vardef"?Me.indented+(M.lastType=="operator"||M.lastType==","?Me.info.length+1:0):Bt=="form"&&Ce=="{"?Me.indented:Bt=="form"?Me.indented+s:Bt=="stat"?Me.indented+(vt(M,$)?c||s:0):Me.info=="switch"&&!It&&o.doubleIndentSwitch!=!1?Me.indented+(/^(?:case|default)\b/.test($)?s:2*s):Me.align?Me.column+(It?0:1):Me.indented+(It?0:s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:u,jsonMode:f,expressionAllowed:Fr,skipExpression:function(M){U(M,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(i,n,e)=>{(function(t){t(e(4408))})(function(t){"use strict";var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(s,c){var u=s.indentUnit,f={},h=c.htmlMode?r:o;for(var g in h)f[g]=h[g];for(var g in c)f[g]=c[g];var m,_;function w(E,me){function ve($e){return me.tokenize=$e,$e(E,me)}var Le=E.next();if(Le=="<")return E.eat("!")?E.eat("[")?E.match("CDATA[")?ve(B("atom","]]>")):null:E.match("--")?ve(B("comment","-->")):E.match("DOCTYPE",!0,!0)?(E.eatWhile(/[\w\._\-]/),ve(W(1))):null:E.eat("?")?(E.eatWhile(/[\w\._\-]/),me.tokenize=B("meta","?>"),"meta"):(m=E.eat("/")?"closeTag":"openTag",me.tokenize=C,"tag bracket");if(Le=="&"){var Je;return E.eat("#")?E.eat("x")?Je=E.eatWhile(/[a-fA-F\d]/)&&E.eat(";"):Je=E.eatWhile(/[\d]/)&&E.eat(";"):Je=E.eatWhile(/[\w\.\-:]/)&&E.eat(";"),Je?"atom":"error"}else return E.eatWhile(/[^&<]/),null}w.isInText=!0;function C(E,me){var ve=E.next();if(ve==">"||ve=="/"&&E.eat(">"))return me.tokenize=w,m=ve==">"?"endTag":"selfcloseTag","tag bracket";if(ve=="=")return m="equals",null;if(ve=="<"){me.tokenize=w,me.state=Se,me.tagName=me.tagStart=null;var Le=me.tokenize(E,me);return Le?Le+" tag error":"tag error"}else return/[\'\"]/.test(ve)?(me.tokenize=T(ve),me.stringStartCol=E.column(),me.tokenize(E,me)):(E.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function T(E){var me=function(ve,Le){for(;!ve.eol();)if(ve.next()==E){Le.tokenize=C;break}return"string"};return me.isInAttribute=!0,me}function B(E,me){return function(ve,Le){for(;!ve.eol();){if(ve.match(me)){Le.tokenize=w;break}ve.next()}return E}}function W(E){return function(me,ve){for(var Le;(Le=me.next())!=null;){if(Le=="<")return ve.tokenize=W(E+1),ve.tokenize(me,ve);if(Le==">")if(E==1){ve.tokenize=w;break}else return ve.tokenize=W(E-1),ve.tokenize(me,ve)}return"meta"}}function N(E){return E&&E.toLowerCase()}function z(E,me,ve){this.prev=E.context,this.tagName=me||"",this.indent=E.indented,this.startOfLine=ve,(f.doNotIndent.hasOwnProperty(me)||E.context&&E.context.noIndent)&&(this.noIndent=!0)}function ue(E){E.context&&(E.context=E.context.prev)}function _e(E,me){for(var ve;;){if(!E.context||(ve=E.context.tagName,!f.contextGrabbers.hasOwnProperty(N(ve))||!f.contextGrabbers[N(ve)].hasOwnProperty(N(me))))return;ue(E)}}function Se(E,me,ve){return E=="openTag"?(ve.tagStart=me.column(),ce):E=="closeTag"?q:Se}function ce(E,me,ve){return E=="word"?(ve.tagName=me.current(),_="tag",R):f.allowMissingTagName&&E=="endTag"?(_="tag bracket",R(E,me,ve)):(_="error",ce)}function q(E,me,ve){if(E=="word"){var Le=me.current();return ve.context&&ve.context.tagName!=Le&&f.implicitlyClosed.hasOwnProperty(N(ve.context.tagName))&&ue(ve),ve.context&&ve.context.tagName==Le||f.matchClosing===!1?(_="tag",ae):(_="tag error",F)}else return f.allowMissingTagName&&E=="endTag"?(_="tag bracket",ae(E,me,ve)):(_="error",F)}function ae(E,me,ve){return E!="endTag"?(_="error",ae):(ue(ve),Se)}function F(E,me,ve){return _="error",ae(E,me,ve)}function R(E,me,ve){if(E=="word")return _="attribute",U;if(E=="endTag"||E=="selfcloseTag"){var Le=ve.tagName,Je=ve.tagStart;return ve.tagName=ve.tagStart=null,E=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(N(Le))?_e(ve,Le):(_e(ve,Le),ve.context=new z(ve,Le,Je==ve.indented)),Se}return _="error",R}function U(E,me,ve){return E=="equals"?H:(f.allowMissing||(_="error"),R(E,me,ve))}function H(E,me,ve){return E=="string"?te:E=="word"&&f.allowUnquoted?(_="string",R):(_="error",R(E,me,ve))}function te(E,me,ve){return E=="string"?te:R(E,me,ve)}return{startState:function(E){var me={tokenize:w,state:Se,indented:E||0,tagName:null,tagStart:null,context:null};return E!=null&&(me.baseIndent=E),me},token:function(E,me){if(!me.tagName&&E.sol()&&(me.indented=E.indentation()),E.eatSpace())return null;m=null;var ve=me.tokenize(E,me);return(ve||m)&&ve!="comment"&&(_=null,me.state=me.state(m||ve,E,me),_&&(ve=_=="error"?ve+" error":_)),ve},indent:function(E,me,ve){var Le=E.context;if(E.tokenize.isInAttribute)return E.tagStart==E.indented?E.stringStartCol+1:E.indented+u;if(Le&&Le.noIndent)return t.Pass;if(E.tokenize!=C&&E.tokenize!=w)return ve?ve.match(/^(\s*)/)[0].length:0;if(E.tagName)return f.multilineTagIndentPastTag!==!1?E.tagStart+E.tagName.length+2:E.tagStart+u*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(me))return 0;var Je=me&&/^<(\/)?([\w_:\.-]*)/.exec(me);if(Je&&Je[1])for(;Le;)if(Le.tagName==Je[2]){Le=Le.prev;break}else if(f.implicitlyClosed.hasOwnProperty(N(Le.tagName)))Le=Le.prev;else break;else if(Je)for(;Le;){var $e=f.contextGrabbers[N(Le.tagName)];if($e&&$e.hasOwnProperty(N(Je[2])))Le=Le.prev;else break}for(;Le&&Le.prev&&!Le.startOfLine;)Le=Le.prev;return Le?Le.indent+u:E.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(E){E.state==H&&(E.state=R)},xmlCurrentTag:function(E){return E.tagName?{name:E.tagName,close:E.type=="closeTag"}:null},xmlCurrentContext:function(E){for(var me=[],ve=E.context;ve;ve=ve.prev)me.push(ve.tagName);return me.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})},3023:(i,n,e)=>{e.d(n,{A:()=>s});var t=e(1749),r=function(){var c=function(u,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(h[m]=g[m])},c(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),o=function(c){r(u,c);function u(f,h,g){var m=c.call(this,h,g)||this;return m._module=f,m}return Object.defineProperty(u.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),u}(t.Kx);let s=o},2820:(i,n,e)=>{e.d(n,{A:()=>c,F:()=>o});var t=e(3023),r=function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(g[_]=m[_])},u(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),o=function(u){return u.Select="select",u.Hover="hover",u.Spacing="spacing",u.Target="target",u.Resize="resize",u}(o||{}),s=function(u){r(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(f.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"component",{get:function(){var h,g=this.get("component");return g||((h=this.get("componentView"))===null||h===void 0?void 0:h.model)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"componentView",{get:function(){var h,g=this.get("componentView");return g||((h=this.get("component"))===null||h===void 0?void 0:h.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"el",{get:function(){var h;return(h=this.componentView)===null||h===void 0?void 0:h.el},enumerable:!1,configurable:!0}),f.prototype.getBoxRect=function(h){var g=this,m=g.el,_=g.em,w=_.Canvas.getCanvasView(),C=this.get("boxRect");return C||(m&&w?w.getElBoxRect(m,h):{x:0,y:0,width:0,height:0})},f.prototype.getStyle=function(h){h===void 0&&(h={});var g=h.boxRect||this.getBoxRect(h),m=g.width,_=g.height,w=g.x,C=g.y;return{width:"".concat(m,"px"),height:"".concat(_,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(w,"px ").concat(C,"px")}},f.prototype.isType=function(h){return this.type===h},f}(t.A);let c=s},8351:(i,n,e)=>{e.d(n,{A:()=>r});var t=function(o){return o.run="command:run",o._run="run",o.runCommand="command:run:",o._runCommand="run:",o.runBeforeCommand="command:run:before:",o.abort="command:abort:",o._abort="abort:",o.stop="command:stop",o._stop="stop",o.stopCommand="command:stop:",o._stopCommand="stop:",o.stopBeforeCommand="command:stop:before:",o}(t||{});let r=t},371:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){r.Components.clear(),r.Css.clear()}}},6301:(i,n,e)=>{e.r(n),e.d(n,{default:()=>s});var t=e(5706),r=e(5633),o=e(2097);let s={run:function(c){(0,t.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=c,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(c){this.toggleMove(),this.disableDragger()},onKeyUp:function(c){(0,o.Ch)(c)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(c){this.toggleDragger(1,c)},disableDragger:function(c){this.toggleDragger(0,c)},toggleDragger:function(c,u){var f=this,h=f.canvasModel,g=f.em,m=this.dragger,_=c?"add":"remove";this.getCanvas().classList[_]("".concat(this.ppfx,"is__grabbing")),m||(m=new r.A({getPosition:function(){return{x:h.get("x"),y:h.get("y")}},setPosition:function(w){var C=w.x,T=w.y;h.set({x:C,y:T})},onStart:function(w,C){g.trigger("canvas:move:start",C)},onDrag:function(w,C){g.trigger("canvas:move",C)},onEnd:function(w,C){g.trigger("canvas:move:end",C)}}),this.dragger=m),c?m.start(u):m.stop()},toggleMove:function(c){var u=this.ppfx,f=c?"add":"remove",h=c?"on":"off",g={on:o.on,off:o.AU},m=this.getCanvas(),_=["".concat(u,"is__grab")];!c&&_.push("".concat(u,"is__grabbing")),_.forEach(function(w){return m.classList[f](w)}),g[h](document,"keyup",this.onKeyUp),g[h](m,"mousedown",this.enableDragger),g[h](document,"mouseup",this.disableDragger)}}},5301:(i,n,e)=>{e.r(n),e.d(n,{default:()=>u,defineCommand:()=>s});var t=e(1749),r=e(8351),o=function(){var f=function(h,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(m[w]=_[w])},f(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();function s(f){return f}var c=function(f){o(h,f);function h(g){var m=f.call(this,0)||this;m.config=g||{},m.em=m.config.em||{};var _=m.config.stylePrefix;return m.pfx=_,m.ppfx=m.config.pStylePrefix,m.hoverClass="".concat(_,"hover"),m.badgeClass="".concat(_,"badge"),m.plhClass="".concat(_,"placeholder"),m.freezClass="".concat(m.ppfx,"freezed"),m.canvas=m.em.Canvas,m.init(m.config),m}return h.prototype.onFrameScroll=function(g){},h.prototype.getCanvas=function(){return this.canvas.getElement()},h.prototype.getCanvasBody=function(){return this.canvas.getBody()},h.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},h.prototype.offset=function(g){var m=g.getBoundingClientRect();return{top:m.top+g.ownerDocument.body.scrollTop,left:m.left+g.ownerDocument.body.scrollLeft}},h.prototype.init=function(g){},h.prototype.callRun=function(g,m){m===void 0&&(m={});var _=this.id;if(g.trigger("".concat(r.A.runBeforeCommand).concat(_),{options:m}),g.trigger("".concat(r.A._runCommand).concat(_,":before"),m),m.abort){g.trigger("".concat(r.A.abort).concat(_),{options:m}),g.trigger("".concat(r.A._abort).concat(_),m);return}var w=m.sender||g,C=this.run(g,w,m),T={id:_,result:C,options:m};return g.trigger("".concat(r.A.runCommand).concat(_),T),g.trigger(r.A.run,T),g.trigger("".concat(r.A._runCommand).concat(_),C,m),g.trigger(r.A._run,_,C,m),C},h.prototype.callStop=function(g,m){m===void 0&&(m={});var _=this.id,w=m.sender||g;g.trigger("".concat(r.A.stopBeforeCommand).concat(_),{options:m}),g.trigger("".concat(r.A._stopCommand).concat(_,":before"),m);var C=this.stop(g,w,m),T={id:_,result:C,options:m};return g.trigger("".concat(r.A.stopCommand).concat(_),T),g.trigger(r.A.stop,T),g.trigger("".concat(r.A._stopCommand).concat(_),C,m),g.trigger(r.A._stop,_,C,m),C},h.prototype.stopCommand=function(g){this.em.Commands.stop(this.id,g)},h.prototype.run=function(g,m,_){},h.prototype.stop=function(g,m,_){},h}(t.Kx);let u=c},8542:(i,n,e)=>{e.r(n),e.d(n,{default:()=>s});var t=e(5706),r=function(c,u,f){if(f||arguments.length===2)for(var h=0,g=u.length,m;h<g;h++)(m||!(h in u))&&(m||(m=Array.prototype.slice.call(u,0,h)),m[h]=u[h]);return c.concat(m||Array.prototype.slice.call(u))},o={run:function(c,u,f){var h=this;f===void 0&&(f={});var g=[],m=f.component||c.getSelectedAll();return m=(0,t.isArray)(m)?r([],m,!0):[m],m.filter(Boolean).forEach(function(_){var w,C;if(!_.get("removable"))return h.em.logWarning("The element is not removable",{component:_});g.push(_);var T=((C=(w=_.delegate)===null||w===void 0?void 0:w.remove)===null||C===void 0?void 0:C.call(w,_))||_;T.remove()}),c.selectRemove(g),g}};let s=o},1319:(i,n,e)=>{e.r(n),e.d(n,{default:()=>c});var t=e(5706),r=e(5633),o=function(){return o=Object.assign||function(u){for(var f,h=1,g=arguments.length;h<g;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},o.apply(this,arguments)},s="dmode";let c={run:function(u,f,h){var g=this;h===void 0&&(h={}),(0,t.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var m=h.target,_=h.event,w=h.mode,C=h.dragger,T=C===void 0?{}:C,B=m.getEl(),W=o({doc:B.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return g.guidesStatic},guidesTarget:function(){return g.guidesTarget}},T);this.setupGuides(),this.opts=h,this.editor=u,this.em=u.getModel(),this.target=m,this.isTran=w=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var N=this.dragger;return N?N.setOptions(W):(N=new r.A(W),this.dragger=N),_&&N.start(_),this.toggleDrag(1),this.em.trigger("".concat(s,":start"),this.getEventOpts()),N},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(u){var f=u.guide;f&&f.parentNode.removeChild(f)}),this.guides=[]},getGuidesContainer:function(){var u=this,f=this.guidesEl;if(!f){var h=this,g=h.editor,m=h.em,_=h.opts,w=g.getConfig().stylePrefix,C=document.createElement("div"),T=document.createElement("div"),B='<div class="'.concat(w,"guide-info__line ").concat(w,`danger-bg">
        <div class="`).concat(w,"guide-info__content ").concat(w,`danger-color"></div>
      </div>`);f=document.createElement("div"),f.className="".concat(w,"guides"),C.className="".concat(w,"guide-info ").concat(w,"guide-info__x"),T.className="".concat(w,"guide-info ").concat(w,"guide-info__y"),C.innerHTML=B,T.innerHTML=B,f.appendChild(C),f.appendChild(T),g.Canvas.getGlobalToolsEl().appendChild(f),this.guidesEl=f,this.elGuideInfoX=C,this.elGuideInfoY=T,this.elGuideInfoContentX=C.querySelector(".".concat(w,"guide-info__content")),this.elGuideInfoContentY=T.querySelector(".".concat(w,"guide-info__content")),m.on("canvas:update frame:scroll",(0,t.debounce)(function(){var W;u.updateGuides(),_.debug&&((W=u.guides)===null||W===void 0||W.forEach(function(N){return u.renderGuide(N)}))},200))}return f},getGuidesStatic:function(){var u=this,f=[],h=this.target.getEl(),g=h.parentNode,m=g===void 0?{}:g;return(0,t.each)(m.children,function(_){return f=f.concat(h!==_?u.getElementGuides(_):[])}),f.concat(this.getElementGuides(m))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(u){var f=this,h,g;(u||this.guides).forEach(function(m){var _=m.origin,w=h===_?g:f.getElementPos(_);h=_,g=w,(0,t.each)(f.getGuidePosUpdate(m,w),function(C,T){return m[T]=C}),m.originRect=w})},getGuidePosUpdate:function(u,f){var h={},g=f.top,m=f.height,_=f.left,w=f.width;switch(u.type){case"t":h.y=g;break;case"b":h.y=g+m;break;case"l":h.x=_;break;case"r":h.x=_+w;break;case"x":h.x=_+w/2;break;case"y":h.y=g+m/2;break}return h},renderGuide:function(u){u===void 0&&(u={});var f=u.guide||document.createElement("div"),h="px",g=u.active?2:1,m=f.children[0];return f.style="position: absolute; background-color: ".concat(u.active?"green":"red",";"),f.children.length||(m=document.createElement("div"),m.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",f.appendChild(m)),u.y?(f.style.width="100%",f.style.height="".concat(g).concat(h),f.style.top="".concat(u.y).concat(h),f.style.left=0):(f.style.width="".concat(g).concat(h),f.style.height="100%",f.style.left="".concat(u.x).concat(h),f.style.top="0".concat(h)),!u.guide&&this.guidesContainer.appendChild(f),f},getElementPos:function(u){return this.editor.Canvas.getElementPos(u,{noScroll:1})},getElementGuides:function(u){var f=this,h=this.opts,g=this.getElementPos(u),m=g.top,_=g.height,w=g.left,C=g.width,T=[{type:"t",y:m},{type:"b",y:m+_},{type:"l",x:w},{type:"r",x:w+C},{type:"x",x:w+C/2},{type:"y",y:m+_/2}].map(function(B){return o(o({},B),{origin:u,originRect:g,guide:h.debug&&f.renderGuide(B)})});return T.forEach(function(B){var W;return(W=f.guides)===null||W===void 0?void 0:W.push(B)}),T},getTranslate:function(u,f){f===void 0&&(f="x");var h=0;return(u||"").split(" ").forEach(function(g){var m=g.trim(),_="translate".concat(f.toUpperCase(),"(");m.indexOf(_)===0&&(h=parseFloat(m.replace(_,"")))}),h},setTranslate:function(u,f,h){var g="translate".concat(f.toUpperCase(),"("),m="".concat(g).concat(h,")"),_=(u||"").split(" ").map(function(w){var C=w.trim();return C.indexOf(g)===0&&(w=m),w}).join(" ");return _.indexOf(g)<0&&(_+=" ".concat(m)),_},getPosition:function(){var u=this,f=u.target,h=u.isTran,g=f.getStyle(),m=g.left,_=g.top,w=g.transform,C=0,T=0;return h?(C=this.getTranslate(w),T=this.getTranslate(w,"y")):(C=parseFloat(m||0),T=parseFloat(_||0)),{x:C,y:T}},setPosition:function(u){var f=u.x,h=u.y,g=u.end,m=u.position,_=u.width,w=u.height,C=this,T=C.target,B=C.isTran,W=C.em,N="px",z=!g,ue="".concat(parseInt(f,10)).concat(N),_e="".concat(parseInt(h,10)).concat(N),Se={};if(B){var ce=T.getStyle().transform||"";ce=this.setTranslate(ce,"x",ue),ce=this.setTranslate(ce,"y",_e),Se={transform:ce,__p:z},T.addStyle(Se,{avoidStore:!g})}else{var q={position:m,width:_,height:w},ae={left:ue,top:_e,__p:z};(0,t.keys)(q).forEach(function(F){var R=q[F];R&&(ae[F]=R)}),Se=ae,T.addStyle(Se,{avoidStore:!g})}W?.Styles.__emitCmpStyleUpdate(Se,{components:W.getSelected()})},_getDragData:function(){var u=this.target;return{target:u,parent:u.parent(),index:u.index()}},onStart:function(u){var f=this,h=f.target,g=f.editor,m=f.isTran,_=f.opts,w=_.center,C=_.onStart,T=g.Canvas,B=h.getStyle(),W="absolute",N=[W,"relative"];if(C&&C(this._getDragData()),!m&&B.position!==W){var z=T.offset(h.getEl()),ue=z.left,_e=z.top,Se=z.width,ce=z.height,q=h.parent(),ae=void 0;do{var F=q.getStyle();ae=N.indexOf(F.position)>=0?q:null,q=q.parent()}while(q&&!ae);if(w){var R=T.getMouseRelativeCanvas(u),U=R.x,H=R.y;ue=U,_e=H}else if(ae){var te=T.offset(ae.getEl());ue=ue-te.left,_e=_e-te.top}this.setPosition({x:ue,y:_e,width:"".concat(Se,"px"),height:"".concat(ce,"px"),position:W})}},onDrag:function(){for(var u=this,f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var g=this,m=g.guidesTarget,_=g.opts,w=_.onDrag;this.updateGuides(m),_.debug&&m.forEach(function(C){return u.renderGuide(C)}),_.guidesInfo&&this.renderGuideInfo(m.filter(function(C){return C.active})),w&&w(this._getDragData())},onEnd:function(u,f,h){h===void 0&&(h={});var g=this,m=g.editor,_=g.opts,w=g.id,C=_.onEnd;C&&C(u,h,o(o({event:u},h),this._getDragData())),m.stopCommand(w),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var u=this;["X","Y"].forEach(function(f){var h=u["elGuideInfo".concat(f)];h&&(h.style.display="none")})},renderGuideInfo:function(u){var f=this;u===void 0&&(u=[]);var h=this.guidesStatic;this.hideGuidesInfo(),u.forEach(function(g){var m=g.origin,_=g.x,w=f.getElementPos(m),C=(0,t.isUndefined)(_)?"y":"x",T=C==="y",B=w[T?"left":"top"],W=w.rect[T?"left":"top"],N=T?B+w.width:B+w.height,z=T?W+w.rect.width:W+w.rect.height,ue=f["elGuideInfo".concat(C.toUpperCase())],_e=f["elGuideInfoContent".concat(C.toUpperCase())],Se=ue.style,ce=h?.filter(function(Re){return Re.type===g.type}).map(function(Re){var Ue=Re.originRect,Ne=Ue.left,Ve=Ue.width,nt=Ue.top,at=Ue.height,re=T?Ne:nt,xe=T?Ne+Ve:nt+at;return{gap:xe<B?B-xe:re-N,guide:Re}}).filter(function(Re){return Re.gap>0}).sort(function(Re,Ue){return Re.gap-Ue.gap}).map(function(Re){return Re.guide})[0];if(ce){var q=ce.originRect,ae=q.left,F=q.width,R=q.top,U=q.height,H=q.rect,te=T?ae<w.left:R<w.top,E=T?ae:R,me=T?H.left:H.top,ve=T?ae+F:R+U,Le=T?H.left+H.width:H.top+H.height,Je=T?g.y:g.x,$e=te?ve:N,mt="".concat(Je,"px"),ye=te?B-ve:E-N,be=te?W-Le:me-z;Se.display="",Se[T?"top":"left"]=mt,Se[T?"left":"top"]="".concat($e,"px"),Se[T?"width":"height"]="".concat(ye,"px"),_e.innerHTML="".concat(Math.round(be),"px"),f.em.trigger("".concat(s,":active"),o(o({},f.getEventOpts()),{guide:g,guidesStatic:h,matched:ce,posFirst:Je,posSecond:$e,size:ye,sizeRaw:be,elGuideInfo:ue,elGuideInfoCnt:_e}))}})},toggleDrag:function(u){var f=this,h=f.ppfx,g=f.editor,m=u?"add":"remove",_=["".concat(h,"is__grabbing")],w=g.Canvas,C=w.getBody();_.forEach(function(T){return C.classList[m](T)}),w[u?"startAutoscroll":"stopAutoscroll"]()}}},1859:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){if(r.Canvas.hasFocus()){var o=[];r.getSelectedAll().forEach(function(s){var c=s.components(),u=c&&c.filter(function(f){return f.get("selectable")})[0];u&&o.push(u)}),o.length&&r.select(o)}}}},3709:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r,o,s){if(s===void 0&&(s={}),!(!r.Canvas.hasFocus()&&!s.force)){var c=[];r.getSelectedAll().forEach(function(u){for(var f=u.parent();f&&!f.get("selectable");)f=f.parent();f&&c.push(f)}),c.length&&r.select(c)}}}},2860:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){if(r.Canvas.hasFocus()){var o=[];r.getSelectedAll().forEach(function(s){var c=s.parent();if(c){var u=c.components().length,f=0,h=0,g;do f++,h=s.index()+f,g=h<=u?c.getChildAt(h):null;while(g&&!g.get("selectable"));o.push(g||s)}}),o.length&&r.select(o)}}}},4944:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){if(r.Canvas.hasFocus()){var o=[];r.getSelectedAll().forEach(function(s){var c=s.parent();if(c){var u=0,f=0,h;do u++,f=s.index()-u,h=f>=0?c.getChildAt(f):null;while(h&&!h.get("selectable"));o.push(h||s)}}),o.length&&r.select(o)}}}},767:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(5706);let r={run:function(o,s,c){c===void 0&&(c={});var u=c.target,f=[];if(!u.get("styles"))return f;var h=u.get("type"),g=o.Pages.getAllWrappers(),m=(0,t.flatten)(g.map(function(w){return w.findType(h)})).length;if(!m){var _=o.CssComposer.getAll();f=_.filter(function(w){return w.get("group")==="cmp:".concat(h)}),_.remove(f)}return f}}},2126:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=function(o,s,c){if(c||arguments.length===2)for(var u=0,f=s.length,h;u<f;u++)(h||!(u in s))&&(h||(h=Array.prototype.slice.call(s,0,u)),h[u]=s[u]);return o.concat(h||Array.prototype.slice.call(s))};let r={run:function(o){var s=o.getModel(),c=t([],o.getSelectedAll(),!0).map(function(u){var f,h;return((h=(f=u.delegate)===null||f===void 0?void 0:f.copy)===null||h===void 0?void 0:h.call(f,u))||u}).filter(Boolean);c.length&&s.set("clipboard",c)}}},4860:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(2097);let r={run:function(o,s,c){var u=this;c===void 0&&(c={}),s&&s.set&&s.set("active",0);var f=o.getConfig(),h=o.Modal,g=f.stylePrefix;if(this.cm=o.CodeManager||null,!this.editors){var m=this.buildEditor("htmlmixed","hopscotch","HTML"),_=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=m.model,this.cssEditor=_.model;var w=(0,t.a_)("div",{class:"".concat(g,"export-dl")});w.appendChild(m.el),w.appendChild(_.el),this.editors=w}h.open({title:f.textViewCode,content:this.editors}).getModel().once("change:open",function(){return o.stopCommand("".concat(u.id))}),this.htmlEditor.setContent(o.getHtml(c.optsHtml)),this.cssEditor.setContent(o.getCss(c.optsCss))},stop:function(o){var s=o.Modal;s&&s.close()},buildEditor:function(o,s,c){var u=this.em.CodeManager,f=u.createViewer({label:c,codeName:o,theme:s}),h=new u.EditorView({model:f,config:u.getConfig()}).render().el;return{model:f,el:h}}}},1085:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(5706);let r={isEnabled:function(){var o=document;return!!(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement)},enable:function(o){var s="";return o.requestFullscreen?o.requestFullscreen():o.webkitRequestFullscreen?(s="webkit",o.webkitRequestFullscreen()):o.mozRequestFullScreen?(s="moz",o.mozRequestFullScreen()):o.msRequestFullscreen&&o.msRequestFullscreen(),s},disable:function(){var o=document;this.isEnabled()&&(o.exitFullscreen?o.exitFullscreen():o.webkitExitFullscreen?o.webkitExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.msExitFullscreen&&o.msExitFullscreen())},fsChanged:function(o){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(o||"","fullscreenchange"),this.fsChanged))},run:function(o,s,c){c===void 0&&(c={}),this.sender=s;var u=c.target,f=(0,t.isElement)(u)?u:document.querySelector(u),h=this.enable(f||o.getContainer());this.fsChanged=this.fsChanged.bind(this,h),document.addEventListener(h+"fullscreenchange",this.fsChanged)},stop:function(o,s){s&&s.set&&s.set("active",!1),this.disable()}}},9622:(i,n,e)=>{e.r(n),e.d(n,{default:()=>u});var t=e(5706),r=e(6411),o=e(2097),s=e(4596),c=e(2983);let u=(0,t.extend)({},c.default,s.default,{init:function(f){s.default.init.apply(this,arguments),(0,t.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=f,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];s.default.enable.apply(this,f),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var g=this.$wrapper;g.css("cursor","move"),g.on("mousedown",this.initSorter),g.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(f){var h=(0,r.default)(f.target).data("model"),g=h.get("draggable");g&&(this.cacheEl=null,this.startSelectPosition(f.target,this.frameEl.contentDocument),this.sorter.draggable=g,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,o.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(f){var h=f.get("draggable");if(h){this.cacheEl=null;var g=f.view.el;this.startSelectPosition(g,this.frameEl.contentDocument),this.sorter.draggable=h,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(f){this.cacheEl=null;var h=f[f.length-1],g=this.em.getCurrentFrame(),m=h.getEl(g?.model),_=m.ownerDocument,w=f.map(function(C){var T;return(T=C?.view)===null||T===void 0?void 0:T.el});this.startSelectPosition(w,_,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(f,h){},rollback:function(f,h){var g=f.which||f.keyCode;(g==27||h)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,r.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,r.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];s.default.stop.apply(this,f),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var g=this.$wrapper;g.css("cursor","").unbind().removeClass(this.noSelClass)}})},8481:(i,n,e)=>{e.r(n),e.d(n,{default:()=>o});var t=e(5706),r=e(2097);let o={open:function(s){var c=this,u=this,f=u.editor,h=u.title,g=u.config,m=u.am,_=g.custom;if((0,t.isFunction)(_.open))return _.open(m.__customData());var w=f.Modal;w.open({title:h,content:s}).onceClose(function(){return f.stopCommand(c.id)})},close:function(){var s=this.config.custom;if((0,t.isFunction)(s.close))return s.close(this.am.__customData());var c=this.editor.Modal;c&&c.close()},run:function(s,c,u){u===void 0&&(u={});var f=s.AssetManager,h=f.getConfig(),g=u.types,m=g===void 0?[]:g,_=u.accept,w=u.select;if(this.title=u.modalTitle||s.t("assetManager.modalTitle")||"",this.editor=s,this.config=h,this.am=f,f.setTarget(u.target),f.onClick(u.onClick),f.onDblClick(u.onDblClick),f.onSelect(u.onSelect),f.__behaviour({select:w,types:m,options:u}),h.custom)this.rendered=this.rendered||(0,r.a_)("div"),this.rendered.className="".concat(h.stylePrefix,"custom-wrp"),f.__behaviour({container:this.rendered}),f.__trgCustom();else{if(!this.rendered||m){var C=f.getAll().filter(function(B){return B});m&&m.length&&(C=C.filter(function(B){return m.indexOf(B.get("type"))!==-1})),f.render(C),this.rendered=f.getContainer()}if(_){var T=this.rendered.querySelector("input#".concat(h.stylePrefix,"uploadFile"));T&&T.setAttribute("accept",_)}}return this.open(this.rendered),this},stop:function(s){this.editor=s,this.close(this.rendered)}}},3666:(i,n,e)=>{e.r(n),e.d(n,{default:()=>o});var t=e(5706),r=e(2097);let o={open:function(){var s=this,c=s.container,u=s.editor,f=s.bm,h=s.config,g=h.custom,m=h.appendTo;if((0,t.isFunction)(g.open))return g.open(f.__customData());if(this.firstRender&&!m){var _="views-container",w=u.Panels,C=w.getPanel(_)||w.addPanel({id:_});C.set("appendContent",c).trigger("change:appendContent"),g||c.appendChild(f.render())}c&&(c.style.display="block")},close:function(){var s=this,c=s.container,u=s.config,f=u.custom;if((0,t.isFunction)(f.close))return f.close(this.bm.__customData());c&&(c.style.display="none")},run:function(s){var c=s.Blocks;this.config=c.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,r.a_)("div"),this.editor=s,this.bm=c;var u=this.container;c.__behaviour({container:u}),this.config.custom&&c.__trgCustom(),this.open()},stop:function(){this.close()}}},5838:(i,n,e)=>{e.r(n),e.d(n,{default:()=>t});let t={run:function(r){var o=r.LayerManager,s=r.Panels,c=o.getConfig();if(!c.appendTo){if(!this.layers){var u="views-container",f=document.createElement("div"),h=s.getPanel(u)||s.addPanel({id:u});c.custom?o.__trgCustom({container:f}):f.appendChild(o.render()),h.set("appendContent",f).trigger("change:appendContent"),this.layers=f}this.layers.style.display="block"}},stop:function(){var r=this.layers;r&&(r.style.display="none")}}},8692:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(6411);let r={run:function(o,s){if(this.sender=s,!this.$cnt){var c=o.getConfig(),u=o.Panels,f=o.DeviceManager,h=o.SelectorManager,g=o.StyleManager,m="change:appendContent",_=(0,t.default)("<div></div>"),w=(0,t.default)("<div></div>"),C=(0,t.default)("<div></div>"),T=(0,t.default)("<div></div>");if(this.$cnt=_,this.$cntInner=w,w.append(C),w.append(T),_.append(w),f&&c.showDevices){var B=u.addPanel({id:"devices-c"}),W=f.render();B.set("appendContent",W).trigger(m)}var N=h.getConfig();N.custom?h.__trgCustom({container:C.get(0)}):N.appendTo||C.append(h.render([])),this.sm=g;var z=g.getConfig(),ue=z.stylePrefix;this.$header=(0,t.default)('<div class="'.concat(ue,'header">').concat(o.t("styleManager.empty"),"</div>")),_.append(this.$header),z.custom?g.__trgCustom({container:T.get(0)}):z.appendTo||T.append(g.render());var _e="views-container",Se=u.getPanel(_e)||u.addPanel({id:_e});Se.set("appendContent",_).trigger(m);var ce=o.getModel();this.listenTo(ce,g.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var o=this,s=o.sender,c=o.sm,u=o.$cntInner,f=o.$header;s&&s.get&&!s.get("active")||!c||(c.getSelected()?(u?.show(),f?.hide()):(u?.hide(),f?.show()))},stop:function(){var o,s;(o=this.$cntInner)===null||o===void 0||o.hide(),(s=this.$header)===null||s===void 0||s.hide()}}},9163:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(6411);let r={run:function(o,s){this.sender=s;var c=o.getModel(),u=o.Config,f=u.stylePrefix,h=o.TraitManager,g=h.getConfig(),m;if(!g.appendTo){if(!this.$cn){this.$cn=(0,t.default)("<div></div>"),this.$cn2=(0,t.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,t.default)("<div>").append('<div class="'.concat(g.stylePrefix,'header">').concat(c.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),g.custom?h.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(f,'traits-label">').concat(c.t("traitManager.label"),"</div>")),this.$cn2.append(h.render()));var _=o.Panels;_.getPanel("views-container")?m=_.getPanel("views-container"):m=_.addPanel({id:"views-container"}),m?.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=o.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var o=this.sender;o&&o.get&&!o.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},9298:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=e(5706);let r={run:function(s,c,u){u===void 0&&(u={});var f=s.getModel(),h=f.get("clipboard"),g=s.getSelected();h?.length&&g&&(s.getSelectedAll().forEach(function(m){var _,w,C,T=((w=(_=m.delegate)===null||_===void 0?void 0:_.copy)===null||w===void 0?void 0:w.call(_,m))||m,B=T.collection,W;if(B){var N=T.index()+1,z={at:N,action:u.action||"paste-component"};(0,t.contains)(h,T)&&T.get("copyable")?W=B.add(T.clone(),z):W=o(s,h,T.parent(),z)}else{var ue=(C=f.Pages.getSelected())===null||C===void 0?void 0:C.getMainComponent(),z={at:ue?.components().length||0,action:u.action||"paste-component"};W=o(s,h,ue,z)}W=(0,t.isArray)(W)?W:[W],W.forEach(function(_e){return s.trigger("component:paste",_e)})}),g.emitUpdate())}};function o(s,c,u,f){var h=c.filter(function(m){return m.get("copyable")}),g=h.filter(function(m){return s.Components.canMove(u,m).result});return u.components().add(g.map(function(m){return m.clone()}),f)}},8594:(i,n,e)=>{e.r(n),e.d(n,{default:()=>s});var t=e(5706),r=function(c,u,f){if(f||arguments.length===2)for(var h=0,g=u.length,m;h<g;h++)(m||!(h in u))&&(m||(m=Array.prototype.slice.call(u,0,h)),m[h]=u[h]);return c.concat(m||Array.prototype.slice.call(u))},o="core:component-outline";let s={getPanels:function(c){return this.panels||(this.panels=c.Panels.getPanels()),this.panels},preventDrag:function(c){c.abort=1},tglEffects:function(c){var u=this.em,f=c?"on":"off";if(u){var h=u.Canvas,g=h.getBody(),m=h.getToolbarEl();m&&(m.style.display=c?"none":"");var _=g.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,t.each)(_,function(w){return w.style.pointerEvents=c?"all":""}),u[f]("run:tlb-move:before",this.preventDrag)}},run:function(c,u){var f=this;this.sender=u,this.selected=r([],c.getSelectedAll(),!0),c.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=c.Commands.isActive(o)),this.shouldRunSwVisibility&&c.stopCommand(o),c.getModel().stopDefault();var h=this.getPanels(c),g=c.Canvas.getElement(),m=c.getEl(),_=c.Config.stylePrefix;if(!this.helper){var w=document.createElement("span");w.className="".concat(_,"off-prv fa fa-eye-slash"),m.appendChild(w),w.onclick=function(){return f.stopCommand()},this.helper=w}this.helper.style.display="inline-block",h.forEach(function(T){return T.set("visible",!1)});var C=g.style;C.width="100%",C.height="100%",C.top="0",C.left="0",C.padding="0",C.margin="0",c.refresh(),this.tglEffects(1)},stop:function(c){var u=this,f=u.sender,h=f===void 0?{}:f,g=u.selected;h.set&&h.set("active",0);var m=this.getPanels(c);this.shouldRunSwVisibility&&(c.runCommand(o),this.shouldRunSwVisibility=!1),c.getModel().runDefault(),m.forEach(function(w){return w.set("visible",!0)});var _=c.Canvas.getElement();_.setAttribute("style",""),g&&c.select(g),delete this.selected,this.helper&&(this.helper.style.display="none"),c.refresh(),this.tglEffects()}}},7604:(i,n,e)=>{e.r(n),e.d(n,{default:()=>r});var t=function(){return t=Object.assign||function(o){for(var s,c=1,u=arguments.length;c<u;c++){s=arguments[c];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(o[f]=s[f])}return o},t.apply(this,arguments)};let r={run:function(o,s,c){var u=c||{},f=o.Canvas,h=f.getCanvasView(),g=t({appendTo:f.getResizerEl(),prefix:o.getConfig().stylePrefix,posFetcher:h.getElementPos.bind(h),mousePosFetcher:f.getMouseRelativePos.bind(f)},u.options||{}),m=this.canvasResizer;return(!m||u.forceNew)&&(this.canvasResizer=new o.Utils.Resizer(g),m=this.canvasResizer),m.setOptions(g,!0),m.blur(),m.focus(u.el),m},stop:function(){var o;(o=this.canvasResizer)===null||o===void 0||o.blur()}}},4596:(i,n,e)=>{e.r(n),e.d(n,{default:()=>ae});var t=e(5706),r=e(1749),o=function(){var F=function(R,U){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,te){H.__proto__=te}||function(H,te){for(var E in te)Object.prototype.hasOwnProperty.call(te,E)&&(H[E]=te[E])},F(R,U)};return function(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");F(R,U);function H(){this.constructor=R}R.prototype=U===null?Object.create(U):(H.prototype=U.prototype,new H)}}(),s=function(F){o(R,F);function R(){return F!==null&&F.apply(this,arguments)||this}return R.prototype.defaults=function(){return{command:"",attributes:{}}},R}(r.Kx);let c=s;var u=function(){var F=function(R,U){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,te){H.__proto__=te}||function(H,te){for(var E in te)Object.prototype.hasOwnProperty.call(te,E)&&(H[E]=te[E])},F(R,U)};return function(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");F(R,U);function H(){this.constructor=R}R.prototype=U===null?Object.create(U):(H.prototype=U.prototype,new H)}}(),f=function(F){u(R,F);function R(){return F!==null&&F.apply(this,arguments)||this}return R}(r.pM);let h=f;f.prototype.model=c;var g=e(91),m=function(){var F=function(R,U){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,te){H.__proto__=te}||function(H,te){for(var E in te)Object.prototype.hasOwnProperty.call(te,E)&&(H[E]=te[E])},F(R,U)};return function(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");F(R,U);function H(){this.constructor=R}R.prototype=U===null?Object.create(U):(H.prototype=U.prototype,new H)}}(),_=function(){return _=Object.assign||function(F){for(var R,U=1,H=arguments.length;U<H;U++){R=arguments[U];for(var te in R)Object.prototype.hasOwnProperty.call(R,te)&&(F[te]=R[te])}return F},_.apply(this,arguments)},w=function(F){m(R,F);function R(U){var H=F.call(this,U)||this;return H.em=U.config.em,H}return R.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},R.prototype.attributes=function(){return this.model.get("attributes")},R.prototype.handleClick=function(U){U.preventDefault(),U.stopPropagation();var H=this.em,te=H.Canvas.getFrameEl().getBoundingClientRect(),E=te.left,me=te.top,ve=_(_({},U),{clientX:U.clientX-E,clientY:U.clientY-me});H.trigger("toolbar:run:before",{event:ve}),this.execCommand(ve)},R.prototype.execCommand=function(U){var H=this,te=H.em,E=H.model,me={event:U},ve=E.get("command"),Le=te.Editor;(0,t.isFunction)(ve)&&ve(Le,null,me),(0,t.isString)(ve)&&Le.runCommand(ve,me)},R.prototype.render=function(){var U=this,H=U.em,te=U.$el,E=U.model,me=E.get("id"),ve=E.get("label"),Le=H.getConfig().stylePrefix;return te.addClass("".concat(Le,"toolbar-item")),me&&te.addClass("".concat(Le,"toolbar-item__").concat(me)),ve&&te.append(ve),this},R}(r.Ss);let C=w;var T=function(){var F=function(R,U){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,te){H.__proto__=te}||function(H,te){for(var E in te)Object.prototype.hasOwnProperty.call(te,E)&&(H[E]=te[E])},F(R,U)};return function(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");F(R,U);function H(){this.constructor=R}R.prototype=U===null?Object.create(U):(H.prototype=U.prototype,new H)}}(),B=function(F){T(R,F);function R(U){var H=F.call(this,U)||this,te=U.em;return H.em=te,H.config={em:te},H.listenTo(H.collection,"reset",H.render),H}return R.prototype.onRender=function(){var U=this.em.config.stylePrefix;this.el.className="".concat(U,"toolbar-items")},R}(g.A);let W=B;B.prototype.itemView=C;var N=e(2097),z=e(9195),ue=e(2820),_e=e(3172),Se=function(){return Se=Object.assign||function(F){for(var R,U=1,H=arguments.length;U<H;U++){R=arguments[U];for(var te in R)Object.prototype.hasOwnProperty.call(R,te)&&(F[te]=R[te])}return F},Se.apply(this,arguments)},ce=function(F,R){var U={};for(var H in F)Object.prototype.hasOwnProperty.call(F,H)&&R.indexOf(H)<0&&(U[H]=F[H]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,H=Object.getOwnPropertySymbols(F);te<H.length;te++)R.indexOf(H[te])<0&&Object.prototype.propertyIsEnumerable.call(F,H[te])&&(U[H[te]]=F[H[te]]);return U},q;let ae={activeResizer:!1,init:function(){this.onSelect=(0,t.debounce)(this.onSelect,0),(0,t.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),q=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(F){var R=this,U=this.em,H=U.getConfig().listenToEl,te=U.getContainer().parentNode,E=F?"on":"off",me={on:N.on,off:N.AU},ve=_e.I.update;!H.length&&te&&H.push(te);var Le=function(Je,$e){me[E]($e,"mouseover",R.onHover),me[E]($e,"mouseleave",R.onOut),me[E]($e,"click",R.onClick),me[E](Je,"scroll",R.onFrameScroll,!0),me[E](Je,"resize",R.onFrameResize)};me[E](window,"resize",this.onFrameUpdated),me[E](H,"scroll",this.onContainerChange),U[E]("component:toggled ".concat(ve," undo redo"),this.onSelect,this),U[E]("change:componentHovered",this.onHovered,this),U[E]("component:resize styleable:change component:input",this.updateGlobalPos,this),U[E]("".concat(ve,":toolbar"),this._upToolbar,this),U[E]("frame:updated",this.onFrameUpdated,this),U[E]("canvas:updateTools",this.onFrameUpdated,this),U[E](U.Canvas.events.refresh,this.updateAttached,this),U.Canvas.getFrames().forEach(function(Je){var $e=Je.view,mt=$e?.getWindow();mt&&Le(mt,$e?.getBody())})},onHover:function(F){F.stopPropagation();var R=this.em,U=F.target,H=(0,z.getComponentView)(U),te=H?.frameView,E=H?.model;if(!E)for(var me=U.parentNode;!E&&me&&!(0,N.ZQ)(me);)E=(0,z.getComponentModel)(me),me=me.parentNode;this.currentDoc=U.ownerDocument,R.setHovered(E,{useValid:!0}),te&&R.setCurrentFrame(te)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(F,R){var U=this,H,te={};R?(H=R.views)===null||H===void 0||H.forEach(function(E){var me=E.el,ve=U.getElementPos(me);te={el:me,pos:ve,component:R,view:(0,z.getViewEl)(me)},me.ownerDocument===U.currentDoc&&(U.elHovered=te),U.updateToolsLocal(te)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(E){var me=E.view,ve=me&&me.getToolsEl();ve&&U.toggleToolsEl(0,0,{el:ve})}))},onSelect:function(){var F=this.em,R=F.getSelected(),U=F.getCurrentFrame(),H=R&&R.getView(U?.model),te=H&&H.el,E={};if(te&&(0,N.zN)(te)){var me=this.getElementPos(te);E={el:te,pos:me,component:R,view:(0,z.getViewEl)(te)}}this.elSelected=E,this.updateToolsGlobal(),this.updateLocalPos(E),this.initResize(R)},updateGlobalPos:function(){var F=this.getElSelected();F.el&&(F.pos=this.getElementPos(F.el),this.updateToolsGlobal())},updateLocalPos:function(F){var R=this.getElHovered();R.el&&(R.pos=this.getElementPos(R.el),this.updateToolsLocal(F))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(F,R,U){U===void 0&&(U={});var H=U.el||this.canvas.getToolsEl(R);return H&&(H.style.display=F?"":"none"),H||{}},showElementOffset:function(F,R,U){U===void 0&&(U={}),q&&this.editor.runCommand("show-offset",{el:F,elPos:R,view:U.view,force:1,top:0,left:0})},hideElementOffset:function(F){this.editor.stopCommand("show-offset",{view:F})},showFixedElementOffset:function(F,R){this.editor.runCommand("show-offset",{el:F,elPos:R,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(F){this.canvas.getHighlighter(F).style.opacity=0},onClick:function(F){F.stopPropagation(),F.preventDefault();var R=this.em;if(R.get("_cmpDrag"))return R.set("_cmpDrag");var U=F.target,H=(0,z.getComponentModel)(U);if(!H)for(var te=U.parentNode;!H&&te&&!(0,N.ZQ)(te);)H=(0,z.getComponentModel)(te),te=te.parentNode;if(H){if(R.isEditing()&&(!H.get("textable")&&H.isChildOf("text")||R.getEditing()!==H))return;this.select(H,F)}},select:function(F,R){if(R===void 0&&(R={}),!!F){var U=this.em;U.setSelected(F,{event:R,useValid:!0}),this.initResize(U.getSelected())}},updateBadge:function(F,R,U){U===void 0&&(U={});var H=this.canvas,te=(0,z.getComponentModel)(F),E=this.getBadge(U),me=E.style;if(!te||!te.get("badgable")){me.display="none";return}if(!U.posOnly){var ve=this.canvas.getConfig(),Le=te.getIcon(),Je=ve.pStylePrefix||"",$e="".concat(Je,"badge"),mt=ve.customBadgeLabel,ye="".concat(Le?'<div class="'.concat($e,'__icon">').concat(Le,"</div>"):"",`
        <div class="`).concat($e,'__name">').concat(te.getName(),"</div>");E.innerHTML=mt?mt(te):ye}var be="px";me.display="block";var Re=H.getTargetToElementFixed(F,E,{pos:R}),Ue=Re.top,Ne=U.leftOff<0?-U.leftOff:0;me.top=Ue+be,me.left=Ne+be},showHighlighter:function(F){this.canvas.getHighlighter(F).style.opacity=""},initResize:function(F){var R=this,U=R.em,H=R.canvas,te=U.Editor,E=!(0,t.isElement)(F)&&(0,N.GW)(F)?F:U.getSelected(),me=E?.get("resizable"),ve=ue.F.Resize,Le=H.hasCustomSpot(ve);if(H.removeSpots({type:ve}),E&&me){H.addSpot({type:ve,component:E});var Je=(0,t.isElement)(F)?F:E.getEl(),$e=(0,z.isObject)(me)?me:{},mt=$e.onStart,ye=mt===void 0?function(){}:mt,be=$e.onMove,Re=be===void 0?function(){}:be,Ue=$e.onEnd,Ne=Ue===void 0?function(){}:Ue,Ve=$e.updateTarget,nt=Ve===void 0?function(){}:Ve,at=ce($e,["onStart","onMove","onEnd","updateTarget"]);if(Le||!Je||this.activeResizer)return;var re,xe=U.config,Qe=xe.stylePrefix||"",Fe="".concat(Qe,"resizing"),ot=this,ht={component:E,el:Je},it=function(I,Y,ie){var ge=ie.docs;ge&&ge.forEach(function(K){var fe=K.body,oe=fe.className||"";fe.className=(I=="add"?"".concat(oe," ").concat(Fe):oe.replace(Fe,"")).trim()})},k=Se({onStart:function(I,Y){ye(I,Y);var ie=Y.el,ge=Y.config,K=Y.resizer,fe=ge.keyHeight,oe=ge.keyWidth,rt=ge.currentUnit,bt=ge.keepAutoHeight,gt=ge.keepAutoWidth;it("add",I,Y),re=U.Styles.getModelToStyle(E),H.toggleFramesEvents(!1);var V=getComputedStyle(ie),ee=re.getStyle(),D=ee[oe];ge.autoWidth=gt&&D==="auto",isNaN(parseFloat(D))&&(D=V[oe]);var Oe=ee[fe];ge.autoHeight=bt&&Oe==="auto",isNaN(parseFloat(Oe))&&(Oe=V[fe]),K.startDim.w=parseFloat(D),K.startDim.h=parseFloat(Oe),q=!1,rt&&(ge.unitHeight=(0,z.getUnitFromValue)(Oe),ge.unitWidth=(0,z.getUnitFromValue)(D)),ot.activeResizer=!0,te.trigger("component:resize",Se(Se({},ht),{type:"start"}))},onMove:function(I){Re(I),te.trigger("component:resize",Se(Se({},ht),{type:"move"}))},onEnd:function(I,Y){Ne(I,Y),it("remove",I,Y),te.trigger("component:resize",Se(Se({},ht),{type:"end"})),H.toggleFramesEvents(!0),q=!0,ot.activeResizer=!1},updateTarget:function(I,Y,ie){if(nt(I,Y,ie),!!re){var ge=ie.store,K=ie.selectedHandler,fe=ie.config,oe=fe.keyHeight,rt=fe.keyWidth,bt=fe.autoHeight,gt=fe.autoWidth,V=fe.unitWidth,ee=fe.unitHeight,D=["tc","bc"].indexOf(K)>=0,Oe=["cl","cr"].indexOf(K)>=0,he={};if(!D){var De=H.getBody().offsetWidth,Xe=Y.w<De?Y.w:De;he[rt]=gt?"auto":"".concat(Xe).concat(V)}Oe||(he[oe]=bt?"auto":"".concat(Y.h).concat(ee)),U.getDragMode(E)&&(he.top="".concat(Y.t).concat(ee),he.left="".concat(Y.l).concat(V));var qe=Se(Se({},he),{__p:!ge});re.addStyle(qe,{avoidStore:!ge}),U.Styles.__emitCmpStyleUpdate(qe,{components:U.getSelected()})}}},at);this.resizer=te.runCommand("resize",{el:Je,options:k,force:1})}else{if(Le)return;te.stopCommand("resize"),this.resizer=null}},updateToolbar:function(F){var R=this.canvas,U=this.config.em,H=F===U?U.getSelected():F,te=R.getToolbarEl(),E=te.style,me=H.get("toolbar"),ve=U.config.showToolbar,Le=!R.hasCustomSpot(ue.F.Select);if(H&&ve&&me&&me.length&&Le){if(E.display="",!this.toolbar){te.innerHTML="",this.toolbar=new h(me);var Je=new W({collection:this.toolbar,em:U});te.appendChild(Je.render().el)}this.toolbar.reset(me),E.top="-100px",E.left="0"}else E.display="none"},updateToolbarPos:function(F){var R="px",U=this.canvas.getToolbarEl().style;U.top="".concat(F.top).concat(R),U.left="".concat(F.left).concat(R),U.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(F){return F===void 0&&(F={}),this.canvas.getBadgeEl(F.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(F){return F&&F.get("status")==="selected"},updateToolsLocal:function(F){var R=this.em.getConfig(),U=F||this.getElHovered(),H=U.el,te=U.pos,E=U.view,me=U.component;if(!H){this.lastHovered=0;return}var ve=me.get("hoverable"),Le=this.lastHovered!==H,Je=Le?{}:{posOnly:1},$e=this.canvas.hasCustomSpot(ue.F.Hover);Le&&ve&&(this.lastHovered=H,$e?this.hideHighlighter(E):this.showHighlighter(E),this.showElementOffset(H,te,{view:E})),this.isCompSelected(me)&&(this.hideHighlighter(E),!R.showOffsetsSelected&&this.hideElementOffset(E));var mt="px",ye=this.toggleToolsEl(1,E),be=ye.style,Re=this.canvas.canvasRectOffset(H,te),Ue=Re.top,Ne=Re.left;!$e&&this.updateBadge(H,te,Se(Se({},Je),{view:E,topOff:Ue,leftOff:Ne})),be.top=Ue+mt,be.left=Ne+mt,be.width=te.width+mt,be.height=te.height+mt,this._trgToolUp("local",{component:me,el:ye,top:Ue,left:Ne,width:te.width,height:te.height})},_upToolbar:(0,t.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(F,R){R===void 0&&(R={}),this.em.trigger("canvas:tools:update",Se({type:F},R))},updateToolsGlobal:function(F){F===void 0&&(F={});var R=this.getElSelected(),U=R.el,H=R.pos,te=R.component;if(!U){this.toggleToolsEl(),this.lastSelected=0;return}var E=this.canvas,me=this.lastSelected!==U;(me||F.force)&&(this.lastSelected=U,this.updateToolbar(te));var ve="px",Le=this.toggleToolsEl(1),Je=Le.style,$e=E.getTargetToElementFixed(U,E.getToolbarEl(),{pos:H}),mt=$e.canvasOffsetTop,ye=$e.canvasOffsetLeft;Je.top=mt+ve,Je.left=ye+ve,Je.width=H.width+ve,Je.height=H.height+ve,this.updateToolbarPos({top:$e.top,left:$e.left}),this._trgToolUp("global",{component:te,el:Le,top:mt,left:ye,width:H.width,height:H.height})},updateAttached:(0,t.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,t.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(F){return this.canvas.getCanvasView().getElementPos(F,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(F){F&&F.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(F){(0,z.hasWin)()&&(this.editor=F&&F.get("Editor"),this.enable())},stop:function(F,R,U){if(U===void 0&&(U={}),!!(0,z.hasWin)()){var H=this,te=H.em,E=H.editor;this.onHovered(),this.stopSelectComponent(),!U.preserveSelected&&te.setSelected(),this.toggleToolsEl(),E&&E.stopCommand("resize")}}}},2983:(i,n,e)=>{e.r(n),e.d(n,{default:()=>s});var t=e(6411),r=e(6778),o=e(2128);let s={startSelectPosition:function(c,u,f){f===void 0&&(f={}),this.isPointed=!1;var h=this.em.Utils,g=c[0].ownerDocument.body;h&&(this.sorter=new h.ComponentSorter({em:this.em,treeClass:r.A,containerContext:{container:g,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:u,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:o.A.BothDirections,nested:!0}})),f.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=f.onStart),c&&c.length>0&&this.sorter.startSort(c.map(function(m){return{element:m}}))},getOffsetDim:function(){var c=this.offset(this.canvas.getFrameEl()),u=this.offset(this.canvas.getElement()),f=c.top-u.top,h=c.left-u.left;return{top:f,left:h}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,t.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,t.default)(this.cDim[this.posIndex][5]).parent():(0,t.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(c,u,f){var h=c||0,g=u||"before",m=f.length,_=m!==0&&g=="after"&&h==m;return m!==0&&(!_&&!f[h][4]||f[h-1]&&!f[h-1][4]||_&&!f[h-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9490:(i,n,e)=>{e.r(n),e.d(n,{default:()=>c});var t=e(5706),r=e(2820),o=e(6411),s=function(){return s=Object.assign||function(u){for(var f,h=1,g=arguments.length;h<g;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},s.apply(this,arguments)};let c={getOffsetMethod:function(u){var f=u||"";return"get"+f+"OffsetViewerEl"},run:function(u,f,h){var g=this.canvas,m=h||{},_=m.state||"",w=u.getConfig(),C=this.em.getZoomDecimal(),T=m.el;if(!w.showOffsets||!(T instanceof HTMLElement)||!w.showOffsetsSelected&&_=="Fixed"){u.stopCommand("".concat(this.id),h);return}if(!g.hasCustomSpot(r.F.Spacing)){var B=s({},m.elPos||g.getElementPos(T));(0,t.isUndefined)(m.top)||(B.top=m.top),(0,t.isUndefined)(m.left)||(B.left=m.left);var W=window.getComputedStyle(T),N=this.ppfx,z=_+"State",ue=this.getOffsetMethod(_),_e=g[ue](h.view);_e.style.opacity="";var Se=this["marginT"+_],ce=this["marginB"+_],q=this["marginL"+_],ae=this["marginR"+_],F=this["padT"+_],R=this["padB"+_],U=this["padL"+_],H=this["padR"+_];if(_e.childNodes.length&&(this[z]="1",Se=_e.querySelector("[data-offset-m-t]"),ce=_e.querySelector("[data-offset-m-b]"),q=_e.querySelector("[data-offset-m-l]"),ae=_e.querySelector("[data-offset-m-r]"),F=_e.querySelector("[data-offset-p-t]"),R=_e.querySelector("[data-offset-p-b]"),U=_e.querySelector("[data-offset-p-l]"),H=_e.querySelector("[data-offset-p-r]")),!this[z]){var te=_.toLowerCase(),E=te+"margin-v",me=te+"padding-v",ve=(0,o.default)('<div class="'.concat(N,'marginName">')).get(0),Le=(0,o.default)('<div class="'.concat(N,'paddingName">')).get(0),Je=N+E+"-el",$e=N+me+"-el",mt="".concat(Je," ").concat(N+E),ye="".concat($e," ").concat(N+me);Se=(0,o.default)('<div class="'.concat(mt,'-top"></div>')).get(0),ce=(0,o.default)('<div class="'.concat(mt,'-bottom"></div>')).get(0),q=(0,o.default)('<div class="'.concat(mt,'-left"></div>')).get(0),ae=(0,o.default)('<div class="'.concat(mt,'-right"></div>')).get(0),F=(0,o.default)('<div class="'.concat(ye,'-top"></div>')).get(0),R=(0,o.default)('<div class="'.concat(ye,'-bottom"></div>')).get(0),U=(0,o.default)('<div class="'.concat(ye,'-left"></div>')).get(0),H=(0,o.default)('<div class="'.concat(ye,'-right"></div>')).get(0),this["marginT"+_]=Se,this["marginB"+_]=ce,this["marginL"+_]=q,this["marginR"+_]=ae,this["padT"+_]=F,this["padB"+_]=R,this["padL"+_]=U,this["padR"+_]=H,ve.appendChild(Se),ve.appendChild(ce),ve.appendChild(q),ve.appendChild(ae),Le.appendChild(F),Le.appendChild(R),Le.appendChild(U),Le.appendChild(H),_e.appendChild(ve),_e.appendChild(Le),this[z]="1"}var be="px",Re=parseFloat(W.marginLeft.replace(be,""))*C,Ue=parseFloat(W.marginRight.replace(be,""))*C,Ne=parseFloat(W.marginTop.replace(be,""))*C,Ve=parseFloat(W.marginBottom.replace(be,""))*C,nt=Se.style,at=ce.style,re=q.style,xe=ae.style,Qe=F.style,Fe=R.style,ot=U.style,ht=H.style,it=parseFloat(B.left),k=parseFloat(W.width)*C+be;nt.height=Ne+be,nt.width=k,nt.top=B.top-Ne+be,nt.left=it+be,at.height=Ve+be,at.width=k,at.top=B.top+B.height+be,at.left=it+be;var I=B.height+Ne+Ve+be,Y=B.top-Ne+be;re.height=I,re.width=Re+be,re.top=Y,re.left=it-Re+be,xe.height=I,xe.width=Ue+be,xe.top=Y,xe.left=it+B.width+be;var ie=parseFloat(W.paddingTop)*C;Qe.height=ie+be;var ge=parseFloat(W.paddingBottom)*C;Fe.height=ge+be;var K=B.height-ge-ie+be,fe=B.top+ie+be;ot.height=K,ot.width=parseFloat(W.paddingLeft)*C+be,ot.top=fe;var oe=parseFloat(W.paddingRight)*C;ht.height=K,ht.width=oe+be,ht.top=fe}},stop:function(u,f,h){h===void 0&&(h={});var g=h||{},m=g.state||"",_=this.getOffsetMethod(m),w=h.view,C=this.canvas,T=C[_](w);T.style.opacity=0}}},1396:(i,n,e)=>{e.r(n),e.d(n,{default:()=>o});var t=e(5706),r=e(9195);let o={init:function(){(0,t.bindAll)(this,"_onFramesChange")},run:function(s){this.toggleVis(s,!0)},stop:function(s){this.toggleVis(s,!1)},toggleVis:function(s,c){if(c===void 0&&(c=!0),!s.Commands.isActive("preview")){var u=s.Canvas,f=c?"on":"off",h=u.getModel();h[f]("change:frames",this._onFramesChange),this.handleFrames(u.getFrames(),c)}},handleFrames:function(s,c){var u=this;s.forEach(function(f){var h;!((h=f.view)===null||h===void 0)&&h.loaded&&u._upFrame(f,c),f.__ol||(f.on("loaded",function(){return u._upFrame(f)}),f.__ol=!0)})},_onFramesChange:function(s,c){this.handleFrames(c)},_upFrame:function(s,c){var u,f=this,h=f.ppfx,g=f.em,m=f.id,_=(0,r.isDef)(c)?c:g.Commands.isActive(m),w=_?"add":"remove",C="".concat(h,"dashed");(u=s.view)===null||u===void 0||u.getBody().classList[w](C)}}},1749:(i,n,e)=>{e.d(n,{Kx:()=>u,Ss:()=>h,e2:()=>c,lK:()=>m,pM:()=>f,x2:()=>g});var t=e(4193),r=e.n(t),o=function(){var w=function(C,T){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,W){B.__proto__=W}||function(B,W){for(var N in W)Object.prototype.hasOwnProperty.call(W,N)&&(B[N]=W[N])},w(C,T)};return function(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");w(C,T);function B(){this.constructor=C}C.prototype=T===null?Object.create(T):(B.prototype=T.prototype,new B)}}(),s=function(){return s=Object.assign||function(w){for(var C,T=1,B=arguments.length;T<B;T++){C=arguments[T];for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&(w[W]=C[W])}return w},s.apply(this,arguments)},c="add remove reset change",u=function(w){o(C,w);function C(){return w!==null&&w.apply(this,arguments)||this}return C}(r().Model),f=function(w){o(C,w);function C(){return w!==null&&w.apply(this,arguments)||this}return C}(r().Collection),h=function(w){o(C,w);function C(){return w!==null&&w.apply(this,arguments)||this}return C}(r().View),g=function(w){return w.Screen="screen",w.World="world",w}(g||{}),m={x:0,y:0},_=s(s({},m),{width:0,height:0})},3172:(i,n,e)=>{e.d(n,{I:()=>r,t:()=>t});var t=function(o){return o.remove="component:remove",o.add="component:add",o.move="component:move",o}(t||{}),r=function(o){return o.add="component:add",o.remove="component:remove",o.removeBefore="component:remove:before",o.create="component:create",o.update="component:update",o.updateInside="component:update-inside",o.select="component:select",o.selectBefore="component:select:before",o.scriptMount="component:script:mount",o.scriptMountBefore="component:script:mount:before",o.scriptUnmount="component:script:unmount",o.symbolMainAdd="symbol:main:add",o.symbolMainUpdate="symbol:main:update",o.symbolMainUpdateDeep="symbol:main:update-deep",o.symbolMainRemove="symbol:main:remove",o.symbolMain="symbol:main",o.symbolInstanceAdd="symbol:instance:add",o.symbolInstanceRemove="symbol:instance:remove",o.symbolInstance="symbol:instance",o.symbol="symbol",o}(r||{})},91:(i,n,e)=>{e.d(n,{A:()=>c});var t=e(5706),r=e(1749),o=function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(g[_]=m[_])},u(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),s=function(u){o(f,u);function f(h,g,m){h===void 0&&(h={}),m===void 0&&(m=!1);var _=u.call(this,h)||this;return _.itemsView="",_.itemType="type",_.reuseView=!1,_.config=g||h.config||{},m&&_.listenTo(_.collection,"add",_.addTo),_.items=[],_}return f.prototype.addTo=function(h){this.add(h)},f.prototype.itemViewNotFound=function(h){var g=this,m=g.config,_=g.ns,w=m.em,C="".concat(_?"[".concat(_,"]: "):"","'").concat(h,"' type not found");w&&w.logWarning(C)},f.prototype.add=function(h,g){var m=this,_=m.config,w=m.reuseView,C=m.items,T=this.itemsView||{},B=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],W=g||null,N=this.itemView,z=h.get(this.itemType),ue;T[z]?N=T[z]:z&&!T[z]&&!(0,t.includes)(B,z)&&this.itemViewNotFound(z),h.view&&w?ue=h.view:ue=new N({model:h,config:_},_),C&&C.push(ue);var _e=ue.render().el;W?W.appendChild(_e):this.$el.append(_e)},f.prototype.render=function(){var h=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(g){this.add(g,h)},this),this.$el.append(h),this.onRender(),this},f.prototype.onRender=function(){},f.prototype.onRemoveBefore=function(h,g){},f.prototype.onRemove=function(h,g){},f.prototype.remove=function(h){h===void 0&&(h={});var g=this.items;return this.onRemoveBefore(g,h),this.clearItems(),u.prototype.remove.call(this),this.onRemove(g,h),this},f.prototype.clearItems=function(){var h=this.items||[]},f}(r.Ss);let c=s;s.prototype.itemView=""},5633:(i,n,e)=>{e.d(n,{A:()=>f});var t=e(5706),r=e(2097),o=function(){return o=Object.assign||function(h){for(var g,m=1,_=arguments.length;m<_;m++){g=arguments[m];for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(h[w]=g[w])}return h},o.apply(this,arguments)},s=function(){return{x:0,y:0}},c=["x","y"],u=function(){function h(g){return g===void 0&&(g={}),this.opts={snapOffset:5,scale:1},(0,t.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(g),this.delta=s(),this.lastScroll=s(),this.lastScrollDiff=s(),this.startPointer=s(),this.startPosition=s(),this.globScrollDiff=s(),this.currentPointer=s(),this.position=s(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return h.prototype.setOptions=function(g){g===void 0&&(g={}),this.opts=o(o({},this.opts),g)},h.prototype.toggleDrag=function(g){var m=this.getDocumentEl(),_=this.getContainerEl(),w=this.getWindowEl(),C=g?"on":"off",T={on:r.on,off:r.AU};T[C](_,"mousemove dragover",this.drag),T[C](m,"mouseup dragend touchend",this.stop),T[C](m,"keydown",this.keyHandle),T[C](w,"scroll",this.handleScroll)},h.prototype.handleScroll=function(){var g=this,m=g.lastScroll,_=g.delta,w=this.getScrollInfo(),C={x:w.x-m.x,y:w.y-m.y};this.move(_.x+C.x,_.y+C.y),this.lastScrollDiff=C},h.prototype.start=function(g){var m=this.opts,_=m.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(g),this.guidesStatic=(0,t.result)(m,"guidesStatic")||[],this.guidesTarget=(0,t.result)(m,"guidesTarget")||[],(0,t.isFunction)(_)&&_(g,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=s(),this.globScrollDiff=s(),this.drag(g)},h.prototype.drag=function(g){var m=this,_=this,w=_.opts,C=_.lastScrollDiff,T=_.globScrollDiff,B=w.onDrag,W=this.startPointer,N=this.getPointerPos(g),z={x:T.x+C.x,y:T.y+C.y};this.globScrollDiff=z;var ue={x:N.x-W.x+z.x,y:N.y-W.y+z.y};this.lastScrollDiff=s();var _e=this.lockedAxis;g.shiftKey?_e=!_e&&this.detectAxisLock(ue.x,ue.y):_e=null,_e==="x"?ue.x=W.x:_e==="y"&&(ue.y=W.y);var Se=function(U){c.forEach(function(H){return U[H]=U[H]*(0,t.result)(w,"scale")}),m.delta=U,m.move(U.x,U.y),(0,t.isFunction)(B)&&B(g,m)},ce=o({},ue);if(this.currentPointer=N,this.lockedAxis=_e,this.lastScroll=this.getScrollInfo(),Se(ue),this.guidesTarget.length){var q=this.snapGuides(ce),ae=q.newDelta,F=q.trgX,R=q.trgY;(F||R)&&Se(ae)}g.which===0&&this.stop(g)},h.prototype.snapGuides=function(g){var m=this,_=g,w=this,C=w.trgX,T=w.trgY;return this.guidesTarget.forEach(function(B){B.x&&m.trgX||B.y&&m.trgY||(B.active=!1,m.guidesStatic.forEach(function(W){if(!(B.y&&W.x||B.x&&W.y)){var N=B.y&&W.y,z=N?"y":"x",ue=B[z],_e=W[z],Se=g[z],ce=N?T:C;if(m.isPointIn(ue,_e)&&(0,t.isUndefined)(ce)){var q=Se-(ue-_e);m.setGuideLock(B,q)}}}))}),C=this.trgX,T=this.trgY,c.forEach(function(B){var W=B.toUpperCase(),N=m["trg".concat(W)];N&&!m.isPointIn(g[B],N.lock)&&(m.setGuideLock(N,null),N=null),N&&!(0,t.isUndefined)(N.lock)&&(_[B]=N.lock)}),{newDelta:_,trgX:this.trgX,trgY:this.trgY}},h.prototype.isPointIn=function(g,m,_){var w=_===void 0?{}:_,C=w.offset,T=C||this.opts.snapOffset||0;return g>=m&&g<=m+T||g<=m&&g>=m-T},h.prototype.setGuideLock=function(g,m){var _=(0,t.isUndefined)(g.x)?"Y":"X",w="trg".concat(_);return m!==null?(g.active=!0,g.lock=m,this[w]=g):(delete g.active,delete g.lock,delete this[w]),g},h.prototype.stop=function(g,m){m===void 0&&(m={});var _=this.delta,w=!!m.cancel,C=w?0:_.x,T=w?0:_.y;this.toggleDrag(),this.lockedAxis=null,this.move(C,T,!0);var B=this.opts.onEnd;(0,t.isFunction)(B)&&B(g,this,{cancelled:w})},h.prototype.keyHandle=function(g){(0,r.v$)(g)&&this.stop(g,{cancel:!0})},h.prototype.move=function(g,m,_){var w=this,C=w.el,T=w.opts,B=this.startPosition;if(B){var W=T.setPosition,N=B.x+g,z=B.y+m;this.position={x:N,y:z,end:_},(0,t.isFunction)(W)&&W(this.position),C&&(C.style.left="".concat(N,"px"),C.style.top="".concat(z,"px"))}},h.prototype.getContainerEl=function(){var g=this.opts.container;return g?[g]:this.getDocumentEl()},h.prototype.getWindowEl=function(){var g=this.getContainerEl();return g.map(function(m){var _=m.ownerDocument||m;return _.defaultView||_.parentWindow})},h.prototype.getDocumentEl=function(g){var m=this.opts.doc;if(g=g||this.el,!this.docs.length){var _=[document];g&&_.push(g.ownerDocument),m&&_.push(m),this.docs=_}return this.docs},h.prototype.getPointerPos=function(g){var m=this.opts.getPointerPosition,_=(0,r.G2)(g);return m?m(g):{x:_.clientX,y:_.clientY}},h.prototype.getStartPosition=function(){var g=this,m=g.el,_=g.opts,w=_.getPosition,C=s();return(0,t.isFunction)(w)?C=w():m&&(C={x:parseFloat(m.style.left),y:parseFloat(m.style.top)}),C},h.prototype.getScrollInfo=function(){var g=this.opts.doc,m=g&&g.body;return{y:m?m.scrollTop:0,x:m?m.scrollLeft:0}},h.prototype.detectAxisLock=function(g,m){var _=g,w=m,C=Math.abs(_),T=Math.abs(w);if(w>=C||w<=-C)return"x";if(_>T||_<-T)return"y"},h}();let f=u},6411:(i,n,e)=>{e.r(n),e.d(n,{default:()=>fr});var t=typeof document<"u"?document:null,r=typeof window<"u"?window:null,o=Array.prototype,s=o.filter,c=o.indexOf,u=o.map,f=o.push,h=o.reverse,g=o.slice,m=o.splice,_=/^#[\w-]*$/,w=/^\.[\w-]*$/,C=/<.+>/,T=/^\w+$/;function B(j,Z){return Z===void 0&&(Z=t),w.test(j)?Z.getElementsByClassName(j.slice(1)):T.test(j)?Z.getElementsByTagName(j):Z.querySelectorAll(j)}function W(j,Z){if(Z===void 0&&(Z=t),!!j){if(j.__cash)return j;var se=j;if(U(j)){if(Z.__cash&&(Z=Z[0]),se=_.test(j)?Z.getElementById(j.slice(1)):C.test(j)?kt(j):B(j,Z),!se)return}else if(R(j))return this.ready(j);(se.nodeType||se===r)&&(se=[se]),this.length=se.length;for(var Te=0,Ke=this.length;Te<Ke;Te++)this[Te]=se[Te]}}function N(j,Z){return new W(j,Z)}var z=N.fn=N.prototype=W.prototype={constructor:N,__cash:!0,length:0,splice:m};z.get=function(j){return j===void 0?g.call(this):this[j<0?j+this.length:j]},z.eq=function(j){return N(this.get(j))},z.first=function(){return this.eq(0)},z.last=function(){return this.eq(-1)},z.map=function(j){return N(u.call(this,function(Z,se){return j.call(Z,se,Z)}))},z.slice=function(){return N(g.apply(this,arguments))};var ue=/(?:^\w|[A-Z]|\b\w)/g,_e=/[\s-_]+/g;function Se(j){return j.replace(ue,function(Z,se){return Z[se?"toUpperCase":"toLowerCase"]()}).replace(_e,"")}N.camelCase=Se;function ce(j,Z){for(var se=0,Te=j.length;se<Te&&Z.call(j[se],j[se],se,j)!==!1;se++);}N.each=ce,z.each=function(j){return ce(this,function(Z,se){return j.call(Z,se,Z)}),this},z.removeProp=function(j){return this.each(function(Z,se){delete se[j]})};function q(j){j===void 0&&(j=this);for(var Z=arguments,se=Z.length,Te=se<2?0:1;Te<se;Te++)for(var Ke in Z[Te])j[Ke]=Z[Te][Ke];return j}N.extend=z.extend=q;var ae=1;N.guid=ae;function F(j,Z){var se=j&&(j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.msMatchesSelector||j.oMatchesSelector);return!!se&&se.call(j,Z)}N.matches=F;function R(j){return typeof j=="function"}N.isFunction=R;function U(j){return typeof j=="string"}N.isString=U;function H(j){return!isNaN(parseFloat(j))&&isFinite(j)}N.isNumeric=H;var te=Array.isArray;N.isArray=te,z.prop=function(j,Z){if(j){if(U(j))return arguments.length<2?this[0]&&this[0][j]:this.each(function(Te,Ke){Ke[j]=Z});for(var se in j)this.prop(se,j[se]);return this}};function E(j){return U(j)?function(Z,se){return F(se,j)}:j.__cash?function(Z,se){return j.is(se)}:function(Z,se,Te){return se===Te}}z.filter=function(j){if(!j)return N();var Z=R(j)?j:E(j);return N(s.call(this,function(se,Te){return Z.call(se,Te,se,j)}))};var me=/\S+/g;function ve(j){return U(j)?j.match(me)||[]:[]}z.hasClass=function(j){var Z=ve(j),se=!1;return Z.length&&this.each(function(Te,Ke){return se=Ke.classList.contains(Z[0]),!se}),se},z.removeAttr=function(j){var Z=ve(j);return Z.length?this.each(function(se,Te){ce(Z,function(Ke){Te.removeAttribute(Ke)})}):this},z.attr=function(j,Z){if(j){if(U(j)){if(arguments.length<2){if(!this[0])return;var se=this[0].getAttribute(j);return se===null?void 0:se}return Z===null?this.removeAttr(j):this.each(function(Ke,lt){lt.setAttribute(j,Z)})}for(var Te in j)this.attr(Te,j[Te]);return this}},z.toggleClass=function(j,Z){var se=ve(j),Te=Z!==void 0;return se.length?this.each(function(Ke,lt){ce(se,function(_t){Te?Z?lt.classList.add(_t):lt.classList.remove(_t):lt.classList.toggle(_t)})}):this},z.addClass=function(j){return this.toggleClass(j,!0)},z.removeClass=function(j){return arguments.length?this.toggleClass(j,!1):this.attr("class","")};function Le(j){return j.filter(function(Z,se,Te){return Te.indexOf(Z)===se})}N.unique=Le,z.add=function(j,Z){return N(Le(this.get().concat(N(j,Z).get())))};function Je(j,Z,se){if(j.nodeType===1){var Te=r.getComputedStyle(j,null);return Z?se?Te.getPropertyValue(Z):Te[Z]:Te}}function $e(j,Z){return parseInt(Je(j,Z),10)||0}var mt=/^--/;function ye(j){return mt.test(j)}var be={},Re=t&&t.createElement("div"),Ue=Re?Re.style:{},Ne=["webkit","moz","ms","o"];function Ve(j,Z){if(Z===void 0&&(Z=ye(j)),Z)return j;if(!be[j]){var se=Se(j),Te=""+se.charAt(0).toUpperCase()+se.slice(1),Ke=(se+" "+Ne.join(Te+" ")+Te).split(" ");ce(Ke,function(lt){if(lt in Ue)return be[j]=lt,!1})}return be[j]}N.prefixedProp=Ve;var nt={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function at(j,Z,se){return se===void 0&&(se=ye(j)),!se&&!nt[j]&&H(Z)?Z+"px":Z}z.css=function(j,Z){if(U(j)){var se=ye(j);return j=Ve(j,se),arguments.length<2?this[0]&&Je(this[0],j,se):j?(Z=at(j,Z,se),this.each(function(Ke,lt){lt.nodeType===1&&(se?lt.style.setProperty(j,Z):lt.style[j]=Z)})):this}for(var Te in j)this.css(Te,j[Te]);return this};var re="__cashData",xe=/^data-(.*)/;N.hasData=function(j){return re in j};function Qe(j){return j[re]=j[re]||{}}function Fe(j,Z){var se=Qe(j);if(Z){if(!(Z in se)){var Te=j.dataset?j.dataset[Z]||j.dataset[Se(Z)]:N(j).attr("data-"+Z);if(Te!==void 0){try{Te=JSON.parse(Te)}catch{}se[Z]=Te}}return se[Z]}return se}function ot(j,Z){Z===void 0?delete j[re]:delete Qe(j)[Z]}function ht(j,Z,se){Qe(j)[Z]=se}z.data=function(j,Z){var se=this;if(!j)return this[0]?(ce(this[0].attributes,function(Ke){var lt=Ke.name.match(xe);lt&&se.data(lt[1])}),Fe(this[0])):void 0;if(U(j))return Z===void 0?this[0]&&Fe(this[0],j):this.each(function(Ke,lt){return ht(lt,j,Z)});for(var Te in j)this.data(Te,j[Te]);return this},z.removeData=function(j){return this.each(function(Z,se){return ot(se,j)})};function it(j,Z){return $e(j,"border"+(Z?"Left":"Top")+"Width")+$e(j,"padding"+(Z?"Left":"Top"))+$e(j,"padding"+(Z?"Right":"Bottom"))+$e(j,"border"+(Z?"Right":"Bottom")+"Width")}ce(["Width","Height"],function(j){z["inner"+j]=function(){if(this[0])return this[0]===r?r["inner"+j]:this[0]["client"+j]}}),ce(["width","height"],function(j,Z){z[j]=function(se){return this[0]?arguments.length?(se=parseInt(se,10),this.each(function(Te,Ke){if(Ke.nodeType===1){var lt=Je(Ke,"boxSizing");Ke.style[j]=at(j,se+(lt==="border-box"?it(Ke,!Z):0))}})):this[0]===r?this[0][Se("outer-"+j)]:this[0].getBoundingClientRect()[j]-it(this[0],!Z):se===void 0?void 0:this}}),ce(["Width","Height"],function(j,Z){z["outer"+j]=function(se){if(this[0])return this[0]===r?r["outer"+j]:this[0]["offset"+j]+(se?$e(this[0],"margin"+(Z?"Top":"Left"))+$e(this[0],"margin"+(Z?"Bottom":"Right")):0)}});function k(j,Z){for(var se=0,Te=Z.length;se<Te;se++)if(j.indexOf(Z[se])<0)return!1;return!0}function I(j,Z,se){ce(j[se],function(Te){var Ke=Te[0],lt=Te[1];Z.removeEventListener(se,lt)}),delete j[se]}var Y="__cashEvents",ie=".";function ge(j){return j[Y]=j[Y]||{}}function K(j,Z,se,Te){Te.guid=Te.guid||ae++;var Ke=ge(j);Ke[Z]=Ke[Z]||[],Ke[Z].push([se,Te]),j.addEventListener(Z,Te)}function fe(j){var Z=j.split(ie);return[Z[0],Z.slice(1).sort()]}function oe(j,Z,se,Te){var Ke=ge(j);if(Z){var lt=Ke[Z];if(!lt)return;Te&&(Te.guid=Te.guid||ae++),Ke[Z]=lt.filter(function(_t){var ir=_t[0],Ft=_t[1];if(Te&&Ft.guid!==Te.guid||!k(ir,se))return!0;j.removeEventListener(Z,Ft)})}else if(!se||!se.length)for(Z in Ke)I(Ke,j,Z);else for(Z in Ke)oe(j,Z,se,Te)}z.off=function(j,Z){var se=this;return j===void 0?this.each(function(Te,Ke){return oe(Ke)}):ce(ve(j),function(Te){var Ke=fe(Te),lt=Ke[0],_t=Ke[1];se.each(function(ir,Ft){return oe(Ft,lt,_t,Z)})}),this},z.on=function(j,Z,se,Te){var Ke=this;if(!U(j)){for(var lt in j)this.on(lt,Z,j[lt]);return this}return R(Z)&&(se=Z,Z=!1),ce(ve(j),function(_t){var ir=fe(_t),Ft=ir[0],Wt=ir[1];Ke.each(function(Zr,dr){var zt=function hn(Ht){if(!(Ht.namespace&&!k(Wt,Ht.namespace.split(ie)))){var Kt=dr;if(Z){for(var Xt=Ht.target;!F(Xt,Z);)if(Xt===dr||(Xt=Xt.parentNode,!Xt))return;Kt=Xt}Ht.namespace=Ht.namespace||"";var Qr=se.call(Kt,Ht,Ht.data);Te&&oe(dr,Ft,Wt,hn),Qr===!1&&(Ht.preventDefault(),Ht.stopPropagation())}};zt.guid=se.guid=se.guid||ae++,K(dr,Ft,Wt,zt)})}),this},z.one=function(j,Z,se){return this.on(j,Z,se,!0)},z.ready=function(j){var Z=function(){return j(N)};return t.readyState!=="loading"?setTimeout(Z):t.addEventListener("DOMContentLoaded",Z),this},z.trigger=function(j,Z){var se=j;if(U(j)){var Te=fe(j),Ke=Te[0],lt=Te[1];se=t.createEvent("HTMLEvents"),se.initEvent(Ke,!0,!0),se.namespace=lt.join(ie)}return se.data=Z,this.each(function(_t,ir){ir.dispatchEvent(se)})};function rt(j){var Z=[];return ce(j.options,function(se){se.selected&&!se.disabled&&!se.parentNode.disabled&&Z.push(se.value)}),Z}function bt(j){return j.selectedIndex<0?null:j.options[j.selectedIndex].value}var gt=/select-one/i,V=/select-multiple/i;function ee(j){var Z=j.type;return gt.test(Z)?bt(j):V.test(Z)?rt(j):j.value}var D=/%20/g;function Oe(j,Z){return"&"+encodeURIComponent(j)+"="+encodeURIComponent(Z).replace(D,"+")}var he=/file|reset|submit|button|image/i,De=/radio|checkbox/i;z.serialize=function(){var j="";return this.each(function(Z,se){ce(se.elements||[se],function(Te){if(!(Te.disabled||!Te.name||Te.tagName==="FIELDSET")&&!he.test(Te.type)&&!(De.test(Te.type)&&!Te.checked)){var Ke=ee(Te);if(Ke!==void 0){var lt=te(Ke)?Ke:[Ke];ce(lt,function(_t){j+=Oe(Te.name,_t)})}}})}),j.substr(1)},z.val=function(j){return j===void 0?this[0]&&ee(this[0]):this.each(function(Z,se){var Te=V.test(se.type),Ke=j===null?Te?[]:"":j;Te&&te(Ke)?ce(se.options,function(lt){lt.selected=Ke.indexOf(lt.value)>=0}):se.value=Ke})},z.clone=function(){return this.map(function(j,Z){return Z.cloneNode(!0)})},z.detach=function(){return this.each(function(j,Z){Z.parentNode&&Z.parentNode.removeChild(Z)})};var Xe=/^\s*<(\w+)[^>]*>/,qe=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,We;function st(){if(!We){var j=t.createElement("table"),Z=t.createElement("tr");We={"*":t.createElement("div"),tr:t.createElement("tbody"),td:Z,th:Z,thead:j,tbody:j,tfoot:j}}}function kt(j){if(st(),!U(j))return[];if(qe.test(j))return[t.createElement(RegExp.$1)];var Z=Xe.test(j)&&RegExp.$1,se=We[Z]||We["*"];return se.innerHTML=j,N(se.childNodes).detach().get()}N.parseHTML=kt,z.empty=function(){var j=this[0];if(j)for(;j.firstChild;)j.removeChild(j.firstChild);return this};function At(j,Z,se){se?j.insertBefore(Z,j.childNodes[0]):j.appendChild(Z)}function Pt(j,Z,se){if(Z!==void 0){var Te=U(Z);!Te&&Z.length?ce(Z,function(Ke){return Pt(j,Ke,se)}):ce(j,Te?function(Ke){Ke.insertAdjacentHTML(se?"afterbegin":"beforeend",Z)}:function(Ke,lt){return At(Ke,lt?Z.cloneNode(!0):Z,se)})}}z.append=function(){var j=this;return ce(arguments,function(Z){Pt(j,Z)}),this},z.appendTo=function(j){return Pt(N(j),this),this},z.html=function(j){if(j===void 0)return this[0]&&this[0].innerHTML;var Z=j.nodeType?j[0].outerHTML:j;return this.each(function(se,Te){Te.innerHTML=Z})},z.insertAfter=function(j){var Z=this;return N(j).each(function(se,Te){var Ke=Te.parentNode;Z.each(function(lt,_t){Ke.insertBefore(se?_t.cloneNode(!0):_t,Te.nextSibling)})}),this},z.after=function(){var j=this;return ce(h.apply(arguments),function(Z){h.apply(N(Z).slice()).insertAfter(j)}),this},z.insertBefore=function(j){var Z=this;return N(j).each(function(se,Te){var Ke=Te.parentNode;Z.each(function(lt,_t){Ke.insertBefore(se?_t.cloneNode(!0):_t,Te)})}),this},z.before=function(){var j=this;return ce(arguments,function(Z){N(Z).insertBefore(j)}),this},z.prepend=function(){var j=this;return ce(arguments,function(Z){Pt(j,Z,!0)}),this},z.prependTo=function(j){return Pt(N(j),h.apply(this.slice()),!0),this},z.remove=function(){return this.detach().off()},z.replaceWith=function(j){var Z=this;return this.each(function(se,Te){var Ke=Te.parentNode;if(Ke){var lt=se?N(j).clone():N(j);if(!lt[0])return Z.remove(),!1;Ke.replaceChild(lt[0],Te),N(lt[0]).after(lt.slice(1))}})},z.replaceAll=function(j){return N(j).replaceWith(this),this},z.text=function(j){return j===void 0?this[0]?this[0].textContent:"":this.each(function(Z,se){se.textContent=j})};var qt=t&&t.documentElement;z.offset=function(){var j=this[0];if(j){var Z=j.getBoundingClientRect();return{top:Z.top+r.pageYOffset-qt.clientTop,left:Z.left+r.pageXOffset-qt.clientLeft}}},z.offsetParent=function(){return N(this[0]&&this[0].offsetParent)},z.position=function(){var j=this[0];if(j)return{left:j.offsetLeft,top:j.offsetTop}},z.children=function(j){var Z=[];return this.each(function(se,Te){f.apply(Z,Te.children)}),Z=N(Le(Z)),j?Z.filter(function(se,Te){return F(Te,j)}):Z},z.contents=function(){var j=[];return this.each(function(Z,se){f.apply(j,se.tagName==="IFRAME"?[se.contentDocument]:se.childNodes)}),N(j.length&&Le(j))},z.find=function(j){for(var Z=[],se=0,Te=this.length;se<Te;se++){var Ke=B(j,this[se]);Ke.length&&f.apply(Z,Ke)}return N(Z.length&&Le(Z))},z.has=function(j){var Z=U(j)?function(se,Te){return!!B(j,Te).length}:function(se,Te){return Te.contains(j)};return this.filter(Z)},z.is=function(j){if(!j||!this[0])return!1;var Z=E(j),se=!1;return this.each(function(Te,Ke){return se=Z(Te,Ke,j),!se}),se},z.next=function(){return N(this[0]&&this[0].nextElementSibling)},z.not=function(j){if(!j||!this[0])return this;var Z=E(j);return this.filter(function(se,Te){return!Z(se,Te,j)})},z.parent=function(){var j=[];return this.each(function(Z,se){se&&se.parentNode&&j.push(se.parentNode)}),N(Le(j))},z.index=function(j){var Z=j?N(j)[0]:this[0],se=j?this:N(Z).parent().children();return c.call(se,Z)},z.closest=function(j){return!j||!this[0]?N():this.is(j)?this.filter(j):this.parent().closest(j)},z.parents=function(j){var Z=[],se;return this.each(function(Te,Ke){for(se=Ke;se&&se.parentNode&&se!==t.body.parentNode;)se=se.parentNode,(!j||j&&F(se,j))&&Z.push(se)}),N(Le(Z))},z.prev=function(){return N(this[0]&&this[0].previousElementSibling)},z.siblings=function(){var j=this[0];return this.parent().children().filter(function(Z,se){return se!==j})};let fr=N},2097:(i,n,e)=>{e.d(n,{AU:()=>mt,BC:()=>W,C8:()=>ae,Ch:()=>U,Ci:()=>E,D8:()=>u,G2:()=>H,GW:()=>q,GZ:()=>z,I6:()=>m,LJ:()=>Le,Sc:()=>B,X6:()=>_,Xy:()=>F,YZ:()=>h,ZQ:()=>f,a_:()=>N,af:()=>_e,bG:()=>T,cx:()=>g,ir:()=>Se,kk:()=>Je,on:()=>$e,rp:()=>ve,v$:()=>te,yL:()=>ue,zN:()=>w});var t=e(5706),r=function(ye,be,Re){if(Re||arguments.length===2)for(var Ue=0,Ne=be.length,Ve;Ue<Ne;Ue++)(Ve||!(Ue in be))&&(Ve||(Ve=Array.prototype.slice.call(be,0,Ue)),Ve[Ue]=be[Ue]);return ye.concat(Ve||Array.prototype.slice.call(be))},o="tag",s="attributes",c="children",u="transitionend oTransitionEnd transitionend webkitTransitionEnd",f=function(ye){return ye?.nodeType===Node.DOCUMENT_NODE},h=function(ye){var be=ye&&ye.parentNode;be&&be.removeChild(ye)};function g(){for(var ye=[],be=0;be<arguments.length;be++)ye[be]=arguments[be];var Re=Array.isArray(ye[0])?ye[0]:r([],ye,!0);return Re.filter(Boolean).join(" ")}var m=function(ye,be){return ye.querySelectorAll(be)},_=function(ye,be){return be===void 0&&(be={}),ye&&ye.setAttribute&&(0,t.each)(be,function(Re,Ue){return ye.setAttribute(Ue,Re)})},w=function(ye){var be;return ye&&!!(ye.offsetWidth||ye.offsetHeight||!((be=ye.getClientRects)===null||be===void 0)&&be.call(ye).length)},C=function(ye){for(;ye.firstChild;)ye.removeChild(ye.firstChild)},T=function(ye,be){var Re;(Re=ye.parentNode)===null||Re===void 0||Re.replaceChild(be,ye)},B=function(ye,be,Re){var Ue=ye.childNodes,Ne=Ue.length,Ve=(0,t.isUndefined)(Re)?Ne:Re;(0,t.isString)(be)&&(ye.insertAdjacentHTML("beforeEnd",be),be=ye.lastChild,ye.removeChild(be)),Ve>=Ne?ye.appendChild(be):ye.insertBefore(be,Ue[Ve])},W=function(ye,be){return B(ye,be)},N=function(ye,be,Re){be===void 0&&(be={});var Ue=document.createElement(ye);return be&&(0,t.each)(be,function(Ne,Ve){return Ue.setAttribute(Ve,Ne)}),Re&&((0,t.isString)(Re)?Ue.innerHTML=Re:Ue.appendChild(Re)),Ue},z=function(ye){return document.createTextNode(ye)},ue=function(ye,be){var Re,Ue=ye.type;try{Re=new window[be](Ue,ye)}catch{Re=document.createEvent(be),Re.initEvent(Ue,!0,!0)}return Re._parentEvent=ye,Ue.indexOf("key")===0&&(Re.keyCodeVal=ye.keyCode,["keyCode","which"].forEach(function(Ne){Object.defineProperty(Re,Ne,{get:function(){return this.keyCodeVal}})})),Re},_e=function(ye,be){be===void 0&&(be=[]);var Re=Array.isArray(be)?be:[be];Re.forEach(function(Ue){var Ne=Ue[o]||"div",Ve=Ue[s]||{},nt=document.createElement(Ne);(0,t.each)(Ve,function(at,re){nt.setAttribute(re,at)}),ye.appendChild(nt)})},Se=function(ye){return ye?.nodeType===Node.TEXT_NODE},ce=function(ye){return ye?.nodeType===Node.COMMENT_NODE},q=function(ye){return ye&&!Se(ye)&&!ce(ye)},ae=function(ye){var be={top:0,left:0,width:0,height:0};if(!ye)return be;var Re;if(Se(ye)){var Ue=document.createRange();Ue.selectNode(ye),Re=Ue.getBoundingClientRect(),Ue.detach()}return Re||(ye.getBoundingClientRect?ye.getBoundingClientRect():be)},F=function(ye){var be=ye?.ownerDocument||document,Re=be.documentElement,Ue=be.defaultView||window;return{x:(Ue.pageXOffset||Re.scrollLeft||0)-(Re.clientLeft||0),y:(Ue.pageYOffset||Re.scrollTop||0)-(Re.clientTop||0)}},R=function(ye){return ye.which||ye.keyCode},U=function(ye){return String.fromCharCode(R(ye))},H=function(ye){return ye.touches&&ye.touches[0]?ye.touches[0]:ye},te=function(ye){return R(ye)===27},E=function(ye){return R(ye)===13},me=function(ye){return ye.ctrlKey},ve=function(ye){return me(ye)||ye.metaKey},Le=function(ye){if(!ye)return"";var be=ye.name,Re=ye.publicId,Ue=ye.systemId,Ne=Re?' PUBLIC "'.concat(Re,'"'):"",Ve=!Re&&Ue?' SYSTEM "'.concat(Ue,'"'):"";return"<!DOCTYPE ".concat(be).concat(Ne).concat(Ve,">")},Je=function(ye){ye===void 0&&(ye={});var be=[];return(0,t.each)(ye,function(Re,Ue){return be.push("".concat(Ue,'="').concat(Re,'"'))}),be.join(" ")},$e=function(ye,be,Re,Ue){var Ne=be.split(/\s+/),Ve=(0,t.isArray)(ye)?ye:[ye];Ne.forEach(function(nt){Ve.forEach(function(at){return at?.addEventListener(nt,Re,Ue)})})},mt=function(ye,be,Re,Ue){var Ne=be.split(/\s+/),Ve=(0,t.isArray)(ye)?ye:[ye];Ne.forEach(function(nt){Ve.forEach(function(at){return at?.removeEventListener(nt,Re,Ue)})})}},9195:(i,n,e)=>{e.r(n),e.d(n,{appendStyles:()=>Se,buildBase64UrlFromSvg:()=>at,camelCase:()=>F,capitalize:()=>mt,createId:()=>nt,deepMerge:()=>ve,escape:()=>E,escapeNodeContent:()=>me,find:()=>te,get:()=>m,getComponentModel:()=>Ne,getComponentView:()=>Ue,getElement:()=>H,getGlobal:()=>W,getModel:()=>Le,getUiClass:()=>_e,getUnitFromValue:()=>q,getViewEl:()=>be,hasDnd:()=>U,hasWin:()=>B,isBultInMethod:()=>_,isComponent:()=>Re,isDef:()=>T,isEmptyObj:()=>$e,isObject:()=>Je,isRule:()=>ye,matches:()=>ue,normalizeFloat:()=>R,normalizeKey:()=>w,setViewEl:()=>Ve,shallowDiff:()=>ce,stringToPath:()=>h,toLowerCase:()=>N,upFirst:()=>ae,wait:()=>C});var t=e(5706),r=e(2097),o=function(){return o=Object.assign||function(re){for(var xe,Qe=1,Fe=arguments.length;Qe<Fe;Qe++){xe=arguments[Qe];for(var ot in xe)Object.prototype.hasOwnProperty.call(xe,ot)&&(re[ot]=xe[ot])}return re},o.apply(this,arguments)},s=function(re,xe,Qe){if(Qe||arguments.length===2)for(var Fe=0,ot=xe.length,ht;Fe<ot;Fe++)(ht||!(Fe in xe))&&(ht||(ht=Array.prototype.slice.call(xe,0,Fe)),ht[Fe]=xe[Fe]);return re.concat(ht||Array.prototype.slice.call(xe))},c={},u=/\\(\\)?/g,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=function(re){var xe=[];return re.charCodeAt(0)===46&&xe.push(""),re.replace(f,function(Qe,Fe,ot,ht){return xe.push(ot?ht.replace(u,"$1"):Fe||Qe),""}),xe};function g(re,xe){return(0,t.isArray)(re)?re:xe.hasOwnProperty(re)?[re]:h(re)}var m=function(re,xe,Qe){for(var Fe,ot=g(xe,re),ht=ot.length,it=0;re!=null&&it<ht;)re=re["".concat(ot[it++])];return(Fe=it&&it==ht?re:void 0)!==null&&Fe!==void 0?Fe:Qe},_=function(re){return(0,t.isFunction)(c[re])},w=function(re){return _(re)?"_".concat(re):re},C=function(re){return re===void 0&&(re=0),new Promise(function(xe){return setTimeout(xe,re)})},T=function(re){return typeof re<"u"},B=function(){return typeof window<"u"},W=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:e.g},N=function(re){return(re||"").toLowerCase()},z=B()?window.Element.prototype:{},ue=z.matches||z.webkitMatchesSelector||z.mozMatchesSelector||z.msMatchesSelector,_e=function(re,xe){var Qe=re.getConfig(),Fe=Qe.stylePrefix,ot=Qe.customUI;return[ot&&"".concat(Fe,"cui"),xe].filter(function(ht){return ht}).join(" ")},Se=function(re,xe){xe===void 0&&(xe={});var Qe=(0,t.isArray)(re)?s([],re,!0):[re];if(Qe.length){var Fe=Qe.shift();if(Fe&&(!xe.unique||!document.querySelector('link[href="'.concat(Fe,'"]')))){var ot=document.head,ht=document.createElement("link");ht.href=Fe,ht.rel="stylesheet",xe.prepand?ot.insertBefore(ht,ot.firstChild):ot.appendChild(ht)}Se(Qe)}},ce=function(re,xe){var Qe={},Fe=(0,t.keys)(xe);for(var ot in re)if(re.hasOwnProperty(ot)){var ht=re[ot],it=xe[ot];Fe.indexOf(ot)>=0?ht!==it&&(Qe[ot]=it):Qe[ot]=null}for(var ot in xe)xe.hasOwnProperty(ot)&&(0,t.isUndefined)(re[ot])&&(Qe[ot]=xe[ot]);return Qe},q=function(re){return re.replace(parseFloat(re),"")},ae=function(re){return re[0].toUpperCase()+re.toLowerCase().slice(1)},F=function(re){return re.replace(/-./g,function(xe){return xe[1].toUpperCase()})},R=function(re,xe,Qe){xe===void 0&&(xe=1),Qe===void 0&&(Qe=0);var Fe=0;if(isNaN(re))return Qe;if(re=parseFloat(re),Math.floor(re)!==re){var ot=xe.toString().split(".")[1];Fe=ot?ot.length:0}return Fe?parseFloat(re.toFixed(Fe)):re},U=function(re){return"draggable"in document.createElement("i")&&(re?re.config.nativeDnD:!0)},H=function(re){if((0,t.isElement)(re)||(0,r.ir)(re))return re;if(re&&re.getEl)return re.getEl()},te=function(re,xe){var Qe=null;return re.some(function(Fe,ot){return xe(Fe,ot,re)?(Qe=Fe,1):0}),Qe},E=function(re){return re===void 0&&(re=""),"".concat(re).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},me=function(re){return re===void 0&&(re=""),"".concat(re).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},ve=function(){for(var re=[],xe=0;xe<arguments.length;xe++)re[xe]=arguments[xe];for(var Qe=o({},re[0]),Fe=1;Fe<re.length;Fe++){var ot=o({},re[Fe]);for(var ht in ot){var it=Qe[ht],k=ot[ht];Je(it)&&Je(k)?Qe[ht]=ve(it,k):Qe[ht]=k}}return Qe},Le=function(re,xe){var Qe;return!xe&&re&&re.__cashData?Qe=re.__cashData.model:xe&&(0,t.isElement)(re)&&(Qe=xe(re).data("model")),Qe},Je=function(re){return re&&!Array.isArray(re)&&typeof re=="object"},$e=function(re){return Object.keys(re).length<=0},mt=function(re){return re===void 0&&(re=""),re&&re.charAt(0).toUpperCase()+re.substring(1)},ye=function(re){return re&&re.toCSS},be=function(re){return re?.__gjsv},Re=function(re){return!!re?.toHTML},Ue=function(re){return be(re)},Ne=function(re){var xe;return(xe=Ue(re))===null||xe===void 0?void 0:xe.model},Ve=function(re,xe){re.__gjsv=xe},nt=function(re){re===void 0&&(re=16);for(var xe="",Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Fe=Qe.length,ot=0;ot<re;ot++)xe+=Qe.charAt(Math.floor(Math.random()*Fe));return xe},at=function(re){if(re&&re.substr(0,4)==="<svg"){var xe="";return B()?xe=window.btoa(re):typeof Buffer<"u"&&(xe=Buffer.from(re,"utf8").toString("base64")),xe?"data:image/svg+xml;base64,".concat(xe):re}return re}},3253:(i,n,e)=>{e.d(n,{h:()=>o});var t=e(3161),r=function(){var c=function(u,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(h[m]=g[m])},c(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),o=function(c){r(u,c);function u(){var f=c!==null&&c.apply(this,arguments)||this;return f.displayCache=new Map,f}return u.prototype.getChildren=function(){return this.getDisplayedChildren()},u.prototype.getDisplayedChildren=function(){var f=this,h=this.model.components(),g=h.filter(function(m){return f.isChildDisplayed(m)});return g.map(function(m){return new f.constructor(m)})},u.prototype.isChildDisplayed=function(f){if(this.displayCache.has(f))return this.displayCache.get(f);var h=f.getEl(),g=s(h);return this.displayCache.set(f,g),g},u.prototype.getParent=function(){var f=this.model.parent();return f?new this.constructor(f):null},u.prototype.addChildAt=function(f,h,g){var m,_,w,C,T,B,W,N;g===void 0&&(g={action:"add-component"});var z=((_=(m=this.model)===null||m===void 0?void 0:m.isInstanceOf)===null||_===void 0?void 0:_.call(m,"text"))&&((C=(w=f?.model)===null||w===void 0?void 0:w.get)===null||C===void 0?void 0:C.call(w,"textable"));if(z)return(N=(W=(B=(T=this.model)===null||T===void 0?void 0:T.getView)===null||B===void 0?void 0:B.call(T))===null||W===void 0?void 0:W.insertComponent)===null||N===void 0?void 0:N.call(W,f?.model,{action:g.action});var ue=this.model.components().add(f.model,{at:this.getRealIndex(h),action:g.action});return new this.constructor(ue)},u.prototype.removeChildAt=function(f,h){h===void 0&&(h={temporary:!1});var g=this.model.components().at(this.getRealIndex(f));g&&this.model.components().remove(g,h)},u.prototype.indexOfChild=function(f){return this.getDisplayIndex(f)},u.prototype.getDisplayIndex=function(f){var h=this.getDisplayedChildren();return h?h.findIndex(function(g){return g.model===f.model}):-1},u.prototype.getRealIndex=function(f){if(f===-1)return-1;for(var h=0,g=this.model.components(),m=0;m<g.length;m++){var _=g.at(m),w=this.isChildDisplayed(_);if(w&&h++,h===f+1)return m}return-1},u.prototype.canMove=function(f,h){return this.model.em.Components.canMove(this.model,f.model,this.getRealIndex(h)).result},u.prototype.restNodeState=function(){this.clearState();var f=this.model;this.setContentEditable(!1),f.em.getEditing()===f&&this.disableEditing()},u.prototype.setContentEditable=function(f){this.element&&this.isTextNode()&&(this.element.contentEditable=f?"true":"false")},u.prototype.disableEditing=function(){var f,h;(h=(f=this.view)===null||f===void 0?void 0:f.disableEditing)===null||h===void 0||h.call(f)},u.prototype.clearState=function(){var f,h;(h=(f=this.model).set)===null||h===void 0||h.call(f,"status","")},u.prototype.setSelectedParentState=function(){var f,h;(h=(f=this.model).set)===null||h===void 0||h.call(f,"status","selected-parent")},u.prototype.isTextNode=function(){var f,h;return(h=(f=this.model).isInstanceOf)===null||h===void 0?void 0:h.call(f,"text")},u.prototype.isTextable=function(){var f,h;return(h=(f=this.model).get)===null||h===void 0?void 0:h.call(f,"textable")},u}(t.$);function s(c){return c?typeof c=="object"&&c.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(c).display!=="none"&&c.offsetWidth>0&&c.offsetHeight>0:!1}},6778:(i,n,e)=>{e.d(n,{A:()=>s});var t=e(3253),r=function(){var c=function(u,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(h[m]=g[m])},c(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),o=function(c){r(u,c);function u(){var f=c!==null&&c.apply(this,arguments)||this;return f._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},f}return Object.defineProperty(u.prototype,"view",{get:function(){var f,h;return(h=(f=this.model).getView)===null||h===void 0?void 0:h.call(f)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"element",{get:function(){var f,h;return(h=(f=this.model).getEl)===null||h===void 0?void 0:h.call(f)},enumerable:!1,configurable:!0}),u}(t.h);let s=o},3161:(i,n,e)=>{e.d(n,{$:()=>t});var t=function(){function r(o,s){s===void 0&&(s={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=o,this._dragSource=s}return Object.defineProperty(r.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropArea",{get:function(){var o,s;return this.getParent()?(s=this.nodeDimensions)===null||s===void 0?void 0:s.getDropArea(this._dropAreaConfig):(o=this.nodeDimensions)===null||o===void 0?void 0:o.clone()},enumerable:!1,configurable:!0}),r.prototype.isWithinDropBounds=function(o,s){return!!this.dropArea&&this.dropArea.isWithinBounds(o,s)},r.prototype.equals=function(o){return!!o?._model&&this._model===o._model},r.prototype.adjustDimensions=function(o){var s,c;o.topDifference===0&&o.leftDifference===0||((s=this.nodeDimensions)===null||s===void 0||s.adjustDimensions(o),(c=this.childrenDimensions)===null||c===void 0||c.forEach(function(u){return u.adjustDimensions(o)}))},r}()},2128:(i,n,e)=>{e.d(n,{A:()=>t});var t=function(r){return r.Vertical="Vertical",r.Horizontal="Horizontal",r.BothDirections="BothDirections",r}(t||{})},585:(i,n,e)=>{var t={"./CanvasClear":371,"./CanvasClear.ts":371,"./CanvasMove":6301,"./CanvasMove.ts":6301,"./CommandAbstract":5301,"./CommandAbstract.ts":5301,"./ComponentDelete":8542,"./ComponentDelete.ts":8542,"./ComponentDrag":1319,"./ComponentDrag.ts":1319,"./ComponentEnter":1859,"./ComponentEnter.ts":1859,"./ComponentExit":3709,"./ComponentExit.ts":3709,"./ComponentNext":2860,"./ComponentNext.ts":2860,"./ComponentPrev":4944,"./ComponentPrev.ts":4944,"./ComponentStyleClear":767,"./ComponentStyleClear.ts":767,"./CopyComponent":2126,"./CopyComponent.ts":2126,"./ExportTemplate":4860,"./ExportTemplate.ts":4860,"./Fullscreen":1085,"./Fullscreen.ts":1085,"./MoveComponent":9622,"./MoveComponent.ts":9622,"./OpenAssets":8481,"./OpenAssets.ts":8481,"./OpenBlocks":3666,"./OpenBlocks.ts":3666,"./OpenLayers":5838,"./OpenLayers.ts":5838,"./OpenStyleManager":8692,"./OpenStyleManager.ts":8692,"./OpenTraitManager":9163,"./OpenTraitManager.ts":9163,"./PasteComponent":9298,"./PasteComponent.ts":9298,"./Preview":8594,"./Preview.ts":8594,"./Resize":7604,"./Resize.ts":7604,"./SelectComponent":4596,"./SelectComponent.ts":4596,"./SelectPosition":2983,"./SelectPosition.ts":2983,"./ShowOffset":9490,"./ShowOffset.ts":9490,"./SwitchVisibility":1396,"./SwitchVisibility.ts":1396};function r(s){var c=o(s);return e(c)}function o(s){if(!e.o(t,s)){var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}return t[s]}r.keys=function(){return Object.keys(t)},r.resolve=o,i.exports=r,r.id=585},5706:(i,n,e)=>{e.r(n),e.d(n,{VERSION:()=>r,after:()=>En,all:()=>Vn,allKeys:()=>We,any:()=>Co,assign:()=>zt,before:()=>xo,bind:()=>to,bindAll:()=>bo,chain:()=>Ko,chunk:()=>An,clone:()=>Qr,collect:()=>Jt,compact:()=>xs,compose:()=>yn,constant:()=>it,contains:()=>_r,countBy:()=>bs,create:()=>Xt,debounce:()=>Pn,default:()=>ao,defaults:()=>hn,defer:()=>Dr,delay:()=>Bn,detect:()=>ct,difference:()=>va,drop:()=>Yn,each:()=>dt,escape:()=>Me,every:()=>Vn,extend:()=>dr,extendOwn:()=>zt,filter:()=>Tr,find:()=>ct,findIndex:()=>In,findKey:()=>en,findLastIndex:()=>no,findWhere:()=>Ct,first:()=>Oo,flatten:()=>ha,foldl:()=>rn,foldr:()=>yr,forEach:()=>dt,functions:()=>Wt,get:()=>rr,groupBy:()=>_s,has:()=>Br,head:()=>Oo,identity:()=>Rt,include:()=>_r,includes:()=>_r,indexBy:()=>fa,indexOf:()=>bn,initial:()=>Zt,inject:()=>rn,intersection:()=>Ss,invert:()=>Ft,invoke:()=>vs,isArguments:()=>Fe,isArray:()=>re,isArrayBuffer:()=>$e,isBoolean:()=>R,isDataView:()=>at,isDate:()=>me,isElement:()=>U,isEmpty:()=>V,isEqual:()=>qe,isError:()=>Le,isFinite:()=>ot,isFunction:()=>be,isMap:()=>se,isMatch:()=>ee,isNaN:()=>ht,isNull:()=>ae,isNumber:()=>E,isObject:()=>q,isRegExp:()=>ve,isSet:()=>Ke,isString:()=>te,isSymbol:()=>Je,isTypedArray:()=>fe,isUndefined:()=>F,isWeakMap:()=>Te,isWeakSet:()=>lt,iteratee:()=>xt,keys:()=>gt,last:()=>ko,lastIndexOf:()=>ut,map:()=>Jt,mapObject:()=>vn,matcher:()=>Ze,matches:()=>Ze,max:()=>ca,memoize:()=>Go,methods:()=>Wt,min:()=>ua,mixin:()=>Xo,negate:()=>wo,noop:()=>gn,now:()=>M,object:()=>Os,omit:()=>So,once:()=>_n,pairs:()=>ir,partial:()=>jn,partition:()=>da,pick:()=>pa,pluck:()=>wi,property:()=>pr,propertyOf:()=>Ae,random:()=>Fr,range:()=>Eo,reduce:()=>rn,reduceRight:()=>yr,reject:()=>nn,rest:()=>Yn,restArguments:()=>ce,result:()=>zo,sample:()=>xi,select:()=>Tr,shuffle:()=>ms,size:()=>ws,some:()=>Co,sortBy:()=>ys,sortedIndex:()=>oo,tail:()=>Yn,take:()=>Oo,tap:()=>Dt,template:()=>Gn,templateSettings:()=>Et,throttle:()=>Yo,times:()=>vt,toArray:()=>io,toPath:()=>jr,transpose:()=>Po,unescape:()=>Ot,union:()=>Cs,uniq:()=>To,unique:()=>To,uniqueId:()=>Qn,unzip:()=>Po,values:()=>_t,where:()=>gs,without:()=>Oi,wrap:()=>vr,zip:()=>ga});var t={};e.r(t),e.d(t,{VERSION:()=>r,after:()=>En,all:()=>Vn,allKeys:()=>We,any:()=>Co,assign:()=>zt,before:()=>xo,bind:()=>to,bindAll:()=>bo,chain:()=>Ko,chunk:()=>An,clone:()=>Qr,collect:()=>Jt,compact:()=>xs,compose:()=>yn,constant:()=>it,contains:()=>_r,countBy:()=>bs,create:()=>Xt,debounce:()=>Pn,default:()=>ks,defaults:()=>hn,defer:()=>Dr,delay:()=>Bn,detect:()=>ct,difference:()=>va,drop:()=>Yn,each:()=>dt,escape:()=>Me,every:()=>Vn,extend:()=>dr,extendOwn:()=>zt,filter:()=>Tr,find:()=>ct,findIndex:()=>In,findKey:()=>en,findLastIndex:()=>no,findWhere:()=>Ct,first:()=>Oo,flatten:()=>ha,foldl:()=>rn,foldr:()=>yr,forEach:()=>dt,functions:()=>Wt,get:()=>rr,groupBy:()=>_s,has:()=>Br,head:()=>Oo,identity:()=>Rt,include:()=>_r,includes:()=>_r,indexBy:()=>fa,indexOf:()=>bn,initial:()=>Zt,inject:()=>rn,intersection:()=>Ss,invert:()=>Ft,invoke:()=>vs,isArguments:()=>Fe,isArray:()=>re,isArrayBuffer:()=>$e,isBoolean:()=>R,isDataView:()=>at,isDate:()=>me,isElement:()=>U,isEmpty:()=>V,isEqual:()=>qe,isError:()=>Le,isFinite:()=>ot,isFunction:()=>be,isMap:()=>se,isMatch:()=>ee,isNaN:()=>ht,isNull:()=>ae,isNumber:()=>E,isObject:()=>q,isRegExp:()=>ve,isSet:()=>Ke,isString:()=>te,isSymbol:()=>Je,isTypedArray:()=>fe,isUndefined:()=>F,isWeakMap:()=>Te,isWeakSet:()=>lt,iteratee:()=>xt,keys:()=>gt,last:()=>ko,lastIndexOf:()=>ut,map:()=>Jt,mapObject:()=>vn,matcher:()=>Ze,matches:()=>Ze,max:()=>ca,memoize:()=>Go,methods:()=>Wt,min:()=>ua,mixin:()=>Xo,negate:()=>wo,noop:()=>gn,now:()=>M,object:()=>Os,omit:()=>So,once:()=>_n,pairs:()=>ir,partial:()=>jn,partition:()=>da,pick:()=>pa,pluck:()=>wi,property:()=>pr,propertyOf:()=>Ae,random:()=>Fr,range:()=>Eo,reduce:()=>rn,reduceRight:()=>yr,reject:()=>nn,rest:()=>Yn,restArguments:()=>ce,result:()=>zo,sample:()=>xi,select:()=>Tr,shuffle:()=>ms,size:()=>ws,some:()=>Co,sortBy:()=>ys,sortedIndex:()=>oo,tail:()=>Yn,take:()=>Oo,tap:()=>Dt,template:()=>Gn,templateSettings:()=>Et,throttle:()=>Yo,times:()=>vt,toArray:()=>io,toPath:()=>jr,transpose:()=>Po,unescape:()=>Ot,union:()=>Cs,uniq:()=>To,unique:()=>To,uniqueId:()=>Qn,unzip:()=>Po,values:()=>_t,where:()=>gs,without:()=>Oi,wrap:()=>vr,zip:()=>ga});var r="1.13.1",o=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,c=Object.prototype,u=typeof Symbol<"u"?Symbol.prototype:null,f=s.push,h=s.slice,g=c.toString,m=c.hasOwnProperty,_=typeof ArrayBuffer<"u",w=typeof DataView<"u",C=Array.isArray,T=Object.keys,B=Object.create,W=_&&ArrayBuffer.isView,N=isNaN,z=isFinite,ue=!{toString:null}.propertyIsEnumerable("toString"),_e=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Se=Math.pow(2,53)-1;function ce(O,L){return L=L==null?O.length-1:+L,function(){for(var X=Math.max(arguments.length-L,0),Q=Array(X),pe=0;pe<X;pe++)Q[pe]=arguments[pe+L];switch(L){case 0:return O.call(this,Q);case 1:return O.call(this,arguments[0],Q);case 2:return O.call(this,arguments[0],arguments[1],Q)}var le=Array(L+1);for(pe=0;pe<L;pe++)le[pe]=arguments[pe];return le[L]=Q,O.apply(this,le)}}function q(O){var L=typeof O;return L==="function"||L==="object"&&!!O}function ae(O){return O===null}function F(O){return O===void 0}function R(O){return O===!0||O===!1||g.call(O)==="[object Boolean]"}function U(O){return!!(O&&O.nodeType===1)}function H(O){var L="[object "+O+"]";return function(X){return g.call(X)===L}}let te=H("String"),E=H("Number"),me=H("Date"),ve=H("RegExp"),Le=H("Error"),Je=H("Symbol"),$e=H("ArrayBuffer");var mt=H("Function"),ye=o.document&&o.document.childNodes;typeof Int8Array!="object"&&typeof ye!="function"&&(mt=function(O){return typeof O=="function"||!1});let be=mt,Re=H("Object");var Ue=w&&Re(new DataView(new ArrayBuffer(8))),Ne=typeof Map<"u"&&Re(new Map),Ve=H("DataView");function nt(O){return O!=null&&be(O.getInt8)&&$e(O.buffer)}let at=Ue?nt:Ve,re=C||H("Array");function xe(O,L){return O!=null&&m.call(O,L)}var Qe=H("Arguments");(function(){Qe(arguments)||(Qe=function(O){return xe(O,"callee")})})();let Fe=Qe;function ot(O){return!Je(O)&&z(O)&&!isNaN(parseFloat(O))}function ht(O){return E(O)&&N(O)}function it(O){return function(){return O}}function k(O){return function(L){var X=O(L);return typeof X=="number"&&X>=0&&X<=Se}}function I(O){return function(L){return L?.[O]}}let Y=I("byteLength"),ie=k(Y);var ge=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function K(O){return W?W(O)&&!at(O):ie(O)&&ge.test(g.call(O))}let fe=_?K:it(!1),oe=I("length");function rt(O){for(var L={},X=O.length,Q=0;Q<X;++Q)L[O[Q]]=!0;return{contains:function(pe){return L[pe]},push:function(pe){return L[pe]=!0,O.push(pe)}}}function bt(O,L){L=rt(L);var X=_e.length,Q=O.constructor,pe=be(Q)&&Q.prototype||c,le="constructor";for(xe(O,le)&&!L.contains(le)&&L.push(le);X--;)le=_e[X],le in O&&O[le]!==pe[le]&&!L.contains(le)&&L.push(le)}function gt(O){if(!q(O))return[];if(T)return T(O);var L=[];for(var X in O)xe(O,X)&&L.push(X);return ue&&bt(O,L),L}function V(O){if(O==null)return!0;var L=oe(O);return typeof L=="number"&&(re(O)||te(O)||Fe(O))?L===0:oe(gt(O))===0}function ee(O,L){var X=gt(L),Q=X.length;if(O==null)return!Q;for(var pe=Object(O),le=0;le<Q;le++){var ke=X[le];if(L[ke]!==pe[ke]||!(ke in pe))return!1}return!0}function D(O){if(O instanceof D)return O;if(!(this instanceof D))return new D(O);this._wrapped=O}D.VERSION=r,D.prototype.value=function(){return this._wrapped},D.prototype.valueOf=D.prototype.toJSON=D.prototype.value,D.prototype.toString=function(){return String(this._wrapped)};function Oe(O){return new Uint8Array(O.buffer||O,O.byteOffset||0,Y(O))}var he="[object DataView]";function De(O,L,X,Q){if(O===L)return O!==0||1/O===1/L;if(O==null||L==null)return!1;if(O!==O)return L!==L;var pe=typeof O;return pe!=="function"&&pe!=="object"&&typeof L!="object"?!1:Xe(O,L,X,Q)}function Xe(O,L,X,Q){O instanceof D&&(O=O._wrapped),L instanceof D&&(L=L._wrapped);var pe=g.call(O);if(pe!==g.call(L))return!1;if(Ue&&pe=="[object Object]"&&at(O)){if(!at(L))return!1;pe=he}switch(pe){case"[object RegExp]":case"[object String]":return""+O==""+L;case"[object Number]":return+O!=+O?+L!=+L:+O==0?1/+O===1/L:+O==+L;case"[object Date]":case"[object Boolean]":return+O==+L;case"[object Symbol]":return u.valueOf.call(O)===u.valueOf.call(L);case"[object ArrayBuffer]":case he:return Xe(Oe(O),Oe(L),X,Q)}var le=pe==="[object Array]";if(!le&&fe(O)){var ke=Y(O);if(ke!==Y(L))return!1;if(O.buffer===L.buffer&&O.byteOffset===L.byteOffset)return!0;le=!0}if(!le){if(typeof O!="object"||typeof L!="object")return!1;var He=O.constructor,St=L.constructor;if(He!==St&&!(be(He)&&He instanceof He&&be(St)&&St instanceof St)&&"constructor"in O&&"constructor"in L)return!1}X=X||[],Q=Q||[];for(var wt=X.length;wt--;)if(X[wt]===O)return Q[wt]===L;if(X.push(O),Q.push(L),le){if(wt=O.length,wt!==L.length)return!1;for(;wt--;)if(!De(O[wt],L[wt],X,Q))return!1}else{var gr=gt(O),Mr;if(wt=gr.length,gt(L).length!==wt)return!1;for(;wt--;)if(Mr=gr[wt],!(xe(L,Mr)&&De(O[Mr],L[Mr],X,Q)))return!1}return X.pop(),Q.pop(),!0}function qe(O,L){return De(O,L)}function We(O){if(!q(O))return[];var L=[];for(var X in O)L.push(X);return ue&&bt(O,L),L}function st(O){var L=oe(O);return function(X){if(X==null)return!1;var Q=We(X);if(oe(Q))return!1;for(var pe=0;pe<L;pe++)if(!be(X[O[pe]]))return!1;return O!==j||!be(X[kt])}}var kt="forEach",At="has",Pt=["clear","delete"],qt=["get",At,"set"],fr=Pt.concat(kt,qt),j=Pt.concat(qt),Z=["add"].concat(Pt,kt,At);let se=Ne?st(fr):H("Map"),Te=Ne?st(j):H("WeakMap"),Ke=Ne?st(Z):H("Set"),lt=H("WeakSet");function _t(O){for(var L=gt(O),X=L.length,Q=Array(X),pe=0;pe<X;pe++)Q[pe]=O[L[pe]];return Q}function ir(O){for(var L=gt(O),X=L.length,Q=Array(X),pe=0;pe<X;pe++)Q[pe]=[L[pe],O[L[pe]]];return Q}function Ft(O){for(var L={},X=gt(O),Q=0,pe=X.length;Q<pe;Q++)L[O[X[Q]]]=X[Q];return L}function Wt(O){var L=[];for(var X in O)be(O[X])&&L.push(X);return L.sort()}function Zr(O,L){return function(X){var Q=arguments.length;if(L&&(X=Object(X)),Q<2||X==null)return X;for(var pe=1;pe<Q;pe++)for(var le=arguments[pe],ke=O(le),He=ke.length,St=0;St<He;St++){var wt=ke[St];(!L||X[wt]===void 0)&&(X[wt]=le[wt])}return X}}let dr=Zr(We),zt=Zr(gt),hn=Zr(We,!0);function Ht(){return function(){}}function Kt(O){if(!q(O))return{};if(B)return B(O);var L=Ht();L.prototype=O;var X=new L;return L.prototype=null,X}function Xt(O,L){var X=Kt(O);return L&&zt(X,L),X}function Qr(O){return q(O)?re(O)?O.slice():dr({},O):O}function Dt(O,L){return L(O),O}function jr(O){return re(O)?O:[O]}D.toPath=jr;function yt(O){return D.toPath(O)}function kr(O,L){for(var X=L.length,Q=0;Q<X;Q++){if(O==null)return;O=O[L[Q]]}return X?O:void 0}function rr(O,L,X){var Q=kr(O,yt(L));return F(Q)?X:Q}function Br(O,L){L=yt(L);for(var X=L.length,Q=0;Q<X;Q++){var pe=L[Q];if(!xe(O,pe))return!1;O=O[pe]}return!!X}function Rt(O){return O}function Ze(O){return O=zt({},O),function(L){return ee(L,O)}}function pr(O){return O=yt(O),function(L){return kr(L,O)}}function Ar(O,L,X){if(L===void 0)return O;switch(X??3){case 1:return function(Q){return O.call(L,Q)};case 3:return function(Q,pe,le){return O.call(L,Q,pe,le)};case 4:return function(Q,pe,le,ke){return O.call(L,Q,pe,le,ke)}}return function(){return O.apply(L,arguments)}}function ar(O,L,X){return O==null?Rt:be(O)?Ar(O,L,X):q(O)&&!re(O)?Ze(O):pr(O)}function xt(O,L){return ar(O,L,1/0)}D.iteratee=xt;function Nt(O,L,X){return D.iteratee!==xt?D.iteratee(O,L):ar(O,L,X)}function vn(O,L,X){L=Nt(L,X);for(var Q=gt(O),pe=Q.length,le={},ke=0;ke<pe;ke++){var He=Q[ke];le[He]=L(O[He],He,O)}return le}function gn(){}function Ae(O){return O==null?gn:function(L){return rr(O,L)}}function vt(O,L,X){var Q=Array(Math.max(0,O));L=Ar(L,X,1);for(var pe=0;pe<O;pe++)Q[pe]=L(pe);return Q}function Fr(O,L){return L==null&&(L=O,O=0),O+Math.floor(Math.random()*(L-O+1))}let M=Date.now||function(){return new Date().getTime()};function $(O){var L=function(le){return O[le]},X="(?:"+gt(O).join("|")+")",Q=RegExp(X),pe=RegExp(X,"g");return function(le){return le=le==null?"":""+le,Q.test(le)?le.replace(pe,L):le}}let Ce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Me=$(Ce),je=Ft(Ce),Ot=$(je),Et=D.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Bt=/(.)^/,It={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},mo=/\\|'|\r|\n|\u2028|\u2029/g;function mn(O){return"\\"+It[O]}var Hr=/^\s*(\w|\$)+\s*$/;function Gn(O,L,X){!L&&X&&(L=X),L=hn({},L,D.templateSettings);var Q=RegExp([(L.escape||Bt).source,(L.interpolate||Bt).source,(L.evaluate||Bt).source].join("|")+"|$","g"),pe=0,le="__p+='";O.replace(Q,function(wt,gr,Mr,Ts,ma){return le+=O.slice(pe,ma).replace(mo,mn),pe=ma+wt.length,gr?le+=`'+
((__t=(`+gr+`))==null?'':_.escape(__t))+
'`:Mr?le+=`'+
((__t=(`+Mr+`))==null?'':__t)+
'`:Ts&&(le+=`';
`+Ts+`
__p+='`),wt}),le+=`';
`;var ke=L.variable;if(ke){if(!Hr.test(ke))throw new Error("variable is not a bare identifier: "+ke)}else le=`with(obj||{}){
`+le+`}
`,ke="obj";le=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+le+`return __p;
`;var He;try{He=new Function(ke,"_",le)}catch(wt){throw wt.source=le,wt}var St=function(wt){return He.call(this,wt,D)};return St.source="function("+ke+`){
`+le+"}",St}function zo(O,L,X){L=yt(L);var Q=L.length;if(!Q)return be(X)?X.call(O):X;for(var pe=0;pe<Q;pe++){var le=O?.[L[pe]];le===void 0&&(le=X,pe=Q),O=be(le)?le.call(O):le}return O}var yo=0;function Qn(O){var L=++yo+"";return O?O+L:L}function Ko(O){var L=D(O);return L._chain=!0,L}function _o(O,L,X,Q,pe){if(!(Q instanceof L))return O.apply(X,pe);var le=Kt(O.prototype),ke=O.apply(le,pe);return q(ke)?ke:le}var eo=ce(function(O,L){var X=eo.placeholder,Q=function(){for(var pe=0,le=L.length,ke=Array(le),He=0;He<le;He++)ke[He]=L[He]===X?arguments[pe++]:L[He];for(;pe<arguments.length;)ke.push(arguments[pe++]);return _o(O,Q,this,this,ke)};return Q});eo.placeholder=D;let jn=eo,to=ce(function(O,L,X){if(!be(O))throw new TypeError("Bind must be called on a function");var Q=ce(function(pe){return _o(O,Q,L,this,X.concat(pe))});return Q}),sr=k(oe);function hr(O,L,X,Q){if(Q=Q||[],!L&&L!==0)L=1/0;else if(L<=0)return Q.concat(O);for(var pe=Q.length,le=0,ke=oe(O);le<ke;le++){var He=O[le];if(sr(He)&&(re(He)||Fe(He)))if(L>1)hr(He,L-1,X,Q),pe=Q.length;else for(var St=0,wt=He.length;St<wt;)Q[pe++]=He[St++];else X||(Q[pe++]=He)}return Q}let bo=ce(function(O,L){L=hr(L,!1,!1);var X=L.length;if(X<1)throw new Error("bindAll must be passed function names");for(;X--;){var Q=L[X];O[Q]=to(O[Q],O)}return O});function Go(O,L){var X=function(Q){var pe=X.cache,le=""+(L?L.apply(this,arguments):Q);return xe(pe,le)||(pe[le]=O.apply(this,arguments)),pe[le]};return X.cache={},X}let Bn=ce(function(O,L,X){return setTimeout(function(){return O.apply(null,X)},L)}),Dr=jn(Bn,D,1);function Yo(O,L,X){var Q,pe,le,ke,He=0;X||(X={});var St=function(){He=X.leading===!1?0:M(),Q=null,ke=O.apply(pe,le),Q||(pe=le=null)},wt=function(){var gr=M();!He&&X.leading===!1&&(He=gr);var Mr=L-(gr-He);return pe=this,le=arguments,Mr<=0||Mr>L?(Q&&(clearTimeout(Q),Q=null),He=gr,ke=O.apply(pe,le),Q||(pe=le=null)):!Q&&X.trailing!==!1&&(Q=setTimeout(St,Mr)),ke};return wt.cancel=function(){clearTimeout(Q),He=0,Q=pe=le=null},wt}function Pn(O,L,X){var Q,pe,le,ke,He,St=function(){var gr=M()-pe;L>gr?Q=setTimeout(St,L-gr):(Q=null,X||(ke=O.apply(He,le)),Q||(le=He=null))},wt=ce(function(gr){return He=this,le=gr,pe=M(),Q||(Q=setTimeout(St,L),X&&(ke=O.apply(He,le))),ke});return wt.cancel=function(){clearTimeout(Q),Q=le=He=null},wt}function vr(O,L){return jn(L,O)}function wo(O){return function(){return!O.apply(this,arguments)}}function yn(){var O=arguments,L=O.length-1;return function(){for(var X=L,Q=O[L].apply(this,arguments);X--;)Q=O[X].call(this,Q);return Q}}function En(O,L){return function(){if(--O<1)return L.apply(this,arguments)}}function xo(O,L){var X;return function(){return--O>0&&(X=L.apply(this,arguments)),O<=1&&(L=null),X}}let _n=jn(xo,2);function en(O,L,X){L=Nt(L,X);for(var Q=gt(O),pe,le=0,ke=Q.length;le<ke;le++)if(pe=Q[le],L(O[pe],pe,O))return pe}function ro(O){return function(L,X,Q){X=Nt(X,Q);for(var pe=oe(L),le=O>0?0:pe-1;le>=0&&le<pe;le+=O)if(X(L[le],le,L))return le;return-1}}let In=ro(1),no=ro(-1);function oo(O,L,X,Q){X=Nt(X,Q,1);for(var pe=X(L),le=0,ke=oe(O);le<ke;){var He=Math.floor((le+ke)/2);X(O[He])<pe?le=He+1:ke=He}return le}function qo(O,L,X){return function(Q,pe,le){var ke=0,He=oe(Q);if(typeof le=="number")O>0?ke=le>=0?le:Math.max(le+He,ke):He=le>=0?Math.min(le+1,He):le+He+1;else if(X&&le&&He)return le=X(Q,pe),Q[le]===pe?le:-1;if(pe!==pe)return le=L(h.call(Q,ke,He),ht),le>=0?le+ke:-1;for(le=O>0?ke:He-1;le>=0&&le<He;le+=O)if(Q[le]===pe)return le;return-1}}let bn=qo(1,In,oo),ut=qo(-1,no);function ct(O,L,X){var Q=sr(O)?In:en,pe=Q(O,L,X);if(pe!==void 0&&pe!==-1)return O[pe]}function Ct(O,L){return ct(O,Ze(L))}function dt(O,L,X){L=Ar(L,X);var Q,pe;if(sr(O))for(Q=0,pe=O.length;Q<pe;Q++)L(O[Q],Q,O);else{var le=gt(O);for(Q=0,pe=le.length;Q<pe;Q++)L(O[le[Q]],le[Q],O)}return O}function Jt(O,L,X){L=Nt(L,X);for(var Q=!sr(O)&&gt(O),pe=(Q||O).length,le=Array(pe),ke=0;ke<pe;ke++){var He=Q?Q[ke]:ke;le[ke]=L(O[He],He,O)}return le}function tn(O){var L=function(X,Q,pe,le){var ke=!sr(X)&&gt(X),He=(ke||X).length,St=O>0?0:He-1;for(le||(pe=X[ke?ke[St]:St],St+=O);St>=0&&St<He;St+=O){var wt=ke?ke[St]:St;pe=Q(pe,X[wt],wt,X)}return pe};return function(X,Q,pe,le){var ke=arguments.length>=3;return L(X,Ar(Q,le,4),pe,ke)}}let rn=tn(1),yr=tn(-1);function Tr(O,L,X){var Q=[];return L=Nt(L,X),dt(O,function(pe,le,ke){L(pe,le,ke)&&Q.push(pe)}),Q}function nn(O,L,X){return Tr(O,wo(Nt(L)),X)}function Vn(O,L,X){L=Nt(L,X);for(var Q=!sr(O)&&gt(O),pe=(Q||O).length,le=0;le<pe;le++){var ke=Q?Q[le]:le;if(!L(O[ke],ke,O))return!1}return!0}function Co(O,L,X){L=Nt(L,X);for(var Q=!sr(O)&&gt(O),pe=(Q||O).length,le=0;le<pe;le++){var ke=Q?Q[le]:le;if(L(O[ke],ke,O))return!0}return!1}function _r(O,L,X,Q){return sr(O)||(O=_t(O)),(typeof X!="number"||Q)&&(X=0),bn(O,L,X)>=0}let vs=ce(function(O,L,X){var Q,pe;return be(L)?pe=L:(L=yt(L),Q=L.slice(0,-1),L=L[L.length-1]),Jt(O,function(le){var ke=pe;if(!ke){if(Q&&Q.length&&(le=kr(le,Q)),le==null)return;ke=le[L]}return ke==null?ke:ke.apply(le,X)})});function wi(O,L){return Jt(O,pr(L))}function gs(O,L){return Tr(O,Ze(L))}function ca(O,L,X){var Q=-1/0,pe=-1/0,le,ke;if(L==null||typeof L=="number"&&typeof O[0]!="object"&&O!=null){O=sr(O)?O:_t(O);for(var He=0,St=O.length;He<St;He++)le=O[He],le!=null&&le>Q&&(Q=le)}else L=Nt(L,X),dt(O,function(wt,gr,Mr){ke=L(wt,gr,Mr),(ke>pe||ke===-1/0&&Q===-1/0)&&(Q=wt,pe=ke)});return Q}function ua(O,L,X){var Q=1/0,pe=1/0,le,ke;if(L==null||typeof L=="number"&&typeof O[0]!="object"&&O!=null){O=sr(O)?O:_t(O);for(var He=0,St=O.length;He<St;He++)le=O[He],le!=null&&le<Q&&(Q=le)}else L=Nt(L,X),dt(O,function(wt,gr,Mr){ke=L(wt,gr,Mr),(ke<pe||ke===1/0&&Q===1/0)&&(Q=wt,pe=ke)});return Q}function xi(O,L,X){if(L==null||X)return sr(O)||(O=_t(O)),O[Fr(O.length-1)];var Q=sr(O)?Qr(O):_t(O),pe=oe(Q);L=Math.max(Math.min(L,pe),0);for(var le=pe-1,ke=0;ke<L;ke++){var He=Fr(ke,le),St=Q[ke];Q[ke]=Q[He],Q[He]=St}return Q.slice(0,L)}function ms(O){return xi(O,1/0)}function ys(O,L,X){var Q=0;return L=Nt(L,X),wi(Jt(O,function(pe,le,ke){return{value:pe,index:Q++,criteria:L(pe,le,ke)}}).sort(function(pe,le){var ke=pe.criteria,He=le.criteria;if(ke!==He){if(ke>He||ke===void 0)return 1;if(ke<He||He===void 0)return-1}return pe.index-le.index}),"value")}function Ci(O,L){return function(X,Q,pe){var le=L?[[],[]]:{};return Q=Nt(Q,pe),dt(X,function(ke,He){var St=Q(ke,He,X);O(le,ke,St)}),le}}let _s=Ci(function(O,L,X){xe(O,X)?O[X].push(L):O[X]=[L]}),fa=Ci(function(O,L,X){O[X]=L}),bs=Ci(function(O,L,X){xe(O,X)?O[X]++:O[X]=1}),da=Ci(function(O,L,X){O[X?0:1].push(L)},!0);var Si=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function io(O){return O?re(O)?h.call(O):te(O)?O.match(Si):sr(O)?Jt(O,Rt):_t(O):[]}function ws(O){return O==null?0:sr(O)?O.length:gt(O).length}function xc(O,L,X){return L in X}let pa=ce(function(O,L){var X={},Q=L[0];if(O==null)return X;be(Q)?(L.length>1&&(Q=Ar(Q,L[1])),L=We(O)):(Q=xc,L=hr(L,!1,!1),O=Object(O));for(var pe=0,le=L.length;pe<le;pe++){var ke=L[pe],He=O[ke];Q(He,ke,O)&&(X[ke]=He)}return X}),So=ce(function(O,L){var X=L[0],Q;return be(X)?(X=wo(X),L.length>1&&(Q=L[1])):(L=Jt(hr(L,!1,!1),String),X=function(pe,le){return!_r(L,le)}),pa(O,X,Q)});function Zt(O,L,X){return h.call(O,0,Math.max(0,O.length-(L==null||X?1:L)))}function Oo(O,L,X){return O==null||O.length<1?L==null||X?void 0:[]:L==null||X?O[0]:Zt(O,O.length-L)}function Yn(O,L,X){return h.call(O,L==null||X?1:L)}function ko(O,L,X){return O==null||O.length<1?L==null||X?void 0:[]:L==null||X?O[O.length-1]:Yn(O,Math.max(0,O.length-L))}function xs(O){return Tr(O,Boolean)}function ha(O,L){return hr(O,L,!1)}let va=ce(function(O,L){return L=hr(L,!0,!0),Tr(O,function(X){return!_r(L,X)})}),Oi=ce(function(O,L){return va(O,L)});function To(O,L,X,Q){R(L)||(Q=X,X=L,L=!1),X!=null&&(X=Nt(X,Q));for(var pe=[],le=[],ke=0,He=oe(O);ke<He;ke++){var St=O[ke],wt=X?X(St,ke,O):St;L&&!X?((!ke||le!==wt)&&pe.push(St),le=wt):X?_r(le,wt)||(le.push(wt),pe.push(St)):_r(pe,St)||pe.push(St)}return pe}let Cs=ce(function(O){return To(hr(O,!0,!0))});function Ss(O){for(var L=[],X=arguments.length,Q=0,pe=oe(O);Q<pe;Q++){var le=O[Q];if(!_r(L,le)){var ke;for(ke=1;ke<X&&_r(arguments[ke],le);ke++);ke===X&&L.push(le)}}return L}function Po(O){for(var L=O&&ca(O,oe).length||0,X=Array(L),Q=0;Q<L;Q++)X[Q]=wi(O,Q);return X}let ga=ce(Po);function Os(O,L){for(var X={},Q=0,pe=oe(O);Q<pe;Q++)L?X[O[Q]]=L[Q]:X[O[Q][0]]=O[Q][1];return X}function Eo(O,L,X){L==null&&(L=O||0,O=0),X||(X=L<O?-1:1);for(var Q=Math.max(Math.ceil((L-O)/X),0),pe=Array(Q),le=0;le<Q;le++,O+=X)pe[le]=O;return pe}function An(O,L){if(L==null||L<1)return[];for(var X=[],Q=0,pe=O.length;Q<pe;)X.push(h.call(O,Q,Q+=L));return X}function Ao(O,L){return O._chain?D(L).chain():L}function Xo(O){return dt(Wt(O),function(L){var X=D[L]=O[L];D.prototype[L]=function(){var Q=[this._wrapped];return f.apply(Q,arguments),Ao(this,X.apply(D,Q))}}),D}dt(["pop","push","reverse","shift","sort","splice","unshift"],function(O){var L=s[O];D.prototype[O]=function(){var X=this._wrapped;return X!=null&&(L.apply(X,arguments),(O==="shift"||O==="splice")&&X.length===0&&delete X[0]),Ao(this,X)}}),dt(["concat","join","slice"],function(O){var L=s[O];D.prototype[O]=function(){var X=this._wrapped;return X!=null&&(X=L.apply(X,arguments)),Ao(this,X)}});let ks=D;var on=Xo(t);on._=on;let ao=on}},uv={};function Mt(i){var n=uv[i];if(n!==void 0)return n.exports;var e=uv[i]={exports:{}};return H0[i].call(e.exports,e,e.exports,Mt),e.exports}Mt.n=i=>{var n=i&&i.__esModule?()=>i.default:()=>i;return Mt.d(n,{a:n}),n};Mt.d=(i,n)=>{for(var e in n)Mt.o(n,e)&&!Mt.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:n[e]})};Mt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Mt.o=(i,n)=>Object.prototype.hasOwnProperty.call(i,n);Mt.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var vc={};Mt.d(vc,{Ay:()=>lA,I0:()=>yy,nu:()=>my});var A=Mt(5706),Pe=Mt(9195);function fn(i){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var t=i.raw;return t.reduce(function(r,o,s){var c=n[s-1],u=t[s-1];return Array.isArray(c)?c=c.join(""):u&&u.slice(-1)==="$"?r=r.slice(0,-1):c=(0,Pe.escape)(c),r+c+o})}var U0=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}},W0=U0,dl=Mt(4193),z0=Mt.n(dl),Or=Mt(6411),K0=function(i){var n=i.$;if(n&&n.prototype&&n.prototype.constructor.name!=="jQuery"){var e=n.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var o=this.get(0);return o&&o.focus(),this},e.bind=function(o,s){return this.on(o,s)},e.unbind=function(o,s){if((0,A.isObject)(o)){for(var c in o)o.hasOwnProperty(c)&&this.off(c,o[c]);return this}else return this.off(o,s)},e.click=function(o){return o?this.on("click",o):this.trigger("click")},e.change=function(o){return o?this.on("change",o):this.trigger("change")},e.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},e.delegate=function(o,s,c,u){return u||(u=c),this.on(s,o,function(f){f.data=c,u(f)})},e.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var s=o instanceof Window?o:null;return s?s.pageXOffset:o.scrollLeft||0},e.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var s=o instanceof Window?o:null;return s?s.pageYOffset:o.scrollTop||0};var t=n.prototype.offset;e.offset=function(o){var s,c;return o&&(s=o.top,c=o.left),typeof s<"u"&&this.css("top","".concat(s,"px")),typeof c<"u"&&this.css("left","".concat(c,"px")),t.call(this)},n.map=function(o,s){for(var c=[],u=0;u<o.length;u++)c.push(s(o[u],u));return c};var r=Array.prototype.indexOf;n.inArray=function(o,s,c){return s==null?-1:r.call(s,o,c)},n.Event=function(o,s){if(!(this instanceof n.Event))return new n.Event(o,s);this.type=o,this.isDefaultPrevented=function(){return!1}}}},Ie=Mt(1749),Tg=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),G0=function(i){Tg(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(Ie.Kx),Y0=function(i){Tg(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.getByComponent=function(e){var t=this;return this.filter(function(r){return t.getComponent(r)===e})[0]},n.prototype.addComponent=function(e,t){var r=this,o=((0,A.isArray)(e)?e:[e]).filter(function(s){return!r.hasComponent(s)}).map(function(s){return new G0({component:s})})[0];return this.push(o,t)},n.prototype.getComponent=function(e){return e.get("component")},n.prototype.hasComponent=function(e){var t=this.getByComponent(e);return t&&this.contains(t)},n.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},n.prototype.allComponents=function(){var e=this;return this.map(function(t){return e.getComponent(t)}).filter(function(t){return t})},n.prototype.removeComponent=function(e,t){var r=this,o=((0,A.isArray)(e)?e:[e]).map(function(s){return r.getByComponent(s)});return this.remove(o,t)},n}(Ie.pM),q0=Y0,X0=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Iu=function(){return Iu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Iu.apply(this,arguments)},$0=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Pg=function(){function i(n,e,t){this.debounced=[],this.collections=[],this.cls=[],this._em=n,this._name=e;var r=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,A.isUndefined)(n.config[r])?n.config[this.name]:n.config[r],s=o===!0?{}:o||{};s.pStylePrefix=n.config.pStylePrefix||"",!(0,A.isUndefined)(o)&&!o&&(s._disable=1),s.em=n,this._config=(0,Pe.deepMerge)(t||{},s)}return Object.defineProperty(i.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),i.prototype.render=function(n){},i.prototype.postLoad=function(n){},Object.defineProperty(i.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),i.prototype.getConfig=function(n){return n?this.config[n]:this.config},i.prototype.__logWarn=function(n,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(n),e)},i.prototype.destroy=function(){this.__destroy()},i.prototype.__destroy=function(){var n,e,t;(n=this.view)===null||n===void 0||n.remove(),(e=this.state)===null||e===void 0||e.stopListening(),(t=this.state)===null||t===void 0||t.clear(),this.debounced.forEach(function(r){return r.cancel()}),this.collections.forEach(function(r){r.stopListening(),r.reset()})},i.prototype.__appendTo=function(){var n=this.getConfig().appendTo;if(n){var e=(0,A.isElement)(n)?n:document.querySelector(n);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},i}(),pn=Pg,go=function(i){X0(n,i);function n(e,t,r,o,s,c){c===void 0&&(c={});var u=i.call(this,e,t,s)||this;return u.cls=[],u.private=!1,u.all=r,u.events=o,!c.skipListen&&u.__initListen(),u}return n.prototype.postLoad=function(e){},n.prototype.render=function(e){},n.prototype.getProjectData=function(e){var t={},r=this.storageKey;return r&&(t[r]=e||this.getAll()),t},n.prototype.loadProjectData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r=t.all,o=t.onResult,s=t.reset,c=this.storageKey,u={action:"load"},f=r||this.all,h=e[c];if(typeof h=="string")try{h=JSON.parse(h)}catch{this.__logWarn("Data parsing failed",{input:h})}return s&&h&&f.reset(void 0,u),o?h&&o(h,u):h&&(0,Pe.isDef)(h.length)&&f.reset(h,u),h},n.prototype.clear=function(e){e===void 0&&(e={});var t=this.all;return t&&t.reset(void 0,e),this},n.prototype.getAll=function(){return $0([],this.all.models,!0)},n.prototype.getAllMap=function(){return this.getAll().reduce(function(e,t){return e[t.get(t.idAttribute)]=t,e},{})},n.prototype.__initListen=function(e){e===void 0&&(e={});var t=this,r=t.all,o=t.em,s=t.events;r&&o&&r.on("add",function(c,u,f){return o.trigger(s.add,c,f)}).on("remove",function(c,u,f){return o.trigger(s.remove,c,f)}).on("change",function(c,u){return o.trigger(s.update,c,c.changedAttributes(),u)}).on("all",this.__catchAllEvent,this),this.cls=[r].concat(e.collections||[]),(e.propagate||[]).forEach(function(c){var u=c.entity,f=c.event;u.on("all",function(h,g,m,_){var w=_||m,C=Iu({event:h},w);[o,r].map(function(T){return T.trigger(f,g,C)})})})},n.prototype.__remove=function(e,t){var r=this;t===void 0&&(t={});var o=this.em,s=(0,A.isString)(e)?this.get(e):e,c=function(){return s&&r.all.remove(s,t),s};return!t.silent&&o?.trigger(this.events.removeBefore,s,c,t),!t.abort&&c()},n.prototype.__catchAllEvent=function(e,t,r,o){var s=this,c=s.em,u=s.events,f=o||r;c&&u.all&&c.trigger(u.all,{event:e,model:t,options:f}),this.__onAllEvent()},n.prototype.__appendTo=function(e){var t=this.config.appendTo;if(t){var r=(0,A.isElement)(t)?t:document.querySelector(t);if(!r)return this.__logWarn('"appendTo" element not found');r.appendChild(this.render(e))}},n.prototype.__onAllEvent=function(){},n.prototype._createId=function(e){e===void 0&&(e=16);var t=this.getAll(),r=t.length+e,o=this.getAllMap(),s;do s=(0,Pe.createId)(r);while(o[s]);return s},n.prototype.__listenAdd=function(e,t){var r=this;e.on("add",function(o,s,c){return r.em.trigger(t,o,c)})},n.prototype.__listenRemove=function(e,t){var r=this;e.on("remove",function(o,s,c){return r.em.trigger(t,o,c)})},n.prototype.__listenUpdate=function(e,t){var r=this;e.on("change",function(o,s){return r.em.trigger(t,o,o.changedAttributes(),s)})},n.prototype.__destroy=function(){var e;this.cls.forEach(function(t){t.stopListening(),t.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},n}(Pg),J0=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}},Z0=J0,Wo=Mt(3023),Q0=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}},e_=Q0,t_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),r_=function(i){t_(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},n.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var t=["width","height","widthMedia"];t.forEach(function(r){return e.checkUnit(r)})},n.prototype.checkUnit=function(e){var t=this.get(e)||"",r=(parseFloat(t)||0).toString()===t.toString();r&&this.set(e,"".concat(t,"px"))},n.prototype.getName=function(){return this.get("name")||this.get("id")},n.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},n}(Ie.Kx),Eg=r_,n_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ag=function(i){n_(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(Ie.pM),fv=Ag;Ag.prototype.model=Eg;var o_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),i_=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},a_=function(i){o_(n,i);function n(e){var t=i.call(this,e)||this;return t.config=e.config||{},t.em=t.config.em,t.ppfx=t.config.pStylePrefix||"",t.listenTo(t.em,"change:device",t.updateSelect),t}return n.prototype.template=function(e){var t=e.ppfx,r=e.label;return fn(dv||(dv=i_([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),t,r,t,t,t,t,t,t,t)},n.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},n.prototype.startAdd=function(){},n.prototype.updateDevice=function(){var e=this.em;if(e){var t=this.devicesEl;e.set("device",t?t.val():"")}},n.prototype.updateSelect=function(){var e=this,t=e.em,r=e.devicesEl;if(t&&t.getDeviceModel&&r){var o=t.getDeviceModel();r.val(o?o.get("id"):"")}},n.prototype.getOptions=function(){var e=this,t=e.collection,r=e.em,o="";return t.forEach(function(s){var c=s.attributes,u=c.name,f=c.id,h=r&&r.t&&r.t("deviceManager.devices.".concat(f))||u;o+='<option value="'.concat(f||u,'">').concat(h,"</option>")}),o},n.prototype.render=function(){var e=this,t=e.em,r=e.ppfx,o=e.$el,s=e.el,c=t&&t.t&&t.t("deviceManager.device");return o.html(this.template({ppfx:r,label:c})),this.devicesEl=o.find(".".concat(r,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(t.get("device")),s.className="".concat(r,"devices-c"),this},n}(Ie.Ss),s_=a_,dv,l_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xa=function(){return Xa=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Xa.apply(this,arguments)},Dg="device",gc="".concat(Dg,":"),Mg="".concat(gc,"select"),z5="".concat(Mg,":before"),Lg="".concat(gc,"update"),Rg="".concat(gc,"add"),K5="".concat(Rg,":before"),jg="".concat(gc,"remove"),c_="".concat(jg,":before"),u_="change:device",f_={all:Dg,select:Mg,update:Lg,add:Rg,remove:jg,removeBefore:c_},d_=function(i){l_(n,i);function n(e){var t,r=i.call(this,e,"DeviceManager",new fv,f_,e_())||this;return r.Device=Eg,r.Devices=fv,r.storageKey="",r.devices=r.all,(t=r.config.devices)===null||t===void 0||t.forEach(function(o){return r.add(o,{silent:!0})}),r.select(r.config.default||r.devices.at(0)),e.on(u_,r._onSelect,r),r}return n.prototype._onSelect=function(e,t,r){var o=this,s=o.em,c=o.events,u=e.previous("device"),f=this.get(t),h=c.select;s.trigger(h,f,this.get(u)),this.__catchAllEvent(h,f,r)},n.prototype.add=function(e,t){t===void 0&&(t={});var r,o=t;if((0,A.isString)(e)){var s=t;o=arguments[2]||{},r=Xa(Xa({},o),{id:e,name:o.name||e,width:s})}else r=e;return r.id||(r.id=r.name||this._createId()),this.devices.add(r,o)},n.prototype.get=function(e){var t=this.getAll().filter(function(r){return r.get("name")===e})[0];return t||this.devices.get(e)||null},n.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},n.prototype.getDevices=function(){return this.devices.models},n.prototype.select=function(e,t){t===void 0&&(t={});var r=(0,A.isString)(e)?this.get(e):e;return r&&this.em.set("device",r.get("id"),t),this},n.prototype.getSelected=function(){return this.get(this.em.get("device"))},n.prototype.getAll=function(){return this.devices},n.prototype.render=function(){var e,t=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new s_({collection:this.devices,config:Xa({em:t},this.config)}),this.view.render().el},n.prototype.destroy=function(){this.__destroy()},n}(go),p_=d_,Bg=function(i){return i.add="page:add",i.addBefore="page:add:before",i.remove="page:remove",i.removeBefore="page:remove:before",i.select="page:select",i.selectBefore="page:select:before",i.update="page:update",i.all="page",i}(Bg||{}),Vu=Bg,h_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),v_=function(i){h_(n,i);function n(e,t,r){return i.call(this,t,{module:e,modelConstructor:r})||this}return n.prototype.add=function(e,t){var r=this,o,s=(0,A.isArray)(e)?e:(0,A.isUndefined)(e)?void 0:[e];return s=(o=s?.map(function(c){return c instanceof r.newModel?c:new r.newModel(r.module,c)}))!==null&&o!==void 0?o:[void 0],i.prototype.add.call(this,(0,A.isArray)(e)?s:s[0],t)},n.prototype.preinitialize=function(e,t){this.newModel=t.modelConstructor,this.module=t.module},n}(Ie.pM),mc=v_,g_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nu=function(){return Nu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Nu.apply(this,arguments)},pv=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},hv="__aw",vv="__ah",gv=function(i,n){var e,t=i.get(n),r=(e=i.view)===null||e===void 0?void 0:e.el[n==="width"?"offsetWidth":"offsetHeight"];return(0,A.isNumber)(t)?t:(0,A.isString)(t)&&t.endsWith("px")?parseFloat(t):r||0},m_=function(i){g_(n,i);function n(e,t){var r=i.call(this,e,t)||this,o=r.em,s=r.attributes,c=s.styles,u=s.component,f=o.Components,h=f.getConfig(),g=o.Css.getAll(),m={},_={em:o,config:h,frame:r,idMap:m};if(!(0,Pe.isComponent)(u)){var w=(0,Pe.isObject)(u)?u:{components:u};!w.type&&(w.type="wrapper");var C=f.getType("wrapper").model;r.set("component",new C(w,_))}if(!c)r.set("styles",g);else if(!(0,Pe.isObject)(c)){var T=c;(0,A.keys)(m).length&&(T=(0,A.isString)(T)?o.Parser.parseCss(T):T,o.Css.checkId(T,{idMap:m})),g.add(T),r.set("styles",g)}return!t.width&&r.set(hv,1),!t.height&&r.set(vv,1),!r.id&&r.set("id",(0,Pe.createId)()),r}return n.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(n.prototype,"width",{get:function(){return gv(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return gv(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var e=this.refFrame;return e?.getComponent()||this.getComponent()},enumerable:!1,configurable:!0}),n.prototype.initRefs=function(){var e=this.refFrame;if((0,A.isString)(e)){var t=this.module.framesById[e];t&&this.set({refFrame:t},{silent:!0})}},n.prototype.getBoxRect=function(){var e=this.attributes,t=e.x,r=e.y,o=this,s=o.width,c=o.height;return{x:t,y:r,width:s,height:c}},n.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},n.prototype.changesUp=function(e){e===void 0&&(e={}),!(e.temporary||e.noCount||e.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},n.prototype.getComponent=function(){return this.get("component")},n.prototype.getStyles=function(){return this.get("styles")},n.prototype.disable=function(){this.trigger("disable")},n.prototype.remove=function(){var e;(e=this.view)===null||e===void 0||e.remove(),this.view=void 0;var t=this.collection;return t&&t.remove(this)},n.prototype.getHead=function(){return pv([],this.head,!0)},n.prototype.setHead=function(e){return this.set("head",pv([],e,!0))},n.prototype.addHeadItem=function(e){this.head.push(e)},n.prototype.getHeadByAttr=function(e,t,r){return this.head.filter(function(o){return o.attributes&&o.attributes[e]==t&&(!r||r===o.tag)})[0]},n.prototype.removeHeadByAttr=function(e,t,r){var o=this.getHeadByAttr(e,t,r),s=this.head.indexOf(o);s>=0&&this.head.splice(s,1)},n.prototype.addLink=function(e){var t="link";!this.getHeadByAttr("href",e,t)&&this.addHeadItem({tag:t,attributes:{href:e,rel:"stylesheet"}})},n.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},n.prototype.addScript=function(e){var t="script";!this.getHeadByAttr("src",e,t)&&this.addHeadItem({tag:t,attributes:{src:e}})},n.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},n.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},n.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",Nu({frame:this},e))},n.prototype.hasAutoHeight=function(){var e=this.attributes.height;return!!(e==="auto"||this.config.infiniteCanvas)},n.prototype.toJSON=function(e){e===void 0&&(e={});var t=Wo.A.prototype.toJSON.call(this,e),r=(0,A.result)(this,"defaults");return e.fromUndo&&delete t.component,delete t.styles,delete t.changesCount,t[hv]&&delete t.width,t[vv]&&delete t.height,t.refFrame&&(t.refFrame=t.refFrame.id,delete t.component),(0,A.forEach)(t,function(o,s){s.indexOf("_")===0&&delete t[s]}),(0,A.forEach)(r,function(o,s){t[s]===o&&delete t[s]}),(0,A.forEach)(["attributes","head"],function(o){(0,A.isEmpty)(t[o])&&delete t[o]}),t},n}(Wo.A),Ig=m_,y_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),__=function(i){y_(n,i);function n(e,t){t===void 0&&(t=[]);var r=i.call(this,e,t,Ig)||this;return r.loadedItems=0,r.itemsToLoad=0,(0,A.bindAll)(r,"itemLoaded"),r.on("add",r.onAdd),r.on("reset",r.onReset),r.on("remove",r.onRemove),r.forEach(function(o){return r.onAdd(o)}),r}return n.prototype.onAdd=function(e){this.module.framesById[e.id]=e},n.prototype.onReset=function(e,t){var r=this,o=t?.previousModels||[];o.map(function(s){return r.onRemove(s)})},n.prototype.onRemove=function(e){e.onRemove(),delete this.module.framesById[e.id]},n.prototype.initRefs=function(){this.forEach(function(e){return e.initRefs()})},n.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},n.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},n.prototype.listenToLoadItems=function(e){var t=this;this.forEach(function(r){return r[e?"on":"off"]("loaded",t.itemLoaded)})},n}(mc),Vg=__,b_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),w_=function(i){b_(n,i);function n(e){var t=this,r=e.em,o=e.config,s=o.scripts,c=o.styles;return t=i.call(this,e,{scripts:s,styles:c})||this,t.set("frames",new Vg(e)),t.on("change:zoom",t.onZoomChange),t.on("change:x change:y",t.onCoordsChange),t.on("change:pointer change:pointerScreen",t.onPointerChange),t.listenTo(r,"change:device ".concat(Lg),t.updateDevice),t.listenTo(r,Vu.select,t._pageUpdated),t}return n.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:Ie.lK,pointerScreen:Ie.lK}},Object.defineProperty(n.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),n.prototype.init=function(){var e=this.em,t=e.Pages._initPage();this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},n.prototype._pageUpdated=function(e,t){var r=this.em;r.setSelected(),r.get("readyCanvas")&&r.stopDefault(),t?.getFrames().map(function(o){return o.disable()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},n.prototype.updateDevice=function(e){e===void 0&&(e={});var t=this.em,r=t.getDeviceModel(),o=e.frame||t.getCurrentFrameModel();if(o&&r){var s=r.attributes,c=s.width,u=s.height;o.set({width:c,height:u},{noUndo:1})}},n.prototype.onZoomChange=function(){var e=this,t=e.em,r=e.module,o=this.get("zoom");o<1&&this.set("zoom",1),t.trigger(r.events.zoom)},n.prototype.onCoordsChange=function(){var e=this,t=e.em,r=e.module;t.trigger(r.events.coords)},n.prototype.onPointerChange=function(){var e=this,t=e.em,r=e.module;t.trigger(r.events.pointer)},n.prototype.getPointerCoords=function(e){e===void 0&&(e=Ie.x2.World);var t=this.attributes,r=t.pointer,o=t.pointerScreen;return e===Ie.x2.World?r:o},n}(Wo.A),x_=w_,Ln=Mt(2820),er=Mt(3172),C_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),S_=function(i){C_(n,i);function n(e,t){t===void 0&&(t=[]);var r=i.call(this,e,t,Ln.A)||this;r.on("add",r.onAdd),r.on("change",r.onChange),r.on("remove",r.onRemove);var o=r.em;r.refreshDbn=(0,A.debounce)(function(){return r.refresh()},0);var s="component:resize styleable:change component:input ".concat(er.I.update," frame:updated undo redo");return r.listenTo(o,s,function(){return r.refreshDbn()}),r}return Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){var e=this,t=e.em,r=e.events;t.trigger(r.spot)},n.prototype.onAdd=function(e){this.__trgEvent(this.events.spotAdd,{spot:e})},n.prototype.onChange=function(e){this.__trgEvent(this.events.spotUpdate,{spot:e})},n.prototype.onRemove=function(e){this.__trgEvent(this.events.spotRemove,{spot:e})},n.prototype.__trgEvent=function(e,t){var r=this.module,o=r.em;o.trigger(e,t),this.refreshDbn()},n}(mc),O_=S_,ff=function(i){return i.dragEnter="canvas:dragenter",i.dragOver="canvas:dragover",i.dragEnd="canvas:dragend",i.dragData="canvas:dragdata",i.drop="canvas:drop",i.spot="canvas:spot",i.spotAdd="canvas:spot:add",i.spotUpdate="canvas:spot:update",i.spotRemove="canvas:spot:remove",i.coords="canvas:coords",i.zoom="canvas:zoom",i.pointer="canvas:pointer",i.refresh="canvas:refresh",i.frameLoad="canvas:frame:load",i.frameLoadHead="canvas:frame:load:head",i.frameLoadBody="canvas:frame:load:body",i}(ff||{}),al=ff,k_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),T_=function(i){k_(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"module",{get:function(){var e,t;return(t=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&t!==void 0?t:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),n.prototype.preinitialize=function(e){this.className=""},n}(Ie.Ss),Rn=T_,ze=Mt(2097),P_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),E_=function(i){P_(n,i);function n(e,t){e===void 0&&(e={}),t===void 0&&(t=!1);var r=i.call(this,e)||this;return r.itemsView="",r.itemType="type",r.reuseView=!1,r.viewCollection=[],t&&r.listenTo(r.collection,"add",r.addTo),r}return n.prototype.addTo=function(e){this.add(e)},n.prototype.itemViewNotFound=function(e){},n.prototype.add=function(e,t){var r=this,o=r.reuseView,s=r.viewCollection,c=t||null,u=e.get(this.itemType),f;e.view&&o?f=e.view:f=this.renderView(e,u),s.push(f);var h=f.render().el;c?c.appendChild(h):this.$el.append(h)},n.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(r){return e.add(r,t)}),this.$el.append(t),this.onRender(),this},n.prototype.onRender=function(){},n.prototype.onRemoveBefore=function(e,t){},n.prototype.onRemove=function(e,t){},n.prototype.remove=function(e){e===void 0&&(e={});var t=this.viewCollection;return this.onRemoveBefore(t,e),this.clearItems(),Ie.Ss.prototype.remove.apply(this,e),this.onRemove(t,e),this},n.prototype.clearItems=function(){var e=this.viewCollection||[]},n}(Rn),A_=E_,D_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),M_=function(i){D_(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.config=e.config||{};var r=t.model;return t.listenTo(r,"change",t.render),t.listenTo(r,"destroy remove",t.remove),t.listenTo(r.get("selectors"),"change",t.render),r.setView(t),t}return Object.defineProperty(n.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),n.prototype.remove=function(){return i.prototype.remove.call(this),this.model.removeView(this),this},n.prototype.updateStyles=function(){this.render()},n.prototype.tagName=function(){return"style"},n.prototype.render=function(){var e=this,t=e.model,r=e.el,o=t.get("important");return r.innerHTML=t.toCSS({important:o}),this},n}(Ie.Ss),Ng=M_,L_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),R_=function(i){L_(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this},n}(Ng),j_=R_,B_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),iu=function(i,n){return"".concat(i).concat(n?"-".concat(parseFloat(n)):"")},I_=function(i){B_(n,i);function n(e){var t=i.call(this,e)||this;(0,A.bindAll)(t,"sortRules");var r=e.config||{};t.atRules={},t.config=r,t.em=r.em,t.pfx=r.stylePrefix||"",t.className=t.pfx+"rules";var o=t.collection;return t.listenTo(o,"add",t.addTo),t.listenTo(o,"reset",t.render),t}return n.prototype.addTo=function(e){this.addToCollection(e)},n.prototype.addToCollection=function(e,t){if(this.renderStarted){var r=t||null,o=this.config,s={model:e,config:o},c,u;if(e.get("atRuleType")==="keyframes"){var f=e.getAtRule(),h=this.atRules[f];if(!h){var g=document.createElement("style");h=document.createTextNode(""),g.appendChild(document.createTextNode("".concat(f,"{"))),g.appendChild(h),g.appendChild(document.createTextNode("}")),this.atRules[f]=h,c=g}u=new j_(s),h.appendData(u.render().el.textContent)}else u=new Ng(s),c=u.render().el;var m=this.className,_=e.get("mediaText"),w=iu(m),C=w;if(_&&(C=iu(m,this.getMediaWidth(_))),c){var T=r||this.el,B=void 0;try{B=T.querySelector("#".concat(C))}catch{}B||(B=T.querySelector("#".concat(w))),B?.appendChild(c)}return c}},n.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},n.prototype.sortRules=function(e,t){var r=this.em,o=(r.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var s=o?e:t,c=o?t:e;return s-c},n.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var t=this,r=t.em,o=t.$el,s=t.collection,c=this.className,u=document.createDocumentFragment();o.empty();var f=r.Devices.getAll().pluck("priority").sort(this.sortRules);return f.every(function(h){return h})&&f.unshift(0),f.forEach(function(h){return u.appendChild((0,ze.a_)("div",{id:iu(c,h)}))}),s.each(function(h){return e.addToCollection(h,u)}),o.append(u),o.attr("class",c),this},n}(Ie.Ss),Fg=I_,Hg="text/html",V_=Hg,N_=function(i,n){n===void 0&&(n={});var e=new DOMParser,t=n.htmlType||V_,r=t===Hg,o=r?i:"<div>".concat(i,"</div>"),s=e.parseFromString(o,t),c;if(r){if(n.asDocument)return s;var u=s.head,f=s.body,h=u.querySelectorAll("script");(0,A.each)(h,function(m){return f.appendChild(m)});var g=[];(0,A.each)(u.children,function(m){return g.push(m)}),(0,A.each)(g,function(m,_){return f.insertBefore(m,f.children[_])}),c=f}else c=s.firstChild;return c},as=function(i){return i.html="parse:html",i.htmlRoot="parse:html:root",i.css="parse:css",i.all="parse",i}(as||{}),zn=function(){return zn=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},zn.apply(this,arguments)},F_="data-gjs-",H_=function(i,n){return n===void 0&&(n={}),{compTypes:[],modelAttrStart:F_,getPropAttribute:function(e,t){var r=e.replace(this.modelAttrStart,""),o=t?.length||0,s=t?.substring(0,1),c=t?.substring(o-1),u=t==="true"?!0:t==="false"?!1:t;try{u=s=="{"&&c=="}"||s=="["&&c=="]"?JSON.parse(u):u}catch{}return{name:r,value:u}},splitPropsFromAttr:function(e){var t=this;e===void 0&&(e={});var r={},o={};return(0,A.each)(e,function(s,c){if(c.indexOf(t.modelAttrStart)===0){var u=t.getPropAttribute(c,s);r[u.name]=u.value}else o[c]=s}),{props:r,attrs:o}},parseStyle:function(e){for(var t={};e.indexOf("/*")>=0;){var r=e.indexOf("/*"),o=e.indexOf("*/")+2;e=e.replace(e.slice(r,o),"")}for(var s=e.split(";"),c=0,u=s.length;c<u;c++){var f=s[c].trim();if(f){var h=f.split(":"),g=h[0].trim(),m=h.slice(1).join(":").trim();t[g]?((0,A.isArray)(t[g])||(t[g]=[t[g]]),t[g].push(m)):t[g]=m}}return t},parseClass:function(e){for(var t=[],r=e.split(" "),o=0,s=r.length;o<s;o++){var c=r[o].trim();c&&t.push(c)}return t},parseNodeAttr:function(e,t){for(var r=t||{},o=e.attributes||[],s=o.length,c=0;c<s;c++){var u=o[c].nodeName,f=o[c].nodeValue;if(u=="style")r.style=this.parseStyle(f);else if(u=="class")r.classes=this.parseClass(f);else{if(u=="contenteditable")continue;if(u.indexOf(this.modelAttrStart)===0){var h=this.getPropAttribute(u,f);r[h.name]=h.value}else f===""&&e[u]===!0&&(f=!0),r.attributes||(r.attributes={}),r.attributes[u]=f}}return r},detectNode:function(e,t){var r;t===void 0&&(t={});var o=this.compTypes,s={};if(o){var c=(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"".concat(this.modelAttrStart,"type"));if(c)s={type:c};else for(var u=0;u<o.length;u++){var f=o[u],h=f.model.isComponent(e,t);if(h){typeof h!="object"&&(h={type:f.id}),s=h;break}}}return s},parseNode:function(e,t){var r;t===void 0&&(t={});var o=((r=e.content)===null||r===void 0?void 0:r.childNodes)||e.childNodes,s=o.length,c=this.detectNode(e,t);if(!c.tagName){var u=e.tagName||"",f=e.namespaceURI||"";c.tagName=u&&f==="http://www.w3.org/1999/xhtml"?u.toLowerCase():u}if(c=this.parseNodeAttr(e,c),!s&&"".concat(e.outerHTML).slice(-2)==="/>"&&(c.void=!0),s&&!c.components&&!t.skipChildren){var h=o[0];s===1&&h.nodeType===3?(!c.type&&(c.type="text"),c.components={type:"textnode",content:h.nodeValue}):c.components=this.parseNodes(e,zn(zn({},t),{inSvg:t.inSvg||c.type==="svg"}))}var g=c.components;if(!c.type&&g?.length){for(var m=n.textTypes,_=m===void 0?[]:m,w=n.textTags,C=w===void 0?[]:w,T=!0,B=!1,W=0;W<g.length;W++){var N=g[W],z=N.type;if(!_.includes(z)&&!C.includes(N.tagName)){T=!1;break}z==="textnode"&&(B=!0)}T&&B&&(c.type="text")}return c},parseNodes:function(e,t){var r;t===void 0&&(t={});for(var o=[],s=((r=e.content)===null||r===void 0?void 0:r.childNodes)||e.childNodes,c=s.length,u=0;u<c;u++){var f=s[u],h=o[o.length-1],g=this.parseNode(f,t);if(g.type==="textnode"){if(h?.type==="textnode"){h.content+=g.content;continue}if(!t.keepEmptyTextNodes){var m=f.nodeValue||"",_=u===0||u===c-1,w=m.includes(`
`);if(m!=" "&&!m.trim()&&(_||w))continue}}!g.tagName&&(0,A.isUndefined)(g.content)||o.push(g)}return o},parse:function(e,t,r){var o,s,c,u,f;r===void 0&&(r={});var h=i?.get("Config")||{},g={html:[]},m=zn(zn({},n),r),_=zn(zn(zn({},n.optionsHtml),{htmlType:((o=n.optionsHtml)===null||o===void 0?void 0:o.htmlType)||n.htmlType}),r),w=zn(zn({},_),{asDocument:this.__checkAsDocument(e,_)}),C=w.preParser,T=w.asDocument,B=(0,A.isFunction)(C)?C(e,{editor:i?.getEditor()}):e,W=(0,A.isFunction)(m.parserHtml)?m.parserHtml(B,w):N_(B,w),N=W,z=W;T&&(N=z.documentElement,g.doctype=(0,ze.LJ)(z.doctype));var ue=N.querySelectorAll("script"),_e=ue.length,Se=(0,A.isUndefined)(h.allowScripts)?w.allowScripts:h.allowScripts;if(!Se)for(;_e--;)(s=ue[_e].parentNode)===null||s===void 0||s.removeChild(ue[_e]);if((!w.allowUnsafeAttr||!w.allowUnsafeAttrValue)&&this.__sanitizeNode(N,w),t){for(var ce=N.querySelectorAll("style"),q=ce.length,ae="";q--;)ae=ce[q].innerHTML+ae,(c=ce[q].parentNode)===null||c===void 0||c.removeChild(ce[q]);ae&&(g.css=t.parse(ae))}(u=i?.Parser)===null||u===void 0||u.__emitEvent(as.htmlRoot,{input:B,root:N});var F=[];if(T)g.head=this.parseNode(z.head,m),g.root=this.parseNodeAttr(N),F=this.parseNode(z.body,m);else{var R=this.parseNodes(N,m);F=R.length===1&&!m.returnArray?R[0]:R}return g.html=F,(f=i?.Parser)===null||f===void 0||f.__emitEvent(as.html,{input:B,output:g,options:w}),g},__sanitizeNode:function(e,t){var r=this,o=e.attributes||[],s=e.childNodes||[],c=[];(0,A.each)(o,function(u){var f=u.nodeName||"",h=u.nodeValue||"";!t.allowUnsafeAttr&&f.startsWith("on")&&c.push(f),!t.allowUnsafeAttrValue&&h.startsWith("javascript:")&&c.push(f)}),c.map(function(u){return e.removeAttribute(u)}),(0,A.each)(s,function(u){return r.__sanitizeNode(u,t)})},__checkAsDocument:function(e,t){if((0,Pe.isDef)(t.asDocument))return t.asDocument;if((0,A.isFunction)(t.detectDocument))return!!t.detectDocument(e);if(t.detectDocument)return e.toLowerCase().trim().startsWith("<!doctype")}}},Ug=H_,U_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Jn="data-variable",W_=function(i){U_(n,i);function n(e,t){var r=i.call(this,e,t)||this;return r.em=t.em,r.listenToDataSource(),r}return n.prototype.defaults=function(){return{type:Jn,defaultValue:"",path:""}},n.prototype.listenToDataSource=function(){var e=this.attributes.path,t=(0,Pe.stringToPath)(e).join(".");this.em&&this.listenTo(this.em.DataSources,"change:".concat(t),this.onDataSourceChange)},n.prototype.onDataSourceChange=function(){var e=this.getDataValue();this.set({value:e})},n.prototype.getDataValue=function(){var e,t=this.attributes,r=t.path,o=t.defaultValue;if(!this.em)throw new Error("EditorModel instance is not provided for a data variable.");var s=(e=this.em)===null||e===void 0?void 0:e.DataSources.getValue(r,o);return s},n}(Ie.Kx),bi=W_,z_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fu=function(){return Fu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Fu.apply(this,arguments)},K_=function(i){z_(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return Fu({},i.prototype.defaults.call(this))},n}(bi),G_=K_,ss=function(i){return i.add="data:add",i.addBefore="data:add:before",i.remove="data:remove",i.removeBefore="data:remove:before",i.update="data:update",i.path="data:path",i.all="data",i}(ss||{});function $a(i){return typeof i=="object"&&[Jn,Zn].includes(i?.type)}function Y_(i){return i instanceof bi||i instanceof _c}function ls(i){return i?.type===Jn}function pl(i,n){return ls(i)?new bi(i,{em:n}).getDataValue():i}function q_(i,n){var e=i.type,t;switch(e){case Jn:t=new bi(i,{em:n});break;case Zn:{var r=i.condition,o=i.ifTrue,s=i.ifFalse;t=new _c(r,o,s,{em:n});break}default:throw new Error("Unsupported dynamic type: ".concat(e))}return t}function mv(i,n){var e=q_(i,n);return{variable:e,value:e.getDataValue()}}var X_=function(){function i(n,e,t){this.operator=n,this.statements=e,this.em=t.em}return i.prototype.evaluate=function(){var n=this,e=this.statements.map(function(t){var r=new zg(t,{em:n.em});return r.evaluate()});return this.operator.evaluate(e)},i}(),yc=function(){function i(){}return i}(),$_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wg=function(i){return i.equals="equals",i.isTruthy="isTruthy",i.isFalsy="isFalsy",i.isDefined="isDefined",i.isNull="isNull",i.isUndefined="isUndefined",i.isArray="isArray",i.isObject="isObject",i.isString="isString",i.isNumber="isNumber",i.isBoolean="isBoolean",i.isDefaultValue="isDefaultValue",i}(Wg||{}),J_=function(i){$_(n,i);function n(e){var t=i.call(this)||this;return t.operator=e,t}return n.prototype.evaluate=function(e,t){switch(this.operator){case"equals":return e===t;case"isTruthy":return!!e;case"isFalsy":return!e;case"isDefined":return e!=null;case"isNull":return e===null;case"isUndefined":return e===void 0;case"isArray":return Array.isArray(e);case"isObject":return typeof e=="object"&&e!==null;case"isString":return typeof e=="string";case"isNumber":return typeof e=="number";case"isBoolean":return typeof e=="boolean";case"isDefaultValue":return e instanceof bi&&e.get("default")===t;default:throw new Error("Unsupported generic operator: ".concat(this.operator))}},n}(yc),Z_=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sl=function(i){return i.and="and",i.or="or",i.xor="xor",i}(sl||{}),Q_=function(i){Z_(n,i);function n(e){var t=i.call(this)||this;return t.operator=e,t}return n.prototype.evaluate=function(e){if(!e.length)throw new Error("Expected one or more statments, got none");switch(this.operator){case sl.and:return e.every(Boolean);case sl.or:return e.some(Boolean);case sl.xor:return e.filter(Boolean).length===1;default:throw new Error("Unsupported logical operator: ".concat(this.operator))}},n}(yc),eb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ai=function(i){return i.greaterThan=">",i.lessThan="<",i.greaterThanOrEqual=">=",i.lessThanOrEqual="<=",i.equals="=",i.notEquals="!=",i}(ai||{}),tb=function(i){eb(n,i);function n(e){var t=i.call(this)||this;return t.operator=e,t}return n.prototype.evaluate=function(e,t){switch(this.operator){case ai.greaterThan:return e>t;case ai.lessThan:return e<t;case ai.greaterThanOrEqual:return e>=t;case ai.lessThanOrEqual:return e<=t;case ai.equals:return e===t;case ai.notEquals:return e!==t;default:throw new Error("Unsupported number operator: ".concat(this.operator))}},n}(yc),rb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),si=function(i){return i.contains="contains",i.startsWith="startsWith",i.endsWith="endsWith",i.matchesRegex="matchesRegex",i.equalsIgnoreCase="equalsIgnoreCase",i.trimEquals="trimEquals",i}(si||{}),nb=function(i){rb(n,i);function n(e){var t=i.call(this)||this;return t.operator=e,t}return n.prototype.evaluate=function(e,t){switch(this.operator){case si.contains:return e.includes(t);case si.startsWith:return e.startsWith(t);case si.endsWith:return e.endsWith(t);case si.matchesRegex:if(!t)throw new Error("Regex pattern must be provided.");return new RegExp(t).test(e);case si.equalsIgnoreCase:return e.toLowerCase()===t.toLowerCase();case si.trimEquals:return e.trim()===t.trim();default:throw new Error("Unsupported string operator: ".concat(this.operator))}},n}(yc),ob=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zg=function(i){ob(n,i);function n(e,t){var r=i.call(this,e)||this;return r.condition=e,r.em=t.em,r}return n.prototype.evaluate=function(){return this.evaluateCondition(this.condition)},n.prototype.evaluateCondition=function(e){if(typeof e=="boolean")return e;if(this.isLogicGroup(e)){var t=e.logicalOperator,r=e.statements,o=new Q_(t),s=new X_(o,r,{em:this.em});return s.evaluate()}if(this.isExpression(e)){var c=e.left,o=e.operator,u=e.right,f=pl(c,this.em),h=pl(u,this.em),g=this.getOperator(f,o),m=g.evaluate(f,h);return m}throw new Error("Invalid condition type.")},n.prototype.getOperator=function(e,t){if(this.isOperatorInEnum(t,Wg))return new J_(t);if(typeof e=="number")return new tb(t);if(typeof e=="string")return new nb(t);throw new Error("Unsupported data type: ".concat(typeof e))},n.prototype.getDataVariables=function(){var e=[];return this.extractVariables(this.condition,e),e},n.prototype.extractVariables=function(e,t){var r=this;this.isExpression(e)?(ls(e.left)&&t.push(e.left),ls(e.right)&&t.push(e.right)):this.isLogicGroup(e)&&e.statements.forEach(function(o){return r.extractVariables(o,t)})},n.prototype.isLogicGroup=function(e){return e&&typeof e.logicalOperator<"u"&&Array.isArray(e.statements)},n.prototype.isExpression=function(e){return e&&typeof e.left<"u"&&typeof e.operator=="string"},n.prototype.isOperatorInEnum=function(e,t){return Object.values(t).includes(e)},n}(Ie.Kx),Kg=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Zn="conditional-variable",_c=function(i){Kg(n,i);function n(e,t,r,o){var s=this;if(typeof e>"u")throw new ib;var c=new zg(e,{em:o.em});return s=i.call(this,{type:Zn,condition:c,ifTrue:t,ifFalse:r})||this,s.ifTrue=t,s.ifFalse=r,s.variableListeners=[],s.condition=c,s.em=o.em,s.lastEvaluationResult=s.evaluate(),s.listenToDataVariables(),s._onValueChange=o.onValueChange,s}return n.prototype.evaluate=function(){return this.condition.evaluate()},n.prototype.getDataValue=function(){return this.lastEvaluationResult?pl(this.ifTrue,this.em):pl(this.ifFalse,this.em)},n.prototype.reevaluate=function(){this.lastEvaluationResult=this.evaluate()},Object.defineProperty(n.prototype,"onValueChange",{set:function(e){this._onValueChange=e,this.listenToDataVariables()},enumerable:!1,configurable:!0}),n.prototype.listenToDataVariables=function(){var e=this;if(this.em){this.cleanupListeners();var t=this.getDependentDataVariables();t.forEach(function(r){var o=new bi(r,{em:e.em}),s=new bc({em:e.em,dataVariable:o,updateValueFromDataVariable:function(){var c;e.reevaluate(),(c=e._onValueChange)===null||c===void 0||c.call(e)}.bind(e)});e.variableListeners.push(s)})}},n.prototype.getDependentDataVariables=function(){var e=this.condition.getDataVariables();return ls(this.ifTrue)&&e.push(this.ifTrue),ls(this.ifFalse)&&e.push(this.ifFalse),e},n.prototype.cleanupListeners=function(){this.variableListeners.forEach(function(e){return e.destroy()}),this.variableListeners=[]},n.prototype.toJSON=function(){return{type:Zn,condition:this.condition,ifTrue:this.ifTrue,ifFalse:this.ifFalse}},n}(Ie.Kx),ib=function(i){Kg(n,i);function n(){return i.call(this,"No condition was provided to a conditional component.")||this}return n}(Error),ab=function(){function i(n){var e=this;this.dataListeners=[],this.model=new Ie.Kx,this.onChange=function(){var t=e.dynamicVariable.getDataValue();e.updateValueFromDynamicVariable(t)},this.em=n.em,this.dynamicVariable=n.dataVariable,this.updateValueFromDynamicVariable=n.updateValueFromDataVariable,this.listenToDynamicVariable()}return i.prototype.listenToDynamicVariable=function(){var n=this,e=this,t=e.em,r=e.dynamicVariable;this.removeListeners();var o=r.get("type"),s=[];switch(o){case Jn:s=this.listenToDataVariable(r,t);break;case Zn:s=this.listenToConditionalVariable(r,t);break}s.forEach(function(c){return n.model.listenTo(c.obj,c.event,n.onChange)}),this.dataListeners=s},i.prototype.listenToConditionalVariable=function(n,e){var t=this,r=n.getDependentDataVariables().flatMap(function(o){return t.listenToDataVariable(new bi(o,{em:t.em}),e)});return r},i.prototype.listenToDataVariable=function(n,e){var t=[],r=n.attributes.path,o=(0,Pe.stringToPath)(r||"").join("."),s=this.em.DataSources.fromPath(r),c=s[0],u=s[1];return c&&t.push({obj:c.records,event:"add remove reset"}),u&&t.push({obj:u,event:"change"}),t.push({obj:n,event:"change:path change:defaultValue"},{obj:e.DataSources.all,event:"add remove reset"},{obj:e,event:"".concat(ss.path,":").concat(o)}),t},i.prototype.removeListeners=function(){var n=this;this.dataListeners.forEach(function(e){return n.model.stopListening(e.obj,e.event,n.onChange)}),this.dataListeners=[]},i.prototype.destroy=function(){this.removeListeners()},i}(),bc=ab,sb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),co=function(){return co=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},co.apply(this,arguments)},lb=Ug(),Hu=function(i){return(0,A.isArray)(i)?i[i.length-1]:i},cb=function(i){sb(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e,t)||this;return r.dynamicVariableListeners={},r.views=[],r.em=t.em,r}return n.prototype.parseStyle=function(e){return lb.parseStyle(e)},n.prototype.extendStyle=function(e){return co(co({},this.getStyle("",{skipResolve:!0})),e)},n.prototype.getStyle=function(e,t){t===void 0&&(t={});var r=this.get("style")||{},o=co({},r);if(this.em&&!t.skipResolve){var s=this.resolveDataVariables(co({},o));return e&&(0,A.isString)(e)?s[e]:s}return e&&(0,A.isString)(e)?o[e]:o},n.prototype.setStyle=function(e,t){var r=this;e===void 0&&(e={}),t===void 0&&(t={}),(0,A.isString)(e)&&(e=this.parseStyle(e));var o=this.getStyle(t);t.partial||t.avoidStore?(t.avoidStore=!0,e.__p=!0):delete e.__p;var s=co({},e),c=co({},s);(0,A.keys)(c).forEach(function(f){if(c[f]===""){delete c[f];return}var h=c[f];if($a(h)){var g=r.resolveDynamicValue(h);c[f]=g,r.manageDataVariableListener(g,f)}}),this.set("style",c,t);var u=(0,Pe.shallowDiff)(o,c);return delete u.__p,(0,A.keys)(u).forEach(function(f){var h=r.em;t.noEvent||(r.trigger("change:style:".concat(f)),h&&(h.trigger("styleable:change",r,f,t),h.trigger("styleable:change:".concat(f),r,f,t)))}),c},n.prototype.resolveDynamicValue=function(e){var t=e.type,r;switch(t){case Jn:r=new G_(e,{em:this.em});break;case Zn:{var o=e.condition,s=e.ifTrue,c=e.ifFalse;r=new _c(o,s,c,{em:this.em});break}default:throw new Error("Unsupported dynamic value type for styles. Only '".concat(Jn,"' and '").concat(Zn,"' are supported. Received '").concat(t,"'."))}return r},n.prototype.manageDataVariableListener=function(e,t){var r=this;this.dynamicVariableListeners[t]?this.dynamicVariableListeners[t].listenToDynamicVariable():this.dynamicVariableListeners[t]=new bc({em:this.em,dataVariable:e,updateValueFromDataVariable:function(){return r.updateView()}})},n.prototype.getView=function(e){var t=this,r=t.views,o=t.em,s=e||o?.getCurrentFrameModel();return s?r.find(function(c){return c.frameView===s.view}):r[0]},n.prototype.setView=function(e){var t=this.views;!t.includes(e)&&t.push(e)},n.prototype.removeView=function(e){var t=this.views;t.splice(t.indexOf(e),1)},n.prototype.updateView=function(){this.views.forEach(function(e){return e.updateStyles()})},n.prototype.resolveDataVariables=function(e){var t=this,r=co({},e);return(0,A.keys)(r).forEach(function(o){var s=r[o];if(!(typeof s=="string"||Array.isArray(s))){if($a(s)){var c=t.resolveDynamicValue(s);r[o]=c.getDataValue()}Y_(s)&&(r[o]=s.getDataValue())}}),r},n.prototype.addStyle=function(e,t,r){var o;t===void 0&&(t=""),r===void 0&&(r={}),typeof e=="string"?e=(o={},o[e]=t,o):r=t||{},r.addStyle=e,e=this.extendStyle(e),this.setStyle(e,r)},n.prototype.removeStyle=function(e){var t=this.getStyle();delete t[e],this.setStyle(t)},n.prototype.styleToString=function(e){e===void 0&&(e={});var t=[],r=this.getStyle(e),o=e.important,s=function(u){var f=(0,A.isArray)(o)?o.indexOf(u)>=0:o,h=u.substring(0,2),g=h==="__";if(g)return"continue";var m=r[u],_=(0,A.isArray)(m)?m:[m];_.forEach(function(w){var C="".concat(w).concat(f?" !important":"");C&&t.push("".concat(u,":").concat(C,";"))})};for(var c in r)s(c);return t.join("")},n.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},n.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},n}(Ie.Kx),Gg=cb,cn=function(){return cn=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},cn.apply(this,arguments)},Yg=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},pi=function(i){return(0,A.isArray)(i.get(un))},hl=function(i){return!!i.get(Mn)},ho=function(i){return!!(pi(i)||hl(i))},gi=function(i){var n=i.parent();return ho(i)&&(!n||!ho(n))};var Fa=function(i){i.__symbReady||(i.on("change",i.__upSymbProps),i.__symbReady=!0)},$n=function(i){var n=i.get(Mn);if(n&&(0,A.isString)(n)){var e=i.__getAllById()[n];e?(n=e,i.set(Mn,e)):n=0}return n||void 0},kn=function(i){var n=i?.get(un);return n&&(0,A.isArray)(n)&&(n.forEach(function(e,t){e&&(0,A.isString)(e)&&(n[t]=i.__getAllById()[e])}),n=n.filter(function(e){return e&&!(0,A.isString)(e)})),n||void 0},sa=function(i,n){n===void 0&&(n="");var e=i?.get(Za),t=n.split(":")[0],r=n!==t?[n,t]:[n];return e===!0||(0,A.isArray)(e)&&r.some(function(o){return e.indexOf(o)>=0})},hi=function(i,n){n===void 0&&(n={});var e=[],t=n.changed;if(n.fromInstance||n.noPropagate||n.fromUndo||t&&sa(i,t))return e;var r=kn(i)||[],o=$n(i),s=o?Yg([o],kn(o)||[],!0):r;return e=s.filter(function(c){return c!==i}).filter(function(c){return!(t&&sa(c,t))}),e},cs=function(i,n){for(var e=i,t=i.parent(n);t&&ho(t);)e=t,t=t.parent(n);return e},df=function(i,n){n===void 0&&(n={});var e=$n(i),t=e&&kn(e);!n.skipRefs&&t&&e.set(un,t.filter(function(r){return r!==i})),i.set(Mn,0),i.components().forEach(function(r){return df(r,n)})},Ja=function(i,n,e,t){t===void 0&&(t={});var r=$n(i),o=kn(i);!r&&!o||i.em.log(n,{model:i,toUp:e,context:"symbols",opts:t})},ub=function(i,n){n===void 0&&(n={});var e=i.changedAttributes()||{},t=e.attributes||{};if(delete e.status,delete e.open,delete e[un],delete e[Mn],delete e[Za],delete e.attributes,delete t.id,(0,Pe.isEmptyObj)(t)||(e.attributes=t),!(0,Pe.isEmptyObj)(e)){var r=hi(i,n);(0,A.keys)(e).map(function(o){sa(i,o)&&delete e[o]}),Ja(i,"props",r,{opts:n,changed:e}),r.forEach(function(o){var s=cn({},e);(0,A.keys)(s).map(function(c){sa(o,c)&&delete s[c]}),o.set(s,cn({fromInstance:i},n))})}},fb=function(i,n){n===void 0&&(n={});var e=hi(i,n);Ja(i,"classes",e,{opts:n}),e.forEach(function(t){t.set("classes",i.get("classes"),{fromInstance:i})}),i.__changesUp(n)},qg=function(i,n,e,t){var r=t||e||{},o=r.fromInstance,s=r.fromUndo,c={fromInstance:o,fromUndo:s},u=n.opt.temporary;if(t)if(t.add){var _=[],w=!!kn(i),h=hi(i,cn(cn({},c),{changed:"components:add"}));if(h.length){var C=$n(n);_=kn(C||n)||[],_=Yg([],_,!0),_.push(C||n)}!u&&Ja(i,"add",h,{opts:t,addedInstances:_.map(function(ce){return ce.cid}),added:n.cid}),h.forEach(function(ce){var q=cs(ce),ae=_.filter(function(R){var U=cs(R,{prev:1});return q&&U&&U===q})[0],F=ae||n.clone({symbol:!0,symbolInv:w});ce.append(F,cn({fromInstance:i},t))})}else{var T=$n(n);if(T&&!t.temporary&&T.set(un,kn(T).filter(function(Se){return Se!==n})),!gi(n)&&!t.skipRefsUp){var B="components:remove",W=t.index,N=n.parent(),z=cn({fromInstance:n},t),ue=gi(n),_e=function(ce){var q=ce.parent();q&&!sa(q,B)&&ce.remove(z)},h=sa(N,B)?[]:hi(n,c);ue&&(h=N&&hi(N,cn(cn({},c),{changed:B})),_e=function(ce){var q=ce.components().at(W);q&&q.remove(cn({fromInstance:N},z))}),!u&&Ja(i,"remove",h,{opts:t,removed:n.cid,isSymbNested:ue}),h.forEach(_e)}}else{var f=n,h=hi(i,cn(cn({},c),{changed:"components:reset"})),g=f.models,m=new Set;Ja(i,"reset",h,{components:g}),h.forEach(function(Se){var ce=Se.components(),q=g.map(function(ae,F){return!ho(ae)||m.has(ae)?(m.add(ae),ae.clone({symbol:!0})):ce.at(F)});ce.reset(q,cn({fromInstance:i},e))})}i.__changesUp(r)},db=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),On=function(){return On=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},On.apply(this,arguments)},ll=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},yv=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Gi=function(i,n){if(n===void 0&&(n=[]),!i)return[];var e=(0,A.isArray)(i)||(0,A.isFunction)(i.map)?i:[i];return e.map(function(t){n.push(t.getId()),Gi(t.components().models,n)}),n},Xg=function(i,n,e){n===void 0&&(n={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var t=e.visitedCmps,r=(0,A.isArray)(i)?i:[i];return r.map(function(o){var s=o.attributes,c=s===void 0?{}:s,u=o.components,f=o.tagName,h=o.style,g=c.id,m=c.draggable,_=ll(c,["id","draggable"]),w=o;if(g){if(t[g])t[g].push(w),g=ur.getNewId(n),w.attributes.id=g;else if(t[g]=[],n[g]){w=n[g];var C=w;f&&C.set({tagName:f},On(On({},e),{silent:!0})),(0,A.keys)(_).length&&C.addAttributes(_,On({},e)),(0,A.keys)(h).length&&C.addStyle(h,e)}}var T=(0,A.isFunction)(w.components)?w:null;if(u){var B=Xg(u,n,e);T?T.components().reset(B,e):w.components=B}else T&&T.components().reset([],e);return w})},pb=function(i){db(n,i);function n(e,t){var r=i.call(this,e,t)||this;r.opt=t,r.listenTo(r,"add",r.onAdd),r.listenTo(r,"remove",r.removeChildren),r.listenTo(r,"reset",r.resetChildren);var o=t.em,s=t.config;return r.config=s,r.em=o,r.domc=t.domc||o?.Components,r}return Object.defineProperty(n.prototype,"events",{get:function(){var e;return(e=this.domc)===null||e===void 0?void 0:e.events},enumerable:!1,configurable:!0}),n.prototype.resetChildren=function(e,t){var r=this;t===void 0&&(t={});var o=this,s=t.previousModels||[],c=s.filter(function(h){return!e.get(h.cid)}),u=Gi(e),f=Gi(s).filter(function(h){return u.indexOf(h)>=0});t.keepIds=(t.keepIds||[]).concat(f),c.forEach(function(h){return r.removeChildren(h,o,t)}),e.each(function(h){return r.onAdd(h)})},n.prototype.resetFromString=function(e,t){var r,o;e===void 0&&(e=""),t===void 0&&(t={}),t.keepIds=Gi(this);var s=this,c=s.domc,u=s.em,f=s.parent,h=u?.Css,g=c?.allById()||{},m=this.parseString(e,t),_=Xg(m,g,t),w=t.visitedCmps,C=w===void 0?{}:w;Object.keys(C).forEach(function(T){var B=C[T];if(B.length){var W=h?.getRules("#".concat(T))||[];W.length&&B.forEach(function(N){W.forEach(function(z){var ue=z.clone();ue.set("selectors",["#".concat(N.attributes.id)]),h.getAll().add(ue)})})}}),this.reset(_,t),u?.trigger("component:content",f,t,e),(o=(r=f).__checkInnerChilds)===null||o===void 0||o.call(r)},n.prototype.removeChildren=function(e,t,r){var o=this;if(r===void 0&&(r={}),!!e){var s=this,c=s.domc,u=s.em,f=r.temporary||r.fromUndo;if(e.prevColl=this,!f){var h=e.getId(),g=u.Selectors.getAll(),m=u.Css.getAll(),_=(r.keepIds||[]).indexOf(h)<0,w=c?c.allById():{};delete w[h];var C=_?m.remove(m.filter(function(W){return W.getSelectors().getFullString()==="#".concat(h)}),r):[];g.remove(C.map(function(W){return W.getSelectors().at(0)})),e.opt.temporary||(u.Commands.run("core:component-style-clear",{target:e}),e.views.forEach(function(W){W.scriptContainer&&e.emitWithEitor(er.I.scriptUnmount,{component:e,view:W,el:W.el})}),e.removed(),e.trigger("removed"),u.trigger(er.I.remove,e),c&&hl(e)&&gi(e)&&c.symbols.__trgEvent(c.events.symbolInstanceRemove,{component:e},!0));var T=e.components();T.forEach(function(W){qg(W,W,T,On(On({},r),{skipRefsUp:!0})),o.removeChildren(W,t,r)})}var B=e.components();u.stopListening(B),u.stopListening(e),u.stopListening(e.get("classes")),e.__postRemove()}},n.prototype.model=function(e,t){var r=t.collection.opt,o=r.em,s,c=o.Components.componentTypes;t.em=o,t.config=r.config,t.componentTypes=c,t.domc=r.domc;for(var u=0;u<c.length;u++){var f=c[u].id;if(f==e.type){s=c[u].model;break}}return s||(s=c[c.length-1].model,o&&e.type&&o.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new s(e,t)},n.prototype.parseString=function(e,t){t===void 0&&(t={});var r=this,o=r.em,s=r.domc,c=r.parent,u=c?.is("wrapper"),f=t.asDocument&&u,h=o.Css,g=o.Parser.parseHtml(e,On({asDocument:f},t.parserOptions)),m=g.html;if(u&&g.doctype){var _=c,w=g.html||{},C=w.components,T=C===void 0?[]:C,B=ll(w,["components"]),W=g.head||{},N=W.components,z=ll(W,["components"]);m=T,_.set(B,t),_.head.set(z,t),_.head.components(N,t),_.docEl.set(g.root,t),_.set({doctype:g.doctype})}if(ur.checkId(m,g.css,s.componentsById,t),g.css&&h&&!t.temporary){var ue=t.at,_e=ll(t,["at"]);h.addCollection(g.css,On(On({},_e),{extend:1}))}return m},n.prototype.add=function(e,t){var r=this;if(t===void 0&&(t={}),e!=null){t.keepIds=yv(yv([],t.keepIds||[],!0),Gi(t.previousModels),!0),(0,A.isString)(e)?e=this.parseString(e,t):(0,A.isArray)(e)&&e.forEach(function(s,c){if((0,A.isString)(s)){var u=r.parseString(s,t);e[c]=(0,A.isArray)(u)&&!u.length?null:u}});var o=((0,A.isArray)(e)?e:[e]).filter(Boolean).map(function(s){return r.processDef(s)});return e=(0,A.isArray)(e)?(0,A.flatten)(o,1):o[0],i.prototype.add.call(this,e,t)}},n.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var t=this,r=t.em,o=t.config,s=o===void 0?{}:o,c=s.processor,u=e;if(c){u=On({},u);var f=c(u);f&&((0,A.each)(u,function(T,B){return delete u[B]}),(0,A.extend)(u,f))}if(u.$$typeof&&typeof u.props=="object"){u=On({},u),u.props=On({},u.props);var h=r.Components,g=r.Parser,m=g.parserHtml;(0,A.each)(u,function(T,B){(0,A.includes)(["props","type"],B)||delete u[B]});var _=u.props,w=_.children;delete _.children,delete u.props;var C=m.splitPropsFromAttr(_);u.attributes=C.attrs,w&&(u.components=w),u.type?h.getType(u.type)||(u.tagName=u.type,delete u.type):u.type="textnode",(0,A.extend)(u,C.props)}return u},n.prototype.onAdd=function(e,t,r){r===void 0&&(r={});var o=this,s=o.domc,c=o.em,u=e.getStyle(),f=c&&c.getConfig().avoidInlineStyle;if(s&&s.Component.ensureInList(e),!(0,A.isEmpty)(u)&&!f&&c&&c.getConfig().forceClass&&!r.temporary){var h=e.cid;c.Css.setClassRule(h,u),e.setStyle({}),e.addClass(h)}if(e.__postAdd({recursive:!0}),c&&!r.temporary){var g=function(m){c.trigger(er.I.add,m,r),m.components().forEach(function(_){return g(_)})};g(e),s&&hl(e)&&gi(e)&&s.symbols.__trgEvent(s.events.symbolInstanceAdd,{component:e},!0)}},n}(Ie.pM),us=pb,hb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$s=1,au=2,$g=function(i){hb(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e,t)||this,o=t.config,s=o===void 0?{}:o,c=r.get("name"),u=r.get("label");c?u||r.set("label",c):r.set("name",u);var f=r.get("name"),h=s.escapeName,g=h?h(f):n.escapeName(f);return r.set("name",g),r.em=t.em,r}return n.prototype.defaults=function(){return{name:"",label:"",type:$s,active:!0,private:!1,protected:!1,_undo:!0}},n.prototype.isId=function(){return this.get("type")===au},n.prototype.isClass=function(){return this.get("type")===$s},n.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.escape,r=this.get("name"),o="";switch(this.get("type")){case $s:o=".";break;case au:o="#";break}return o+(t?t(r):r)},n.prototype.toString=function(){return this.getFullName()},n.prototype.getName=function(){return this.get("name")||""},n.prototype.getLabel=function(){return this.get("label")||""},n.prototype.setLabel=function(e){return this.set("label",e)},n.prototype.getActive=function(){return!!this.get("active")},n.prototype.setActive=function(e){return this.set("active",e)},n.prototype.toJSON=function(e){e===void 0&&(e={});var t=this.em,r=Ie.Kx.prototype.toJSON.call(this,[e]),o=(0,A.result)(this,"defaults");if(t?.getConfig().avoidDefaults){(0,A.forEach)(o,function(c,u){r[u]===c&&delete r[u]}),r.label===r.name&&delete r.label;var s=(0,A.keys)(r).length;s===1&&r.name&&(r=r.name),s===2&&r.name&&r.type&&(r=this.getFullName())}return r},n.escapeName=function(e){return"".concat(e).trim().replace(/\s+/g,"-")},n.TYPE_CLASS=$s,n.TYPE_ID=au,n}(Ie.Kx),$r=$g;$g.prototype.idAttribute="name";var vb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Jg=function(i,n){return i.reduce(function(e,t,r){return e.concat(Jg(i.slice(r+1),"".concat(n).concat(t)))},[n])},Zg=function(i){vb(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||$r.TYPE_CLASS)},n.prototype.getStyleable=function(){return(0,A.filter)(this.models,function(e){return e.getActive()&&!e.get("private")})},n.prototype.getValid=function(e){var t=e===void 0?{}:e,r=t.noDisabled;return(0,A.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return r?o.get("active"):1})},n.prototype.getFullString=function(e,t){t===void 0&&(t={});var r=[],o=e||this;return o.forEach(function(s){return r.push(s.getFullName(t))}),t.sort&&r.sort(),r.join("").trim()},n.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.combination,r=e.array,o=[],s=this.map(function(c){return c.getFullName(e)}).sort();return t?s.forEach(function(c,u){o=o.concat(Jg(s.slice(u+1),c))}):o=s,r?o:t?o.join(","):o.join("")},n}(Ie.pM),Uo=Zg;Zg.prototype.model=$r;var gb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_v=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},mb=function(i){gb(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},n.prototype.getId=function(){return this.get("id")},n.prototype.getLabel=function(){return this.get("label")},n}(Ie.Kx),ds=mb;function Qg(i){var n=new Set,e=new Map,t={items:[]};i.forEach(function(o){var s=o.category;if(s){n.add(s);var c=e.get(s);c?c.push(o):e.set(s,[o])}else t.items.push(o)});var r=Array.from(n).map(function(o){return{category:o,items:e.get(o)||[]}});return _v(_v([],r,!0),[t],!1)}var yb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bv="category",em=function(i){yb(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.initCategory=function(e){var t=e.get(bv),r=t instanceof ds;if(t&&!r){(0,A.isString)(t)?t={id:t,label:t}:(0,Pe.isObject)(t)&&!t.id&&(t.id=t.label);var o=this.getCategories().add(t);return e.set(bv,o,{silent:!0}),o}else if(r){var o=t;return this.getCategories().add(o),o}},n}(Ie.pM),_b=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tm=function(i){_b(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e,t)||this,o=t.events,s=t.em,c=o?.update;return s&&c&&r.on("change",function(u,f){return s.trigger(c,{category:u,changes:u.changedAttributes(),options:f})}),r}return n.prototype.add=function(e,t){var r=(0,A.isArray)(e)?e:[e];return r.forEach(function(o){return o&&(o.id=(0,Pe.normalizeKey)("".concat(o.id)))}),i.prototype.add.call(this,e,t)},n.prototype.get=function(e){return i.prototype.get.call(this,(0,A.isString)(e)?(0,Pe.normalizeKey)(e):e)},n}(Ie.pM),vl=tm;tm.prototype.model=ds;var pf=function(i){return i.select="trait:select",i.value="trait:value",i.categoryUpdate="trait:category:update",i.custom="trait:custom",i.all="trait",i}(pf||{}),Uu=pf,bb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gl=function(){return gl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},gl.apply(this,arguments)},wb=function(i){bb(n,i);function n(e,t){var r=i.call(this,e)||this,o=r.attributes,s=o.target,c=o.name;return!r.get("id")&&r.set("id",c),s&&r.setTarget(s),r.em=t,r}return n.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"category",{get:function(){var e=this.get("category");return e instanceof ds?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),n.prototype.setTarget=function(e){if(e){var t=this.attributes,r=t.name,o=t.changeProp,s=t.value,c=t.getValue;this.target=e,this.unset("target");var u=o?"change:".concat(r):"change:attributes:".concat(r);this.listenTo(e,u,this.targetUpdated);var f=s||(c?void 0:this.getValue());!(0,A.isUndefined)(f)&&this.set({value:f},{silent:!0})}},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(e){var t;e===void 0&&(e={});var r=e.locale,o=r===void 0?!0:r,s=this.getId(),c=this.get("label")||this.getName();return o&&((t=this.em)===null||t===void 0?void 0:t.t("traitManager.traits.labels.".concat(s)))||c},n.prototype.getValue=function(e){return this.getTargetValue(e)},n.prototype.setValue=function(e,t){var r=this;t===void 0&&(t={});var o=this,s=o.component,c=o.em,u=t.partial,f={},h=this.attributes.setValue;if(h){h({value:e,component:s,editor:c?.getEditor(),trait:this,partial:!!u,options:t,emitUpdate:function(){return r.targetUpdated()}});return}u&&(f.avoidStore=!0),this.setTargetValue(e,f)},n.prototype.getDefault=function(){return this.get("default")},n.prototype.getOptions=function(){return this.get("options")||[]},n.prototype.getOption=function(e){var t=this,r=(0,Pe.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(o){return t.getOptionId(o)===r})[0]},n.prototype.getOptionId=function(e){return e.id||e.value},n.prototype.getOptionLabel=function(e,t){var r;t===void 0&&(t={});var o=t.locale,s=o===void 0?!0:o,c=(0,A.isString)(e)?this.getOption(e):e,u=this.getOptionId(c),f=c.label||c.name||u,h=this.getName();return s&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.options.".concat(h,".").concat(u)))||f},n.prototype.getCategoryLabel=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.category,s=e.locale,c=s===void 0?!0:s,u=o?.getId(),f=o?.getLabel();return c&&r?.t("traitManager.categories.".concat(u))||f||""},n.prototype.runCommand=function(){var e=this.em,t=this.attributes.command;if(t&&e)return(0,A.isString)(t)?e.Commands.run(t):t(e.Editor,this)},n.prototype.props=function(){return this.attributes},n.prototype.targetUpdated=function(){var e=this,t=e.component,r=e.em,o=this.getTargetValue({useType:!0});this.set({value:o},{fromTarget:1});var s={trait:this,component:t,value:o};t.trigger(Uu.value,s),r?.trigger(Uu.value,s),r?.trigger("trait:update",s)},n.prototype.getTargetValue=function(e){e===void 0&&(e={});var t=this,r=t.component,o=t.em,s=this.getName(),c=this.get("getValue"),u;if(c?u=c({editor:o?.getEditor(),trait:this,component:r}):this.changeProp?u=r.get(s):u=r.getAttributes()[s],e.useType){var f=this.getType();if(f==="checkbox"){var h=this.attributes,g=h.valueTrue,m=h.valueFalse;!(0,A.isUndefined)(g)&&g===u?u=!0:!(0,A.isUndefined)(m)&&m===u&&(u=!1)}}return(0,A.isUndefined)(u)?"":u},n.prototype.setTargetValue=function(e,t){var r;t===void 0&&(t={});var o=this,s=o.component,c=o.attributes,u=this.getName();if(!(0,A.isUndefined)(e)){var f=e;if(e==="false"?f=!1:e==="true"&&(f=!0),this.getType()==="checkbox"){var h=c.valueTrue,g=c.valueFalse;f&&!(0,A.isUndefined)(h)&&(f=h),!f&&!(0,A.isUndefined)(g)&&(f=g)}var m=(r={},r[u]=f,r);m.__p=t.avoidStore?null:void 0,this.changeProp?s.set(m,t):s.addAttributes(m,t)}},n.prototype.setValueFromInput=function(e,t,r){t===void 0&&(t=!0),r===void 0&&(r={});var o={value:e};this.set(o,gl(gl({},r),{avoidStore:1})),t&&(this.set("value","",r),this.set(o,r))},n.prototype.getInitValue=function(){var e=this.component,t=this.getName(),r;if(e){var o=e.get("attributes");r=this.changeProp?e.get(t):o[t]}return r||this.get("value")||this.get("default")},n}(Ie.Kx),ml=wb,xb=function(){function i(n){n===void 0&&(n={}),this.config=n}return i.prototype.build=function(n,e){return(0,A.isString)(n)?this.buildFromString(n,e):new ml(n,e)},i.prototype.buildFromString=function(n,e){var t={name:n,type:"text"};switch(n){case"target":t.type="select",t.default=!1,t.options=this.config.optionsTarget;break}return new ml(t,e)},i}(),Cb=xb,Sb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ob=function(i){Sb(n,i);function n(e,t){var r=i.call(this,e)||this;r.categories=new vl;var o=t.em;r.em=o,r.categories=new vl([],{em:o,events:{update:Uu.categoryUpdate}}),r.on("add",r.handleAdd),r.on("reset",r.handleReset);var s=r.module,c=s?.getConfig();return r.tf=new Cb(c),r}return Object.defineProperty(n.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),n.prototype.getCategories=function(){return this.categories},n.prototype.handleReset=function(e,t){var r=t===void 0?{}:t,o=r.previousModels,s=o===void 0?[]:o;s.forEach(function(c){return c.trigger("remove")})},n.prototype.handleAdd=function(e){e.em=this.em;var t=this.target;t&&(e.target=t),this.initCategory(e)},n.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(t){return t.setTarget(e)})},n.prototype.add=function(e,t){if(e!=null){var r=this,o=r.target,s=r.em;if((0,A.isArray)(e)){for(var c=[],u=0,f=e.length;u<f;u++){var h=e[u];c[u]=h instanceof ml?h:this.tf.build(h,s),c[u].setTarget(o)}return i.prototype.add.call(this,c,t)}var g=e instanceof ml?e:this.tf.build(e,s);return g.setTarget(o),i.prototype.add.call(this,g,t)}},n}(em),yl=Ob,_l=function(){return _l=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},_l.apply(this,arguments)},bl=function(){function i(n,e){this.updateFn=n,this.em=e,this.dynamicVariableListeners={}}return i.getStaticValues=function(n,e){if(!n)return{};for(var t=_l({},n),r=Object.keys(n),o=0,s=r;o<s.length;o++){var c=s[o],u=n[c];if($a(u)){var f=mv(u,e).value;t[c]=f}}return t},i.areStaticValues=function(n){return n?Object.keys(n).every(function(e){return!$a(n[e])}):!0},i.prototype.setDynamicValues=function(n){return this.removeListeners(),this.addDynamicValues(n)},i.prototype.addDynamicValues=function(n){var e=this;if(!n)return{};this.removeListeners(Object.keys(n));for(var t=this.getDynamicValues(n),r=Object.keys(t),o=function(u){var f=r[u];s.dynamicVariableListeners[f]=new bc({em:s.em,dataVariable:t[f],updateValueFromDataVariable:function(h){e.updateFn.bind(e)(f,h)}})},s=this,c=0;c<r.length;c++)o(c);return t},i.prototype.getDynamicValues=function(n){for(var e={},t=Object.keys(n),r=0;r<t.length;r++){var o=t[r];if($a(n[o])){var s=mv(n[o],this.em).variable;e[o]=s}}return e},i.prototype.removeListeners=function(n){var e=this,t=n||Object.keys(this.dynamicVariableListeners);t.forEach(function(r){e.dynamicVariableListeners[r]&&(e.dynamicVariableListeners[r].destroy(),delete e.dynamicVariableListeners[r])})},i.prototype.getSerializableValues=function(n){if(!n)return{};for(var e=_l({},n),t=Object.keys(e),r=0;r<t.length;r++){var o=t[r];this.dynamicVariableListeners[o]&&(e[o]=this.dynamicVariableListeners[o].dynamicVariable.toJSON())}return e},i.prototype.getAllSerializableValues=function(){for(var n={},e=Object.keys(this.dynamicVariableListeners),t=0;t<e.length;t++){var r=e[t];n[r]=this.dynamicVariableListeners[r].dynamicVariable.toJSON()}return n},i}(),kb=function(){function i(n,e){this.component=n,this.propertyWatcher=new bl(this.createPropertyUpdater(),e),this.attributeWatcher=new bl(this.createAttributeUpdater(),e)}return i.prototype.createPropertyUpdater=function(){var n=this;return function(e,t){n.component.set(e,t,{fromDataSource:!0,avoidStore:!0})}},i.prototype.createAttributeUpdater=function(){var n=this;return function(e,t){var r;n.component.addAttributes((r={},r[e]=t,r),{fromDataSource:!0,avoidStore:!0})}},i.prototype.addProps=function(n){this.propertyWatcher.addDynamicValues(n)},i.prototype.addAttributes=function(n){this.attributeWatcher.addDynamicValues(n)},i.prototype.setAttributes=function(n){this.attributeWatcher.setDynamicValues(n)},i.prototype.removeAttributes=function(n){this.attributeWatcher.removeListeners(n)},i.prototype.getDynamicPropsDefs=function(){return this.propertyWatcher.getAllSerializableValues()},i.prototype.getDynamicAttributesDefs=function(){return this.attributeWatcher.getAllSerializableValues()},i.prototype.getAttributesDefsOrValues=function(n){return this.attributeWatcher.getSerializableValues(n)},i.prototype.getPropsDefsOrValues=function(n){return this.propertyWatcher.getSerializableValues(n)},i.prototype.destroy=function(){this.propertyWatcher.removeListeners(),this.attributeWatcher.removeListeners()},i}(),Tb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Lt=function(){return Lt=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Lt.apply(this,arguments)},Pb=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},Un=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},wv=function(i){return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},za=function(i){return!!i?.getConfig().avoidInlineStyle},hf="component:drag",un="__symbols",Mn="__symbol",Za="__symbol_ovrd",cl=er.I.update,Wu=er.I.updateInside,Eb=function(i){Tb(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this;r.componentDVListener=new kb(r,t.em),r.componentDVListener.addProps(e),(0,A.bindAll)(r,"__upSymbProps","__upSymbCls","__upSymbComps");var o=t.em,s=r.parent(),c=s?.attributes,u=r.get("propagate");if(u&&r.set("propagate",(0,A.isArray)(u)?u:[u]),c&&c.propagate&&!u){var f={},h=c.propagate;h.forEach(function(C){return f[C]=s.get(C)}),f.propagate=h,r.set(Lt(Lt({},f),e))}if(t&&t.config&&t.config.voidElements.indexOf(r.get("tagName"))>=0&&r.set("void",!0),t.em=o,r.opt=t,r.em=o,r.config=t.config||{},r.setAttributes(Lt(Lt({},(0,A.result)(r,"defaults").attributes||{}),r.get("attributes")||{})),r.ccid=n.createId(r,t),r.preInit(),r.initClasses(),r.initComponents(),r.initTraits(),r.initToolbar(),r.initScriptProps(),r.listenTo(r,"change:script",r.scriptUpdated),r.listenTo(r,"change:tagName",r.tagUpdated),r.listenTo(r,"change:attributes",r.attrUpdated),r.listenTo(r,"change:attributes:id",r._idUpdated),r.on("change:toolbar",r.__emitUpdateTlb),r.on("change",r.__onChange),r.on(Wu,r.__propToParent),r.set("status",""),r.views=[],["classes","traits","components"].forEach(function(C){var T="add remove ".concat(C!=="components"?"change":"");r.listenTo(r.get(C),T.trim(),function(){for(var B=[],W=0;W<arguments.length;W++)B[W]=arguments[W];return r.emitUpdate.apply(r,Un([C],B,!1))})}),!t.temporary){var g=o&&o.Css,m=r.attributes,_=m.styles,w=m.type;_&&g&&g.addCollection(_,{avoidUpdateStyle:!0},{group:"cmp:".concat(w)}),r.__postAdd(),r.init(),ho(r)&&Fa(r),o?.trigger(er.I.create,r,t)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var e;return e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},e[Mn]=0,e[un]=0,e[Za]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){var e;return(e=this.get("content"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){var e;return(e=this.frame)===null||e===void 0?void 0:e.getPage()},enumerable:!1,configurable:!0}),n.prototype.preInit=function(){},n.prototype.init=function(){},n.prototype.updated=function(e,t,r){},n.prototype.removed=function(){},n.prototype.set=function(e,t,r){var o,s,c,u={skipWatcherUpdates:!1,fromDataSource:!1};typeof e=="object"?(c=e,u=t||u):typeof e=="string"?(c=(o={},o[e]=t,o),u=r||u):(c={},u=r||u);var f=this.em||u.em,h=bl.getStaticValues(c,f),g=u.skipWatcherUpdates||u.fromDataSource;return g||(s=this.componentDVListener)===null||s===void 0||s.addProps(c),i.prototype.set.call(this,h,u)},n.prototype.__postAdd=function(e){e===void 0&&(e={});var t=this.em,r=t?.UndoManager,o=this.components();r&&!this.__hasUm&&(r.add(o),r.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&o.map(function(s){return s.__postAdd(e)})},n.prototype.__postRemove=function(){var e=this.em,t=e?.UndoManager;t&&(t.remove(this.components()),t.remove(this.getSelectors()),delete this.__hasUm)},n.prototype.__onChange=function(e,t){var r=this,o=this.changedAttributes()||{};(0,A.keys)(o).forEach(function(s){return r.emitUpdate(s)}),["status","open","toolbar","traits"].forEach(function(s){return delete o[s]}),(0,Pe.isEmptyObj)(o)||(this.__changesUp(t),this.__propSelfToParent({component:this,changed:o,options:t}))},n.prototype.__onStyleChange=function(e){var t=this,r=this.em;if(r){var o="component:styleUpdate",s=(0,A.keys)(e),c={style:e};r.trigger(o,this,c),s.forEach(function(u){return r.trigger("".concat(o,":").concat(u),t,c)})}},n.prototype.__changesUp=function(e){var t=this,r=t.em,o=t.frame;[o,r].forEach(function(s){return s&&s.changesUp(e)})},n.prototype.__propSelfToParent=function(e){this.trigger(cl,e),this.__propToParent(e)},n.prototype.__propToParent=function(e){var t=this.parent();t&&t.trigger(Wu,e)},n.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},n.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},n.prototype.__upSymbProps=function(e,t){t===void 0&&(t={}),ub(this,t)},n.prototype.__upSymbCls=function(e,t,r){r===void 0&&(r={}),fb(this,r)},n.prototype.__upSymbComps=function(e,t,r){qg(this,e,t,r)},n.prototype.is=function(e){return this.get("type")==e},n.prototype.props=function(){return this.attributes},n.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},n.prototype.setDragMode=function(e){return this.set("dmode",e)},n.prototype.getDragMode=function(){return this.get("dmode")||""},n.prototype.setSymbolOverride=function(e){var t;this.set(Za,(t=(0,A.isString)(e)?[e]:e)!==null&&t!==void 0?t:0)},n.prototype.getSymbolOverride=function(){return this.get(Za)},n.prototype.find=function(e){var t,r=[],o=(t=this.view)===null||t===void 0?void 0:t.$el.find(e);return o?.each(function(s){var c=o.eq(s),u=c.data("model");u&&r.push(u)}),r},n.prototype.findType=function(e){var t=[],r=function(o){return o.forEach(function(s){s.is(e)&&t.push(s),r(s.components())})};return r(this.components()),t},n.prototype.findFirstType=function(e){return this.findType(e).at(0)},n.prototype.closest=function(e){var t,r=(t=this.view)===null||t===void 0?void 0:t.$el.closest(e);return r?.length?r.data("model"):void 0},n.prototype.closestType=function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t},n.prototype.contains=function(e){var t=!1;if(!e)return t;var r=function(o){!t&&o.forEach(function(s){s===e&&(t=!0),!t&&r(s.components())})};return r(this.components()),t},n.prototype.tagUpdated=function(){this.trigger("rerender")},n.prototype.replaceWith=function(e,t){t===void 0&&(t={});var r=this.collection,o=r.indexOf(this);r.remove(this);var s=r.add(e,Lt(Lt({},t),{at:o}));return(0,A.isArray)(s)?s:[s]},n.prototype.attrUpdated=function(e,t,r){var o=this;r===void 0&&(r={});var s=this.get("attributes"),c=s.class;c&&this.setClass(c),delete s.class;var u=s.style;u&&this.setStyle(u,r),delete s.style;var f=Lt({},this.previous("attributes")),h=(0,Pe.shallowDiff)(f,this.get("attributes"));(0,A.keys)(h).forEach(function(g){var m,_="attributes:".concat(g);o.trigger("change:".concat(_),o,h[g],r),(m=o.em)===null||m===void 0||m.trigger("".concat(cl,":").concat(_),o,h[g],r)})},n.prototype.setAttributes=function(e,t){t===void 0&&(t={skipWatcherUpdates:!1,fromDataSource:!1});var r=this.em||t.em,o=bl.getStaticValues(e,r),s=t.skipWatcherUpdates||t.fromDataSource;return s||this.componentDVListener.setAttributes(e),this.set("attributes",Lt({},o),t),this},n.prototype.addAttributes=function(e,t){t===void 0&&(t={});var r=this.componentDVListener.getDynamicAttributesDefs();return this.setAttributes(Lt(Lt(Lt({},this.getAttributes({noClass:!0})),r),e),t)},n.prototype.removeAttributes=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var r=Array.isArray(e)?e:[e];this.componentDVListener.removeAttributes(r);var o=this.getAttributes();return r.map(function(s){return delete o[s]}),this.setAttributes(o,t)},n.prototype.getStyle=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r=this.em,o=(0,A.isString)(e)?e:"",s=o?t:e;if(za(r)&&!s.inline){var c=r.get("state"),u=r.Css,f=u.getIdRule(this.getId(),Lt({state:c},s));return this.rule=f,f?f.getStyle(o):{}}return i.prototype.getStyle.call(this,o)},n.prototype.setStyle=function(e,t){var r=this;e===void 0&&(e={}),t===void 0&&(t={});var o=this,s=o.opt,c=o.em;if(za(c)&&!s.temporary&&!t.inline){var u=this.get("style")||{};e=(0,A.isString)(e)?this.parseStyle(e):e,e=Lt(Lt({},e),u);var f=c.get("state"),h=c.Css,g=this.getStyle(t);this.rule=h.setIdRule(this.getId(),e,Lt({state:f},t));var m=(0,Pe.shallowDiff)(g,e);this.set("style","",{silent:!0}),(0,A.keys)(m).forEach(function(_){return r.trigger("change:style:".concat(_))})}else e=i.prototype.setStyle.apply(this,arguments);return s.temporary||this.__onStyleChange(t.addStyle||e),e},n.prototype.getAttributes=function(e){e===void 0&&(e={});var t=this.em,r=[],o=Lt({},this.get("attributes")),s=t?.Selectors,c=this.getId();if(e.noClass?delete o.class:(this.classes.forEach(function(h){return r.push((0,A.isString)(h)?h:h.getName())}),r.length&&(o.class=r.join(" "))),!e.noStyle){var u=this.getStyle({inline:!0});(0,Pe.isObject)(u)&&!(0,Pe.isEmptyObj)(u)&&(o.style=this.styleToString({inline:!0}))}if(!(0,A.has)(o,"id")){var f=!1;(za(t)||!(0,A.isEmpty)(this.getStyle()))&&(f=!!s?.get(c,s.Selector.TYPE_ID)),(ho(this)||this.get("script-export")||this.get("script"))&&(f=!0),f&&(o.id=c)}return o},n.prototype.addClass=function(e){var t=this.em.Selectors.addClass(e);return this.classes.add(t)},n.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},n.prototype.removeClass=function(e){var t=[];e=(0,A.isArray)(e)?e:[e];var r=this.classes,o=$r.TYPE_CLASS;return e.forEach(function(s){var c=s.split(" ");c.forEach(function(u){var f=r.where({name:u,type:o})[0];f&&t.push(r.remove(f))})}),t},n.prototype.getClasses=function(){var e=this.getAttributes(),t=e.class;return t?t.split(" "):[]},n.prototype.initClasses=function(e,t,r){r===void 0&&(r={});var o="change:classes",s=this.get("attributes")||{},c=s.class,u=Pb(s,["class"]),f=[this,o,this.initClasses],h=this.get("classes")||c||[],g=(0,A.isString)(h)?h.split(" "):h;this.stopListening.apply(this,f);var m=this.normalizeClasses(g),_=new Uo([]);return this.set("classes",_,r),_.add(m),_.on("add remove reset",this.__upSymbCls),c&&m.length&&this.set("attributes",u),this.listenTo.apply(this,f),this},n.prototype.initComponents=function(){var e="change:components",t=[this,e,this.initComponents];this.stopListening.apply(this,t);var r=new us([],this.opt);r.parent=this;var o=this.get("components"),s=!this.opt.avoidChildren;return this.set("components",r),s&&o&&r.add((0,A.isFunction)(o)?o(this):o,this.opt),r.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},n.prototype.initTraits=function(e){var t=this,r=this.em,o="change:traits";this.off(o,this.initTraits),this.__loadTraits();var s=Lt({},this.get("attributes")),c=this.traits;c.each(function(f){var h=f.getName(),g=f.getInitValue();f.changeProp?t.set(h,g):h&&g&&(s[h]=g)});var u=this.componentDVListener.getDynamicAttributesDefs();return c.length&&this.setAttributes(Lt(Lt({},s),u)),this.on(o,this.initTraits),e&&r&&r.trigger("component:toggled"),this},n.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",t=["change:".concat(e),this.initScriptProps];this.off.apply(this,t);var r=this.previous(e)||[],o=this.get(e)||[],s=r.map(function(u){return"change:".concat(u)}).join(" "),c=o.map(function(u){return"change:".concat(u)}).join(" ");s&&this.off(s,this.__scriptPropsChange),c&&this.on(c,this.__scriptPropsChange),this.on.apply(this,t)}},n.prototype.__scriptPropsChange=function(e,t,r){r===void 0&&(r={}),!r.avoidStore&&this.trigger("rerender")},n.prototype.append=function(e,t){t===void 0&&(t={});var r=(0,A.isArray)(e)?Un([],e,!0):[e],o=r.map(function(c){return(0,A.isString)(c)||c.collection&&c.collection.remove(c,{temporary:!0}),c}),s=this.components().add(o,Lt({action:er.t.add},t));return s},n.prototype.components=function(e,t){t===void 0&&(t={});var r=this.get("components");return(0,A.isUndefined)(e)?r:(r.reset(void 0,t),e?this.append(e,t):[])},n.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},n.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},n.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},n.prototype.parent=function(e){e===void 0&&(e={});var t=this.collection||e.prev&&this.prevColl;return t?t.parent:void 0},n.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},n.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},n.prototype.initToolbar=function(){var e=this.em,t=this,r=e&&e.getConfig().stylePrefix||"";if(!t.get("toolbar")&&e){var o=[];t.collection&&o.push({label:e.getIcon("arrowUp"),command:function(s){return s.runCommand("core:component-exit",{force:1})}}),t.get("draggable")&&o.push({attributes:{class:"".concat(r,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),t.get("copyable")&&o.push({label:e.getIcon("copy"),command:"tlb-clone"}),t.get("removable")&&o.push({label:e.getIcon("delete"),command:"tlb-delete"}),t.set("toolbar",o)}},n.prototype.__loadTraits=function(e,t){t===void 0&&(t={});var r=e||this.traits;if(!(r instanceof yl)){r=(0,A.isFunction)(r)?r(this):r;var o=new yl([],this.opt);o.setTarget(this),r.length&&o.add(r),this.set({traits:o},t)}return this},n.prototype.getTraits=function(){return this.__loadTraits(),Un([],this.traits.models,!0)},n.prototype.setTraits=function(e){var t=(0,A.isArray)(e)?e:[e];return this.set({traits:t}),this.getTraits()},n.prototype.getTrait=function(e){return this.getTraits().filter(function(t){return t.get("id")===e||t.get("name")===e})[0]||null},n.prototype.updateTrait=function(e,t){var r,o=this.getTrait(e);return o&&o.set(t),(r=this.em)===null||r===void 0||r.trigger("component:toggled"),this},n.prototype.getTraitIndex=function(e){var t=this.getTrait(e);return t?this.traits.indexOf(t):-1},n.prototype.removeTrait=function(e){var t=this,r,o=(0,A.isArray)(e)?e:[e],s=o.map(function(f){return t.getTrait(f)}),c=this.traits,u=s.length?c.remove(s):[];return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,A.isArray)(u)?u:[u]},n.prototype.addTrait=function(e,t){var r;t===void 0&&(t={}),this.__loadTraits();var o=this.traits.add(e,t);return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,A.isArray)(o)?o:[o]},n.prototype.normalizeClasses=function(e){var t=[],r=this.em,o=r?.Selectors;return o?e.models?Un([],e.models,!0):(e.forEach(function(s){return t.push(o.add(s))}),t):[]},n.prototype.clone=function(e){e===void 0&&(e={});var t=this.em,r=Lt({},this.componentDVListener.getPropsDefsOrValues(this.attributes)),o=Lt({},this.opt),s=this.getId(),c=t?.Css;r.attributes=Lt({},r.attributes?this.componentDVListener.getAttributesDefsOrValues(r.attributes):void 0),r.components=[],r.classes=[],r.traits=[],gi(this)&&(e.symbol=!0),this.get("components").each(function(w,C){r.components[C]=w.clone(Lt(Lt({},e),{_inner:1}))}),this.get("traits").each(function(w,C){r.traits[C]=w.clone()}),this.get("classes").each(function(w,C){r.classes[C]=w.get("name")}),r.status="",o.collection=null;var u=new this.constructor(r,o),f="#".concat(u.getId()),h=c?c.getRules("#".concat(s)):[];h.forEach(function(w){var C=w.clone();C.set("selectors",[f]),c.getAll().add(C)}),u.set(un,0);var g=$n(this),m=kn(this);!e.symbol&&(g||m)?(u.set(Mn,0),u.set(un,0)):g?(g.set(un,Un(Un([],kn(g),!0),[u],!1)),Fa(u)):e.symbol&&(pi(this)?(this.set(un,Un(Un([],m,!0),[u],!1)),u.set(Mn,this),Fa(u)):e.symbolInv?(this.set(un,[u]),u.set(Mn,this),[this,u].map(function(w){return Fa(w)})):(u.set(un,[this]),[this,u].map(function(w){return Fa(w)}),this.set(Mn,u)));var _="component:clone";return t&&t.trigger(_,u),this.trigger(_,u),u},n.prototype.getName=function(e){e===void 0&&(e={});var t=this.em,r=this.attributes,o=r.type,s=r.tagName,c=r.name,u=o||s,f=o?"":s,h="domComponents.names.",g=c&&t?.t("".concat(h).concat(c)),m=f&&t?.t("".concat(h).concat(f)),_=t&&(t.t("".concat(h).concat(o))||t.t("".concat(h).concat(s))),w=this.get("custom-name");return(e.noCustom?"":w)||g||c||m||(0,Pe.capitalize)(f)||_||(0,Pe.capitalize)(u)},n.prototype.setName=function(e,t){t===void 0&&(t={}),this.set("custom-name",e,t)},n.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},n.prototype.toHTML=function(e){e===void 0&&(e={});var t=e.tag,r=t||this.get("tagName");delete e.tag;var o=this.__attrToString(e),s=o?" ".concat(o):"",c=this.getInnerHTML(e),u=!c&&this.get("void"),f="<".concat(r).concat(s).concat(u?"/":"",">").concat(c);return!u&&(f+="</".concat(r,">")),f},n.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},n.prototype.__innerHTML=function(e){e===void 0&&(e={});var t=this.components();return t.length?t.map(function(r){return r.toHTML(e)}).join(""):this.content},n.prototype.__attrToString=function(e){e===void 0&&(e={});var t=[],r=e.attributes,o=this.getAttrToHTML(e);if(r&&((0,A.isFunction)(r)?o=r(this,o)||{}:(0,Pe.isObject)(r)&&(o=r)),e.withProps){var s=this.toJSON();(0,A.forEach)(s,function(g,m){var _=["classes","attributes","components"];m[0]!=="_"&&_.indexOf(m)<0&&(o["data-gjs-".concat(m)]=(0,A.isArray)(g)||(0,Pe.isObject)(g)?JSON.stringify(g):(0,A.isBoolean)(g)?"".concat(g):g)})}for(var c in o){var u=o[c];if(!(0,A.isUndefined)(u)&&u!==null)if((0,A.isBoolean)(u))u&&t.push(c);else{var f="";if(e.altQuoteAttr&&(0,A.isString)(u)&&u.indexOf('"')>=0)f="'".concat(u.replace(/'/g,"&apos;"),"'");else{var h=(0,A.isString)(u)?u.replace(/"/g,"&quot;"):u;f='"'.concat(h,'"')}t.push("".concat(c,"=").concat(f))}}return t.join(" ")},n.prototype.getAttrToHTML=function(e){var t=this.getAttributes();return za(this.em)&&e?.keepInlineStyle!==!0&&delete t.style,t},n.prototype.toJSON=function(e){e===void 0&&(e={});var t=dl.Model.prototype.toJSON.call(this,e);if(t=Lt(Lt({},t),this.componentDVListener.getDynamicPropsDefs()),t.attributes=this.componentDVListener.getAttributesDefsOrValues(this.getAttributes()),delete t.componentDVListener,delete t.attributes.class,delete t.toolbar,delete t.traits,delete t.status,delete t.open,delete t._undoexc,delete t.delegate,!e.fromUndo){var r=t[Mn],o=t[un];o&&(0,A.isArray)(o)&&(t[un]=o.filter(function(s){return s}).map(function(s){return s.getId?s.getId():s})),r&&!(0,A.isString)(r)&&(t[Mn]=r.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(t),t},n.prototype.getChangedProps=function(e){var t=e||dl.Model.prototype.toJSON.apply(this),r=(0,A.result)(this,"defaults");return(0,A.forEach)(r,function(o,s){["type"].indexOf(s)===-1&&t[s]===o&&delete t[s]}),(0,A.isEmpty)(t.type)&&delete t.type,(0,A.forEach)(["attributes","style"],function(o){(0,A.isEmpty)(r[o])&&(0,A.isEmpty)(t[o])&&delete t[o]}),(0,A.forEach)(["classes","components"],function(o){(!t[o]||(0,A.isEmpty)(r[o])&&!t[o].length)&&delete t[o]}),t},n.prototype.getId=function(){var e=this.get("attributes")||{};return e.id||this.ccid||this.cid},n.prototype.setId=function(e,t){var r=Lt({},this.get("attributes"));return r.id=e,this.set("attributes",r,t),this},n.prototype.getEl=function(e){var t=this.getView(e);return t&&t.el},n.prototype.getView=function(e){var t=this,r=t.view,o=t.views,s=t.em,c=e||s?.getCurrentFrameModel();return c&&(r=o.filter(function(u){return u.frameView===c.view})[0]),r},n.prototype.getCurrentView=function(){var e=this.em.getCurrentFrame(),t=e?.model;return this.getView(t)},n.prototype.__getScriptProps=function(){var e=this.props(),t=this.get("script-props")||[];return t.reduce(function(r,o){return r[o]=e[o],r},{})},n.prototype.getScriptString=function(e){var t=this,r=e||this.get("script")||"";if(!r)return r;if(this.get("script-props"))r=r.toString().trim();else{if((0,A.isFunction)(r)){var o=r.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),r=o.trim()}var s=this.em.getConfig(),c=wv(s.tagVarStart||"{[ "),u=wv(s.tagVarEnd||" ]}"),f=new RegExp("".concat(c,"([\\w\\d-]*)").concat(u),"g");r=r.replace(f,function(h,g){t.scriptUpdated();var m=t.attributes[g]||"";return(0,A.isArray)(m)||typeof m=="object"?JSON.stringify(m):m})}return r},n.prototype.emitUpdate=function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=this.em,c=cl+(e?":".concat(e):""),u=e&&this.get(e);e&&this.updated.apply(this,Un([e,u,e&&this.previous(e)],r,!1)),this.trigger.apply(this,Un([c],r,!1)),s&&s.trigger.apply(s,Un([c,this],r,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(t={},t[e]=u,t),options:r[2]||r[1]||{}})},n.prototype.emitWithEitor=function(e,t){[this.em,this].forEach(function(r){return r?.trigger(e,t)})},n.prototype.onAll=function(e){return(0,A.isFunction)(e)&&(e(this),this.components().forEach(function(t){return t.onAll(e)})),this},n.prototype.forEachChild=function(e){(0,A.isFunction)(e)&&this.components().forEach(function(t){e(t),t.forEachChild(e)})},n.prototype.remove=function(e){var t=this;e===void 0&&(e={});var r=this.em,o=this.collection,s=function(){o&&o.remove(t,Lt({action:er.t.remove},e)),o||(t.components("",e),t.components().removeChildren(t,void 0,e))},c=Lt({},e);return[this,r].map(function(u){return u.trigger(er.I.removeBefore,t,s,c)}),!c.abort&&s(),this},n.prototype.destroy=function(e){return this.componentDVListener.destroy(),i.prototype.destroy.call(this,e)},n.prototype.move=function(e,t){if(t===void 0&&(t={}),e){var r=t.at,o=this.index(),s=e===this.parent(),c=o===r||o===r-1;if(!s||!c){s&&r&&r>o&&(t.at=r-1);var u=er.t.move;this.remove({action:u,temporary:1}),e.append(this,Lt({action:u},t)),this.emitUpdate()}}return this},n.prototype.isInstanceOf=function(e){var t,r,o=(r=(t=this.em)===null||t===void 0?void 0:t.Components.getType(e))===null||r===void 0?void 0:r.model;if(!o)return!1;var s=this.constructor.typeExtends;return this instanceof o||s.has(e)},n.prototype.isChildOf=function(e){for(var t=(0,A.isString)(e),r=this.parent();r;){if(t){if(r.isInstanceOf(e))return!0}else if(r===e)return!0;r=r.parent()}return!1},n.prototype.resetId=function(e){e===void 0&&(e={});var t=this.em,r=this.getId();if(!r)return this;var o=n.createId(this);this.setId(o);var s=t?.Css.getIdRule(r),c=s?.get("selectors").at(0);return c?.set("name",o),this},n.prototype._getStyleRule=function(e){var t=e===void 0?{}:e,r=t.id,o=this.em,s=r||this.getId();return o?.Css.getIdRule(s)},n.prototype._getStyleSelector=function(e){var t=this._getStyleRule(e);return t?.get("selectors").at(0)},n.prototype._idUpdated=function(e,t,r){if(r===void 0&&(r={}),!r.idUpdate){var o=this.ccid,s=(this.get("attributes")||{}).id,c=(this.previous("attributes")||{}).id||o,u=n.getList(this);if(u[s]||!s&&c)return this.setId(c,{idUpdate:!0});delete u[c],u[s]=this,this.ccid=s;var f=this._getStyleSelector({id:c});f&&f.set({name:s,label:s})}},n.getDefaults=function(){return(0,A.result)(this.prototype,"defaults")},n.isComponent=function(e,t){return{tagName:(0,Pe.toLowerCase)(e.tagName)}},n.ensureInList=function(e){var t=n.getList(e),r=e.getId(),o=t[r];if(!o)t[r]=e;else if(o!==e){var s=n.getIncrementId(r,t);e.setId(s),t[s]=e}e.components().forEach(function(c){return n.ensureInList(c)})},n.createId=function(e,t){t===void 0&&(t={});var r=n.getList(e),o=t.idMap,s=o===void 0?{}:o,c=e.get("attributes").id,u;return c?(u=n.getIncrementId(c,r,t),e.setId(u),c!==u&&(s[c]=u)):u=n.getNewId(r),r[u]=e,u},n.getNewId=function(e){for(var t=Object.keys(e).length,r=t.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-r),s="i".concat(o);e[s];)s=n.getNewId(e);return s},n.getIncrementId=function(e,t,r){r===void 0&&(r={});var o=r.keepIds,s=o===void 0?[]:o,c=1,u=e;if(s.indexOf(e)<0)for(;t[u];)c++,u="".concat(e,"-").concat(c);return u},n.getList=function(e){var t,r=e.em,o=r?.Components;return(t=o?.componentsById)!==null&&t!==void 0?t:{}},n.checkId=function(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r={}),o===void 0&&(o={});var s=(0,A.isArray)(e)?e:[e],c=o.keepIds,u=c===void 0?[]:c,f=o.idMap,h=f===void 0?{}:f;s.forEach(function(g){g.attributes;var m=g.attributes,_=m===void 0?{}:m,w=g.components,C=_.id;if(C&&r[C]&&u.indexOf(C)<0){var T=n.getIncrementId(C,r);h[C]=T,_.id=T,(0,A.isArray)(t)&&t.forEach(function(B){var W=B.selectors;W.forEach(function(N,z){N==="#".concat(C)&&(W[z]="#".concat(T))})})}w&&n.checkId(w,t,r,o)})},n.typeExtends=new Set,n}(Gg),ur=Eb,Ab=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wl=function(){return wl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},wl.apply(this,arguments)},ia="head",Db=["title","style","base","link","meta","script","noscript"],Mb=function(i){Ab(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return wl(wl({},i.prototype.defaults),{type:ia,tagName:ia,draggable:!1,highlightable:!1,droppable:function(e){var t=e.tagName;return!t||Db.includes((0,Pe.toLowerCase)(t))}})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===ia},n}(ur),Lb=Mb,mi=Mt(2128),Rb=Mt(6778),jb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bb=function(i){jb(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.canMove=function(e,t){var r=this,o=this.getRealIndex(t),s=e._dragSource,c=s.model,u=s.content,f=s.dragDef,h=!c||!this.isSourceSameSymbol(c),g=((0,A.isFunction)(u)?f:u)||e.model;return Array.isArray(g)?h&&g.every(function(m,_){return r.canMoveSingleContent(m,o+_)}):h&&this.canMoveSingleContent(g,o)},n.prototype.canMoveSingleContent=function(e,t){return this.model.em.Components.canMove(this.model,e,t).result},n.prototype.addChildAt=function(e,t){var r=e._dragSource,o=r.content,s=this.isTextNode()&&e.isTextable(),c=(0,A.isFunction)(o)?o():o;return Array.isArray(c)?this.addMultipleChildren(c,t,s):this.addSingleChild(c,t,s)},n.prototype.addSingleChild=function(e,t,r){var o,s,c,u,f;return r?f=(u=(c=(s=(o=this.model)===null||o===void 0?void 0:o.getView)===null||s===void 0?void 0:s.call(o))===null||c===void 0?void 0:c.insertComponent)===null||u===void 0?void 0:u.call(c,e,{action:"add-component"}):f=this.model.components().add(e,{at:this.getRealIndex(t),action:"add-component"}),new this.constructor(f)},n.prototype.addMultipleChildren=function(e,t,r){var o=this,s;return e.forEach(function(c,u){s=o.addSingleChild(c,t+u,r)}),s},n.prototype.isSourceSameSymbol=function(e){if(ho(this.model)){var t=cs(this.model),r=pi(t)?t:$n(t);if(r===e)return!0}return!1},Object.defineProperty(n.prototype,"content",{set:function(e){this._dragSource.content=e},enumerable:!1,configurable:!0}),n}(Rb.A),rm=Bb,Yi=function(){return Yi=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Yi.apply(this,arguments)},Ib=function(){function i(n,e){var t=this;this.em=n,this.canvas=n.Canvas;var r=e||this.canvas.getFrames().map(function(s){return s.getComponent().getEl()}),o=Array.isArray(r)?r:[r];this.el=o[0],this.counter=0,(0,A.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),o.forEach(function(s){return t.toggleEffects(s,!0)})}return i.prototype.toggleEffects=function(n,e){var t={on:ze.on,off:ze.AU},r=e?"on":"off";t[r](n,"dragenter",this.handleDragEnter),t[r](n,"dragover",this.handleDragOver),t[r](n,"drop",this.handleDrop),t[r](n,"dragleave",this.handleDragLeave)},i.prototype.__customTglEff=function(n){var e,t=n?ze.on:ze.AU,r=this.el.ownerDocument,o=(e=r.defaultView)===null||e===void 0?void 0:e.frameElement,s=function(c){return{legacyOnStartSort:function(){(0,ze.on)(o,"pointermove",c.onMove)},legacyOnEnd:function(){(0,ze.AU)(o,"pointermove",c.onMove)},customTarget:function(u){var f=u.event;return r.elementFromPoint(f.clientX,f.clientY)}}};this.getSorterOptions=n?s:void 0,t(o,"pointerenter",this.handleDragEnter),t(o,"pointermove",this.handleDragOver),t(document,"pointerup",this.handleDrop),t(o,"pointerout",this.handleDragLeave)},i.prototype.startCustom=function(){this.__customTglEff(!0)},i.prototype.endCustom=function(n){this.over?this.endDrop(n):this.__customTglEff(!1)},i.prototype.endDrop=function(n,e){var t=this,r=t.em,o=t.dragStop;this.counter=0,o&&o(n||!this.over),this.__customTglEff(!1),r.trigger("canvas:dragend",e)},i.prototype.handleDragLeave=function(n){this.updateCounter(-1,n)},i.prototype.updateCounter=function(n,e){this.counter+=n,this.counter===0&&this.endDrop(!0,e)},i.prototype.handleDragEnter=function(n){var e=this,t,r,o,s=this,c=s.em,u=s.canvas,f=n.dataTransfer,h=c.get("dragSource");if(!(!h?.content&&!u.getConfig().allowExternalDrop)&&(this.updateCounter(1,n),!this.over)){this.over=!0;var g=c.Utils,m=h?.content||"<br>",_;if(c.stopDefault(),c.inAbsoluteMode()){var w=c.Components.getWrapper(),C=w.append({})[0],T=c.Commands.run("core:component-drag",{event:n,guidesInfo:1,center:1,target:C,onEnd:function(_e,Se,ce){var q=ce.cancelled,ae;if(!q&&m){ae=w.append(m)[0];var F=u.getOffset(),R=C.getStyle(),U=R.top,H=R.left,te=R.position,E=(0,ze.Xy)(_e.target),me=parseInt("".concat(parseFloat(H)+E.x-F.left),10),ve=parseInt("".concat(parseFloat(U)+E.y-F.top),10);ae.addStyle({left:me+"px",top:ve+"px",position:te})}e.handleDragEnd(ae,f),C.remove()}});_=function(_e){return T.stop(n,{cancel:_e})},this.setAbsoluteDragContent=function(_e){return m=_e}}else{var B=new g.ComponentSorter({em:c,treeClass:rm,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:u.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:mi.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),W=(t=this.getSorterOptions)===null||t===void 0?void 0:t.call(this,B);W&&(B.eventHandlers.legacyOnStartSort=W.legacyOnStart,B.eventHandlers.legacyOnEnd=W.legacyOnEnd,B.containerContext.customTarget=W.customTarget);var N=this.getTempDropModel(m),z=(r=N.view)===null||r===void 0?void 0:r.el,ue=z?[{element:z,dragSource:h}]:[];B.startSort(ue),this.sorter=B,this.draggedNode=(o=B.sourceNodes)===null||o===void 0?void 0:o[0],_=function(_e){_e?B.cancelDrag():B.endDrag()}}this.dragStop=_,c.trigger("canvas:dragenter",f,m)}},i.prototype.getTempDropModel=function(n){var e,t=this.em.Components.getComponents(),r={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},o=t.add(n,Yi(Yi({},r),{temporary:!0})),s=t.remove(o,Yi(Yi({},r),{temporary:!0}));return s=s instanceof Array?s[0]:s,(e=s.view)===null||e===void 0||e.$el.data("model",s),s},i.prototype.handleDragEnd=function(n,e){var t=this.em;this.over=!1,n&&(t.set("dragResult",n),t.trigger("canvas:drop",e,n)),t.runDefault({preserveSelected:1})},i.prototype.handleDragOver=function(n){n.preventDefault(),this.em.trigger("canvas:dragover",n)},i.prototype.handleDrop=function(n){var e;n.preventDefault();var t=n.dataTransfer,r=this.getContentByData(t).content;this.draggedNode&&(this.draggedNode.content=r),(e=this.setAbsoluteDragContent)===null||e===void 0||e.call(this,r),this.endDrop(!r,n)},i.prototype.getContentByData=function(n){var e=this.em,t=n&&n.types,r=n&&n.files||[],o=e.get("dragSource"),s=n&&n.getData("text");if(r.length){s=[];for(var c=0;c<r.length;c++){var u=r[c],f=u.type.split("/")[0];f=="image"&&s.push({type:f,file:u,attributes:{alt:u.name}})}}else if(o?.content)s=o.content;else if((0,A.indexOf)(t,"text/html")>=0)s=n&&n.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,A.indexOf)(t,"text/uri-list")>=0)s={type:"link",attributes:{href:s},content:s};else if((0,A.indexOf)(t,"text/json")>=0){var h=n&&n.getData("text/json");h&&(s=JSON.parse(h))}else t.length===1&&t[0]==="text/plain"&&(s="<div>".concat(s,"</div>"));var g={content:s};return e.trigger("canvas:dragdata",n,g),g},i}(),Vb=Ib,Nb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dn=function(){return Dn=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Dn.apply(this,arguments)},Fb=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Hb=function(i){Nb(n,i);function n(e,t){var r=i.call(this,{model:e})||this;r.dragging=!1,r.loaded=!1,r.lastMaxHeight=0,r.tools={},(0,A.bindAll)(r,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var o=r.el;r.module._config=Dn(Dn({},r.config||{}),{frameView:r}),r.frameWrapView=t,r.showGlobalTools=(0,A.debounce)(r.showGlobalTools.bind(r),50);var s=r.getCanvasModel();return r.listenTo(e,"change:head",r.updateHead),r.listenTo(s,"change:styles",r.renderStyles),e.view=r,(0,Pe.setViewEl)(o,r),r}return Object.defineProperty(n.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),n.prototype.getBoxRect=function(){var e=this,t=e.el,r=e.module,o=r.getCanvasView(),s=r.getCoords(),c=t.getBoundingClientRect(),u=o.getCanvasOffset(),f=o.getViewportDelta(),h=r.getZoomMultiplier(),g=(c.x-u.left-f.x-s.x)*h,m=(c.y-u.top-f.y-s.y)*h,_=c.width*h,w=c.height*h;return{x:g,y:m,width:_,height:w}},n.prototype.updateHead=function(){var e=this.model,t=this.getHead(),r=[],o=[],s=e.head,c=e.previous("head"),u=function(h){return h===void 0&&(h={}),Object.keys(h).sort().map(function(g){return"[".concat(g,'="').concat(h[g],'"]')}).join("")},f=function(h,g,m){h.forEach(function(_){var w=_.tag,C=_.attributes,T=g.some(function(B){return B.tag===w&&u(B.attributes)===u(C)});!T&&m.push(_)})};f(s,c,o),f(c,s,r),r.forEach(function(h){var g,m=t.querySelector("".concat(h.tag).concat(u(h.attributes)));(g=m?.parentNode)===null||g===void 0||g.removeChild(m)}),(0,ze.af)(t,o)},n.prototype.getEl=function(){return this.el},n.prototype.getCanvasModel=function(){var e;return(e=this===null||this===void 0?void 0:this.em.Canvas)===null||e===void 0?void 0:e.getModel()},n.prototype.getWindow=function(){return this.getEl().contentWindow},n.prototype.getDoc=function(){return this.getEl().contentDocument},n.prototype.getHead=function(){return this.getDoc().querySelector("head")},n.prototype.getBody=function(){return this.getDoc().querySelector("body")},n.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},n.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ze.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},n.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},n.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},n.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},n.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},n.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},n.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},n.prototype.getOffsetRect=function(){var e=this.el,t=this.getBody(),r=t.scrollTop,o=t.scrollLeft,s=e.offsetHeight,c=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:s,width:c,scrollTop:r,scrollLeft:o,scrollBottom:r+s,scrollRight:o+c}},n.prototype._getTool=function(e){var t=this.tools,r=this.getToolsEl();return t[e]||(t[e]=r.querySelector(e)),t[e]},n.prototype.remove=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this._toggleEffects(!1),this.tools={},(e=this.wrapper)===null||e===void 0||e.remove(),Rn.prototype.remove.apply(this,t),this},n.prototype.startAutoscroll=function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(!0),requestAnimationFrame(e.autoscroll)},0)},n.prototype.autoscroll=function(){if(this.dragging){var e=this.lastClientY,t=this.em.Canvas,r=this.getWindow(),o=r.pageYOffset,s=e||0,c=t.getConfig().autoscrollLimit,u=this.getRect().height-c,f=o;if(s<c&&(f-=c-s),s>u&&(f+=s-u),!(0,A.isUndefined)(e)&&f!==o&&f>0&&f<this.lastMaxHeight){var h=this.getGlobalToolsEl();h.style.opacity="0",this.showGlobalTools(),r.scrollTo(0,f),t.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},n.prototype.updateClientY=function(e){e.preventDefault(),this.lastClientY=(0,ze.G2)(e).clientY*this.em.getZoomDecimal()},n.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},n.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},n.prototype._toggleAutoscrollFx=function(e){this.dragging=e;var t=this.getWindow(),r=e?"on":"off",o={on:ze.on,off:ze.AU};o[r](t,"mousemove dragover",this.updateClientY),o[r](t,"mouseup",this.stopAutoscroll)},n.prototype.render=function(){var e=this,t=e.$el,r=e.ppfx,o=e.em;return t.attr({class:"".concat(r,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},n.prototype.renderScripts=function(){var e=this,t=this,r=t.el,o=t.model,s=t.em,c="frame:load",u={el:r,model:o,view:this},f=this.getCanvasModel(),h=function(g){var m;if(g.length>0){var _=g.shift(),w=(0,ze.a_)("script",Dn({type:"text/javascript"},(0,A.isString)(_)?{src:_}:_));(m=r.contentDocument)===null||m===void 0||m.head.appendChild(w),w.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?h(g):w.onerror=w.onload=h.bind(null,g)}else s?.trigger(al.frameLoadHead,u),e.renderBody(),s?.trigger(al.frameLoadBody,u),s?.trigger(c,u)};r.onload=function(){var g=e.config.frameContent;if(g){var m=e.getDoc();m.open(),m.write(g),m.close()}u.window=e.getWindow(),s?.trigger("".concat(c,":before"),u),s?.trigger(al.frameLoad,u),e.renderHead(),h(Fb([],f.get("scripts"),!0))}},n.prototype.renderStyles=function(e){e===void 0&&(e={});var t=this.getHead(),r=this.getCanvasModel(),o=function(g){return g===void 0&&(g=[]),g.map(function(m){return{tag:"link",attributes:Dn({rel:"stylesheet"},(0,A.isString)(m)?{href:m}:m)}})},s=o(e.prev||r.previous("styles")),c=o(r?.get("styles")),u=[],f=[],h=function(g,m,_){g.forEach(function(w){var C=w.attributes.href,T=m.some(function(B){return B.attributes.href===C});!T&&_.push(w)})};h(c,s,f),h(s,c,u),u.forEach(function(g){var m,_=t.querySelector('link[href="'.concat(g.attributes.href,'"]'));(m=_?.parentNode)===null||m===void 0||m.removeChild(_)}),(0,ze.af)(t,f)},n.prototype.renderHead=function(){var e,t=this,r=t.model,o=t.em,s=r.root,c=(e=o?.Components)===null||e===void 0?void 0:e.getType(ia).view;c&&(this.headView=new c({el:this.getHead(),model:s.head,config:Dn(Dn({},s.config),{frameView:this})}).render())},n.prototype.renderBody=function(){var e=this,t,r,o,s=this,c=s.config,u=s.em,f=s.model,h=s.ppfx,g=this.getDoc(),m=this.getBody(),_=this.getWindow(),w=f.hasAutoHeight(),C=u.config;_._isEditor=!0,this.renderStyles({prev:[]});var T="#ffca6f";(0,ze.BC)(m,`<style>
      `.concat(C.baseCss||c.frameStyle||"",`

      `).concat(w?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(w?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(h,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(h,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(h,`selected-parent {
        outline: 2px solid `).concat(T,` !important
      }

      .`).concat(h,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(h,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(h,`no-pointer {
        pointer-events: none;
      }

      .`).concat(h,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(h,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(h,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(h,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(h,`is__grabbing,
      .`).concat(h,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(C.canvasCss||"",`
      `).concat(C.protectedCss||"",`
    </style>`));var B=f.root,W=(((t=u?.Components)===null||t===void 0?void 0:t.getType("wrapper"))||{}).view;W&&(this.wrapper=new W({model:B,config:Dn(Dn({},B.config),{em:u,frameView:this})}).render(),(0,ze.BC)(m,(r=this.wrapper)===null||r===void 0?void 0:r.el),(0,ze.BC)(m,new Fg({collection:f.getStyles(),config:Dn(Dn({},u.Css.getConfig()),{frameView:this})}).render().el),(0,ze.BC)(m,this.getJsContainer()),(0,ze.on)(m,"click",function(N){var z;return N&&((z=N.target)===null||z===void 0?void 0:z.tagName)=="A"&&N.preventDefault()}),(0,ze.on)(m,"submit",function(N){return N&&N.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!c.infiniteCanvas}}].forEach(function(N){return N.event.split(" ").forEach(function(z){g.addEventListener(z,function(ue){return e.el.dispatchEvent((0,ze.yL)(ue,N.class))},N.opts)})}),this._toggleEffects(!0),(0,Pe.hasDnd)(u)&&(this.droppable=new Vb(u,(o=this.wrapper)===null||o===void 0?void 0:o.el)),this.loaded=!0,f.trigger("loaded"))},n.prototype._toggleEffects=function(e){var t=e?ze.on:ze.AU,r=this.getWindow();r&&t(r,"".concat(ze.D8," resize"),this._emitUpdate)},n.prototype._emitUpdate=function(){this.model._emitUpdated()},n}(Rn),Ub=Hb,nm=Mt(5633),Wb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qi=function(){return qi=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},qi.apply(this,arguments)},zb=function(i){Wb(n,i);function n(e,t){var r=i.call(this,{model:e})||this;(0,A.bindAll)(r,"onScroll","frameLoaded","updateOffset","remove","startDrag");var o=qi(qi({},e.config),{frameWrapView:r});return r.cv=t,r.frame=new Ub(e,r),r.classAnim="".concat(r.ppfx,"frame-wrapper--anim"),r.updateOffset=(0,A.debounce)(r.updateOffset.bind(r),0),r.updateSize=(0,A.debounce)(r.updateSize.bind(r),0),r.listenTo(e,"loaded",r.frameLoaded),r.listenTo(e,"change:x change:y",r.updatePos),r.listenTo(e,"change:width change:height",r.updateSize),r.listenTo(e,"destroy remove",r.remove),r.updatePos(),r.setupDragger(),r}return n.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},n.prototype.setupDragger=function(){var e=this,t=this,r=t.module,o=t.model,s,c,u,f=function(h){r.toggleFramesEvents(h)};this.dragger=new nm.A({onStart:function(){var h=o.attributes,g=h.x,m=h.y;u=e.em.getZoomMultiplier(),s=g,c=m,f(!1)},onEnd:function(){return f(!0)},setPosition:function(h){o.set({x:s+h.x*u,y:c+h.y*u})}})},n.prototype.startDrag=function(e){var t;e&&((t=this.dragger)===null||t===void 0||t.start(e))},n.prototype.__clear=function(e){var t=this.frame;t&&t.remove(e),(0,ze.YZ)(this.elTools)},n.prototype.remove=function(e){var t=this;return this.__clear(e),Rn.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(r){return t[r]=0}),this},n.prototype.updateOffset=function(){var e,t=this,r=t.em,o=t.$el,s=t.frame;!r||r.destroyed||(r.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(e=s?.model)===null||e===void 0||e._emitUpdated())},n.prototype.updatePos=function(e){var t=this,r=t.model,o=t.el,s=r.attributes,c=s.x,u=s.y,f=o.style;this.frame.rect=void 0,f.left=isNaN(c)?c:"".concat(c,"px"),f.top=isNaN(u)?u:"".concat(u,"px"),e&&this.updateOffset()},n.prototype.updateSize=function(){this.updateDim()},n.prototype.updateDim=function(){var e=this,t=e.em,r=e.el,o=e.$el,s=e.model,c=e.classAnim,u=e.frame;if(u){u.rect=void 0,o.addClass(c);var f=this.__handleSize(),h=f.noChanges,g=f.width,m=f.height;((0,A.isNull)(g)||(0,A.isNull)(m))&&s.set(qi(qi({},g?{}:{width:r.offsetWidth}),m?{}:{height:r.offsetHeight}),{silent:1}),t.stopDefault({preserveSelected:1}),h?this.updateOffset():setTimeout(this.updateOffset,350)}},n.prototype.onScroll=function(){var e=this,t=e.frame,r=e.em;r.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},n.prototype.frameLoaded=function(){var e=this,t=e.frame,r=e.config;t.getWindow().onscroll=this.onScroll,this.updateDim()},n.prototype.__handleSize=function(){var e,t,r="px",o=this,s=o.model,c=o.el,u=c.style,f=s.attributes,h=f.width,g=f.height,m=u.width||"",_=u.height||"",w=h||"",C=g||"",T=m==w&&_==C,B=(0,A.isNumber)(w)?"".concat(w).concat(r):w,W=(0,A.isNumber)(C)?"".concat(C).concat(r):C;if(u.width=B,s.hasAutoHeight()){var N=this.frame.el;if(N.contentDocument){var z=N.contentDocument,ue=new ResizeObserver(function(){u.height="".concat(z.body.scrollHeight,"px")});ue.observe(z.body),(e=this.sizeObserver)===null||e===void 0||e.disconnect(),this.sizeObserver=ue}}else u.height=W,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),delete this.sizeObserver;return{noChanges:T,width:h,height:g,newW:w,newH:C}},n.prototype.render=function(){var e=this,t=e.frame,r=e.$el,o=e.ppfx,s=e.cv,c=e.model,u=e.el,f=c.attributes.onRender;this.__clear(),this.__handleSize(),t.render(),r.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(c.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(t.el);var h=(0,ze.a_)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=h;var g=s?.toolsWrapper;return g&&g.appendChild(h),f&&f({el:u,elTop:u.querySelector("[data-frame-top]"),elRight:u.querySelector("[data-frame-right]"),elBottom:u.querySelector("[data-frame-bottom]"),elLeft:u.querySelector("[data-frame-left]"),frame:c,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},n}(Rn),Kb=zb,Gb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yb=function(i){Gb(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,!0)||this;return r.listenTo(r.collection,"reset",r.render),r.canvasView=t.canvasView,r._module=t.module,r}return n.prototype.onRemoveBefore=function(e,t){t===void 0&&(t={}),e.forEach(function(r){return r.remove(t)})},n.prototype.onRender=function(){var e=this,t=e.$el,r=e.ppfx;t.attr({class:"".concat(r,"frames")})},n.prototype.clearItems=function(){var e=this.viewCollection||[];e.forEach(function(t){return t.remove()}),this.viewCollection=[]},n.prototype.renderView=function(e,t){return new Kb(e,this.canvasView)},n}(A_),qb=Yb,Xb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xl=function(){return xl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},xl.apply(this,arguments)},$b=function(i){Xb(n,i);function n(e){var t=i.call(this,{model:e})||this;t.ready=!1,(0,A.bindAll)(t,"clearOff","onKeyPress","onWheel","onPointer");var r=t,o=r.em,s=r.pfx,c=r.ppfx,u=t.module.events;return t.className="".concat(s,"canvas ").concat(c,"no-touch-actions").concat(o.config.customUI?"":" ".concat(s,"canvas-bg")),t.clsUnscale="".concat(s,"unscale"),t._initFrames(),t.listenTo(o,u.refresh,t.clearOff),t.listenTo(o,"component:selected",t.checkSelected),t.listenTo(o,"".concat(u.coords," ").concat(u.zoom),t.updateFrames),t.listenTo(e,"change:frames",t._onFramesUpdate),t.toggleListeners(!0),t}return n.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames>
        <div class="`).concat(e,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},n.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},n.prototype._initFrames=function(){var e=this,t=e.frames,r=e.model,o=e.config,s=e.em,c=r.frames;s.set("readyCanvas",0),c.once("loaded:all",function(){return s.set("readyCanvas",1)}),t?.remove(),this.frames=new qb({collection:c},xl(xl({},o),{canvasView:this}))},n.prototype.checkSelected=function(e,t){var r;t===void 0&&(t={});var o=t.scroll,s=this.em.getCurrentFrame();o&&((r=e.views)===null||r===void 0||r.forEach(function(c){c.frameView===s&&c.scrollIntoView(o)}))},n.prototype.remove=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,Rn.prototype.remove.apply(this,t),this.toggleListeners(!1),this},n.prototype.preventDefault=function(e){var t;e&&(e.preventDefault(),(t=e._parentEvent)===null||t===void 0||t.preventDefault())},n.prototype.toggleListeners=function(e){var t=this,r=t.el,o=t.config,s=e?ze.on:ze.AU;s(document,"keypress",this.onKeyPress),s(window,"scroll resize",this.clearOff),s(r,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),s(r,"pointermove",this.onPointer)},n.prototype.screenToWorld=function(e,t){var r=this.module,o=r.getCoords(),s=r.getZoomMultiplier(),c=this.getViewportDelta();return{x:(e-o.x-c.x)*s,y:(t-o.y-c.y)*s}},n.prototype.onPointer=function(e){if(this.config.infiniteCanvas){var t=this.getCanvasOffset(),r=(0,ze.Xy)(),o={x:e.clientX-t.left+r.x,y:e.clientY-t.top+r.y};if(e._parentEvent){var s=e.target.getBoundingClientRect(),c=this.module.getZoomDecimal();o.x=s.left-t.left+r.x+e.clientX*c,o.y=s.top-t.top+r.y+e.clientY*c}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},n.prototype.onKeyPress=function(e){var t=this.em,r=(0,ze.Ch)(e);r===" "&&t.getZoomDecimal()!==1&&!t.Canvas.isInputFocused()&&(this.preventDefault(e),t.Editor.runCommand("core:canvas-move"))},n.prototype.onWheel=function(e){var t=this,r=t.module,o=t.config;if(o.infiniteCanvas){this.preventDefault(e);var s=e.deltaX,c=e.deltaY,u=r.getZoomDecimal(),f=(0,ze.rp)(e),h=r.getCoords();if(f){var g=u-c*u*.01;r.setZoom(g*100);var m=this.model.getPointerCoords(Ie.x2.Screen),_=this.getCanvasOffset(),w=m.x-_.width/2,C=m.y-_.height/2,T=g/u,B=w-(w-h.x)*T,W=C-(C-h.y)*T;r.setCoords(B,W)}else this.onPointer(e),r.setCoords(h.x-s,h.y-c)}},n.prototype.updateFrames=function(e){var t=this.em,r=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),r.style.display="none",t.trigger("canvas:update",e),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){t.stopDefault(o),t.runDefault(o),r.style.display=""},300)},n.prototype.updateFramesArea=function(){var e=this,t=e.framesArea,r=e.model,o=e.module,s=e.cvStyle,c=e.clsUnscale,u=o.getZoomMultiplier();if(t){var f=r.attributes,h=f.x,g=f.y,m=o.getZoomDecimal();t.style.transform="scale(".concat(m,") translate(").concat(h*u,"px, ").concat(g*u,"px)")}s&&(s.innerHTML=`
        .`.concat(c," { scale: ").concat(u,` }
      `))},n.prototype.fitViewport=function(e){var t,r;e===void 0&&(e={});var o=this,s=o.em,c=o.module,u=o.model,f=this.getCanvasOffset(),h=e.el,g=h&&((t=(0,Pe.getComponentView)(h))===null||t===void 0?void 0:t.frameView),m=g?g.model:e.frame||s.getCurrentFrameModel()||u.frames.at(0),_=m.attributes,w=_.x,C=_.y,T={x:w??0,y:C??0,width:m.width,height:m.height};if(h){var B=this.getElBoxRect(h);T.x=T.x+B.x,T.y=T.y+B.y,T.width=B.width,T.height=B.height}var W=e.ignoreHeight,N=(r=e.gap)!==null&&r!==void 0?r:0,z=(0,A.isNumber)(N),ue=z?N:N.x,_e=z?N:N.y,Se=T.width+ue*2,ce=T.height+_e*2,q=f.width,ae=f.height,F=q/Se,R=ae/ce,U=W?F:Math.min(F,R),H=U*100;c.setZoom(H);var te=-T.x+(m.width>=q?q/2-Se/2:-ue),E=-T.y+ae/2-ce/2,me={x:(te+ue)*U,y:(E+_e)*U};if(W){var ve=c.getZoomMultiplier(),Le=ae*ve,Je=Le-ae,$e=Je/2;me.y=(-T.y+_e)*U-$e/ve}c.setCoords(me.x,me.y)},n.prototype.isElInViewport=function(e){var t=(0,Pe.getElement)(e),r=(0,ze.C8)(t),o=this.getFrameOffset(t),s=r.top,c=r.left;return s>=0&&c>=0&&s<=o.height&&c<=o.width},n.prototype.offset=function(e,t){t===void 0&&(t={});var r=t.noScroll,o=(0,ze.C8)(e),s=r?{x:0,y:0}:(0,ze.Xy)(e);return{top:o.top+s.y,left:o.left+s.x,width:o.width,height:o.height}},n.prototype.getRectToScreen=function(e){var t,r,o,s,c=this.module.getZoomDecimal(),u=this.module.getCoords(),f=this.getViewportDelta(),h=((t=e.x)!==null&&t!==void 0?t:0)*c+u.x+f.x||0,g=((r=e.y)!==null&&r!==void 0?r:0)*c+u.y+f.y||0;return{x:h,y:g,width:((o=e.width)!==null&&o!==void 0?o:0)*c,height:((s=e.height)!==null&&s!==void 0?s:0)*c}},n.prototype.getElBoxRect=function(e,t){var r,o,s;t===void 0&&(t={});var c=this.module,u=(0,ze.C8)(e),f=u.width,h=u.height,g=u.left,m=u.top,_=(r=(0,Pe.getComponentView)(e))===null||r===void 0?void 0:r.frameView,w=_?.getBoxRect(),C=c.getZoomMultiplier(),T=(o=w?.x)!==null&&o!==void 0?o:0,B=(s=w?.y)!==null&&s!==void 0?s:0,W=this.el,N=(0,ze.Xy)(),z=g+T+(W.scrollLeft+N.x)*C,ue=m+B+(W.scrollTop+N.y)*C,_e={x:z,y:ue,width:f,height:h};return t.local&&(_e.x=g,_e.y=m),t.toScreen?this.getRectToScreen(_e):_e},n.prototype.getViewportRect=function(e){e===void 0&&(e={});var t=this.getCanvasOffset(),r=t.top,o=t.left,s=t.width,c=t.height,u=this.module;if(e.toWorld){var f=u.getZoomMultiplier(),h=u.getCoords(),g=this.getViewportDelta(),m=-h.x-g.x||0,_=-h.y-g.y||0;return{x:m*f,y:_*f,width:s*f,height:c*f}}else return{x:o,y:r,width:s,height:c}},n.prototype.getViewportDelta=function(e){e===void 0&&(e={});var t=this.module.getZoomMultiplier(),r=this.getCanvasOffset(),o=r.width,s=r.height,c=o*t,u=s*t,f=c-o,h=u-s;return{x:f/2/t,y:h/2/t}},n.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},n.prototype.getFrameOffset=function(e){var t;if(!this.frmOff||e){var r=(t=this.frame)===null||t===void 0?void 0:t.el,o=e?.ownerDocument.defaultView,s=o?o.frameElement:r;this.frmOff=this.offset(s||r)}return this.frmOff},n.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},n.prototype.getElementPos=function(e,t){t===void 0&&(t={});var r=this.module.getZoomDecimal(),o=this.getFrameOffset(e),s=this.el,c=this.getCanvasOffset(),u=this.offset(e,t),f=t.avoidFrameOffset?0:o.top,h=t.avoidFrameOffset?0:o.left,g=t.avoidFrameZoom?u.top:u.top*r,m=t.avoidFrameZoom?u.left:u.left*r,_=t.avoidFrameOffset?g:g+f-c.top+s.scrollTop,w=t.avoidFrameOffset?m:m+h-c.left+s.scrollLeft,C=t.avoidFrameZoom?u.height:u.height*r,T=t.avoidFrameZoom?u.width:u.width*r;return{top:_,left:w,height:C,width:T,zoom:r,rect:u}},n.prototype.getElementOffsets=function(e){if(!e||(0,ze.ir)(e))return{};var t={},r=window.getComputedStyle(e),o=this.module.getZoomDecimal(),s=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return s.forEach(function(c){t[c]=parseFloat(r[c])*o}),t},n.prototype.getPosition=function(e){var t;e===void 0&&(e={});var r=(t=this.frame)===null||t===void 0?void 0:t.el.contentDocument;if(!r)return{top:0,left:0,width:0,height:0};var o=r.body,s=this.module.getZoomDecimal(),c=this.getFrameOffset(),u=this.getCanvasOffset(),f=e.noScroll;return{top:c.top+(f?0:o.scrollTop)*s-u.top,left:c.left+(f?0:o.scrollLeft)*s-u.left,width:u.width,height:u.height}},n.prototype.updateScript=function(e){var t=e.model,r=t.getId(),o={component:t,view:e,el:e.el};if(!e.scriptContainer){e.scriptContainer=(0,ze.a_)("div",{"data-id":r});var s=this.getJsContainer();s?.appendChild(e.scriptContainer)}e.el.id=r,e.scriptContainer.innerHTML="";var c=document.createElement("script"),u=t.getScriptString(),f=t.get("script-props")?u:`function(){
`.concat(u,`
;}`),h=JSON.stringify(t.__getScriptProps());c.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(r,`');
        if (!item) return;
        var script = (`).concat(f,`).bind(item);
        script(`).concat(h,`, { el: item });
      }, 1);`),setTimeout(function(){t.emitWithEitor(er.I.scriptMountBefore,o);var g=e.scriptContainer;g?.appendChild(c),t.emitWithEitor(er.I.scriptMount,o)},0)},n.prototype.getJsContainer=function(e){var t=this.getFrameView(e);return t?.getJsContainer()},n.prototype.getFrameView=function(e){return e?.frameView||this.em.getCurrentFrame()},n.prototype._renderFrames=function(){if(this.ready){var e=this,t=e.model,r=e.frames,o=e.em,s=e.framesArea,c=t.frames;c.listenToLoad(),r.render();var u=c.at(0),f=u?.view;o.setCurrentFrame(f),s?.appendChild(r.el),this.frame=f,this.updateFramesArea()}},n.prototype.renderFrames=function(){this._renderFrames()},n.prototype.render=function(){var e=this,t=e.el,r=e.$el,o=e.ppfx,s=e.config,c=e.em;r.html(this.template());var u=r.find("[data-frames]");this.framesArea=u.get(0);var f=r.find("[data-tools]");return this.toolsWrapper=f.get(0),f.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(s.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=t.querySelector("#".concat(o,"tools")),this.hlEl=t.querySelector(".".concat(o,"highlighter")),this.badgeEl=t.querySelector(".".concat(o,"badge")),this.placerEl=t.querySelector(".".concat(o,"placeholder")),this.ghostEl=t.querySelector(".".concat(o,"ghost")),this.toolbarEl=t.querySelector(".".concat(o,"toolbar")),this.resizerEl=t.querySelector(".".concat(o,"resizer")),this.offsetEl=t.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=t.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=t.querySelector(".".concat(o,"tools-gl")),this.spotsEl=t.querySelector("[data-spots]"),this.cvStyle=t.querySelector("[data-canvas-style]"),this.el.className=(0,Pe.getUiClass)(c,this.className),this.ready=!0,this._renderFrames(),this},n}(Rn),Jb=$b,Zb=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),li=function(){return li=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},li.apply(this,arguments)},Qb=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},ew=function(i){Zb(n,i);function n(e){var t=i.call(this,e,"Canvas",Z0())||this;return t.events=ff,t.framesById={},t.canvas=new x_(t),t.spots=new O_(t),t.model=t.canvas,t.startAutoscroll=t.startAutoscroll.bind(t),t.stopAutoscroll=t.stopAutoscroll.bind(t),t}return n.prototype.getCanvasView=function(){return this.canvasView},n.prototype.postLoad=function(){this.model.init()},n.prototype.getModel=function(){return this.canvas},n.prototype.getElement=function(){return this.getCanvasView().el},n.prototype.getFrame=function(e){return this.getFrames()[e||0]},n.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e?.el},n.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},n.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e?.getWindow()},n.prototype.getDocument=function(){var e=this.getFrameEl();return e?.contentDocument},n.prototype.getBody=function(){var e=this.getDocument();return e?.body},n.prototype._getLocalEl=function(e,t,r){var o=e,s=t?.frameView;return o=s?s[r]():o,o},n.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},n.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},n.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},n.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},n.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},n.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},n.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},n.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},n.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},n.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},n.prototype.getSpotsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.spotsEl},n.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new Jb(this.canvas),this.canvasView.render().el},n.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},n.prototype.offset=function(e){return this.getCanvasView().offset(e)},n.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},n.prototype.getElementPos=function(e,t){return this.getCanvasView().getElementPos(e,t)},n.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},n.prototype.getRect=function(){var e,t=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},r=t.top,o=r===void 0?0:r,s=t.left,c=s===void 0?0:s;return li(li({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:c})},n.prototype.getTargetToElementDim=function(e,t,r){r===void 0&&(r={});var o=r||{},s=this.getCanvasView().getPosition();if(s){var c=o.elPos||this.getCanvasView().getElementPos(t),u=r.toRight||0,f=o.targetHeight||e.offsetHeight,h=o.targetWidth||e.offsetWidth,g=o.event||null,m=c.top-f,_=c.left;_+=u?c.width:0,_=u?_-h:_;var w=_<s.left?s.left:_,C=m<s.top?s.top:m;C=C>c.top+c.height?c.top+c.height:C;var T={top:C,left:w,elementTop:c.top,elementLeft:c.left,elementWidth:c.width,elementHeight:c.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:s.top,canvasLeft:s.left,canvasWidth:s.width,canvasHeight:s.height};return g&&this.em&&this.em.trigger(g,T),T}},n.prototype.canvasRectOffset=function(e,t,r){var o=this;r===void 0&&(r={});var s=function(u){var f=u.defaultView;return f?.frameElement},c=function(u,f,h){f===void 0&&(f=1);var g=o.em.getZoomDecimal(),m=f?"top":"left",_=u.ownerDocument,w=r.offset?s(_):{},C=w.offsetTop,T=C===void 0?0:C,B=w.offsetLeft,W=B===void 0?0:B,N=_.body||{},z=N.scrollTop,ue=z===void 0?0:z,_e=N.scrollLeft,Se=_e===void 0?0:_e,ce=f?ue:Se,q=f?T:W;return h[m]-(ce-q)*g};return{top:c(e,1,t),left:c(e,0,t)}},n.prototype.getTargetToElementFixed=function(e,t,r){r===void 0&&(r={});var o=r.pos||this.getElementPos(e,{noScroll:!0}),s=r.canvasOff||this.canvasRectOffset(e,o),c=t.offsetHeight||0,u=t.offsetWidth||0,f=o.left+o.width,h=this.getCanvasView(),g=h.getPosition(),m=h.getFrameOffset(e),_=r.event,w=-c,C=(0,A.isUndefined)(r.left)?o.width-u:r.left;if(C=o.left<-C?-o.left:C,C=f>g.width?C-(f-g.width):C,s.top<c){var T=o.height+c,B=T<m.height;B?w=w+T:w=-s.top<o.height?-s.top:o.height}var W={top:w,left:C,canvasOffsetTop:s.top,canvasOffsetLeft:s.left,elRect:o,canvasOffset:s,canvasRect:g,targetWidth:u,targetHeight:c};return _&&this.em.trigger(_,W),W},n.prototype.getMouseRelativePos=function(e,t){t===void 0&&(t={});var r=t.subWinOffset,o=e.target.ownerDocument,s=o.defaultView||o.parentWindow,c=s.frameElement,u=r?s.pageYOffset:0,f=r?s.pageXOffset:0,h=this.getZoomMultiplier(),g=0,m=0;if(c){var _=c.getBoundingClientRect();g=_.top||0,m=_.left||0}return{y:(e.clientY+g-u)*h,x:(e.clientX+m-f)*h}},n.prototype.getMouseRelativeCanvas=function(e,t){var r,o=this.getZoomDecimal(),s=(r=this.getCanvasView().getPosition(t))!==null&&r!==void 0?r:{},c=s.top,u=c===void 0?0:c,f=s.left,h=f===void 0?0:f;return{y:e.clientY*o+u,x:e.clientX*o+h}},n.prototype.startDrag=function(e){this.em.set("dragSource",e)},n.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},n.prototype.hasFocus=function(){return this.getDocument().hasFocus()},n.prototype.isInputFocused=function(){var e=this.getDocument(),t=this.getFrameEl(),r=Qb(["body"],this.config.notTextable,!0),o=t&&document.activeElement===t,s=o?e&&e.activeElement:document.activeElement;return s&&!r.some(function(c){return s.matches(c)})},n.prototype.scrollTo=function(e,t){t===void 0&&(t={});var r=(0,Pe.getElement)(e),o=r&&(0,Pe.getViewEl)(r);o&&o.scrollIntoView(t)},n.prototype.startAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.startAutoscroll()},n.prototype.stopAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll()},n.prototype.setZoom=function(e){return this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e),this},n.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},n.prototype.setCoords=function(e,t,r){var o;r===void 0&&(r={});var s=e||e===0,c=t||t===0,u={x:this.canvas.get("x"),y:this.canvas.get("y")};if(s&&(u.x=parseFloat("".concat(e))),c&&(u.y=parseFloat("".concat(t))),r.toWorld){var f=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();f&&(s&&(u.x=u.x-f.x),c&&(u.y=u.y-f.y))}return this.canvas.set(u),this},n.prototype.getCoords=function(){var e=this.canvas.attributes,t=e.x,r=e.y;return{x:t,y:r}},n.prototype.getPointer=function(e){var t=this.canvas.attributes,r=t.pointer,o=t.pointerScreen;return e?o:r},n.prototype.getZoomDecimal=function(){return this.getZoom()/100},n.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},n.prototype.fitViewport=function(e){var t;(t=this.canvasView)===null||t===void 0||t.fitViewport(e)},n.prototype.toggleFramesEvents=function(e){var t=this.getFramesEl().style;t.pointerEvents=e?"":"none"},n.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},n.prototype.addFrame=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this.canvas.frames.add(new Ig(this,li({},e)),t)},n.prototype.getLastDragResult=function(){return this.em.get("dragResult")},n.prototype.addSpot=function(e,t){var r;t===void 0&&(t={});var o=e,s=this.getSpots(o);if(s.length){var c=s[0];return c.set(o),c}var u=o.componentView||((r=o.component)===null||r===void 0?void 0:r.view),f=new Ln.A(this,li(li({},o),{id:o.id||"cs_".concat(o.type,"_").concat(u?.cid),type:o.type||""}));return this.spots.add(f,t),f},n.prototype.getSpots=function(e){return e===void 0&&(e={}),this.spots.where(e.id?{id:e.id}:e)},n.prototype.removeSpots=function(e){e===void 0&&(e={});var t=(0,A.isArray)(e)?e:this.getSpots(e),r=this.spots.remove(t);return r},n.prototype.hasCustomSpot=function(e){var t=this.config.customSpots;return!!(t===!0||t&&e&&t[e])},n.prototype.getWorldRectToScreen=function(e){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.getRectToScreen(e)},n.prototype.refresh=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.events,s=t.canvasView;s?.clearOff(),(e.spots||e.all)&&(this.refreshSpots(),r.trigger("canvas:updateTools")),r.set("canvasOffset",this.getOffset()),r.trigger(o.refresh,e)},n.prototype.refreshSpots=function(){this.spots.refresh()},n.prototype.destroy=function(){var e=this,t;this.canvas.stopListening(),(t=this.canvasView)===null||t===void 0||t.remove(),["model","droppable"].forEach(function(r){return e[r]={}})},n}(pn),tw=ew,rw=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}},nw=rw,ow=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cl=function(){return Cl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Cl.apply(this,arguments)},iw=function(i){ow(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Cl(Cl({},i.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){var e=this.content,t=this.parent();return t?.is("script")?e:this.__escapeContent(e)},n.prototype.__escapeContent=function(e){return(0,Pe.escapeNodeContent)(e)},n.isComponent=function(e){var t;if(e.nodeType===3)return{type:"textnode",content:(t=e.textContent)!==null&&t!==void 0?t:""}},n}(ur),om=iw,aw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zu=function(){return zu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},zu.apply(this,arguments)},sw=function(i){aw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return zu({},i.prototype.defaults)},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},n.isComponent=function(e){var t;if(e.nodeType==8)return{type:"comment",content:(t=e.textContent)!==null&&t!==void 0?t:""}},n}(om),lw=sw,cw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sl=function(){return Sl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Sl.apply(this,arguments)},su="iframe",uw=function(i){cw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Sl(Sl({},i.prototype.defaults),{type:su,tagName:su,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===su},n}(ur),fw=uw,dw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ol=function(){return Ol=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ol.apply(this,arguments)},xv='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',pw=function(i){dw(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this,o=r.get("attributes").src;return o&&(0,Pe.buildBase64UrlFromSvg)((0,A.result)(r,"defaults").src)!==o&&r.set("src",o,{silent:!0}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ol(Ol({},i.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(xv,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(xv,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),n.prototype.initToolbar=function(){i.prototype.initToolbar.call(this);var e=this.em;if(e){var t=e.Commands,r="image-editor";if(t.has(r)){for(var o=!1,s=this.get("toolbar"),c=0;c<s.length;c++)if(s[c].command==="image-editor"){o=!0;break}o||(s.push({attributes:{class:"fa fa-pencil"},command:r}),this.set("toolbar",s))}}},n.prototype.getAttrToHTML=function(){var e=i.prototype.getAttrToHTML.call(this),t=this.getSrcResult();return t&&(e.src=t),e},n.prototype.getSrcResult=function(e){e===void 0&&(e={});var t=this.get(e.fallback?"fallback":"src")||"",r=t;return t&&t.substr(0,4)==="<svg"&&(r=(0,Pe.buildBase64UrlFromSvg)(t)),r},n.prototype.isDefaultSrc=function(){var e=this.get("src"),t=(0,A.result)(this,"defaults").src;return e===t||e===(0,Pe.buildBase64UrlFromSvg)(t)},n.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),r=t.attributes;return r&&t.src===r.src&&delete t.src,t},n.prototype.parseUri=function(e){var t={},r=function(o){o===void 0&&(o="");for(var s={},c=o.substring(1).split("&"),u=0;u<c.length;u++){var f=c[u].split("="),h=decodeURIComponent(f[0]);h&&(s[h]=decodeURIComponent(f[1]||""))}return s};if((0,Pe.hasWin)())t=document.createElement("a"),t.href=e;else if(typeof URL<"u")try{t=new URL(e)}catch{}return{hostname:t.hostname||"",pathname:t.pathname||"",protocol:t.protocol||"",search:t.search||"",hash:t.hash||"",port:t.port||"",query:r(t.search)}},n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)==="img"},n}(ur),vf=pw,hw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kl=function(){return kl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},kl.apply(this,arguments)},vw=function(i){hw(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this;return r.__checkInnerChilds(),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return kl(kl({},i.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var t=function(r){r.isInstanceOf("textnode")||r.set({locked:!0,layerable:!1})};(0,A.isFunction)(e)?this.forEachChild(function(r){e(r)&&t(r)}):this.forEachChild(t)}},n}(ur),gf=vw,gw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tl=function(){return Tl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Tl.apply(this,arguments)},lu="label",mw=function(i){gw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Tl(Tl({},i.prototype.defaults),{type:lu,tagName:lu,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===lu},n}(gf),yw=mw,_w=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pl=function(){return Pl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Pl.apply(this,arguments)},Cv="link",bw=function(i){_w(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Pl(Pl({},i.prototype.defaults),{type:Cv,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e,t){t===void 0&&(t={});var r;if((0,Pe.toLowerCase)(e.tagName)==="a"){var o=t.textTags||[];r={type:Cv,editable:!1};var s=e.childNodes,c=s.length;c||delete r.editable,(0,A.forEach)(s,function(u){var f=u.tagName;(u.nodeType==3&&u.textContent.trim()!==""||f&&o.indexOf((0,Pe.toLowerCase)(f))>=0)&&delete r.editable})}return r},n}(gf),ww=bw,xw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),El=function(){return El=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},El.apply(this,arguments)},Cw=function(i){xw(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this;return r.get("src")?r.parseFromSrc():r.updateSrc(),r.listenTo(r,"change:address change:zoom change:mapType",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var e=i.prototype.defaults;return El(El({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),n.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},n.prototype.getMapUrl=function(){var e=this.get("address"),t=this.get("zoom"),r=this.get("mapType");e=e?"&q="+e:"",t=t?"&z="+t:"",r=r?"&t="+r:"";var o=this.get("mapUrl")+"?"+e+t+r;return o+="&output=embed",o},n.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")),t=e.query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)},n.isComponent=function(e){if((0,Pe.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},n}(vf),Sw=Cw,Ow=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Al=function(){return Al=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Al.apply(this,arguments)},cu="script",kw=function(i){Ow(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Al(Al({},i.prototype.defaults),{type:cu,tagName:cu,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===cu},n}(ur),Tw=kw,Pw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dl=function(){return Dl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Dl.apply(this,arguments)},uu="svg",Ew=function(i){Pw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Dl(Dl({},i.prototype.defaults),{type:uu,tagName:uu,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),n.prototype.getName=function(){var e=this.get("tagName"),t=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),t||e},n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===uu},n}(ur),im=Ew,Aw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ml=function(){return Ml=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ml.apply(this,arguments)},Dw=function(i){Aw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ml(Ml({},i.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(e,t){return t===void 0&&(t={}),!!t.inSvg},n}(im),Mw=Dw,Lw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ll=function(){return Ll=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ll.apply(this,arguments)},fu="table",Rw=function(i){Lw(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this,o=r.get("components");return!o.length&&o.add({type:"tbody"}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ll(Ll({},i.prototype.defaults),{type:fu,tagName:fu,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===fu},n}(ur),jw=Rw,Bw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rl=function(){return Rl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Rl.apply(this,arguments)},du="tbody",Iw=function(i){Bw(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this,o=r.get("components"),s=r.get("columns"),c=r.get("rows");if(!o.length){for(var u=[];c--;){for(var f=[],h=s;h--;)f.push({type:"cell",classes:["cell"]});u.push({type:"row",classes:["row"],components:f})}o.add(u)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Rl(Rl({},i.prototype.defaults),{type:du,tagName:du,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===du},n}(ur),mf=Iw,Vw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jl=function(){return jl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},jl.apply(this,arguments)},Nw=function(i){Vw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return jl(jl({},i.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return["td","th"].indexOf((0,Pe.toLowerCase)(e.tagName))>=0},n}(ur),Fw=Nw,Hw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bl=function(){return Bl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Bl.apply(this,arguments)},pu="tfoot",Uw=function(i){Hw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Bl(Bl({},i.prototype.defaults),{type:pu,tagName:pu})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===pu},n}(mf),Ww=Uw,zw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Il=function(){return Il=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Il.apply(this,arguments)},hu="thead",Kw=function(i){zw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Il(Il({},i.prototype.defaults),{type:hu,tagName:hu})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===hu},n}(mf),Gw=Kw,Yw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vl=function(){return Vl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Vl.apply(this,arguments)},Sv="tr",qw=function(i){Yw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Vl(Vl({},i.prototype.defaults),{tagName:Sv,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===Sv},n}(ur),Xw=qw,$w=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nl=function(){return Nl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Nl.apply(this,arguments)},vu="video",Ui="yt",Wi="vi",zi="ytnc",Ov="so",gu=function(i){return i&&i!=="0"},Jw=function(i){$w(n,i);function n(e,t){e===void 0&&(e={});var r=i.call(this,e,t)||this;return r.get("src")&&r.parseFromSrc(),r.updatePropsFromAttr(),r.updateTraits(),r.on("change:provider",r.updateTraits),r.on("change:videoId change:provider",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Nl(Nl({},i.prototype.defaults),{type:vu,tagName:vu,videoId:"",void:!1,provider:Ov,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),n.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Ov){var e=this.get("attributes"),t=e.controls,r=e.autoplay,o=e.loop,s={};(0,Pe.isDef)(t)&&(s.controls=!!t),(0,Pe.isDef)(r)&&(s.autoplay=!!r),(0,Pe.isDef)(o)&&(s.loop=!!o),(0,Pe.isEmptyObj)(s)||this.set(s)}},n.prototype.updateTraits=function(){var e=this.em,t=this.get("provider"),r="iframe",o;switch(t){case Ui:case zi:o=this.getYoutubeTraits();break;case Wi:o=this.getVimeoTraits();break;default:r="video",o=this.getSourceTraits()}this.set({tagName:r},{silent:!0}),this.set({traits:o}),e.get("ready")&&e.trigger("component:toggled")},n.prototype.parseFromSrc=function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),r=t.query;switch(e){case Ui:case zi:case Wi:this.set("videoId",t.pathname.split("/").pop()),r.list&&this.set("list",r.list),gu(r.autoplay)&&this.set("autoplay",!0),gu(r.loop)&&this.set("loop",!0),parseInt(r.controls)===0&&this.set("controls",!1),gu(r.color)&&this.set("color",r.color),r.rel==="0"&&this.set("rel",0),r.modestbranding==="1"&&this.set("modestbranding",1);break;default:}},n.prototype.updateSrc=function(){var e=this.get("provider"),t="";switch(e){case Ui:t=this.getYoutubeSrc();break;case zi:t=this.getYoutubeNoCookieSrc();break;case Wi:t=this.getVimeoSrc();break}this.set({src:t})},n.prototype.getAttrToHTML=function(){var e=i.prototype.getAttrToHTML.call(this),t=this.get("provider");switch(t){case Ui:case zi:case Wi:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls")}return e},n.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Ui,name:"Youtube"},{value:zi,name:"Youtube (no cookie)"},{value:Wi,name:"Vimeo"}]}},n.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},n.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},n.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},n.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},n.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},n.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},n.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),t=this.get("ytUrl"),r=this.get("list");return t+=e+(e.indexOf("?")<0?"?":""),t+=r?"&list=".concat(r):"",t+=this.get("autoplay")?"&autoplay=1&mute=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",t+=this.get("rel")?"":"&rel=0",t+=this.get("modestbranding")?"&modestbranding=1":"",t},n.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e=e.replace(this.get("ytUrl"),this.get("ytncUrl")),e},n.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1&muted=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):"",e},n.isComponent=function(e){var t=e.tagName,r=e.src,o=/youtube\.com\/embed/.test(r),s=/youtube-nocookie\.com\/embed/.test(r),c=/player\.vimeo\.com\/video/.test(r),u=o||s||c;if((0,Pe.toLowerCase)(t)==vu||(0,Pe.toLowerCase)(t)=="iframe"&&u){var f={type:"video"};return r&&(f.src=r),u&&(o?f.provider=Ui:s?f.provider=zi:c&&(f.provider=Wi)),f}},n}(vf),Zw=Jw,Qw=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xi=function(){return Xi=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Xi.apply(this,arguments)},ex=function(i){Qw(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Xi(Xi({},i.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),n.prototype.preInit=function(){var e,t,r=this,o=r.opt,s=r.attributes,c=(e=this.em)===null||e===void 0?void 0:e.Components,u=(t=c?.getType(ia))===null||t===void 0?void 0:t.model,f=c?.getType("default").model;if(u){var h=s.head,g=s.docEl;this.set({head:h&&h instanceof ur?h:new u(Xi({},h),o),docEl:g&&g instanceof ur?g:new f(Xi({tagName:"html"},g),o)},{silent:!0})}},Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),n.prototype.clone=function(e){var t=i.prototype.clone.call(this,e);return t.set("head",this.get("head").clone(e)),t.set("docEl",this.get("docEl").clone(e)),t},n.prototype.toHTML=function(e){e===void 0&&(e={});var t=this.doctype,r=(0,A.isUndefined)(e.asDocument)?!!t:e.asDocument,o=this,s=o.head,c=o.docEl,u=i.prototype.toHTML.call(this,e),f=r&&s?.toHTML(e)||"",h=r&&(0,ze.kk)(c?.getAttrToHTML())||"",g=h?" ".concat(h):"";return r?"".concat(t,"<html").concat(g,">").concat(f).concat(u,"</html>"):u},n.prototype.__postAdd=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&t?.add(this),i.prototype.__postAdd.call(this)},n.prototype.__postRemove=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return t?.remove(this),i.prototype.__postRemove.call(this)},n.isComponent=function(){return!1},n}(ur),tx=ex,rx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nx=function(i){rx(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e.compView=or,e}return n.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)},n.prototype.removeChildren=function(e,t,r){var o=this;r===void 0&&(r={}),e.views.forEach(function(c){if(c){var u=c.childrenView,f=c.scriptContainer;u&&u.stopListening(),(0,ze.YZ)(f),c.remove.apply(c)}});var s=e.components();s.forEach(function(c){return o.removeChildren(c,t,r)})},n.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},n.prototype.addToCollection=function(e,t,r){for(var o=this,s=o.config,c=o.opts,u=o.em,f=s.frameView,h=f?.model&&e.getView(f.model),g=c.componentTypes||u?.Components.getTypes(),m=e.get("type")||"default",_=this.compView,w=0;w<g.length;w++)if(g[w].id==m){_=g[w].view;break}var C=h||new _({model:e,config:s,componentTypes:g}),T;try{T=C.render().el}catch(z){T=document.createTextNode(""),u.logError(z)}if(t)t.appendChild(T);else{var B=this.parentEl,W=B.childNodes;if((0,A.isUndefined)(r))B.appendChild(T);else{var N=W.length==r;N&&r--,N||!W.length?B.appendChild(T):B.insertBefore(T,W[r])}}return e.opt.temporary||u?.trigger("component:mount",e),T},n.prototype.resetChildren=function(e,t){var r=this;t===void 0&&(t={});var o=t.previousModels;t.skipDomReset||(this.parentEl.innerHTML=""),o?.forEach(function(s){return r.removeChildren(s,r.collection)}),e.each(function(s){return r.addToCollection(s)})},n.prototype.render=function(e){var t=this,r=this.el,o=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(s){return t.addToCollection(s,o)}),r.innerHTML="",r.appendChild(o),this},n}(Ie.Ss),am=nx,ox=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xn=function(){return Xn=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Xn.apply(this,arguments)},ix=function(i){ox(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.className=function(){return this.getClasses()},n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.preinitialize=function(e){e===void 0&&(e={}),this.opts=e},n.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,r=e.config||{},o=r.em,s=t.opt||{},c=this,u=c.$el,f=c.el;this.opts=e,this.modelOpt=s,this.config=r,this.em=o,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.attr=t.get("attributes"),this.classe=this.attr.class||[],this.listenTo(t,"change:style",this.updateStyle),this.listenTo(t,"change:attributes",this.renderAttributes),this.listenTo(t,"change:highlightable",this.updateHighlight),this.listenTo(t,"change:status change:locked",this.updateStatus),this.listenTo(t,"change:script rerender",this.reset),this.listenTo(t,"change:content",this.updateContent),this.listenTo(t,"change",this.handleChange),this.listenTo(t,"active",this.onActive),this.listenTo(t,"disable",this.onDisable),u.data("model",t),(0,Pe.setViewEl)(f,this),t.view=this,this.frameView&&t.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=Xn(Xn({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!s.temporary&&this.init(this._clbObj())},Object.defineProperty(n.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"createDoc",{get:function(){var e,t,r=((e=this.frameView)===null||e===void 0?void 0:e.getDoc())||document;return!((t=this.opts.config)===null||t===void 0)&&t.useFrameDoc?r:document},enumerable:!1,configurable:!0}),n.prototype.__isDraggable=function(){var e=this,t=e.model,r=e.config,o=t.attributes.draggable;return r.draggableComponents&&o},n.prototype._clbObj=function(){var e=this,t=e.em,r=e.model,o=e.el;return{editor:t?.getEditor(),model:r,el:o}},n.prototype.init=function(e){},n.prototype.removed=function(e){},n.prototype.onRender=function(e){},n.prototype.onActive=function(e){},n.prototype.onDisable=function(e){},n.prototype.remove=function(){var e;i.prototype.remove.call(this);var t=this,r=t.model,o=t.$el,s=r.views,c=this.frameView||{};return r.components().forEach(function(u){var f=u.getView(c.model);f?.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),s.splice(s.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},n.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault();var t=this.em.getSelectedAll(),r=t.includes(this.model)?t:[this.model];this.em.Commands.run("tlb-move",{target:r,event:e})},n.prototype.initClasses=function(){var e=this.model,t=e.classes,r="change:classes";t instanceof Uo&&(this.stopListening(e,r,this.initClasses),this.listenTo(e,r,this.initClasses),this.listenTo(t,"add remove change reset",this.updateClasses),t.length&&this.importClasses())},n.prototype.initComponents=function(e){e===void 0&&(e={});var t=this,r=t.model,o=t.$el,s=t.childrenView,c="change:components",u=r.get("components"),f=[r,c,this.initComponents];u instanceof us&&(o.data("collection",u),s&&s.remove(),this.stopListening.apply(this,f),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,f))},n.prototype.handleChange=function(){var e=this.model,t=(0,A.keys)(e.changed);if(!(t.length===1&&t[0]==="status")){e.emitUpdate();for(var r in e.changed)e.emitUpdate(r)}},n.prototype.importClasses=function(){var e=this,t=e.em,r=e.model,o=t.Selectors;o&&r.classes.forEach(function(s){return o.add(s.getName())})},n.prototype.updateStatus=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.el,s=t.ppfx,c=t.model,u=r?.Canvas,f=u?.config.extHl,h=c.get("status"),g="".concat(s,"selected"),m="".concat(g,"-parent"),_="".concat(s,"freezed"),w="".concat(s,"hovered"),C="".concat(s,"no-pointer"),T="".concat(s,"pointer-init"),B=[g,m,_,w,C,T],W=f&&!e.noExtHl?"":g;this.$el.removeClass(B.join(" "));var N=o.getAttribute("class")||"",z=[N],ue=!u?.hasCustomSpot(Ln.F.Select),_e=!u?.hasCustomSpot(Ln.F.Target);switch(h){case"selected":ue&&z.push(W);break;case"selected-parent":_e&&z.push(m);break;case"freezed":z.push(_);break;case"freezed-selected":z.push(_),ue&&z.push(W);break;case"hovered":!e.avoidHover&&z.push(w);break}(0,A.isBoolean)(c.locked)&&z.push(c.locked?C:T);var Se=z.filter(Boolean).join(" ");Se&&o.setAttribute("class",Se)},n.prototype.updateHighlight=function(){var e=this.model,t=e.get("textable"),r=e.get("highlightable")&&(t||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",r?!0:"")},n.prototype.updateStyle=function(e,t,r){r===void 0&&(r={});var o=this,s=o.model,c=o.em;if(za(c)&&!r.inline){var u=this.__cmpStyleOpts,f=s.getStyle(Xn({inline:!0},u));!(0,A.isEmpty)(f)&&s.setStyle(f,u)}else this.setAttribute("style",s.styleToString(r))},n.prototype.updateStyles=function(){this.updateStyle()},n.prototype.updateClasses=function(){var e=this.model.classes.pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()},n.prototype.setAttribute=function(e,t){var r=this.$el;t?r.attr(e,t):r.removeAttr(e)},n.prototype.getClasses=function(){return this.model.getClasses().join(" ")},n.prototype.updateAttributes=function(){var e=[],t=this,r=t.model,o=t.$el,s=t.el,c=r.attributes,u=c.textable,f=c.type,h=Xn(Xn({id:r.getId(),"data-gjs-type":f||"default"},this.__isDraggable()&&{draggable:!0}),u&&{contenteditable:"false"});(0,A.each)(s.attributes,function(m){return e.push(m.nodeName)}),e.forEach(function(m){return o.removeAttr(m)}),this.updateStyle(),this.updateHighlight();var g=Xn(Xn({},h),r.getAttributes());(0,A.keys)(g).forEach(function(m){return g[m]===!1&&delete g[m]}),o.attr(g)},n.prototype.updateContent=function(){var e=this.model.content,t=this.model.components().length;this.getChildrenContainer().innerHTML=t?"":e},n.prototype.prevDef=function(e){e.preventDefault()},n.prototype.updateScript=function(){var e=this,t=e.model,r=e.em;t.get("script")&&r?.Canvas.getCanvasView().updateScript(this)},n.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},n.prototype.getOffsetRect=function(){var e={top:0,left:0,bottom:0,right:0},t=this.el,r=0,o=0,s=function(c){var u=c.offsetParent;u?(r+=u.offsetTop,o+=u.offsetLeft,s(u)):(e.top=t.offsetTop+r,e.left=t.offsetLeft+o,e.bottom=e.top+t.offsetHeight,e.right=e.left+t.offsetWidth)};return s(t),e},n.prototype.isInViewport=function(){var e=this,t=e.el,r=e.em,o=e.frameView,s=r.Canvas.getCanvasView(),c=s.getElBoxRect(t,{local:!0}),u=o.el,f=u.clientHeight,h=u.clientWidth,g=c.y,m=c.x,_=g+c.height,w=m+c.width,C=g>=0&&g<f,T=_>0&&_<f,B=w>=0&&w<h,W=m>0&&m<=h,N=(C||T)&&(B||W);return N},n.prototype.scrollIntoView=function(e){var t;e===void 0&&(e={});var r=this.isInViewport();if(!r||e.force){var o=this.el;if(e.behavior!=="smooth"){var s=this.getOffsetRect();(t=o.ownerDocument.defaultView)===null||t===void 0||t.scrollTo(0,s.top)}else o.scrollIntoView(Xn({behavior:"smooth",block:"nearest"},e))}},n.prototype.reset=function(){var e=this,t=e.el,r=e.model;e.scriptContainer&&r.emitWithEitor(er.I.scriptUnmount,{component:r,view:e,el:t}),this.el="",this._ensureElement(),this._setData(),(0,ze.bG)(t,this.el),this.render()},n.prototype._setData=function(){var e=this.model,t=e.components(),r=this;this.$el.data({model:e,collection:t,view:r})},n.prototype._createElement=function(e){return this.createDoc.createElement(e)},n.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new am({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var r=Array.prototype.slice.call(t.el.childNodes),o=0,s=r.length;o<s;o++)e.appendChild(r.shift())},n.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},n.prototype.onAttrUpdate=function(){},n.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Pe.setViewEl)(this.el,this),this.postRender(),this)},n.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},n.getEvents=function(){return(0,A.result)(this.prototype,"events")},n}(Ie.Ss),or=ix,ax=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sx=function(i){ax(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype._setAttributes=function(){},n.prototype.renderAttributes=function(){},n.prototype.updateStatus=function(){},n.prototype.updateClasses=function(){},n.prototype.setAttribute=function(){},n.prototype.updateAttributes=function(){},n.prototype.initClasses=function(){},n.prototype.initComponents=function(){},n.prototype.delegateEvents=function(){return this},n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var e=this,t=e.model,r=e.el;return t.opt.temporary?this:(r.textContent=t.content,this)},n}(or),sm=sx,lx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cx=function(i){lx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createComment(this.model.content)},n}(sm),ux=cx,fx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dx=function(i){fx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.initialize=function(e){i.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},n.prototype.updateSrc=function(){var e=(0,ze.I6)(this.el,"iframe")[0];e&&(0,ze.X6)(e,{src:this.__getSrc()})},n.prototype.render=function(){i.prototype.render.call(this);var e=(0,ze.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},n.prototype.__getSrc=function(){return this.model.getAttributes().src||""},n}(or),px=dx,hx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vx=function(i){hx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"img"},n.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},n.prototype.initialize=function(e){i.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},n.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this,t=e.model,r=e.em,o=t.get("file");if(o&&r){var s=r.Assets.FileUploader();s?.uploadFile({dataTransfer:{files:[o]}},function(c){var u=c&&c.data&&c.data[0],f=u&&((0,A.isString)(u)?u:u.src);f&&t.set({src:f})}),t.set("file","")}}},n.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},n.prototype.updateClasses=function(){i.prototype.updateClasses.call(this);var e=this,t=e.el,r=e.classEmpty,o=e.model,s=o.getSrcResult()&&!o.isDefaultSrc(),c=s?"remove":"add";t.classList[c](r)},n.prototype.onActive=function(e){e?.stopPropagation();var t=this,r=t.em,o=t.model,s=r?.Assets;s&&o.get("editable")&&s.open({select:function(c,u){o.set({src:c.getSrc()}),u&&s.close()},target:o,types:["image"],accept:"image/*"})},n.prototype.onError=function(){var e=this,t=e.model,r=e.el,o=t.getSrcResult({fallback:!0});o&&(r.srcset&&(r.srcset=""),r.src=o)},n.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},n.prototype.noDrag=function(e){return e.preventDefault(),!1},n.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this,t=e.$el,r=e.model,o=t.attr("class")||"";return!r.get("src")&&t.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},n}(or),yf=vx,gx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ci=function(){return ci=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ci.apply(this,arguments)},Js=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{f(t.next(h))}catch(g){s(g)}}function u(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?o(h.value):r(h.value).then(c,u)}f((t=t.apply(i,n||[])).next())})},Zs=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(h){return u([f,h])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(i,e)}catch(h){f=[6,h],r=0}finally{t=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},mx=function(i){gx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},n.prototype.initialize=function(e){i.prototype.initialize.call(this,e),(0,A.bindAll)(this,"disableEditing","onDisable");var t=this.model,r=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=r?.RichTextEditor},n.prototype.updateContentText=function(e,t,r){r===void 0&&(r={}),!r.fromDisable&&this.disableEditing()},n.prototype.canActivate=function(){var e=this,t=e.model,r=e.rteEnabled,o=e.em,s=o?.getEditing(),c=s===t,u=!0,f=!1,h;if((r||!t.get("editable")||c||(f=t.isChildOf("text")))&&(u=!1,f&&!t.get("textable"))){for(var g=t.parent();g&&!g.isInstanceOf("text");)g=g.parent();g&&g.get("editable")?h=g:u=!0}return{result:u,delegate:h}},n.prototype.onActive=function(e){return Js(this,void 0,void 0,function(){var t,r,o,s,c,u,f,h,g,m,_,w;return Zs(this,function(C){switch(C.label){case 0:return t=this,r=t.rte,o=t.em,s=this.canActivate(),c=s.result,u=s.delegate,c?((w=e?.stopPropagation)===null||w===void 0||w.call(e),f=this,[4,this.getContent()]):(u&&((_=e?.stopPropagation)===null||_===void 0||_.call(e),o.setSelected(u),u.trigger("active",e)),[2]);case 1:if(f.lastContent=C.sent(),!r)return[3,5];C.label=2;case 2:return C.trys.push([2,4,,5]),h=this,g=this,[4,r.enable(h,this.activeRte,{event:e,view:h})];case 3:return g.activeRte=C.sent(),[3,5];case 4:return m=C.sent(),o.logError(m),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},n.prototype.onDisable=function(e){this.disableEditing(e)},n.prototype.disableEditing=function(){return Js(this,arguments,void 0,function(e){var t,r,o,s,c,u,f,h,g;return e===void 0&&(e={}),Zs(this,function(m){switch(m.label){case 0:return t=this,r=t.model,o=t.rte,s=t.activeRte,c=t.em,u=r&&r.get("editable"),o?(f={},[4,this.getContent()]):[3,7];case 1:h=m.sent(),m.label=2;case 2:return m.trys.push([2,4,,5]),[4,o.disable(this,s,e)];case 3:return f=m.sent(),[3,5];case 4:return g=m.sent(),c.logError(g),[3,5];case 5:return u&&(h!==this.lastContent||f.forceSync)?[4,this.syncContent(ci(ci({},e),{content:h}))]:[3,7];case 6:m.sent(),this.lastContent="",m.label=7;case 7:return this.toggleEvents(),[2]}})})},n.prototype.getContent=function(){return Js(this,void 0,void 0,function(){var e,t,r,o;return Zs(this,function(s){switch(s.label){case 0:return e=this,t=e.rte,r=e.activeRte,o="",t?[4,t.getContent(this,r)]:[3,2];case 1:o=s.sent(),s.label=2;case 2:return[2,o]}})})},n.prototype.syncContent=function(){return Js(this,arguments,void 0,function(e){var t,r,o,s,c,u,f,h,g;return e===void 0&&(e={}),Zs(this,function(m){switch(m.label){case 0:return t=this,r=t.model,o=t.rte,s=t.rteEnabled,!s&&!e.force?[2]:(g=e.content)!==null&&g!==void 0?(u=g,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:u=m.sent(),m.label=3;case 3:return c=u,f=r.components(),h=ci({fromDisable:1},e),r.set("content","",h),o?.customRte&&!o.customRte.parseContent?(f.length&&f.reset(void 0,ci(ci({},e),{keepIds:Gi(f)})),r.set("content",c,h)):f.resetFromString(c,e),[2]}})})},n.prototype.insertComponent=function(e,t){var r;t===void 0&&(t={});var o=this,s=o.model,c=o.el,u=c.ownerDocument,f=u.getSelection();if(f?.rangeCount){var h=f.getRangeAt(0),g=h.startContainer,m=h.startOffset,_=(0,Pe.getComponentModel)(g),w=[];if(_&&(!((r=_.is)===null||r===void 0)&&r.call(_,"textnode"))){var C=_.collection;C.forEach(function(W){if(W===_){var N="textnode",z=t.useDomContent?g.textContent||"":W.content;w.push({type:N,content:z.slice(0,m)}),w.push(e),w.push({type:N,content:z.slice(m)})}else w.push(W)});var T=w.filter(Boolean),B=T.indexOf(e);return C.reset(T,t),C.at(B)}}return s.append(e,t)},n.prototype.onInput=function(){var e,t="component",r=["".concat(t,":update"),"".concat(t,":input")].join(" ");(e=this.em)===null||e===void 0||e.trigger(r,this.model)},n.prototype.disablePropagation=function(e){e.stopPropagation()},n.prototype.toggleEvents=function(e){var t=this,r=t.em,o=t.model,s=t.$el,c={on:ze.on,off:ze.AU},u=e?"on":"off";r.setEditing(e?this:!1),this.rteEnabled=!!e;var f=[this.el.ownerDocument,document];if(c.off(f,"mousedown",this.onDisable),c[u](f,"mousedown",this.onDisable),r[u]("toolbar:run:before",this.onDisable),o&&(o[u]("removed",this.onDisable),o.trigger("rte:".concat(e?"enable":"disable"))),s?.off("mousedown",this.disablePropagation),s&&s[u]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var h=this.el;h;)h.draggable=!e,h=h.parentNode,h&&h.tagName=="BODY"&&(h=0)},n}(or),lm=mx,yx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_x=function(i){yx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.render=function(){return i.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},n}(lm),cm=_x,bx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wx=function(i){bx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(cm),xx=wx,Cx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sx=function(i){Cx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(e){i.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},n.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},n.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},n.prototype.render=function(){return i.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},n}(yf),Ox=Sx,kx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tx=function(i){kx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"script"},n.prototype.events=function(){return{}},n}(or),Px=Tx,Ex=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ax=function(i){Ex(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},n}(or),kv=Ax,Dx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mx=function(i){Dx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(or),Lx=Mx,Rx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jx=function(i){Rx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(or),Bx=jx,Ix=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vx=function(i){Ix(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(or),Nx=Vx,Fx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hx=function(i){Fx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(or),Ux=Hx,Wx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zx=function(i){Wx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(or),Kx=zx,Gx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yx=function(i){Gx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return{}},n}(or),qx=Yx,Xx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$x=function(i){Xx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(){or.prototype.initialize.apply(this,arguments);var e=this.model,t=["loop","autoplay","controls","color","rel","modestbranding","poster"],r=t.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,r,this.updateVideo)},n.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},n.prototype.updateSrc=function(){var e=this,t=e.model,r=e.videoEl;if(r){var o=t.get("provider"),s=t.get("src");switch(o){case"yt":s=t.getYoutubeSrc();break;case"ytnc":s=t.getYoutubeNoCookieSrc();break;case"vi":s=t.getVimeoSrc();break}r.src=s}},n.prototype.updateVideo=function(){var e=this,t=e.model,r=e.videoEl,o=t.get("provider");switch(o){case"yt":case"ytnc":case"vi":t.trigger("change:videoId");break;default:if(r){var s=r;s.loop=t.get("loop"),s.autoplay=t.get("autoplay"),s.controls=t.get("controls"),s.poster=t.get("poster")}}},n.prototype.renderByProvider=function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t,t},n.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},n.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},n.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},n.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},n.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},n.prototype.render=function(){or.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},n}(yf),Jx=$x,Zx=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qx=function(i){Zx(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n}(or),eC=Qx,tC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fl=function(){return Fl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Fl.apply(this,arguments)},rC=function(i){tC(n,i);function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.apply(this,e)||this;r.refreshDbn=(0,A.debounce)(function(){return r.refresh()},0);var o=r.events;return r.on(o.update,r.onUpdate),r.on(o.updateInside,r.onUpdateDeep),r}return n.prototype.removeChildren=function(e,t,r){var o;r===void 0&&(r={}),i.prototype.removeChildren.call(this,e,t,r),(o=kn(e))===null||o===void 0||o.forEach(function(s){return df(s,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:e})},n.prototype.onAdd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.prototype.onAdd.apply(this,e);var r=e[0];this.__trgEvent(this.events.symbolMainAdd,{component:r})},n.prototype.onUpdate=function(e){this.__trgEvent(this.events.symbolMainUpdate,e)},n.prototype.onUpdateDeep=function(e){this.__trgEvent(this.events.symbolMainUpdateDeep,e)},n.prototype.refresh=function(){var e=this,t=e.em,r=e.events;t.trigger(r.symbol)},n.prototype.__trgEvent=function(e,t,r){r===void 0&&(r=!1);var o=this,s=o.em,c=o.events,u=r?c.symbolInstance:c.symbolMain;s.trigger(e,t),s.trigger(u,Fl(Fl({},t),{event:e})),this.refreshDbn()},n}(us),nC=rC,oC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hl=function(){return Hl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Hl.apply(this,arguments)},iC=function(i){oC(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Hl(Hl({},i.prototype.defaults),{type:Jn,path:"",defaultValue:""})},enumerable:!1,configurable:!0}),n.prototype.getDataValue=function(){var e=this.attributes,t=e.path,r=e.defaultValue;return this.em.DataSources.getValue(t,r)},n.prototype.getInnerHTML=function(){return this.getDataValue()},n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===Jn},n}(ur),aC=iC,sC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lC=function(i){sC(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.initialize=function(e){var t=this;e===void 0&&(e={}),i.prototype.initialize.call(this,e),this.dynamicVariableListener=new bc({em:this.em,dataVariable:this.model,updateValueFromDataVariable:function(){return t.postRender()}})},n.prototype.postRender=function(){var e=this,t=e.model,r=e.el,o=e.em,s=t.attributes,c=s.path,u=s.defaultValue;r.innerHTML=o.DataSources.getValue(c,u),i.prototype.postRender.call(this)},n}(or),cC=lC,uC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fC=function(i){uC(n,i);function n(e,t){var r=this,o=e.condition,s=e.ifTrue,c=e.ifFalse,u=new _c(o,s,c,{em:t.em}),f=u.getDataValue(),h={type:Zn,components:f};return r=i.call(this,h,t)||this,r.componentDefinition=e,r.dataCondition=u,r.dataCondition.onValueChange=r.handleConditionChange.bind(r),r}return n.prototype.handleConditionChange=function(){this.dataCondition.reevaluate();var e=this.dataCondition.getDataValue();this.components().reset(),this.components().add(e)},n.isComponent=function(e){return(0,Pe.toLowerCase)(e.tagName)===Zn},n.prototype.toJSON=function(){return this.dataCondition.toJSON()},n}(ur),dC=fC,pC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hC=function(i){pC(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(or),vC=hC,gC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Er=function(){return Er=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Er.apply(this,arguments)},mC=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},yC=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Ka=function(i){return i[i.InvalidSource=0]="InvalidSource",i[i.SourceReject=1]="SourceReject",i[i.TargetReject=2]="TargetReject",i}(Ka||{}),_C=function(i){gC(n,i);function n(e){var t=i.call(this,e,"DomComponents",new us(void 0,{em:e}),er.I,nw())||this;t.componentTypes=[{id:Zn,model:dC,view:vC},{id:Jn,model:aC,view:cC},{id:"cell",model:Fw,view:Bx},{id:"row",model:Xw,view:Kx},{id:"table",model:jw,view:qx},{id:"thead",model:Gw,view:Ux},{id:"tbody",model:mf,view:Lx},{id:"tfoot",model:Ww,view:Nx},{id:"map",model:Sw,view:Ox},{id:"link",model:ww,view:cm},{id:"label",model:yw,view:xx},{id:"video",model:Zw,view:Jx},{id:"image",model:vf,view:yf},{id:"script",model:Tw,view:Px},{id:"svg-in",model:Mw,view:kv},{id:"svg",model:im,view:kv},{id:"iframe",model:fw,view:px},{id:"comment",model:lw,view:ux},{id:"textnode",model:om,view:sm},{id:ia,model:Lb,view:or},{id:"wrapper",model:tx,view:eC},{id:"text",model:gf,view:lm},{id:"default",model:ur,view:or}],t.componentsById={},t.Component=ur,t.Components=us,t.ComponentView=or,t.ComponentsView=am,t.storageKey="components",t.keySymbols="symbols",t.events=er.I;var r=t.config;t.symbols=new nC([],{em:e,config:r,domc:t}),e&&(t.config.components=e.config.components||t.config.components);var o=t.config.pStylePrefix;if(o&&(t.config.stylePrefix=o+t.config.stylePrefix),e){e.get("Parser").compTypes=t.componentTypes,e.on("change:componentHovered",t.componentHovered,t);var s=e.get("selected");e.listenTo(s,"add",function(c,u,f){return t.selectAdd(s.getComponent(c),f)}),e.listenTo(s,"remove",function(c,u,f){return t.selectRemove(s.getComponent(c),f)})}return t}return n.prototype.postLoad=function(){var e=this,t=e.em,r=e.symbols,o=t.UndoManager;o.add(r)},n.prototype.load=function(e){var t=this,r=this.loadProjectData(e,{onResult:function(o){var s=t.getWrapper();if(s||(t.em.Pages.add({},{select:!0}),s=t.getWrapper()),(0,A.isArray)(o))o.length&&s.components(o);else{var c=o.components,u=c===void 0?[]:c,f=mC(o,["components"]);s.set(f),s.components(u)}}});return this.symbols.reset(e[this.keySymbols]||[]),r},n.prototype.store=function(){var e;return e={},e[this.keySymbols]=this.symbols,e},n.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),t=e?.getMainFrame();return t?.getComponent()},n.prototype.getWrapper=function(){return this.getComponent()},n.prototype.getComponents=function(){var e=this.getWrapper();return e?.components()},n.prototype.addComponent=function(e,t){return t===void 0&&(t={}),this.getComponents().add(e,t)},n.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},n.prototype.clear=function(e){e===void 0&&(e={});var t=this.getComponents();return t?.filter(Boolean).forEach(function(r){return r.remove(e)}),this},n.prototype.setComponents=function(e,t){t===void 0&&(t={}),this.clear(t).addComponent(e,t)},n.prototype.addType=function(e,t){var r=this.em,o=t.model,s=o===void 0?{}:o,c=t.view,u=c===void 0?{}:c,f=t.isComponent,h=t.extend,g=t.extendView,m=t.extendFn,_=m===void 0?[]:m,w=t.extendFnView,C=w===void 0?[]:w,T=t.block,B=this.getType(e),W=this.getType(h),N=this.getType(g),z=W||B||this.getType("default"),ue=z.model,_e=N?N.view:z.view,Se=function(U,H,te){return U.reduce(function(E,me){var ve=H[me],Le=te.prototype[me];return ve&&Le&&(E[me]=function(){for(var Je=[],$e=0;$e<arguments.length;$e++)Je[$e]=arguments[$e];Le.bind(this).apply(void 0,Je),ve.bind(this).apply(void 0,Je)}),E},{})};if(typeof s=="object"){var ce={defaults:s.defaults};delete s.defaults;var q=new Set(ue.typeExtends);q.add(ue.getDefaults().type),t.model=ue.extend(Er(Er({},s),Se(_,s,ue)),{typeExtends:q,isComponent:B&&!W&&!f?ue.isComponent:f||function(){return 0}}),Object.defineProperty(t.model.prototype,"defaults",{get:function(){return Er(Er({},(0,A.result)(ue.prototype,"defaults")||{}),(0,A.result)(ce,"defaults")||{})}})}if(typeof u=="object"&&(t.view=_e.extend(Er(Er({},u),Se(C,u,_e)))),B?(B.model=t.model,B.view=t.view):(t.id=e,this.componentTypes.unshift(t)),T){var ae={id:e,label:e,content:{type:e}},F=T===!0?ae:Er(Er({},ae),T);r.Blocks.add(F.id||e,F)}var R="component:type:".concat(B?"update":"add");return r?.trigger(R,B||t),this},n.prototype.getType=function(e){for(var t=this.componentTypes,r=0;r<t.length;r++){var o=t[r].id;if(o==e)return t[r]}},n.prototype.removeType=function(e){var t=this.componentTypes,r=this.getType(e);if(r){var o=t.indexOf(r);return t.splice(o,1),r}},n.prototype.getTypes=function(){return this.componentTypes},n.prototype.selectAdd=function(e,t){var r=this;t===void 0&&(t={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return r.em.trigger(o,e,t)}))},n.prototype.selectRemove=function(e,t){var r=this;if(t===void 0&&(t={}),e){var o=this.em;e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(s){return r.em.trigger(s,e,t)})}},n.prototype.componentHovered=function(){var e=this.em,t=e.get("componentHovered"),r=e.previous("componentHovered"),o="hovered";r&&r.get("status")==o&&r.set({status:"",state:""}),t&&(0,A.isEmpty)(t.get("status"))&&t.set("status",o)},n.prototype.getShallowWrapper=function(){var e=this,t=e.shallow,r=e.em;if(!t&&r){var o=r.shallow;if(!o)return;var s=o.Components;if(s.componentTypes=this.componentTypes,t=s.getWrapper(),t){var c=[cl,Wu].join(" ");t.on(c,(0,A.debounce)(function(){return t?.components("")},100))}this.shallow=t}return t},n.prototype.isComponent=function(e){return(0,Pe.isComponent)(e)},n.prototype.addSymbol=function(e){if(!((0,A.isSymbol)(e)&&!gi(e))){var t=e.clone({symbol:!0});return pi(t)&&this.symbols.add(t),this.em.trigger("component:toggled"),t}},n.prototype.getSymbols=function(){return yC([],this.symbols.models,!0)},n.prototype.detachSymbol=function(e){hl(e)&&df(e)},n.prototype.getSymbolInfo=function(e,t){t===void 0&&(t={});var r=pi(e),o=$n(e),s=!!o,c=kn(r?e:o)||[],u=o||(r?e:void 0),f=hi(e,{changed:t.withChanges}),h=r||s,g=h&&gi(e);return{isSymbol:h,isMain:r,isInstance:s,isRoot:g,main:u,instances:c,relatives:f||[]}},n.prototype.canMove=function(e,t,r){var o={result:!1,reason:Ka.InvalidSource,target:e,source:null};if(!t||!e)return o;if(ho(e)&&t instanceof ur&&ho(t)){var s=cs(e),c=pi(s)?s:$n(s),u=cs(t),f=pi(u)?u:$n(u),h=c===f,g=s!==u;if(h&&g)return Er(Er({},o),{reason:Ka.TargetReject})}var m=(0,Pe.isComponent)(t)?t:null;if(!m){var _=this.getShallowWrapper();m=_?.append(t,{temporary:!0})[0]||null}if(o.source=m,!m)return o;var w=m.get("draggable");if((0,A.isFunction)(w))w=!!w(m,e,r);else{var C=e.getEl();w=(0,A.isArray)(w)?w.join(","):w,w=(0,A.isString)(w)?C?.matches(w):w}if(!w)return Er(Er({},o),{reason:Ka.SourceReject});var T=e.get("droppable");if((0,A.isFunction)(T))T=!!T(m,e,r);else if(T===!1&&e.isInstanceOf("text")&&m.get("textable"))T=!0;else{var C=m.getEl();T=(0,A.isArray)(T)?T.join(","):T,T=(0,A.isString)(T)?C?.matches(T):T}var B=[e].concat(e.parents()).indexOf(m)>-1;return!T||B?Er(Er({},o),{reason:Ka.TargetReject}):Er(Er({},o),{result:!0})},n.prototype.allById=function(){return this.componentsById},n.prototype.getById=function(e){return this.componentsById[e]||null},n.prototype.destroy=function(){var e,t=this.allById();Object.keys(t).forEach(function(r){return t[r]&&t[r].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(r){return r={}})},n}(go),bC=_C,wC=function(){return{stylePrefix:"css-",rules:[]}},xC=wC,CC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),SC=Number.MAX_VALUE,OC=function(i){var n=/(-?\d*\.?\d+)\w{0,}/.exec(i);return n?n[0]:""},kC=function(i){CC(n,i);function n(){var e=i.call(this)||this;return(0,A.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return n.prototype.buildFromModel=function(e,t){var r=this;t===void 0&&(t={});var o="",s=this.em,c=s&&s.getConfig().avoidInlineStyle,u=e.styleToString(),f=e.classes;this.ids.push("#".concat(e.getId())),f.forEach(function(g){return r.compCls.push(g.getFullName())}),!c&&u&&(o="#".concat(e.getId(),"{").concat(u,"}"));var h=e.components();return h.forEach(function(g){return o+=r.buildFromModel(g,t)}),o},n.prototype.build=function(e,t){var r=this;t===void 0&&(t={});var o=t.json,s=t.em,c=t.cssc||s?.Css;this.em=s,this.compCls=[],this.ids=[],this.model=e;var u=[],f=e?this.buildFromModel(e,t):"",h=(0,A.isUndefined)(t.clearStyles)&&s?s.getConfig().clearStyles:t.clearStyles;if(c){var g=t.rules||c.getAll(),m={},_=[];t.onlyMatched&&e&&(0,Pe.hasWin)()&&(g=this.matchedRules(e,g)),g.forEach(function(w){var C=w.getAtRule();if(C){var T=m[C];T?T.push(w):m[C]=[w];return}var B=r.buildFromRule(w,_,t);o?u.push(B):f+=B}),this.sortMediaObject(m).forEach(function(w){var C="",T=w.key,B=w.value;B.forEach(function(W){var N=r.buildFromRule(W,_,t);W.get("singleAtRule")?f+="".concat(T,"{").concat(N,"}"):C+=N,o&&u.push(N)}),C&&(f+="".concat(T,"{").concat(C,"}"))}),s&&h&&g.remove&&g.remove(_)}return o?u.filter(function(w){return w}):f},n.prototype.buildFromRule=function(e,t,r){var o=this,s;r===void 0&&(r={});var c="",u=this.model,f=e.selectorsToString({skipAdd:1}),h=e.get("selectorsAdd"),g=e.get("singleAtRule"),m;if((s=e.get("selectors"))===null||s===void 0||s.forEach(function(w){var C=w.getFullName();(o.compCls.indexOf(C)>=0||o.ids.indexOf(C)>=0||r.keepUnusedStyles)&&(m=1)}),f&&m||h||g||!u){var _=e.getDeclaration({body:1});_&&(r.json?c=e:c+=_)}else t.push(e);return c},n.prototype.matchedRules=function(e,t){var r=this,o=e.getEl(),s=[];return t.forEach(function(c){try{c.selectorsToString().split(",").some(function(u){return o?.matches(r.__cleanSelector(u))})&&s.push(c)}catch{}}),e.components().forEach(function(c){s=s.concat(r.matchedRules(c,t))}),s=s.filter(function(c,u){return s.indexOf(c)===u}),s},n.prototype.getQueryLength=function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):SC},n.prototype.sortMediaObject=function(e){var t=this;e===void 0&&(e={});var r=[];return(0,A.each)(e,function(o,s){return r.push({key:s,value:o})}),r.sort(function(o,s){var c=[o.key,s.key].every(function(h){return h.indexOf("min-width")!==-1}),u=c?o.key:s.key,f=c?s.key:o.key;return t.getQueryLength(u)-t.getQueryLength(f)})},n.prototype.sortRules=function(e,t){var r=function(u){return u.get("mediaText")||""},o=[r(e),r(t)].every(function(u){return u.indexOf("min-width")!==-1}),s=r(o?e:t),c=r(o?t:e);return this.getQueryLength(s)-this.getQueryLength(c)},n.prototype.__cleanSelector=function(e){return e.split(" ").map(function(t){return t.split(":")[0]}).join(" ")},n}(Ie.Kx),TC=kC,PC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qa=function(){return Qa=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Qa.apply(this,arguments)},EC=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},mu=((0,Pe.hasWin)()?window:{}).CSS,AC=function(i){PC(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e)||this;return r.views=[],r.dynamicVariableListeners={},r.config=e||{},r.opt=t,r.em=t.em,r.ensureSelectors(null,null,{}),r.on("change",r.__onChange),r.setStyle(r.get("style")),r}return n.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},n.prototype.__onChange=function(e,t){var r=this.em,o=this.changedAttributes();o&&!(0,Pe.isEmptyObj)(o)&&r?.changesUp(t)},n.prototype.clone=function(){var e=Qa({},this.opt),t=Qa({},this.attributes);return t.selectors=this.get("selectors").map(function(r){return r.clone()}),new this.constructor(t,e)},n.prototype.ensureSelectors=function(e,t,r){var o=this.em,s=o?.Selectors,c=[this,"change:selectors",this.ensureSelectors],u=this.getSelectors();if(this.stopListening.apply(this,c),u.models&&(u=EC([],u.models,!0)),u=(0,A.isString)(u)?[u]:u,Array.isArray(u)){var f=u.filter(function(h){return h}).map(function(h){return s?s.add(h):h});u=new Uo(f)}this.set("selectors",u,r),this.listenTo.apply(this,c)},n.prototype.getAtRule=function(){var e=this.get("atRuleType"),t=this.get("mediaText"),r=e?"@".concat(e):t?"@media":"";return r+(t&&r?" ".concat(t):"")},n.prototype.selectorsToString=function(e){e===void 0&&(e={});var t=[],r=this.get("state"),o=this.get("selectorsAdd"),s={escape:function(f){return mu&&mu.escape?mu.escape(f):f}},c=this.getSelectors().getFullString(0,s),u=r&&!e.skipState?":".concat(r):"";return c&&t.push("".concat(c).concat(u)),o&&!e.skipAdd&&t.push(o),t.join(", ")},n.prototype.getDeclaration=function(e){e===void 0&&(e={});var t="",r=this.attributes.important,o=this.selectorsToString(e),s=this.styleToString(Qa({important:r},e)),c=this.get("singleAtRule");return(o||c)&&(s||e.allowEmpty)&&(t=c?s:"".concat(o,"{").concat(s,"}")),t},n.prototype.getDevice=function(){var e=this.em,t=this.attributes,r=t.atRuleType,o=t.mediaText,s=e?.Devices.getDevices()||[],c=s.filter(function(u){return u.getWidthMedia()===""})[0];return r!=="media"||!o?c||null:s.filter(function(u){return u.getWidthMedia()===OC(o)})[0]||null},n.prototype.getState=function(){var e=this.em,t=this.get("state"),r=e?.Selectors.getStates()||[];return r.filter(function(o){return o.getName()===t})[0]||null},n.prototype.getComponent=function(){var e,t=this.getSelectors(),r=t.length==1&&t.at(0),o=r&&r.isId()&&r.get("name");return o&&((e=this.em)===null||e===void 0?void 0:e.Components.getById(o))||null},n.prototype.toCSS=function(e){e===void 0&&(e={});var t="",r=this.getAtRule(),o=this.getDeclaration(e);return(o||e.allowEmpty)&&(t=o),r&&t&&(t="".concat(r,"{").concat(t,"}")),t},n.prototype.toJSON=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=Ie.Kx.prototype.toJSON.apply(this,t);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var s=this.defaults();(0,A.forEach)(s,function(c,u){o[u]===c&&delete o[u]}),delete o.style.__p,(0,A.isEmpty)(o.selectors)&&delete o.selectors,(0,A.isEmpty)(o.style)&&delete o.style}return o},n.prototype.compare=function(e,t,r,o){var s;o===void 0&&(o={});var c=t||"",u=r||"",f=o.selectorsAdd||"",h=o.atRuleType||"",g=!(0,A.isArray)(e)&&!e.models?[e]:e.models||e;u&&!h&&(h="media");var m=g.map(function(T){return T.getFullName()}),_=(s=this.get("selectors"))===null||s===void 0?void 0:s.map(function(T){return T.getFullName()}),w=m.slice().sort(),C=_.slice().sort();return!(m.length!==_.length||!w.every(function(T,B){return T===C[B]})||this.get("state")!==c||this.get("mediaText")!==u||this.get("selectorsAdd")!==f||this.get("atRuleType")!==h)},n}(Gg),um=AC,DC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fm=function(i){DC(n,i);function n(e,t){var r=i.call(this,e)||this;return r.editor=t?.em,setTimeout(function(){r.on("remove",r.onRemove),r.on("add",r.onAdd)}),r}return n.prototype.toJSON=function(e){var t=Ie.pM.prototype.toJSON.call(this,e);return t.filter(function(r){return r.style&&!r.shallow})},n.prototype.onAdd=function(e,t,r){e.ensureSelectors(e,t,r)},n.prototype.onRemove=function(e){var t=this.editor;t.stopListening(e),t.UndoManager.remove(e)},n.prototype.add=function(e,t){return t===void 0&&(t={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),t.em=this.editor,Ie.pM.prototype.add.apply(this,[e,t])},n}(Ie.pM),MC=fm;fm.prototype.model=um;var LC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ui=function(){return ui=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ui.apply(this,arguments)},RC=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},jC=function(i){LC(n,i);function n(e){var t=i.call(this,e,"CssComposer",null,{},xC())||this;t.Selectors=Uo,t.storageKey="styles";var r=t.config,o=r.pStylePrefix;return o&&(r.stylePrefix=o+r.stylePrefix),r.rules=t.em.config.style||r.rules||"",t.rules=new MC([],r),t}return n.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},n.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},n.prototype.add=function(e,t,r,o,s){o===void 0&&(o={}),s===void 0&&(s={});var c=t||"",u=r||"",f=ui({},o),h=this.get(e,c,u,f);return h&&h.config&&!h.config.singleAtRule||(f.state=c,f.mediaText=u,f.selectors=[],u&&!f.atRuleType&&(f.atRuleType="media"),h=new um(f,this.config),h.get("selectors").add(e,s),this.rules.add(h,s)),h},n.prototype.get=function(e,t,r,o){var s=e;if((0,A.isString)(e)){var c=this.em.Selectors,u=e.split(",")[0].trim(),f=this.em.Parser.parserCss.checkNode({selectors:u})[0];s=c.get(f.selectors)}return this.rules.find(function(h){return h.compare(s,t,r,o)})||null},n.prototype.getAll=function(){return this.rules},n.prototype.addCollection=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=this.em,s=[];(0,A.isString)(e)&&(e=o.Parser.parseCss(e));for(var c=e instanceof Array?e:[e],u=0,f=c.length;u<f;u++){var h=c[u]||{};if(h.selectors){var g=o?.Selectors;g||console.warn("Selector Manager not found");for(var m=h.selectors,_=m instanceof Array?m:[m],w=[],C=0,T=_.length;C<T;C++){var B=g.add(_[C]);w.push(B)}var W=this.get(w,h.state,h.mediaText,h),N=this.add(w,h.state,h.mediaText,h,t),z=!W||!t.avoidUpdateStyle,ue=h.style||{};if((0,Pe.isObject)(r)&&N.set(r,t),z){var _e=t.extend?ui(ui({},N.get("style")),ue):ue;N.setStyle(_e,t)}s.push(N)}}return s},n.prototype.addRules=function(e){return this.addCollection(e)},n.prototype.setRule=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=r.atRuleType,s=r.atRuleParams,c=this.em.Parser.parserCss.checkNode({selectors:e,style:t})[0],u=c.state,f=c.selectorsAdd,h=this.em.Selectors,g=h.add(c.selectors),m=this.add(g,u,s,{selectorsAdd:f,atRule:o});return r.addStyles?m.addStyle(t,r):m.setStyle(t,r),m},n.prototype.getRule=function(e,t){t===void 0&&(t={});var r=this.em,o=r.Selectors,s=r.Parser.parserCss.checkNode({selectors:e})[0],c=o.get(s.selectors),u=s.state,f=s.selectorsAdd,h=t.atRuleType,g=t.atRuleParams;return c?this.get(c,u,g,{selectorsAdd:f,atRuleType:h}):void 0},n.prototype.getRules=function(e){var t=this.getAll();if(!e)return RC([],t.models,!0);var r={sort:!0},o=(0,A.isString)(e)?e.split(",").map(function(c){return c.trim()}):e,s=t.filter(function(c){return o.indexOf(c.getSelectors().getFullString(null,r))>=0});return s},n.prototype.setIdRule=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=r.addOpts,s=o===void 0?{}:o,c=r.mediaText,u=r.state||"",f=(0,A.isUndefined)(c)?this.em.getCurrentMedia():c,h=this.em.Selectors,g=h.add({name:e,type:$r.TYPE_ID},s),m=this.add(g,u,f,{},s);return m.setStyle(t,ui(ui({},r),s)),m},n.prototype.getIdRule=function(e,t){t===void 0&&(t={});var r=t.mediaText,o=t.state||"",s=(0,A.isUndefined)(r)?this.em.getCurrentMedia():r,c=this.em.Selectors.get(e,$r.TYPE_ID);return c&&this.get(c,o,s)},n.prototype.setClassRule=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=r.state||"",s=r.mediaText||this.em.getCurrentMedia(),c=this.em.Selectors,u=c.add({name:e,type:$r.TYPE_CLASS}),f=this.add(u,o,s);return f.setStyle(t,r),f},n.prototype.getClassRule=function(e,t){t===void 0&&(t={});var r=t.state||"",o=t.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors.get(e,$r.TYPE_CLASS);return s&&this.get(s,r,o)},n.prototype.remove=function(e,t){var r=(0,A.isString)(e)?this.getRules(e):e,o=this.getAll().remove(r,t);return(0,A.isArray)(o)?o:[o]},n.prototype.clear=function(e){return e===void 0&&(e={}),this.getAll().reset([],e),this},n.prototype.getComponentRules=function(e,t){t===void 0&&(t={});var r=t.state,o=t.mediaText,s=t.current;s&&(r=this.em.get("state")||"",o=this.em.getCurrentMedia());var c=e.getId(),u=this.getAll().filter(function(f){return!(0,A.isUndefined)(r)&&f.get("state")!==r||!(0,A.isUndefined)(o)&&f.get("mediaText")!==o?!1:f.getSelectorsString()==="#".concat(c)});return u},n.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new Fg({collection:this.rules,config:this.config}),this.rulesView.render().el},n.prototype.checkId=function(e,t){t===void 0&&(t={});var r=t.idMap,o=r===void 0?{}:r,s=[];if(!Object.keys(o).length)return s;var c=Array.isArray(e)?e:[e];return c.forEach(function(u){var f=u.selectors;if(f&&f.length==1){var h=f[0];if((0,A.isString)(h)){if(h[0]==="#"){var g=h.substring(1),m=o[g];g&&m&&(f[0]="#".concat(m),s.push(u))}}else if(h.name&&h.type===$r.TYPE_ID){var m=o[h.name];m&&(h.name=m,s.push(u))}}}),s},n.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},n}(go),BC=jC,IC=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}},VC=IC,NC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),FC=function(i){NC(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(n.prototype,"category",{get:function(){var e=this.get("category");return e instanceof ds?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){return this.get("label")},n.prototype.getMedia=function(){return this.get("media")},n.prototype.getContent=function(){return this.get("content")},n.prototype.getDragDef=function(){return this.get("dragDef")},n.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,A.isFunction)(e?.get)?e.get("label"):e?.label?e?.label:e},n}(Ie.Kx),dm=FC,HC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pm=function(i){HC(n,i);function n(e,t){var r=i.call(this,e)||this;return r.em=t.em,r.on("add",r.handleAdd),r}return n.prototype.getCategories=function(){return this.em.Blocks.getCategories()},n.prototype.handleAdd=function(e){this.initCategory(e)},n}(em),Qs=pm;pm.prototype.model=dm;var ul=function(i){return i.add="block:add",i.remove="block:remove",i.removeBefore="block:remove:before",i.update="block:update",i.dragStart="block:drag:start",i.drag="block:drag",i.dragEnd="block:drag:stop",i.categoryUpdate="block:category:update",i.custom="block:custom",i.all="block",i}(ul||{});var UC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$i=function(){return $i=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},$i.apply(this,arguments)},WC=function(i){UC(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e)||this,o=r.model;return r.em=t.em,r.config=t,r.endDrag=r.endDrag.bind(r),r.ppfx=t.pStylePrefix||"",r.listenTo(o,"destroy remove",r.remove),r.listenTo(o,"change",r.render),r}return n.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.handleClick=function(e){var t,r,o=this,s=o.config,c=o.model,u=o.em,f=c.get("onClick")||s.appendOnClick;if(u.trigger("block:click",c,e),f){if((0,A.isFunction)(f))return f(c,u?.getEditor(),{event:e})}else return;var h=(t=s.getSorter)===null||t===void 0?void 0:t.call(s);if(h){var g=c.get("content"),m=this.getTempDropModel(g),_=(r=m.view)===null||r===void 0?void 0:r.el,w=_?[{element:_,dragSource:{content:g}}]:[],C=u.getSelected(),T,B,W,N=0;if(C)if(B=h.validTarget(C.getEl(),w,N),B)T=C;else{var z=C.parent();z&&(B=h.validTarget(z.getEl(),w,N),B&&(T=z,W=z.components().indexOf(C)+1))}if(!T){var ue=u.getWrapper();B=h.validTarget(ue.getEl(),w,N),B&&(T=ue)}var _e=T&&T.append(g,{at:W})[0];_e&&u.setSelected(_e,{scroll:1})}},n.prototype.startDrag=function(e){var t,r=this,o=r.config,s=r.em,c=r.model,u=c.get("disable");if(!(e.button!==0||!o.getSorter||this.el.draggable||u)){s.refreshCanvas();var f=o.getSorter();f.__currentBlock=c;var h=this.model.get("content"),g=this.getTempDropModel(h),m=(t=g.view)===null||t===void 0?void 0:t.el,_=m?[{element:m,dragSource:{content:h}}]:[];f.startSort(_),(0,ze.on)(document,"mouseup",this.endDrag)}},n.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},n.prototype.handleDrag=function(e){this.__getModule().__drag(e)},n.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},n.prototype.endDrag=function(){var e,t;(0,ze.AU)(document,"mouseup",this.endDrag);var r=(t=(e=this.config).getSorter)===null||t===void 0?void 0:t.call(e);r&&r.endDrag()},n.prototype.getTempDropModel=function(e){var t,r=this.em.Components.getComponents(),o={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},s=r.add(e,$i($i({},o),{temporary:!0})),c=r.remove(s,$i($i({},o),{temporary:!0}));return c=c instanceof Array?c[0]:c,(t=c.view)===null||t===void 0||t.$el.data("model",c),c},n.prototype.render=function(){var e,t=this,r=t.em,o=t.el,s=t.$el,c=t.ppfx,u=t.model,f=u.get("disable"),h=u.get("attributes")||{},g=h.class||"",m="".concat(c,"block"),_=r&&r.t("blockManager.labels.".concat(u.id))||u.get("label"),w=u.get("render"),C=u.get("media"),T=f?"".concat(m,"--disable"):"".concat(c,"four-color-h");s.attr(h),o.className="".concat(g," ").concat(m," ").concat(c,"one-bg ").concat(T).trim(),o.innerHTML=`
      `.concat(C?'<div class="'.concat(m,'__media">').concat(C,"</div>"):"",`
      <div class="`).concat(m,'-label">').concat(_,`</div>
    `),o.title=h.title||((e=o.textContent)===null||e===void 0?void 0:e.trim()),o.setAttribute("draggable","".concat(!!((0,Pe.hasDnd)(r)&&!f)));var B=w&&w({el:o,model:u,className:m,prefix:c});return B&&(o.innerHTML=B),this},n}(Ie.Ss),zC=WC,KC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),GC=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},YC=function(i){KC(n,i);function n(e,t,r){var o=i.call(this,e)||this;o.config=t;var s=t.pStylePrefix||"";return o.em=t.em,o.catName=r,o.pfx=s,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(s,"caret-icon"),o.activeClass="".concat(s,"open"),o.className="".concat(s).concat(r,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return n.prototype.events=function(){return{"click [data-title]":"toggle"}},n.prototype.template=function(e){var t=e.pfx,r=e.label,o=e.catName;return fn(Tv||(Tv=GC([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),t,t,r,t,o)},n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},n.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},n.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},n.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},n.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},n.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},n.prototype.append=function(e){this.getTypeEl().appendChild(e)},n.prototype.render=function(){var e=this,t=e.em,r=e.el,o=e.$el,s=e.model,c=e.pfx,u=e.catName,f=t.t("".concat(u,"Manager.categories.").concat(s.id))||s.get("label");return r.innerHTML=this.template({pfx:c,label:f,catName:u}),o.addClass(this.className),o.css({order:s.get("order")}),this.updateVisibility(),this},n}(Ie.Ss),hm=YC,Tv,qC=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ul=function(){return Ul=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ul.apply(this,arguments)},XC=function(i){qC(n,i);function n(e,t){var r=i.call(this,e)||this;r.renderedCategories=new Map,(0,A.bindAll)(r,"getSorter","onDrag","onDrop","onMove"),r.config=t||{},r.categories=e.categories||"";var o=r.config.pStylePrefix||"";r.ppfx=o,r.noCatClass="".concat(o,"blocks-no-cat"),r.blockContClass="".concat(o,"blocks-c"),r.catsClass="".concat(o,"block-categories");var s=r.collection;return r.listenTo(s,"add",r.addTo),r.listenTo(s,"reset",r.render),r.em=r.config.em,r.em&&(r.config.getSorter=r.getSorter),r}return n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=Ul(Ul({},this.config),e)},n.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var t=e.Utils,r=e.Canvas;this.sorter=new t.ComponentSorter({em:e,treeClass:rm,containerContext:{container:r.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:r.getPlacerEl(),document:r.getBody().ownerDocument},dragBehavior:{dragDirection:mi.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},n.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},n.prototype.onMove=function(e){this.__getModule().__drag(e)},n.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},n.prototype.addTo=function(e){this.add(e)},n.prototype.add=function(e,t){var r=this,o=r.config,s=r.renderedCategories,c=e.get("attributes"),u=new zC({model:e,attributes:c},o),f=u.render().el,h=e.parent.initCategory(e);if(h&&this.categories&&!o.ignoreCategories){var g=h.getId(),m=this.getCategoriesEl(),_=s.get(g);!_&&m&&(_=new hm({model:h},o,"block").render(),s.set(g,_),m.appendChild(_.el)),_?.append(f);return}t?t.appendChild(f):this.append(f)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},n.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},n.prototype.append=function(e){var t=this.getBlocksEl();t&&t.appendChild(e)},n.prototype.render=function(){var e=this,t=this.ppfx,r=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(s){return e.add(s,r)}),this.append(r);var o="".concat(this.blockContClass,"s ").concat(t,"one-bg ").concat(t,"two-color");return this.$el.addClass(o),this.rendered=!0,this},n}(Ie.Ss),Pv=XC,$C=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),No=function(){return No=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},No.apply(this,arguments)},JC=function(i){$C(n,i);function n(e){var t,r=i.call(this,e,"BlockManager",new Qs(((t=e.config.blockManager)===null||t===void 0?void 0:t.blocks)||[],{em:e}),ul,VC())||this;return r.events=ul,r.Block=dm,r.Blocks=Qs,r.Category=ds,r.Categories=vl,r.storageKey="",r.blocks=r.all,r.blocksVisible=new Qs(r.blocks.models,{em:e}),r.categories=new vl([],{em:e,events:{update:ul.categoryUpdate}}),r.blocks.on("add",function(o){return r.blocksVisible.add(o)}),r.blocks.on("remove",function(o){return r.blocksVisible.remove(o)}),r.blocks.on("reset",function(o){return r.blocksVisible.reset(o.models)}),r.__onAllEvent=(0,A.debounce)(function(){return r.__trgCustom()},0),r}return n.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:t.container,dragStart:function(r,o){return e.startDrag(r,o)},drag:function(r){return e.__drag(r)},dragStop:function(r){return e.endDrag(r)}}},n.prototype.__startDrag=function(e,t){var r=this,o=r.em,s=r.events,c=r.blocks,u=e.getContent?e.getContent():e;this._dragBlock=e,o.set({dragResult:null,dragSource:{content:u,dragDef:e.getDragDef()}}),[o,c].map(function(f){return f.trigger(s.dragStart,e,t)})},n.prototype.__drag=function(e){var t=this,r=t.em,o=t.events,s=t.blocks,c=this._dragBlock;[r,s].map(function(u){return u.trigger(o.drag,c,e)})},n.prototype.__endDrag=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.events,s=t.blocks,c=this._dragBlock,u=e.component||r.get("dragResult");if(delete this._dragBlock,u&&c){var f="activeOnRender",h=u.get&&u.get(f),g=c.get("activate")||h,m=c.get("select"),_=(0,A.isArray)(u)?u[0]:u;(m||g&&m!==!1)&&r.setSelected(_),g&&(_.trigger("active"),h&&_.unset(f)),c.get("resetId")&&_.onAll(function(w){return w.resetId()})}r.set({dragResult:null,dragSource:void 0}),c&&[r,s].map(function(w){return w.trigger(o.dragEnd,u,c)})},n.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(e){return e.view}).filter(Boolean)},n.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=No(No({},this._bhv||{}),e)},n.prototype.__getBehaviour=function(){return this._bhv||{}},n.prototype.startDrag=function(e,t){this.__startDrag(e,t),this.__getFrameViews().forEach(function(r){var o;return(o=r.droppable)===null||o===void 0?void 0:o.startCustom()})},n.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(t){var r;return(r=t.droppable)===null||r===void 0?void 0:r.endCustom(e)}),this.__endDrag()},n.prototype.postRender=function(){var e=this,t=e.categories,r=e.config,o=e.em,s=this.blocksVisible;this.blocksView=new Pv({collection:s,categories:t},No(No({},r),{em:o})),this.__appendTo(s.models),this.__trgCustom()},n.prototype.add=function(e,t,r){r===void 0&&(r={});var o=t||{};return o.id=e,this.blocks.add(o,r)},n.prototype.get=function(e){return this.blocks.get(e)},n.prototype.getAll=function(){return this.blocks},n.prototype.getAllVisible=function(){return this.blocksVisible},n.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},n.prototype.getCategories=function(){return this.categories},n.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},n.prototype.getDragBlock=function(){return this._dragBlock},n.prototype.getBlocksByCategory=function(e){return Qg(e||this.getAll().models)},n.prototype.render=function(e,t){t===void 0&&(t={});var r=this,o=r.categories,s=r.config,c=r.em,u=e||this.getAll().models;if(t.external){var f=new Qs(u,{em:c});return new Pv({collection:f,categories:o},No(No({em:c},s),t)).render().el}return this.blocksView&&(this.blocksView.updateConfig(t),this.blocksView.collection.reset(u),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},n.prototype.destroy=function(){var e,t=[this.blocks,this.blocksVisible,this.categories];t.map(function(r){return r.stopListening()}),t.map(function(r){return r.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},n}(go),ZC=JC,QC=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}},eS=QC,tS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vm=function(i){tS(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",label:""}},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(){return this.get("label")||this.getName()},n}(Ie.Kx),yu=vm;vm.prototype.idAttribute="name";var rS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nS=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},Ev="contentEditable",oS=function(i){rS(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this,r=e.config||{};return t.config=r,t.module=e.module,t.coll=e.coll||null,t.pfx=r.stylePrefix||"",t.ppfx=r.pStylePrefix||"",t.em=r.em,t.listenTo(t.model,"change:active",t.updateStatus),t}return n.prototype.template=function(){var e=this,t=e.pfx,r=e.model,o=e.config,s=r.get("label")||"";return fn(Av||(Av=nS([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),t,t,t,s,t,t,o.iconTagRemove)},n.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},n.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},n.prototype.startEditTag=function(){var e=this.em,t=this.getInputEl();t[Ev]="true",t.focus(),e?.setEditing(!0)},n.prototype.endEditTag=function(){var e=this,t=e.model,r=e.em,o=this.getInputEl(),s=o.textContent||"",c=r?.Selectors;o[Ev]="false",r?.setEditing(!1),c&&c.rename(t,s)!==t&&(o.innerText=t.getLabel())},n.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.getActive())},n.prototype.removeTag=function(){this.module.removeSelected(this.model)},n.prototype.updateStatus=function(){var e=this,t=e.model,r=e.$el,o=e.config,s=o.iconTagOn,c=o.iconTagOff,u=r.find("[data-tag-status]");t.get("active")?(u.html(s),r.removeClass("opac50")):(u.html(c),r.addClass("opac50"))},n.prototype.render=function(){var e=this,t=e.pfx,r=e.ppfx,o=e.$el,s=e.model,c="".concat(t,"tag"),u=["".concat(c," ").concat(r,"three-bg")];return s.get("protected")&&u.push("".concat(c,"-protected")),o.html(this.template()),o.attr("class",u.join(" ")),this.updateStatus(),this},n}(Ie.Ss),iS=oS,Av,aS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ha=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},sS=function(i){aS(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.className=t.pfx+"tags",t.stateInputId=t.pfx+"states",t.stateInputC=t.pfx+"input-c",t.states=t.config.states||[];var r=t.config.em,o=t.collection;t.target=r;var s=r.Selectors;t.module=s,t.em=r,t.componentChanged=(0,A.debounce)(t.componentChanged.bind(t),0),t.checkSync=(0,A.debounce)(t.checkSync.bind(t),0);var c=er.I.update,u="".concat(c,":classes"),f="component:toggled ".concat(u),h="".concat(u," ").concat(c,":attributes:id change:state");return t.listenTo(r,f,t.componentChanged),t.listenTo(r,"styleManager:update",t.componentChanged),t.listenTo(r,h,t.__handleStateChange),t.listenTo(r,"styleable:change change:device",t.checkSync),t.listenTo(o,"add",t.addNew),t.listenTo(o,"reset",t.renderClasses),t.listenTo(o,"remove",t.tagRemoved),t.listenTo(s.getAll(),s.events.state,(0,A.debounce)(function(){return t.renderStates()},0)),t.delegateEvents(),t}return n.prototype.template=function(e){var t=e.labelInfo,r=e.labelHead,o=e.iconSync,s=e.iconAdd,c=e.pfx,u=e.ppfx;return fn(Dv||(Dv=Ha([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),c,c,c,c,r,c,c,c,u,u,u,c,u,u,c,u,c,c,c,c,c,s,c,c,o,c,c,t,c)},n.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},n.prototype.syncStyle=function(){var e=this.em,t=this.getTarget(),r=e.Css,o={noDisabled:1},s=this.getCommonSelectors({opts:o}),c=e.get("state"),u=e.getCurrentMedia(),f=[],h=r.get(s,c,u)||r.add(s,c,u),g;this.getTargets().forEach(function(m){var _=r.getIdRule(m.getId(),{state:c,mediaText:u});g=_.getStyle(),_.setStyle({}),f.push(_)}),g&&h.addStyle(g),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:t,selectors:s,mediaText:u,rule:h,ruleComponents:f,state:c})},n.prototype.tagRemoved=function(e){this.updateStateVis()},n.prototype.addNew=function(e){this.addToClasses(e)},n.prototype.startNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(t=this.$input)===null||t===void 0||t.show().focus()},n.prototype.endNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(t=this.$input)===null||t===void 0||t.hide().val("")},n.prototype.onInputKeyUp=function(e){var t;e.keyCode===13?(e.preventDefault(),this.addNewTag((t=this.$input)===null||t===void 0?void 0:t.val())):e.keyCode===27&&this.endNewTag()},n.prototype.checkStates=function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},n.prototype.componentChanged=function(e){var t=e===void 0?{}:e,r=t.targets;this.updateSelection(r)},n.prototype.updateSelection=function(e){var t=e||this.getTargets();t=(0,A.isArray)(t)?t:[t];var r=[];return t&&t.length&&(r=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:r})),this.collection.reset(r),this.updateStateVis(t),this.module.__trgCustom(),r},n.prototype.getCommonSelectors=function(e){var t=e===void 0?{}:e,r=t.targets,o=t.opts,s=o===void 0?{}:o,c=r||this.getTargets();return this.module.__getCommonSelectors(c,s)},n.prototype._commonSelectors=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.module).__common.apply(e,t)},n.prototype.checkSync=function(){var e=this,t=e.$btnSyncEl,r=e.config,o=e.collection,s=this.getTarget(),c;if(s&&r.componentFirst&&o.length){var u=s.getStyle();c=!(0,A.isEmpty)(u)}t&&t[c?"show":"hide"]()},n.prototype.getTarget=function(){return this.target.getSelected()},n.prototype.getTargets=function(){return this.target.getSelectedAll()},n.prototype.updateStateVis=function(e){var t=this.em,r=t&&t.getConfig().avoidInlineStyle,o=this.collection.length||r?"":"none";this.getStatesC().css("display",o),this.updateSelector(e)},n.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},n.prototype.updateSelector=function(e){var t=this,r=this.el.querySelector("[data-selected]"),o=[],s=e||this.getTargets();s=(0,A.isArray)(s)?s:[s],s.forEach(function(c){return o.push(t.__getName(c))}),r&&(r.innerHTML=o.join(", ")),this.checkStates()},n.prototype.__getName=function(e){var t=this,r=t.pfx,o=t.config,s=t.em,c=o.selectedName,u=o.componentFirst,f;if((0,A.isString)(e))f=fn(Mv||(Mv=Ha(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),r,e);else{var h=e?.getSelectors();if(!h)return"";var g=h.getStyleable(),m=s.get("state"),_=e.getId?fn(Lv||(Lv=Ha(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),r,e.getName(),r,e.getId()):"";f=this.collection.getFullString(g),f=f?fn(Rv||(Rv=Ha(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),r,f):e.get("selectorsAdd")||_,f=u&&_?_:f,f+=m?fn(jv||(jv=Ha(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),r,m):"",f=c?c({result:f,state:m,target:e}):f}return f&&'<span class="'.concat(r,'sel">').concat(f,"</span>")},n.prototype.stateChanged=function(e){var t=this.em,r=e.target.value;t.set("state",r)},n.prototype.addNewTag=function(e){var t=e.trim();t&&(this.module.addSelected({label:t}),this.endNewTag())},n.prototype.addToClasses=function(e,t){var r=t,o=this.getClasses(),s=new iS({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return r?r.appendChild(s):o.append(s),s},n.prototype.renderClasses=function(){var e=this,t=document.createDocumentFragment(),r=this.getClasses();r.empty(),this.collection.each(function(o){return e.addToClasses(o,t)}),r.append(t)},n.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},n.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},n.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},n.prototype.renderStates=function(){var e=this,t=e.module,r=e.em,o=r.t("selectorManager.emptyState"),s=t.getStates().map(function(u){var f=r.t("selectorManager.states.".concat(u.id))||u.getLabel()||u.id;return'<option value="'.concat(u.id,'">').concat(f,"</option>")}).join(""),c=this.getStates();c&&c.html('<option value="">'.concat(o,"</option>").concat(s)),this.checkStates()},n.prototype.render=function(){var e=this,t=e.em,r=e.pfx,o=e.ppfx,s=e.config,c=e.$el,u=e.el,f=s.render,h=s.iconSync,g=s.iconAdd,m={iconSync:h,iconAdd:g,labelHead:t.t("selectorManager.label"),labelInfo:t.t("selectorManager.selected"),ppfx:o,pfx:r,el:u};c.html(this.template(m));var _=f&&f(m);return _&&_!==u&&c.empty().append(_),this.$input=c.find("[data-input]"),this.$addBtn=c.find("[data-add]"),this.$classes=c.find("#"+r+"tags-c"),this.$btnSyncEl=c.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),c.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},n}(Ie.Ss),lS=sS,Dv,Mv,Lv,Rv,jv,cS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),es=function(){return es=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},es.apply(this,arguments)},_u=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Bv=function(i){return(0,A.isString)(i)&&i[0]=="#"},Iv=function(i){return(0,A.isString)(i)&&i[0]=="."},gm="selector",ps="".concat(gm,":"),uS="".concat(ps,"add"),fS="".concat(ps,"update"),mm="".concat(ps,"remove"),dS="".concat(mm,":before"),pS="".concat(ps,"custom"),ym="".concat(ps,"state"),hS={all:gm,update:fS,add:uS,remove:mm,removeBefore:dS,state:ym,custom:pS},vS=function(i){cS(n,i);function n(e){var t=i.call(this,e,"SelectorManager",new Uo([]),hS,eS(),{skipListen:!0})||this;t.Selector=$r,t.Selectors=Uo,t.storageKey="",(0,A.bindAll)(t,"__updateSelectedByComponents");var r=t.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),t.all=new Uo(r.selectors),t.selected=new Uo([],{em:e,config:r}),t.states=new Ie.pM(r.states.map(function(u){return new yu(u)}),{model:yu}),t.model=new Ie.Kx({cFirst:r.componentFirst,_undo:!0}),t.__update=(0,A.debounce)(function(){return t.__trgCustom()},0),t.__initListen({collections:[t.states,t.selected],propagate:[{entity:t.states,event:t.events.state}]}),e.on("change:state",function(u,f){return e.trigger(ym,f)}),t.model.on("change:cFirst",function(u,f){return e.trigger("selector:type",f)});var s="".concat(er.I.update,":classes");e.on("component:toggled ".concat(s),t.__updateSelectedByComponents);var c="component:toggled ".concat(s," change:device styleManager:update selector:state selector:type style:target");return t.model.listenTo(e,c,function(){return t.__update()}),t}return n.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},n.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?_u([],this.all.models,!0):this.all:[]},n.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},n.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},n.prototype.select=function(e,t){t===void 0&&(t={});var r=Array.isArray(e)?e:[e],o=this.em.Styles.select(r,t);this.selected.reset(this.__getCommonSelectors(o));var s=this.selectorTags,c=o.filter(function(u){return u}).map(function(u){return(0,Pe.isComponent)(u)||(0,Pe.isRule)(u)&&!u.get("selectorsAdd")?u:u.getSelectorsString()});return s&&s.componentChanged({targets:c}),this},n.prototype.addSelector=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=es({},t);(0,A.isObject)(e)?o=e:o.name=e,Bv(o.name)?(o.name=o.name.substr(1),o.type=$r.TYPE_ID):Iv(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var s=o.name,c=this.getConfig(),u=this,f=u.all,h=u.em,g=s?this.get(s,o.type):f.where(o)[0];if(!g){var m=o instanceof $r?o:new $r(o,es(es({},r),{config:c,em:h}));return f.add(m,r)}return g},n.prototype.getSelector=function(e,t){return t===void 0&&(t=$r.TYPE_CLASS),Bv(e)?(e=e.substr(1),t=$r.TYPE_ID):Iv(e)&&(e=e.substr(1)),this.all.where({name:e,type:t})[0]},n.prototype.add=function(e,t){var r=this;t===void 0&&(t={});var o=(0,A.isString)(e)?{}:t;return(0,A.isArray)(e)?e.map(function(s){return r.addSelector(s,t,o)}):this.addSelector(e,t,o)},n.prototype.addClass=function(e){var t=this,r=[];return(0,A.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(o){return r.push(t.addSelector(o))}),r},n.prototype.get=function(e,t){var r=this;if((0,A.isArray)(e)){var o=[],s=e.map(function(c){return r.getSelector(c)}).filter(Boolean);return s.forEach(function(c){return o.indexOf(c)<0&&o.push(c)}),o}else return this.getSelector(e,t)},n.prototype.remove=function(e,t){return this.__remove(e,t)},n.prototype.rename=function(e,t,r){var o=this.escapeName(t),s=this.get(o);return s||e.set({name:o,label:t},r)},n.prototype.setState=function(e){return this.em.setState(e),this},n.prototype.getState=function(){return this.em.getState()},n.prototype.getStates=function(){return _u([],this.states.models,!0)},n.prototype.setStates=function(e,t){return this.states.reset(e.map(function(r){return new yu(r)}),t)},n.prototype.getSelected=function(){return this.__getCommon()},n.prototype.getSelectedAll=function(){return _u([],this.selected.models,!0)},n.prototype.addSelected=function(e){var t=this.add(e);this.em.getSelectedAll().forEach(function(r){r.getSelectors().add(t)})},n.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(t){!e.get("protected")&&t&&t.getSelectors().remove(e)})},n.prototype.duplicateSelected=function(e,t){var r=this;t===void 0&&(t={});var o=this.em,s=this.getSelected();if(!(s.indexOf(e)<0)){var c=this.getState(),u=o.getCurrentMedia(),f=o.Css.get(s,c,u),h=f?.getStyle();if(o.getSelectedAll().forEach(function(m){var _=m.getSelectors();if(_.includes(e)){var w=t.suffix||" copy",C=e.getLabel(),T=r.addSelector("".concat(C).concat(w)),B=_.indexOf(e);_.remove(e),_.add(T,{at:B})}}),h){var g=o.Css.add(this.getSelected(),c,u);g.setStyle(h)}}},n.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},n.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},n.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},n.prototype.escapeName=function(e){var t=this.getConfig().escapeName;return t?t(e):$r.escapeName(e)},n.prototype.render=function(e){var t=this.selectorTags,r=this.getConfig(),o=t?.el;return this.selected.reset(e),this.selectorTags=new lS({el:o,collection:this.selected,module:this,config:r}),this.selectorTags.render().el},n.prototype.destroy=function(){var e=this,t=e.selectorTags,r=e.model;r.stopListening(),this.__update.cancel(),this.__destroy(),t?.remove(),this.selectorTags=void 0},n.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},n.prototype.__getCommonSelectors=function(e,t){t===void 0&&(t={});var r=e.map(function(o){return o.getSelectors&&o.getSelectors().getValid(t)}).filter(Boolean);return this.__common.apply(this,r)},n.prototype.__common=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length?t.length===1?t[0]:t.length===2?t[0].filter(function(o){return t[1].indexOf(o)>=0}):t.slice(1).reduce(function(o,s){return e.__common(o,s)},t[0]):[]},n.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},n}(go),gS=vS,mS=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}}},yS=mS,Wn,Sn={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},aa=(Wn={},Wn[Sn.MEDIA_RULE]="media",Wn[Sn.FONT_FACE_RULE]="font-face",Wn[Sn.PAGE_RULE]="page",Wn[Sn.KEYFRAMES_RULE]="keyframes",Wn[Sn.COUNTER_STYLE_RULE]="counter-style",Wn[Sn.SUPPORTS_RULE]="supports",Wn[Sn.DOCUMENT_RULE]="document",Wn[Sn.FONT_FEATURE_VALUES_RULE]="font-feature-values",Wn[Sn.VIEWPORT_RULE]="viewport",Wn),_m=(0,A.keys)(aa),_f=[Sn.FONT_FACE_RULE,Sn.PAGE_RULE,Sn.COUNTER_STYLE_RULE,Sn.VIEWPORT_RULE],_S=_m.filter(function(i){return _f.indexOf(Number(i))<0}).map(function(i){return aa[i]}).concat(["container","layer"]),bS=_f.map(function(i){return aa[i]}),bm=function(i){i===void 0&&(i="");for(var n=[],e=[],t=i.split(","),r=0,o=t.length;r<o;r++){var s=t[r].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(s)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(s)){var c=s.split(".").filter(Boolean);e.push(c)}else n.push(s)}return{result:e,add:n}},wS=function(i){for(var n=i.style,e={},t=0,r=n.length;t<r;t++){var o=n[t],s=n.getPropertyValue(o),c=n.getPropertyPriority(o);e[o]="".concat(s).concat(c?" !".concat(c):"")}return e},Vv=function(i){var n=i.conditionText||i.media&&i.media.mediaText||i.name||i.selectorText||"";return n.trim()},Ku=function(i,n,e){n===void 0&&(n={}),e===void 0&&(e={});var t={},r=i.length,o=i[r-1],s=o?o.split(/:(.+)/):[],c=s[1],u=e.atRule,f=e.selectorsAdd,h=e.mediaText,g=bS.indexOf(u)>=0;return g&&(t.singleAtRule=!0),u&&(t.atRuleType=u),f&&(t.selectorsAdd=f),h&&(t.mediaText=h),c&&(i[r-1]=s[0],t.state=c,s.splice(s.length-1,1)),t.selectors=i,t.style=n,t},Nv=function(i){var n=i.cssText,e=n===void 0?"":n;return _S.find(function(t){return e.indexOf("@".concat(t))===0})},wm=function(i){for(var n=[],e=i.cssRules||[],t=0,r=e.length;t<r;t++){var o=e[t],s=o.type,c=!1,u="",f="",h=o.selectorText||o.keyText||"",g=_f.indexOf(s)>=0;if(g)c=!0,u=aa[s],f=Vv(o);else if(_m.indexOf("".concat(s))>=0||!s&&Nv(o)){var m=wm(o),_=aa[s]||Nv(o);f=Vv(o);for(var w=0,C=m.length;w<C;w++){var T=m[w];f&&(T.mediaText=f),T.atRuleType=_}n=n.concat(m)}if(!(!h&&!g)){for(var B=wS(o),W=bm(h),N=W.add,z=W.result,ue=void 0,_e=0,Se=z.length;_e<Se;_e++){var ce=Ku(z[_e],B,{atRule:aa[s]});n.push(ce),ue=ce}if(N.length){var q=N.join(", ");if(ue)ue.selectorsAdd=q;else{var ce={selectors:[],selectorsAdd:q,style:B};c&&(ce.singleAtRule=c),u&&(ce.atRuleType=u),f&&(ce.mediaText=f),n.push(ce)}}}}return n},xS=function(i){var n=document.createElement("style");n.innerHTML=i,document.head.appendChild(n);var e=n.sheet;return document.head.removeChild(n),e?wm(e):[]},CS=function(i,n){return n===void 0&&(n={}),{parse:function(e,t){var r=this,o;t===void 0&&(t={});var s=[],c=n.parserCss,u=i?.Editor,f=[],h;try{f=c?c(e,u):xS(e)}catch(g){if(h=g,t.throwOnError)throw g}return f.forEach(function(g){return s=s.concat(r.checkNode(g))}),(o=i?.Parser)===null||o===void 0||o.__emitEvent(as.css,{input:e,output:s,nodes:f,error:h}),s},checkNode:function(e){var t=e.selectors,r=e.style,o=[e];if((0,A.isString)(t)){var s=[],c=e,u=bm(t),f=u.result,h=u.add.join(", "),g={atRule:c.atRule,mediaText:c.params};if(f.length?f.forEach(function(_){s.push(Ku(_,r,g))}):s.push(Ku([],r,g)),h){var m=s[s.length-1];m.selectorsAdd=h}o=s}return o}}},SS=CS,OS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gu=function(){return Gu=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Gu.apply(this,arguments)},kS=function(i){OS(n,i);function n(e){var t=i.call(this,e,"Parser",yS())||this;t.events=as;var r=t.config;return t.parserCss=SS(e,r),t.parserHtml=Ug(e,r),t}return n.prototype.parseHtml=function(e,t){t===void 0&&(t={});var r=this,o=r.em,s=r.parserHtml;return s.compTypes=o.Components.getTypes()||[],s.parse(e,this.parserCss,t)},n.prototype.parseCss=function(e){return this.parserCss.parse(e)},n.prototype.__emitEvent=function(e,t){var r=this,o=r.em,s=r.events;o.trigger(e,t),o.trigger(s.all,Gu({event:e},t))},n.prototype.destroy=function(){},n}(pn),TS=kS,PS=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(i){return i},onLoad:function(i){return i},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(i){return i},onLoad:function(i){return i}}}}},ES=PS,Fv=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{f(t.next(h))}catch(g){s(g)}}function u(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?o(h.value):r(h.value).then(c,u)}f((t=t.apply(i,n||[])).next())})},Hv=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(h){return u([f,h])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(i,e)}catch(h){f=[6,h],r=0}finally{t=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},AS=function(){function i(){}return i.prototype.store=function(n){return Fv(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),Hv(this,function(r){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(e)),[2,e]})})},i.prototype.load=function(){return Fv(this,arguments,void 0,function(n){var e;return n===void 0&&(n={}),Hv(this,function(t){return e={},this.hasLocal(n,!0)&&(e=JSON.parse(localStorage.getItem(n.key)||"{}")),[2,e]})})},i.prototype.hasLocal=function(n,e){if(n===void 0&&(n={}),n.checkLocal&&(!(0,Pe.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},i}(),DS=AS;function yi(i){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yi(i)}function MS(i){var n=this.constructor;return this.then(function(e){return n.resolve(i()).then(function(){return e})},function(e){return n.resolve(i()).then(function(){return n.reject(e)})})}var LS=MS;function RS(i){var n=this;return new n(function(e,t){if(!(i&&typeof i.length<"u"))return t(new TypeError(yi(i)+" "+i+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(i);if(r.length===0)return e([]);var o=r.length;function s(u,f){if(f&&(yi(f)==="object"||typeof f=="function")){var h=f.then;if(typeof h=="function"){h.call(f,function(g){s(u,g)},function(g){r[u]={status:"rejected",reason:g},--o===0&&e(r)});return}}r[u]={status:"fulfilled",value:f},--o===0&&e(r)}for(var c=0;c<r.length;c++)s(c,r[c])})}var jS=RS;function xm(i,n){this.name="AggregateError",this.errors=i,this.message=n||""}xm.prototype=Error.prototype;function BS(i){var n=this;return new n(function(e,t){if(!(i&&typeof i.length<"u"))return t(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(i);if(r.length===0)return t();for(var o=[],s=0;s<r.length;s++)try{n.resolve(r[s]).then(e).catch(function(c){o.push(c),o.length===r.length&&t(new xm(o,"All promises were rejected"))})}catch(c){t(c)}})}var IS=BS,VS=setTimeout;function Cm(i){return!!(i&&typeof i.length<"u")}function NS(){}function FS(i,n){return function(){i.apply(n,arguments)}}function tr(i){if(!(this instanceof tr))throw new TypeError("Promises must be constructed via new");if(typeof i!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Om(i,this)}function Sm(i,n){for(;i._state===3;)i=i._value;if(i._state===0){i._deferreds.push(n);return}i._handled=!0,tr._immediateFn(function(){var e=i._state===1?n.onFulfilled:n.onRejected;if(e===null){(i._state===1?Yu:fs)(n.promise,i._value);return}var t;try{t=e(i._value)}catch(r){fs(n.promise,r);return}Yu(n.promise,t)})}function Yu(i,n){try{if(n===i)throw new TypeError("A promise cannot be resolved with itself.");if(n&&(yi(n)==="object"||typeof n=="function")){var e=n.then;if(n instanceof tr){i._state=3,i._value=n,qu(i);return}else if(typeof e=="function"){Om(FS(e,n),i);return}}i._state=1,i._value=n,qu(i)}catch(t){fs(i,t)}}function fs(i,n){i._state=2,i._value=n,qu(i)}function qu(i){i._state===2&&i._deferreds.length===0&&tr._immediateFn(function(){i._handled||tr._unhandledRejectionFn(i._value)});for(var n=0,e=i._deferreds.length;n<e;n++)Sm(i,i._deferreds[n]);i._deferreds=null}function HS(i,n,e){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof n=="function"?n:null,this.promise=e}function Om(i,n){var e=!1;try{i(function(t){e||(e=!0,Yu(n,t))},function(t){e||(e=!0,fs(n,t))})}catch(t){if(e)return;e=!0,fs(n,t)}}tr.prototype.catch=function(i){return this.then(null,i)};tr.prototype.then=function(i,n){var e=new this.constructor(NS);return Sm(this,new HS(i,n,e)),e};tr.prototype.finally=LS;tr.all=function(i){return new tr(function(n,e){if(!Cm(i))return e(new TypeError("Promise.all accepts an array"));var t=Array.prototype.slice.call(i);if(t.length===0)return n([]);var r=t.length;function o(c,u){try{if(u&&(yi(u)==="object"||typeof u=="function")){var f=u.then;if(typeof f=="function"){f.call(u,function(h){o(c,h)},e);return}}t[c]=u,--r===0&&n(t)}catch(h){e(h)}}for(var s=0;s<t.length;s++)o(s,t[s])})};tr.any=IS;tr.allSettled=jS;tr.resolve=function(i){return i&&yi(i)==="object"&&i.constructor===tr?i:new tr(function(n){n(i)})};tr.reject=function(i){return new tr(function(n,e){e(i)})};tr.race=function(i){return new tr(function(n,e){if(!Cm(i))return e(new TypeError("Promise.race accepts an array"));for(var t=0,r=i.length;t<r;t++)tr.resolve(i[t]).then(n,e)})};tr._immediateFn=typeof setImmediate=="function"&&function(i){setImmediate(i)}||function(i){VS(i,0)};tr._unhandledRejectionFn=function(n){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};var Xu=tr;(0,Pe.hasWin)()&&(window.Promise=window.Promise||Xu);var km=typeof fetch=="function"?fetch.bind():function(i,n){return new Xu(function(e,t){var r=new XMLHttpRequest;r.open(n.method||"get",i),r.withCredentials=n.credentials=="include";for(var o in n.headers||{})r.setRequestHeader(o,n.headers[o]);r.onload=function(s){return e({status:r.status,statusText:r.statusText,text:function(){return Xu.resolve(r.responseText)}})},r.onerror=t,r.upload&&n.onProgress&&(r.upload.onprogress=n.onProgress),n.body?r.send(n.body):r.send()})},Wl=function(){return Wl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Wl.apply(this,arguments)},Uv=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{f(t.next(h))}catch(g){s(g)}}function u(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?o(h.value):r(h.value).then(c,u)}f((t=t.apply(i,n||[])).next())})},Wv=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(h){return u([f,h])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(i,e)}catch(h){f=[6,h],r=0}finally{t=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},US=function(){function i(){}return i.prototype.store=function(n){return Uv(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),Wv(this,function(r){switch(r.label){case 0:return[4,this.request(t.urlStore,this.__props(t,e),t)];case 1:return[2,r.sent()]}})})},i.prototype.load=function(){return Uv(this,arguments,void 0,function(n){return n===void 0&&(n={}),Wv(this,function(e){switch(e.label){case 0:return[4,this.request(n.urlLoad,this.__props(n),n)];case 1:return[2,e.sent()]}})})},i.prototype.request=function(n,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),km(n,e).then(function(r){var o=r.text(),s=(r.status/200|0)===1;return s?o:o.then(Promise.reject)}).then(function(r){var o=r&&(0,A.isString)(r);return t.contentTypeJson&&o?JSON.parse(r):r})},i.prototype.__props=function(n,e){n===void 0&&(n={});var t=n.contentTypeJson,r=n.headers||{},o=n.fetchOptions||{},s="X-Requested-With",c="Content-Type",u;if((0,A.isUndefined)(r[s])&&(r[s]="XMLHttpRequest"),(0,A.isUndefined)(r[c])&&t&&(r[c]="application/json; charset=utf-8"),e)if(t)u=JSON.stringify(e);else{u=new FormData;for(var f in e)u.append(f,e[f])}var h={method:u?"POST":"GET",credentials:n.credentials,headers:r,body:u};return Wl(Wl({},h),(0,A.isFunction)(o)?o(h):o)},i}(),WS=US,Tm=function(i){return i.start="storage:start",i.startStore="storage:start:store",i.startLoad="storage:start:load",i.load="storage:load",i.store="storage:store",i.after="storage:after",i.afterStore="storage:after:store",i.afterLoad="storage:after:load",i.end="storage:end",i.endStore="storage:end:store",i.endLoad="storage:end:load",i.error="storage:error",i.errorStore="storage:error:store",i.errorLoad="storage:error:load",i}(Tm||{}),Yr=Tm,zS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ji=function(){return Ji=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ji.apply(this,arguments)},bu=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{f(t.next(h))}catch(g){s(g)}}function u(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?o(h.value):r(h.value).then(c,u)}f((t=t.apply(i,n||[])).next())})},wu=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(h){return u([f,h])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(i,e)}catch(h){f=[6,h],r=0}finally{t=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},el="local",zv="remote",KS=function(i){zS(n,i);function n(e){var t=i.call(this,e,"StorageManager",ES())||this;t.storages={},t.events=Yr;var r=t.config;return r._disable&&(r.type=void 0),t.storages={},t.add(el,new DS),t.add(zv,new WS),t.setCurrent(r.type),t}return n.prototype.isAutosave=function(){return!!this.config.autosave},n.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},n.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},n.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},n.prototype.add=function(e,t){return this.storages[e]=t,this},n.prototype.get=function(e){return this.storages[e]},n.prototype.getStorages=function(){return this.storages},n.prototype.getCurrent=function(){return this.config.currentStorage},n.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},n.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},n.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},n.prototype.store=function(e){return bu(this,arguments,void 0,function(t,r){var o,s,c,u,f,h;return r===void 0&&(r={}),wu(this,function(g){switch(g.label){case 0:o=this.getCurrentStorage(),s=Ji(Ji({},this.getCurrentOptions()),r),c=this.getRecoveryStorage(),u=this.getCurrentOptions(el),g.label=1;case 1:return g.trys.push([1,5,,9]),[4,this.__exec(o,s,t)];case 2:return g.sent(),f=c,f?[4,this.__exec(c,u,{})]:[3,4];case 3:f=g.sent(),g.label=4;case 4:return[3,9];case 5:return h=g.sent(),c?[4,this.__exec(c,u,t)]:[3,7];case 6:return g.sent(),[3,8];case 7:throw h;case 8:return[3,9];case 9:return[2,t]}})})},n.prototype.load=function(){return bu(this,arguments,void 0,function(e){var t,r,o,s,c,u;return e===void 0&&(e={}),wu(this,function(f){switch(f.label){case 0:return t=this.getCurrentStorage(),r=Ji(Ji({},this.getCurrentOptions()),e),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(el))]:[3,5];case 1:if(c=f.sent(),(0,A.isEmpty)(c))return[3,5];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return f.sent(),s=c,[3,5];case 4:return u=f.sent(),[3,5];case 5:return s?[3,7]:[4,this.__exec(t,r)];case 6:s=f.sent(),f.label=7;case 7:return[2,s||{}]}})})},n.prototype.__askRecovery=function(){var e=this.em,t=this.getRecovery();return new Promise(function(r,o){(0,A.isFunction)(t)?t(r,o,e?.getEditor()):confirm(e?.t("storageManager.recover"))?r(null):o()})},n.prototype.getRecovery=function(){return this.config.recovery},n.prototype.getRecoveryStorage=function(){var e=this.getRecovery();return e&&this.getCurrent()===zv&&this.get(el)},n.prototype.__exec=function(e,t,r){return bu(this,void 0,void 0,function(){var o,s,c,u,f,h,g,m,_,w,C,T,B,W;return wu(this,function(N){switch(N.label){case 0:if(o=r?"store":"load",s=this.getConfig(),c=s.onStore,u=s.onLoad,!e)return[2,r||{}];this.onStart(o,r),N.label=1;case 1:return N.trys.push([1,14,,15]),h=(W=this.em)===null||W===void 0?void 0:W.getEditor(),g=void 0,r?(_=c,_?[4,c(r,h)]:[3,3]):[3,7];case 2:_=N.sent(),N.label=3;case 3:return m=_||r,w=t.onStore,w?[4,t.onStore(m,h)]:[3,5];case 4:w=N.sent(),N.label=5;case 5:return m=w||m,[4,e.store(m,t)];case 6:return g=N.sent(),f=r,[3,13];case 7:return[4,e.load(t)];case 8:return g=N.sent(),f=this.__clearKeys(g),C=t.onLoad,C?[4,t.onLoad(f,h)]:[3,10];case 9:C=N.sent(),N.label=10;case 10:return f=C||f,T=u,T?[4,u(f,h)]:[3,12];case 11:T=N.sent(),N.label=12;case 12:f=T||f,N.label=13;case 13:return this.onAfter(o,f,g),this.onEnd(o,f,g),[3,15];case 14:throw B=N.sent(),this.onError(o,B),B;case 15:return[2,f]}})})},n.prototype.__clearKeys=function(e){e===void 0&&(e={});var t=this.getConfig(),r=new RegExp("^".concat(t.id)),o={};for(var s in e){var c=s.replace(r,"");o[c]=e[s]}return o},n.prototype.getCurrentOptions=function(e){var t=this.getConfig(),r=e||this.getCurrent();return t.options[r]||{}},n.prototype.onStart=function(e,t){var r=this.em;if(r){var o=e==="load"?Yr.startLoad:Yr.startStore;r.trigger(Yr.start,e,t),r.trigger(o,t)}},n.prototype.onAfter=function(e,t,r){var o=this.em;if(o){var s=e==="load"?Yr.afterLoad:Yr.afterStore;o.trigger(Yr.after),o.trigger(s,t,r);var c=e==="load"?Yr.load:Yr.store;o.trigger(c,t,r)}},n.prototype.onEnd=function(e,t,r){var o=this.em;if(o){var s=e==="load"?Yr.endLoad:Yr.endStore;o.trigger(Yr.end,e,t,r),o.trigger(s,t,r)}},n.prototype.onError=function(e,t){var r=this.em;if(r){var o=e==="load"?Yr.errorLoad:Yr.errorStore;r.trigger(Yr.error,t,e),r.trigger(o,t),this.onEnd(e,t)}},n.prototype.canAutoload=function(){var e=this.getCurrentStorage();return!!e&&!!this.config.autoload},n.prototype.destroy=function(){this.storages={}},n}(pn),GS=KS,YS=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}},qS=YS,XS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ts=function(){return ts=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ts.apply(this,arguments)},Pm=function(i){XS(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.events={},t.appendInput=!0;var r=e.config,o=r===void 0?{}:r,s=t,c=s.model,u=s.eventCapture,f=c.target,h=c.attributes.type;t.config=o,t.em=o.em,t.pfx=o.stylePrefix||"",t.ppfx=o.pStylePrefix||"",t.target=f,t.className=t.pfx+"trait",t.clsField="".concat(t.ppfx,"field ").concat(t.ppfx,"field-").concat(h);var g=[["change:value",t.onValueChange],["remove",t.removeView]];return g.forEach(function(m){var _=m[0],w=m[1];c.off(_,w),t.listenTo(c,_,w)}),c.view=t,t.listenTo(c,"change:label",t.render),t.listenTo(c,"change:placeholder",t.rerender),t.events={},u.forEach(function(m){return t.events[m]="onChange"}),t.delegateEvents(),t.init(),t}return n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.templateLabel=function(e){var t=this.ppfx,r=this.getLabel();return'<div class="'.concat(t,'label" title="').concat(r,'">').concat(r,"</div>")},n.prototype.templateInput=function(e){var t=this.clsField;return'<div class="'.concat(t,'" data-input></div>')},n.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},n.prototype.removeView=function(){this.remove(),this.removed()},n.prototype.init=function(){},n.prototype.removed=function(){},n.prototype.onRender=function(e){},n.prototype.onUpdate=function(e){},n.prototype.onEvent=function(e){},n.prototype.onChange=function(e){var t=this.getInputElem();t&&!(0,A.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(ts(ts({},this.getClbOpts()),{event:e}))},n.prototype.getValueForTarget=function(){return this.model.get("value")},n.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.value=e)},n.prototype.onValueChange=function(e,t,r){r===void 0&&(r={});var o=this.model,s=this.getValueForTarget();r.fromTarget?(this.setInputValue(s),this.postUpdate()):o.setValue(s,r)},n.prototype.renderLabel=function(){var e=this,t=e.$el,r=e.target,o=this.getLabel(),s=this.templateLabel(r);this.createLabel&&(s=this.createLabel({label:o,component:r,trait:this})||""),t.find("[data-label]").append(s)},n.prototype.getLabel=function(){var e=this.em,t=this.model.attributes,r=t.label,o=t.name;return e.t("traitManager.traits.labels.".concat(o))||(0,Pe.capitalize)(r||o).replace(/-/g," ")},n.prototype.getComponent=function(){return this.target},n.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.em,r=e.model,o=r,s=r.attributes.name,c=o.get("placeholder")||o.get("default")||"",u=o.get("type")||"text",f=o.get("min"),h=o.get("max"),g=this.getModelValue(),m=(0,Or.default)('<input type="'.concat(u,'">')),_=t.t("traitManager.traits.attributes.".concat(s))||{};m.attr(ts({placeholder:c},_)),(0,A.isUndefined)(g)||(o.set({value:g},{silent:!0}),m.prop("value",g)),f&&m.prop("min",f),h&&m.prop("max",h),this.$input=m}return this.$input.get(0)},n.prototype.getInputElem=function(){var e=this,t=e.input,r=e.$input;return t||r&&r.get&&r.get(0)||this.getElInput()},n.prototype.getModelValue=function(){return this.model.getValue()},n.prototype.getElInput=function(){return this.elInput},n.prototype.renderField=function(){var e=this,t=e.$el,r=e.appendInput,o=e.model,s=t.find("[data-input]"),c=s[s.length-1],u=o.el;u||(u=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,A.isString)(u)?(c.innerHTML=u,this.elInput=c.firstChild):(r?c.appendChild(u):c.insertBefore(u,c.firstChild),this.elInput=u),o.el=this.elInput},n.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},n.prototype.rerender=function(){delete this.model.el,this.render()},n.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},n.prototype.render=function(){var e=this,t=e.$el,r=e.pfx,o=e.ppfx,s=e.model,c=s.attributes,u=c.type,f=c.id,h=this.hasLabel&&this.hasLabel(),g="".concat(r,"trait");delete this.$input;var m='<div class="'.concat(g," ").concat(g,"--").concat(u,`">
      `).concat(h?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(u,`" data-input>
        `).concat(this.templateInput?(0,A.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return t.empty().append(m),h&&this.renderLabel(),this.renderField(),this.el.className="".concat(g,"__wrp ").concat(g,"__wrp-").concat(f),this.postUpdate(),this.onRender(this.getClbOpts()),this},n}(Ie.Ss),vo=Pm;Pm.prototype.eventCapture=["change"];var $S=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Em=function(i){$S(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.onChange=function(){this.handleClick()},n.prototype.handleClick=function(){this.model.runCommand()},n.prototype.renderLabel=function(){this.model.get("label")&&vo.prototype.renderLabel.apply(this)},n.prototype.getInputEl=function(){var e=this,t=e.model,r=e.ppfx,o=t.props(),s=o.labelButton,c=o.text,u=o.full,f=s||c,h="".concat(r,"btn"),g='<button type="button" class="'.concat(h,"-prim").concat(u?" ".concat(h,"--full"):"",'">').concat(f,"</button>");return g},n}(vo),JS=Em;Em.prototype.eventCapture=["click button"];var ZS=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),QS=function(i){ZS(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e.appendInput=!1,e}return n.prototype.templateInput=function(){var e=this,t=e.ppfx,r=e.clsField;return'<label class="'.concat(r,`" data-input>
    <i class="`).concat(t,`chk-icon"></i>
  </label>`)},n.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},n.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.checked=!!e)},n.prototype.getInputEl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!this.$input,o=vo.prototype.getInputEl.apply(this,e);if(r){var s=void 0,c=void 0,u=this,f=u.model,h=u.target,g=f.attributes.valueFalse,m=f.getName();f.changeProp?(s=h.get(m),c=s):(c=h.get("attributes")[m],s=!!(c||c==="")),!(0,A.isUndefined)(g)&&c===g&&(s=!1),o.checked=s}return o},n}(vo),eO=QS;function tO(i,n){"use strict";if(!(0,Pe.hasWin)())return;var e={beforeShow:_,move:_,change:_,show:_,hide:_,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},t=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function V(Oe,he){return!!~(""+Oe).indexOf(he)}var ee=document.createElement("div"),D=ee.style;return D.cssText="background-color:rgba(0,0,0,.5)",V(D.backgroundColor,"rgba")||V(D.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),c=function(){var V="";if(r)for(var ee=1;ee<=6;ee++)V+="<div class='sp-"+ee+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",V,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function u(V,ee,D,Oe){for(var he=[],De=0;De<V.length;De++){var Xe=V[De];if(Xe){var qe=R(Xe),We=qe.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";We+=R.equals(ee,Xe)?" sp-thumb-active":"";var st=qe.toString(Oe.preferredFormat||"rgb"),kt=o?"background-color:"+qe.toRgbString():"filter:"+qe.toFilter();he.push('<span title="'+st+'" data-color="'+qe.toRgbString()+'" class="'+We+'"><span class="sp-thumb-inner" style="'+kt+';"></span></span>')}else{var At="sp-clear-display";he.push(i("<div />").append(i('<span data-color="" style="background-color:transparent;" class="'+At+'"></span>').attr("title",Oe.noColorSelectedText)).html())}}return"<div class='sp-cf "+D+"'>"+he.join("")+"</div>"}function f(){for(var V=0;V<t.length;V++)t[V]&&t[V].hide()}function h(V,ee){var D=i.extend({},e,V);return D.callbacks={move:C(D.move,ee),change:C(D.change,ee),show:C(D.show,ee),hide:C(D.hide,ee),beforeShow:C(D.beforeShow,ee)},D}function g(V,ee){var D=h(ee,V),Oe=D.flat,he=D.showSelectionPalette,De=D.localStorageKey,Xe=D.theme,qe=D.callbacks,We=B(en,10),st=!1,kt=!1,At=!0,Pt=0,qt=0,fr=0,j=0,Z=0,se=0,Te=0,Ke=0,lt=0,_t=0,ir=0,Ft=1,Wt=[],Zr=[],dr={},zt=D.selectionPalette.slice(0),hn=D.maxSelectionSize,Ht="sp-dragging",Kt=null,Xt=V.ownerDocument,Qr=Xt.body,Dt=i(V),jr=!1,yt=i(c,Xt).addClass(Xe),kr=yt.find(".sp-picker-container"),rr=yt.find(".sp-color"),Br=yt.find(".sp-dragger"),Rt=yt.find(".sp-hue"),Ze=yt.find(".sp-slider"),pr=yt.find(".sp-alpha-inner"),Ar=yt.find(".sp-alpha"),ar=yt.find(".sp-alpha-handle"),xt=yt.find(".sp-input"),Nt=yt.find(".sp-palette"),vn=yt.find(".sp-initial"),gn=yt.find(".sp-cancel"),Ae=yt.find(".sp-clear"),vt=yt.find(".sp-choose"),Fr=yt.find(".sp-palette-toggle"),M=Dt.is("input"),$=M&&Dt.attr("type")==="color"&&W(),Ce=M&&!Oe,Me=Ce?i(s).addClass(Xe).addClass(D.className).addClass(D.replacerClassName):i([]),je=Ce?Me:Dt,Ot=Me.find(".sp-preview-inner"),Et=D.color||M&&Dt.val(),Bt=!1,It=D.preferredFormat,mo=!D.showButtons||D.clickoutFiresChange,mn=!Et,Hr=D.allowEmpty&&!$;function Gn(){if(D.showPaletteOnly&&(D.showPalette=!0),Fr.text(D.showPaletteOnly?D.togglePaletteMoreText:D.togglePaletteLessText),D.palette){Wt=D.palette.slice(0),Zr=i.isArray(Wt[0])?Wt:[Wt],dr={};for(var ut=0;ut<Zr.length;ut++)for(var ct=0;ct<Zr[ut].length;ct++){var Ct=R(Zr[ut][ct]).toRgbString();dr[Ct]=!0}}yt.toggleClass("sp-flat",Oe),yt.toggleClass("sp-input-disabled",!D.showInput),yt.toggleClass("sp-alpha-enabled",D.showAlpha),yt.toggleClass("sp-clear-enabled",Hr),yt.toggleClass("sp-buttons-disabled",!D.showButtons),yt.toggleClass("sp-palette-buttons-disabled",!D.togglePaletteOnly),yt.toggleClass("sp-palette-disabled",!D.showPalette),yt.toggleClass("sp-palette-only",D.showPaletteOnly),yt.toggleClass("sp-initial-disabled",!D.showInitial),yt.addClass(D.className).addClass(D.containerClassName),en()}function zo(){if(r&&yt.find("*:not(input)").attr("unselectable","on"),Gn(),Ce&&Dt.after(Me).hide(),Hr||Ae.hide(),Oe)Dt.after(yt).hide();else{var ut=D.appendTo==="parent"?Dt.parent():i(D.appendTo);ut.length!==1&&(ut=i("body")),ut.append(yt)}yo(),je.bind("click.spectrum touchstart.spectrum",function(dt){jr||hr(),dt.stopPropagation(),i(dt.target).is("input")||dt.preventDefault()}),(Dt.is(":disabled")||D.disabled===!0)&&oo(),yt.click(w),xt.change(sr),xt.bind("paste",function(){setTimeout(sr,1)}),xt.keydown(function(dt){dt.keyCode==13&&sr()}),gn.text(D.cancelText),gn.bind("click.spectrum",function(dt){dt.stopPropagation(),dt.preventDefault(),Yo(),Dr()}),Ae.attr("title",D.clearText),Ae.bind("click.spectrum",function(dt){dt.stopPropagation(),dt.preventDefault(),mn=!0,yn(),Oe&&_n(!0)}),vt.text(D.chooseText),vt.bind("click.spectrum",function(dt){dt.stopPropagation(),dt.preventDefault(),r&&xt.is(":focus")&&xt.trigger("change"),wo()&&(_n(!0),Dr())}),Fr.text(D.showPaletteOnly?D.togglePaletteMoreText:D.togglePaletteLessText),Fr.bind("click.spectrum",function(dt){dt.stopPropagation(),dt.preventDefault(),D.showPaletteOnly=!D.showPaletteOnly,!D.showPaletteOnly&&!Oe&&yt.css("left","-="+(kr.outerWidth(!0)+5)),Gn()}),T(Ar,function(dt,Jt,tn){Ft=dt/se,mn=!1,tn.shiftKey&&(Ft=Math.round(Ft*10)/10),yn()},jn,to),T(Rt,function(dt,Jt){lt=parseFloat(Jt/j),mn=!1,D.showAlpha||(Ft=1),yn()},jn,to),T(rr,function(dt,Jt,tn){if(!tn.shiftKey)Kt=null;else if(!Kt){var rn=_t*Pt,yr=qt-ir*qt,Tr=Math.abs(dt-rn)>Math.abs(Jt-yr);Kt=Tr?"x":"y"}var nn=!Kt||Kt==="x",Vn=!Kt||Kt==="y";nn&&(_t=parseFloat(dt/Pt)),Vn&&(ir=parseFloat((qt-Jt)/qt)),mn=!1,D.showAlpha||(Ft=1),yn()},jn,to),Et?(Pn(Et),En(),It=D.preferredFormat||R(Et).getFormat(),Qn(Et)):En(),Oe&&bo();function ct(dt){return dt.data&&dt.data.ignore?(Pn(i(dt.target).closest(".sp-thumb-el").data("color")),yn()):(Pn(i(dt.target).closest(".sp-thumb-el").data("color")),yn(),D.hideAfterPaletteSelect&&(_n(!0),Dr())),!1}var Ct=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Nt.delegate(".sp-thumb-el",Ct,ct),vn.delegate(".sp-thumb-el:nth-child(1)",Ct,{ignore:!0},ct)}function yo(){if(De&&window.localStorage){try{var ut=window.localStorage[De].split(",#");ut.length>1&&(delete window.localStorage[De],i.each(ut,function(ct,Ct){Qn(Ct)}))}catch{}try{zt=window.localStorage[De].split(";")}catch{}}}function Qn(ut){if(he){var ct=R(ut).toRgbString();if(!dr[ct]&&i.inArray(ct,zt)===-1)for(zt.push(ct);zt.length>hn;)zt.shift();if(De&&window.localStorage)try{window.localStorage[De]=zt.join(";")}catch{}}}function Ko(){var ut=[];if(D.showPalette)for(var ct=0;ct<zt.length;ct++){var Ct=R(zt[ct]).toRgbString();dr[Ct]||ut.push(zt[ct])}return ut.reverse().slice(0,D.maxSelectionSize)}function _o(){var ut=vr(),ct=i.map(Zr,function(Ct,dt){return u(Ct,ut,"sp-palette-row sp-palette-row-"+dt,D)});yo(),zt&&ct.push(u(Ko(),ut,"sp-palette-row sp-palette-row-selection",D)),Nt.html(ct.join(""))}function eo(){if(D.showInitial){var ut=Bt,ct=vr();vn.html(u([ut,ct],ct,"sp-palette-row-initial",D))}}function jn(){(qt<=0||Pt<=0||j<=0)&&en(),kt=!0,yt.addClass(Ht),Kt=null,Dt.trigger("dragstart.spectrum",[vr()])}function to(){kt=!1,yt.removeClass(Ht),Dt.trigger("dragstop.spectrum",[vr()])}function sr(){var ut=xt.val();if((ut===null||ut==="")&&Hr)Pn(null),_n(!0);else{var ct=R(ut);ct.isValid()?(Pn(ct),_n(!0)):xt.addClass("sp-validation-error")}}function hr(){st?Dr():bo()}function bo(){var ut=i.Event("beforeShow.spectrum");if(st){en();return}if(Dt.trigger("beforeShow.spectrum",[vr()]),!(qe.beforeShow(vr())===!1||ut.isDefaultPrevented())){f(),st=!0;var ct=i(Xt);ct.bind("keydown.spectrum",Go),ct.bind("click.spectrum",Bn),i(window).bind("resize.spectrum",We),Me.addClass("sp-active"),yt.removeClass("sp-hidden"),en(),En(),Bt=vr(),eo(),qe.show(Bt),Dt.trigger("show.spectrum",[Bt])}}function Go(ut){ut.keyCode===27&&Dr()}function Bn(ut){ut.button!=2&&(kt||(mo?_n(!0):Yo(),Dr()))}function Dr(){!st||Oe||(st=!1,i(Xt).unbind("keydown.spectrum",Go),i(Xt).unbind("click.spectrum",Bn),i(window).unbind("resize.spectrum",We),Me.removeClass("sp-active"),yt.addClass("sp-hidden"),qe.hide(vr()),Dt.trigger("hide.spectrum",[vr()]))}function Yo(){Pn(Bt,!0)}function Pn(ut,ct){if(R.equals(ut,vr())){En();return}var Ct,dt;!ut&&Hr?mn=!0:(mn=!1,At=!ut,Ct=R(ut),dt=Ct.toHsv(),lt=dt.h%360/360,_t=dt.s,ir=dt.v,Ft=dt.a),En(),Ct&&Ct.isValid()&&!ct&&(It=D.preferredFormat||Ct.getFormat())}function vr(ut){return ut=ut||{},Hr&&mn?null:R.fromRatio({h:lt,s:_t,v:ir,a:Math.round(Ft*100)/100},{format:ut.format||It})}function wo(){return!xt.hasClass("sp-validation-error")}function yn(){En(),qe.move(vr()),Dt.trigger("move.spectrum",[vr()])}function En(){xt.removeClass("sp-validation-error"),xo();var ut=R.fromRatio({h:lt,s:1,v:1});rr.css("background-color",ut.toHexString());var ct=It;Ft<1&&!(Ft===0&&ct==="name")&&(ct==="hex"||ct==="hex3"||ct==="hex6"||ct==="name")&&(ct="rgb");var Ct=vr({format:ct}),dt="";if(Ot.removeClass("sp-clear-display"),Ot.css("background-color","transparent"),!Ct&&Hr)Ot.addClass("sp-clear-display");else{var Jt=Ct.toHexString(),tn=Ct.toRgbString();if(o||Ct.alpha===1?Ot.css("background-color",tn):(Ot.css("background-color","transparent"),Ot.css("filter",Ct.toFilter())),D.showAlpha){var rn=Ct.toRgb();rn.a=0;var yr=R(rn).toRgbString(),Tr="linear-gradient(left, "+yr+", "+Jt+")";r?pr.css("filter",R(yr).toFilter({gradientType:1},Jt)):(pr.css("background","-webkit-"+Tr),pr.css("background","-moz-"+Tr),pr.css("background","-ms-"+Tr),pr.css("background","linear-gradient(to right, "+yr+", "+Jt+")"))}dt=Ct.toString(ct)}D.showInput&&xt.val(dt),D.showPalette&&_o(),eo()}function xo(){var ut=_t,ct=ir;if(Hr&&mn)ar.hide(),Ze.hide(),Br.hide();else{ar.show(),Ze.show(),Br.show();var Ct=ut*Pt,dt=qt-ct*qt;Ct=Math.max(-fr,Math.min(Pt-fr,Ct-fr)),dt=Math.max(-fr,Math.min(qt-fr,dt-fr)),Br.css({top:dt+"px",left:Ct+"px"});var Jt=Ft*se;ar.css({left:Jt-Te/2+"px"});var tn=lt*j;Ze.css({top:tn-Ke+"px"})}}function _n(ut){var ct=vr(),Ct="",dt=At?!0:!R.equals(ct,Bt);ct&&(Ct=ct.toString(It),!st&&Qn(ct)),M&&Dt.val(Ct),ut&&dt&&(qe.change(ct),Dt.trigger("change",[ct]))}function en(){st&&(Pt=rr.width(),qt=rr.height(),fr=Br.height(),Z=Rt.width(),j=Rt.height(),Ke=Ze.height(),se=Ar.width(),Te=ar.width(),Oe||(yt.css("position","absolute"),D.offset?yt.offset(D.offset):yt.offset(m(yt,je))),xo(),D.showPalette&&_o(),Dt.trigger("reflow.spectrum"))}function ro(){Dt.show(),je.unbind("click.spectrum touchstart.spectrum"),yt.remove(),Me.remove(),t[bn.id]=null}function In(ut,ct){if(ut===n)return i.extend({},D);if(ct===n)return D[ut];D[ut]=ct,ut==="preferredFormat"&&(It=D.preferredFormat),Gn()}function no(){jr=!1,Dt.attr("disabled",!1),je.removeClass("sp-disabled")}function oo(){Dr(),jr=!0,Dt.attr("disabled",!0),je.addClass("sp-disabled")}function qo(ut){D.offset=ut,en()}zo();var bn={show:bo,hide:Dr,toggle:hr,reflow:en,option:In,enable:no,disable:oo,offset:qo,set:function(ut){Pn(ut),_n()},get:vr,destroy:ro,container:yt};return bn.id=t.push(bn)-1,bn}function m(V,ee){for(var D=ee[0],Oe=V[0],he=Oe.parentElement,De=D.getBoundingClientRect(),Xe=Oe.offsetWidth,qe=Oe.offsetHeight,We={top:0,left:0,width:D.offsetWidth,height:D.offsetHeight};D&&(We.top+=D.offsetTop-D.scrollTop,We.left+=D.offsetLeft-D.scrollLeft,!(D===he||!he.contains(D.offsetParent)));)D=D.offsetParent;return De.right+Xe>window.innerWidth-window.scrollX&&De.right-Xe>0&&(We.left-=Xe-We.width),De.bottom+qe<window.innerHeight-window.scrollY?We.top+=We.height:We.top-=qe,We}function _(){}function w(V){V.stopPropagation()}function C(V,ee){var D=Array.prototype.slice,Oe=D.call(arguments,2);return function(){return V.apply(ee,Oe.concat(D.call(arguments)))}}function T(V,ee,D,Oe){ee=ee||function(){},D=D||function(){},Oe=Oe||function(){};var he=document,De=!1,Xe={},qe=0,We=0,st="ontouchstart"in window,kt={};kt.selectstart=At,kt.dragstart=At,kt["touchmove mousemove"]=Pt,kt["touchend mouseup"]=fr;function At(j){j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault(),j.returnValue=!1}function Pt(j){if(De){if(r&&he.documentMode<9&&!j.button)return fr();var Z=j&&j.touches&&j.touches[0],se=Z&&Z.pageX||j.pageX,Te=Z&&Z.pageY||j.pageY,Ke=Math.max(0,Math.min(se-Xe.left,We)),lt=Math.max(0,Math.min(Te-Xe.top,qe));st&&At(j),ee.apply(V,[Ke,lt,j])}}function qt(j){var Z=j.which?j.which==3:j.button==2;!Z&&!De&&D.apply(V,arguments)!==!1&&(De=!0,qe=i(V).height(),We=i(V).width(),Xe=i(V).offset(),i(he).bind(kt),i(he.body).addClass("sp-dragging"),Pt(j),At(j))}function fr(){De&&(i(he).unbind(kt),i(he.body).removeClass("sp-dragging"),setTimeout(function(){Oe.apply(V,arguments)},0)),De=!1}i(V).bind("touchstart mousedown",qt)}function B(V,ee,D){var Oe;return function(){var he=this,De=arguments,Xe=function(){Oe=null,V.apply(he,De)};D&&clearTimeout(Oe),(D||!Oe)&&(Oe=setTimeout(Xe,ee))}}function W(){return i.fn.spectrum.inputTypeColorSupport()}var N="spectrum.id";i.fn.spectrum=function(V,ee){if(typeof V=="string"){var D=this,Oe=Array.prototype.slice.call(arguments,1);return this.each(function(){var he=t[i(this).data(N)];if(he){var De=he[V];if(!De)throw new Error("Spectrum: no such method: '"+V+"'");V=="get"?D=he.get():V=="container"?D=he.container:V=="option"?D=he.option.apply(he,Oe):V=="destroy"?(he.destroy(),i(this).removeData(N)):De.apply(he,Oe)}}),D}return this.spectrum("destroy").each(function(){var he=i.extend({},V,i(this).data()),De=g(this,he);i(this).data(N,De.id)})},i.fn.spectrum.load=!0,i.fn.spectrum.loadOpts={},i.fn.spectrum.draggable=T,i.fn.spectrum.defaults=e,i.fn.spectrum.inputTypeColorSupport=function V(){if(typeof V._cachedResult>"u"){var ee=i("<input type='color'/>")[0];V._cachedResult=ee.type==="color"&&ee.value!==""}return V._cachedResult},i.spectrum={},i.spectrum.localization={},i.spectrum.palettes={},i.fn.spectrum.processNativeColorInputs=function(){var V=i("input[type=color]");V.length&&!W()&&V.spectrum({preferredFormat:"hex6"})};var z=/^[\s,#]+/,ue=/\s+$/,_e=0,Se=Math,ce=Se.round,q=Se.min,ae=Se.max,F=Se.random,R=function(V,ee){if(V=V||"",ee=ee||{},V instanceof R)return V;if(!(this instanceof R))return new R(V,ee);var D=U(V);this._originalInput=V,this._r=D.r,this._g=D.g,this._b=D.b,this._a=D.a,this._roundA=ce(100*this._a)/100,this._format=ee.format||D.format,this._gradientType=ee.gradientType,this._r<1&&(this._r=ce(this._r)),this._g<1&&(this._g=ce(this._g)),this._b<1&&(this._b=ce(this._b)),this._ok=D.ok,this._tc_id=_e++};R.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var V=this.toRgb();return(V.r*299+V.g*587+V.b*114)/1e3},setAlpha:function(V){return this._a=it(V),this._roundA=ce(100*this._a)/100,this},toHsv:function(){var V=me(this._r,this._g,this._b);return{h:V.h*360,s:V.s,v:V.v,a:this._a}},toHsvString:function(){var V=me(this._r,this._g,this._b),ee=ce(V.h*360),D=ce(V.s*100),Oe=ce(V.v*100);return this._a==1?"hsv("+ee+", "+D+"%, "+Oe+"%)":"hsva("+ee+", "+D+"%, "+Oe+"%, "+this._roundA+")"},toHsl:function(){var V=te(this._r,this._g,this._b);return{h:V.h*360,s:V.s,l:V.l,a:this._a}},toHslString:function(){var V=te(this._r,this._g,this._b),ee=ce(V.h*360),D=ce(V.s*100),Oe=ce(V.l*100);return this._a==1?"hsl("+ee+", "+D+"%, "+Oe+"%)":"hsla("+ee+", "+D+"%, "+Oe+"%, "+this._roundA+")"},toHex:function(V){return Le(this._r,this._g,this._b,V)},toHexString:function(V){return"#"+this.toHex(V)},toHex8:function(){return Je(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:ce(this._r),g:ce(this._g),b:ce(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+ce(this._r)+", "+ce(this._g)+", "+ce(this._b)+")":"rgba("+ce(this._r)+", "+ce(this._g)+", "+ce(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:ce(k(this._r,255)*100)+"%",g:ce(k(this._g,255)*100)+"%",b:ce(k(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+ce(k(this._r,255)*100)+"%, "+ce(k(this._g,255)*100)+"%, "+ce(k(this._b,255)*100)+"%)":"rgba("+ce(k(this._r,255)*100)+"%, "+ce(k(this._g,255)*100)+"%, "+ce(k(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ot[Le(this._r,this._g,this._b,!0)]||!1},toFilter:function(V){var ee="#"+Je(this._r,this._g,this._b,this._a),D=ee,Oe=this._gradientType?"GradientType = 1, ":"";if(V){var he=R(V);D=he.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Oe+"startColorstr="+ee+",endColorstr="+D+")"},toString:function(V){var ee=!!V;V=V||this._format;var D=!1,Oe=this._a<1&&this._a>=0,he=!ee&&Oe&&(V==="hex"||V==="hex6"||V==="hex3"||V==="name");return he?V==="name"&&this._a===0?this.toName():this.toRgbString():(V==="rgb"&&(D=this.toRgbString()),V==="prgb"&&(D=this.toPercentageRgbString()),(V==="hex"||V==="hex6")&&(D=this.toHexString()),V==="hex3"&&(D=this.toHexString(!0)),V==="hex8"&&(D=this.toHex8String()),V==="name"&&(D=this.toName()),V==="hsl"&&(D=this.toHslString()),V==="hsv"&&(D=this.toHsvString()),D||this.toHexString())},_applyModification:function(V,ee){var D=V.apply(null,[this].concat([].slice.call(ee)));return this._r=D._r,this._g=D._g,this._b=D._b,this.setAlpha(D._a),this},lighten:function(){return this._applyModification(be,arguments)},brighten:function(){return this._applyModification(Re,arguments)},darken:function(){return this._applyModification(Ue,arguments)},desaturate:function(){return this._applyModification($e,arguments)},saturate:function(){return this._applyModification(mt,arguments)},greyscale:function(){return this._applyModification(ye,arguments)},spin:function(){return this._applyModification(Ne,arguments)},_applyCombination:function(V,ee){return V.apply(null,[this].concat([].slice.call(ee)))},analogous:function(){return this._applyCombination(xe,arguments)},complement:function(){return this._applyCombination(Ve,arguments)},monochromatic:function(){return this._applyCombination(Qe,arguments)},splitcomplement:function(){return this._applyCombination(re,arguments)},triad:function(){return this._applyCombination(nt,arguments)},tetrad:function(){return this._applyCombination(at,arguments)}},R.fromRatio=function(V,ee){if(typeof V=="object"){var D={};for(var Oe in V)V.hasOwnProperty(Oe)&&(Oe==="a"?D[Oe]=V[Oe]:D[Oe]=fe(V[Oe]));V=D}return R(V,ee)};function U(V){var ee={r:0,g:0,b:0},D=1,Oe=!1,he=!1;return typeof V=="string"&&(V=gt(V)),typeof V=="object"&&(V.hasOwnProperty("r")&&V.hasOwnProperty("g")&&V.hasOwnProperty("b")?(ee=H(V.r,V.g,V.b),Oe=!0,he=String(V.r).substr(-1)==="%"?"prgb":"rgb"):V.hasOwnProperty("h")&&V.hasOwnProperty("s")&&V.hasOwnProperty("v")?(V.s=fe(V.s),V.v=fe(V.v),ee=ve(V.h,V.s,V.v),Oe=!0,he="hsv"):V.hasOwnProperty("h")&&V.hasOwnProperty("s")&&V.hasOwnProperty("l")&&(V.s=fe(V.s),V.l=fe(V.l),ee=E(V.h,V.s,V.l),Oe=!0,he="hsl"),V.hasOwnProperty("a")&&(D=V.a)),D=it(D),{ok:Oe,format:V.format||he,r:q(255,ae(ee.r,0)),g:q(255,ae(ee.g,0)),b:q(255,ae(ee.b,0)),a:D}}function H(V,ee,D){return{r:k(V,255)*255,g:k(ee,255)*255,b:k(D,255)*255}}function te(V,ee,D){V=k(V,255),ee=k(ee,255),D=k(D,255);var Oe=ae(V,ee,D),he=q(V,ee,D),De,Xe,qe=(Oe+he)/2;if(Oe==he)De=Xe=0;else{var We=Oe-he;switch(Xe=qe>.5?We/(2-Oe-he):We/(Oe+he),Oe){case V:De=(ee-D)/We+(ee<D?6:0);break;case ee:De=(D-V)/We+2;break;case D:De=(V-ee)/We+4;break}De/=6}return{h:De,s:Xe,l:qe}}function E(V,ee,D){var Oe,he,De;V=k(V,360),ee=k(ee,100),D=k(D,100);function Xe(st,kt,At){return At<0&&(At+=1),At>1&&(At-=1),At<1/6?st+(kt-st)*6*At:At<1/2?kt:At<2/3?st+(kt-st)*(2/3-At)*6:st}if(ee===0)Oe=he=De=D;else{var qe=D<.5?D*(1+ee):D+ee-D*ee,We=2*D-qe;Oe=Xe(We,qe,V+1/3),he=Xe(We,qe,V),De=Xe(We,qe,V-1/3)}return{r:Oe*255,g:he*255,b:De*255}}function me(V,ee,D){V=k(V,255),ee=k(ee,255),D=k(D,255);var Oe=ae(V,ee,D),he=q(V,ee,D),De,Xe,qe=Oe,We=Oe-he;if(Xe=Oe===0?0:We/Oe,Oe==he)De=0;else{switch(Oe){case V:De=(ee-D)/We+(ee<D?6:0);break;case ee:De=(D-V)/We+2;break;case D:De=(V-ee)/We+4;break}De/=6}return{h:De,s:Xe,v:qe}}function ve(V,ee,D){V=k(V,360)*6,ee=k(ee,100),D=k(D,100);var Oe=Se.floor(V),he=V-Oe,De=D*(1-ee),Xe=D*(1-he*ee),qe=D*(1-(1-he)*ee),We=Oe%6,st=[D,Xe,De,De,qe,D][We],kt=[qe,D,D,Xe,De,De][We],At=[De,De,qe,D,D,Xe][We];return{r:st*255,g:kt*255,b:At*255}}function Le(V,ee,D,Oe){var he=[K(ce(V).toString(16)),K(ce(ee).toString(16)),K(ce(D).toString(16))];return Oe&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0):he.join("")}function Je(V,ee,D,Oe){var he=[K(oe(Oe)),K(ce(V).toString(16)),K(ce(ee).toString(16)),K(ce(D).toString(16))];return he.join("")}R.equals=function(V,ee){return!V||!ee?!1:R(V).toRgbString()==R(ee).toRgbString()},R.random=function(){return R.fromRatio({r:F(),g:F(),b:F()})};function $e(V,ee){ee=ee===0?0:ee||10;var D=R(V).toHsl();return D.s-=ee/100,D.s=I(D.s),R(D)}function mt(V,ee){ee=ee===0?0:ee||10;var D=R(V).toHsl();return D.s+=ee/100,D.s=I(D.s),R(D)}function ye(V){return R(V).desaturate(100)}function be(V,ee){ee=ee===0?0:ee||10;var D=R(V).toHsl();return D.l+=ee/100,D.l=I(D.l),R(D)}function Re(V,ee){ee=ee===0?0:ee||10;var D=R(V).toRgb();return D.r=ae(0,q(255,D.r-ce(255*-(ee/100)))),D.g=ae(0,q(255,D.g-ce(255*-(ee/100)))),D.b=ae(0,q(255,D.b-ce(255*-(ee/100)))),R(D)}function Ue(V,ee){ee=ee===0?0:ee||10;var D=R(V).toHsl();return D.l-=ee/100,D.l=I(D.l),R(D)}function Ne(V,ee){var D=R(V).toHsl(),Oe=(ce(D.h)+ee)%360;return D.h=Oe<0?360+Oe:Oe,R(D)}function Ve(V){var ee=R(V).toHsl();return ee.h=(ee.h+180)%360,R(ee)}function nt(V){var ee=R(V).toHsl(),D=ee.h;return[R(V),R({h:(D+120)%360,s:ee.s,l:ee.l}),R({h:(D+240)%360,s:ee.s,l:ee.l})]}function at(V){var ee=R(V).toHsl(),D=ee.h;return[R(V),R({h:(D+90)%360,s:ee.s,l:ee.l}),R({h:(D+180)%360,s:ee.s,l:ee.l}),R({h:(D+270)%360,s:ee.s,l:ee.l})]}function re(V){var ee=R(V).toHsl(),D=ee.h;return[R(V),R({h:(D+72)%360,s:ee.s,l:ee.l}),R({h:(D+216)%360,s:ee.s,l:ee.l})]}function xe(V,ee,D){ee=ee||6,D=D||30;var Oe=R(V).toHsl(),he=360/D,De=[R(V)];for(Oe.h=(Oe.h-(he*ee>>1)+720)%360;--ee;)Oe.h=(Oe.h+he)%360,De.push(R(Oe));return De}function Qe(V,ee){ee=ee||6;for(var D=R(V).toHsv(),Oe=D.h,he=D.s,De=D.v,Xe=[],qe=1/ee;ee--;)Xe.push(R({h:Oe,s:he,v:De})),De=(De+qe)%1;return Xe}R.mix=function(V,ee,D){D=D===0?0:D||50;var Oe=R(V).toRgb(),he=R(ee).toRgb(),De=D/100,Xe=De*2-1,qe=he.a-Oe.a,We;Xe*qe==-1?We=Xe:We=(Xe+qe)/(1+Xe*qe),We=(We+1)/2;var st=1-We,kt={r:he.r*We+Oe.r*st,g:he.g*We+Oe.g*st,b:he.b*We+Oe.b*st,a:he.a*De+Oe.a*(1-De)};return R(kt)},R.readability=function(V,ee){var D=R(V),Oe=R(ee),he=D.toRgb(),De=Oe.toRgb(),Xe=D.getBrightness(),qe=Oe.getBrightness(),We=Math.max(he.r,De.r)-Math.min(he.r,De.r)+Math.max(he.g,De.g)-Math.min(he.g,De.g)+Math.max(he.b,De.b)-Math.min(he.b,De.b);return{brightness:Math.abs(Xe-qe),color:We}},R.isReadable=function(V,ee){var D=R.readability(V,ee);return D.brightness>125&&D.color>500},R.mostReadable=function(V,ee){for(var D=null,Oe=0,he=!1,De=0;De<ee.length;De++){var Xe=R.readability(V,ee[De]),qe=Xe.brightness>125&&Xe.color>500,We=3*(Xe.brightness/125)+Xe.color/500;(qe&&!he||qe&&he&&We>Oe||!qe&&!he&&We>Oe)&&(he=qe,Oe=We,D=R(ee[De]))}return D};var Fe=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ot=R.hexNames=ht(Fe);function ht(V){var ee={};for(var D in V)V.hasOwnProperty(D)&&(ee[V[D]]=D);return ee}function it(V){return V=parseFloat(V),(isNaN(V)||V<0||V>1)&&(V=1),V}function k(V,ee){ie(V)&&(V="100%");var D=ge(V);return V=q(ee,ae(0,parseFloat(V))),D&&(V=parseInt(V*ee,10)/100),Se.abs(V-ee)<1e-6?1:V%ee/parseFloat(ee)}function I(V){return q(1,ae(0,V))}function Y(V){return parseInt(V,16)}function ie(V){return typeof V=="string"&&V.indexOf(".")!=-1&&parseFloat(V)===1}function ge(V){return typeof V=="string"&&V.indexOf("%")!=-1}function K(V){return V.length==1?"0"+V:""+V}function fe(V){return V<=1&&(V=V*100+"%"),V}function oe(V){return Math.round(parseFloat(V)*255).toString(16)}function rt(V){return Y(V)/255}var bt=function(){var V="[-\\+]?\\d+%?",ee="[-\\+]?\\d*\\.\\d+%?",D="(?:"+ee+")|(?:"+V+")",Oe="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",he="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?";return{rgb:new RegExp("rgb"+Oe),rgba:new RegExp("rgba"+he),hsl:new RegExp("hsl"+Oe),hsla:new RegExp("hsla"+he),hsv:new RegExp("hsv"+Oe),hsva:new RegExp("hsva"+he),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function gt(V){V=V.replace(z,"").replace(ue,"").toLowerCase();var ee=!1;if(Fe[V])V=Fe[V],ee=!0;else if(V=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var D;return(D=bt.rgb.exec(V))?{r:D[1],g:D[2],b:D[3]}:(D=bt.rgba.exec(V))?{r:D[1],g:D[2],b:D[3],a:D[4]}:(D=bt.hsl.exec(V))?{h:D[1],s:D[2],l:D[3]}:(D=bt.hsla.exec(V))?{h:D[1],s:D[2],l:D[3],a:D[4]}:(D=bt.hsv.exec(V))?{h:D[1],s:D[2],v:D[3]}:(D=bt.hsva.exec(V))?{h:D[1],s:D[2],v:D[3],a:D[4]}:(D=bt.hex8.exec(V))?{a:rt(D[1]),r:Y(D[2]),g:Y(D[3]),b:Y(D[4]),format:ee?"name":"hex8"}:(D=bt.hex6.exec(V))?{r:Y(D[1]),g:Y(D[2]),b:Y(D[3]),format:ee?"name":"hex"}:(D=bt.hex3.exec(V))?{r:Y(D[1]+""+D[1]),g:Y(D[2]+""+D[2]),b:Y(D[3]+""+D[3]),format:ee?"name":"hex"}:!1}window.tinycolor=R,i(function(){i.fn.spectrum.load&&i.fn.spectrum.processNativeColorInputs()})}var rO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Am=function(i){rO(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this,r=e.ppfx||"";return t.opts=e,t.ppfx=r,t.em=e.target||{},!e.onChange&&t.listenTo(t.model,"change:value",t.handleModelChange),t}return n.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},n.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.setValue=function(e,t){var r=this.model,o=e||r.get("defaults"),s=this.getInputEl();s&&(s.value=o)},n.prototype.handleModelChange=function(e,t,r){this.setValue(t,r)},n.prototype.handleChange=function(e){e.stopPropagation();var t=this.getInputEl().value;this.__onInputChange(t),this.elementUpdated()},n.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},n.prototype.getInputEl=function(){if(!this.inputEl){var e=this,t=e.model,r=e.opts,o=r.type||"text",s=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=(0,Or.default)('<input type="'.concat(o,'" placeholder="').concat(s,'">'))}return this.inputEl.get(0)},n.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},n}(Ie.Ss),zl=Am;Am.prototype.events={change:"handleChange"};var nO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rs=function(){return rs=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},rs.apply(this,arguments)};Or.default&&tO(Or.default);var tl=function(i){var n=i.getFormat()==="name"&&i.toName(),e=i.getAlpha()==1?i.toHexString():i.toRgbString();return n||e.replace(/ /g,"")},oO=function(i){nO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},n.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.remove=function(){return i.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},n.prototype.handleChange=function(e){e.stopPropagation();var t=e.target.value;(0,A.isUndefined)(t)||this.__onInputChange(t)},n.prototype.__onInputChange=function(e){var t=this,r=t.model,o=t.opts,s=o.onChange,c=e,u=this.getColorEl();if(u){u.spectrum("set",c);var f=u.spectrum("get"),h=c&&tl(f);h&&(c=h)}s?s(c):r.set({value:c},{fromInput:1})},n.prototype.setValue=function(e,t){t===void 0&&(t={});var r=this.model,o=(0,A.isUndefined)(t.def)?r.get("defaults"):t.def,s=(0,A.isUndefined)(e)?(0,A.isUndefined)(o)?"":o:e,c=this.getInputEl(),u=this.getColorEl(),f=s!="none"?s:"";c.value=s,u.get(0).style.backgroundColor=f,(t.fromTarget||t.fromInput&&!t.avoidStore)&&(u.spectrum("set",f),this.noneColor=s=="none",this.movedColor=f)},n.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var t=this,r=t.em,o=t.model,s=t.opts,c=this.ppfx,u=s.onChange,f=(0,Or.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),h=f.get(0).style,g=r&&r.getConfig&&r.getConfig().colorPicker||{};this.movedColor="";var m=!1,_;this.$el.find("[data-colorp-c]").append(f);var w=function(C,T){T===void 0&&(T=!0),u?u(C,!T):(T&&o.setValueFromInput(0,!1),o.setValueFromInput(C,T))};f.spectrum(rs(rs(rs({color:o.getValue()||!1,containerClassName:"".concat(c,"one-bg ").concat(c,"two-color ").concat(c,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},g),o.get("colorPicker")||{}),{move:function(C){var T=tl(C);e.movedColor=T,h.backgroundColor=T,w(T,!1)},change:function(C){m=!0;var T=tl(C);h.backgroundColor=T,w(T),e.noneColor=!1},show:function(C){m=!1,e.movedColor="",_=u?o.getValue({noDefault:!0}):tl(C)},hide:function(){!m&&(_||u)&&(e.noneColor&&(_=""),h.backgroundColor=_,f.spectrum("set",_),w(_,!1))}})),r&&r.on&&this.listenTo(r,"component:selected",function(){e.movedColor&&w(e.movedColor),m=!0,e.movedColor="",f.spectrum("hide")}),this.colorEl=f}return this.colorEl},n.prototype.render=function(){return zl.prototype.render.call(this),this.getColorEl(),this},n}(zl),Dm=oO,iO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aO=function(i){iO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.getInputEl=function(){if(!this.input){var e=this.model,t=this.getModelValue(),r=new Dm({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=r.render();o.setValue(t,{fromTarget:1}),this.input=o.el}return this.input},n}(vo),sO=aO,lO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mm=function(i){lO(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;return(0,A.bindAll)(t,"moveIncrement","upIncrement"),t.doc=document,t.listenTo(t.model,"change:unit",t.handleModelChange),t}return n.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},n.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},n.prototype.setValue=function(e,t){var r=t||{},o=this.validateInputValue(e,{deepCheck:1}),s={value:o.value,unit:""};(o.unit||o.force)&&(s.unit=o.unit),this.model.set(s,r),r.silent&&this.handleModelChange()},n.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},n.prototype.handleUnitChange=function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()},n.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")},n.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,t=e.get("units")||[];if(t.length){var r=['<option value="" disabled hidden>-</option>'];t.forEach(function(s){var c=s==e.get("unit")?"selected":"";r.push("<option ".concat(c,">").concat(s,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(r.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},n.prototype.upArrowClick=function(){var e=this.model,t=e.get("step"),r=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(r+t)),this.elementUpdated()},n.prototype.downArrowClick=function(){var e=this.model,t=e.get("step"),r=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(r-t)),this.elementUpdated()},n.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var t=this.model.get("value")||0;t=this.normalizeValue(t),this.current={y:e.pageY,val:t},(0,ze.on)(this.doc,"mousemove",this.moveIncrement),(0,ze.on)(this.doc,"mouseup",this.upIncrement)},n.prototype.moveIncrement=function(e){this.moved=!0;var t=this.model,r=t.get("step"),o=this.current,s=this.normalizeValue(o.val+(o.y-e.pageY)*r),c=this.validateInputValue(s),u=c.value,f=c.unit;return this.prValue=u,t.set({value:u,unit:f},{avoidStore:1}),!1},n.prototype.upIncrement=function(){var e=this.model,t=e.get("step");if((0,ze.AU)(this.doc,"mouseup",this.upIncrement),(0,ze.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var r=this.prValue-t;e.set("value",r,{avoidStore:1}).set("value",r+t),this.elementUpdated()}},n.prototype.normalizeValue=function(e,t){t===void 0&&(t=0);var r=this.model,o=r.get("step"),s=0;if(isNaN(e))return t;if(e=parseFloat(e),Math.floor(e)!==e){var c=o.toString().split(".")[1];s=c?c.length:0}return s?parseFloat(e.toFixed(s)):e},n.prototype.validateInputValue=function(e,t){t===void 0&&(t={});var r=0,o=t||{},s=this.model,c="",u=(0,A.isUndefined)(e)?c:e,f=t.units||s.get("units")||[],h=s.get("unit")||f.length&&f[0]||"",g=(0,A.isUndefined)(t.max)?s.get("max"):t.max,m=(0,A.isUndefined)(t.min)?s.get("min"):t.min,_=!!s.get("limitlessMax"),w=!!s.get("limitlessMin");if(o.deepCheck){var C=s.get("fixedValues")||[];if(u===""&&(h=""),u){var T=new RegExp("^"+C.join("|"),"g");if(C.length&&T.test(u))u=u.match(T)[0],h="",r=1;else{var B=u+"";u+="",u=parseFloat(u.replace(",",".")),u=isNaN(u)?c:u;var W=B.replace(u,"");(0,A.indexOf)(f,W)>=0&&(h=W)}}}return!_&&!(0,A.isUndefined)(g)&&g!==""&&(u=u>g?g:u),!w&&!(0,A.isUndefined)(m)&&m!==""&&(u=u<m?m:u),{force:r,value:u,unit:h}},n.prototype.render=function(){zl.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},n}(zl),Lm=Mm;Mm.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var cO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uO=function(i){cO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.getValueForTarget=function(){var e=this.model,t=e.attributes,r=t.value,o=t.unit;return!(0,A.isUndefined)(r)&&r!==""?r+o:e.get("default")},n.prototype.getInputEl=function(){if(!this.input){var e=this,t=e.ppfx,r=e.model,o=this.getModelValue(),s=new Lm({contClass:"".concat(t,"field-int"),type:"number",model:r,ppfx:t});s.render(),this.$input=s.inputEl,this.$unit=s.unitEl,r.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=s.el}return this.input},n}(vo),fO=uO,dO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pO=function(i){dO(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;return t.listenTo(t.model,"change:options",t.rerender),t}return n.prototype.templateInput=function(){var e=this,t=e.ppfx,r=e.clsField;return'<div class="'.concat(r,`">
      <div data-input></div>
      <div class="`).concat(t,`sel-arrow">
        <div class="`).concat(t,`d-s-arrow"></div>
      </div>
    </div>`)},n.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.model,r=e.em,o=t.get("name"),s=t.get("options")||[],c=[],u="<select>";s.forEach(function(g){var m="",_,w,C;(0,A.isString)(g)?(_=g,w=g):(_=g.name||g.label||g.value,w="".concat((0,A.isUndefined)(g.value)?g.id:g.value).replace(/"/g,"&quot;"),C=g.style?g.style.replace(/"/g,"&quot;"):"",m+=C?' style="'.concat(C,'"'):"");var T=r.t("traitManager.traits.options.".concat(o,".").concat(w))||_;u+='<option value="'.concat(w,'"').concat(m,">").concat(T,"</option>"),c.push(w)}),u+="</select>",this.$input=(0,Or.default)(u);var f=t.getTargetValue(),h=c.indexOf(f)>=0?f:t.get("default");!(0,A.isUndefined)(h)&&this.$input.val(h)}return this.$input.get(0)},n}(vo),hO=pO,vO=Mt(91),gO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Kv="data-categories",Gv="data-no-categories",Rm=function(i){gO(n,i);function n(e,t){var r=i.call(this,e)||this;r.reuseView=!0,r.renderedCategories=new Map,r.itemsView=t;var o=e.config||{};r.config=o;var s=e.editor;r.em=s;var c=o.pStylePrefix||"";return r.ppfx=c,r.pfx=c+o.stylePrefix||"",r.className="".concat(r.pfx,"traits"),r.traitContClass="".concat(c,"traits-c"),r.classNoCat="".concat(c,"traits-empty-c"),r.catsClass="".concat(c,"trait-categories"),r.collection=new yl([],{em:s}),r.listenTo(s,"component:toggled",r.updatedCollection),r.updatedCollection(),r}return n.prototype.updatedCollection=function(){var e=this,t=e.ppfx,r=e.em,o=r.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(t,"one-bg ").concat(t,"two-color"),this.collection=o?.traits||new yl([],{em:r}),this.render()},n.prototype.add=function(e,t){var r=this,o=r.config,s=r.renderedCategories,c=this.itemView,u=e.get(this.itemType);this.itemsView&&this.itemsView[u]&&(c=this.itemsView[u]);var f=new c({config:o,model:e,attributes:e.get("attributes")}),h=f.render().el,g=e.parent.initCategory(e);if(g){var m=g.getId(),_=this.getCategoriesEl(),w=s.get(m);!w&&_&&(w=new hm({model:g},o,"trait").render(),s.set(m,w),_.appendChild(w.el)),w?.append(h);return}t?t.appendChild(h):this.append(h)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(Kv,"]"))),this.catsEl},n.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(Gv,"]"))),this.traitsEl},n.prototype.append=function(e){var t=this.getTraitsEl();t?.appendChild(e)},n.prototype.render=function(){var e=this,t=this,r=t.el,o=t.ppfx,s=t.catsClass,c=t.traitContClass,u=t.classNoCat,f=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,r.innerHTML=`
      <div class="`.concat(s,'" ').concat(Kv,`></div>
      <div class="`).concat(u," ").concat(c,'" ').concat(Gv,`></div>
    `),this.collection.forEach(function(g){return e.add(g,f)}),this.append(f);var h="".concat(c,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(h),this.rendered=!0,this},n}(vO.A),Yv=Rm;Rm.prototype.itemView=vo;var mO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yO=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},_O=function(i){mO(n,i);function n(e){var t=i.call(this,e,"TraitManager",qS())||this;t.TraitsView=Yv,t.events=pf,t.state=new Ie.Kx({traits:[]}),t.types={text:vo,number:fO,select:hO,checkbox:eO,color:sO,button:JS};var r=t,o=r.state,s=r.config,c=r.events,u=s.pStylePrefix;u&&(s.stylePrefix="".concat(u).concat(s.stylePrefix)),(0,A.bindAll)(t,"__onSelect");var f=(0,A.debounce)(function(){return t.__upSel()},0),h=(0,A.debounce)(function(){return t.__onUp()},0);return o.listenTo(e,"component:toggled",f),o.listenTo(e,c.value,h),o.on("change:traits",t.__onSelect),t.debounced=[f,h],t}return n.prototype.select=function(e){var t=e?.getTraits()||[];this.state.set({component:e,traits:t}),this.__trgCustom()},n.prototype.getCategories=function(){var e,t=this.getComponent(),r=((e=t?.traits.categories)===null||e===void 0?void 0:e.models)||[];return yO([],r,!0)},n.prototype.getTraits=function(){return this.getCurrent()},n.prototype.getTraitsByCategory=function(e){return Qg(e||this.getTraits())},n.prototype.getComponent=function(){return this.state.attributes.component},n.prototype.addType=function(e,t){var r=this.getType("text");this.types[e]=r.extend(t)},n.prototype.getType=function(e){return this.getTypes()[e]},n.prototype.getTypes=function(){return this.types},n.prototype.getTraitsViewer=function(){return this.view},n.prototype.getCurrent=function(){return this.state.get("traits")||[]},n.prototype.render=function(){var e=this.view,t=this.em;return e=new Yv({el:e?.el,collection:[],editor:t,config:this.getConfig()},this.getTypes()),this.view=e,e.el},n.prototype.postRender=function(){this.__appendTo()},n.prototype.__onSelect=function(){var e=this,t=e.em,r=e.events,o=e.state,s=o.attributes,c=s.component,u=s.traits;t.trigger(r.select,{component:c,traits:u})},n.prototype.__trgCustom=function(e){e===void 0&&(e={});var t=this,r=t.em,o=t.events,s=t.__ctn;this.__ctn=s||e.container,r.trigger(o.custom,this.__customData())},n.prototype.__customData=function(){return{container:this.__ctn}},n.prototype.__upSel=function(){this.select(this.em.getSelected())},n.prototype.__onUp=function(){this.select(this.getComponent())},n}(pn),bO=_O,wO=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}},xO=wO,CO=Mt(3253),SO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),OO=function(i){SO(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},e}return Object.defineProperty(n.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var e;return(e=this.model.viewLayer)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),n}(CO.h),kO=OO,TO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),PO=function(i){TO(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.items=[],t.opt=e;var r=e.config||{};t.config=r,t.module=e.module,t.parentView=e.parentView;var o=r.stylePrefix||"",s=r.pStylePrefix||"",c=t.collection;t.listenTo(c,"add",t.addTo),t.listenTo(c,"reset resetNavigator",t.render),t.listenTo(c,"remove",t.removeChildren),t.className="".concat(o,"layers");var u=r.em;if(r.sortable&&!t.opt.sorter){var f=u.Utils,h=r.sortContainer||t.el,g=t.createPlaceholder(o);t.opt.sorter=new f.ComponentSorter({em:u,treeClass:kO,containerContext:{container:h,containerSel:".".concat(t.className),itemSel:".".concat(o,"layer"),pfx:r.pStylePrefix,document,placeholderElement:g},dragBehavior:{dragDirection:mi.A.Vertical,nested:!0}})}return t.$el.data("collection",c),e.parent&&t.$el.data("model",e.parent),t}return n.prototype.createPlaceholder=function(e){var t=document.createElement("div"),r=document.createElement("div");return this.el.parentNode,t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",r.className=e+"placeholder-int",t.appendChild(r),t},n.prototype.removeChildren=function(e){var t=e.viewLayer;t&&(t.remove(),delete e.viewLayer)},n.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},n.prototype.addToCollection=function(e,t,r){var o=this,s=o.parentView,c=o.opt,u=o.config,f=o.el,h=c.ItemView,g=c.opened,m=c.module,_=c.level,w=c.sorter,C=e.viewLayer||new h({ItemView:h,level:_,model:e,parentView:s,config:u,sorter:w,opened:g,module:m}),T=C.render().el;if(t)t.appendChild(T);else{var B=f,W=B.childNodes;if((0,A.isUndefined)(r))B.appendChild(T);else{var N=W.length==r;N&&r--,N||!W.length?B.appendChild(T):B.insertBefore(T,W[r])}}return this.items.push(C),T},n.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ie.Ss.prototype.remove.apply(this,e),this.items.map(function(r){return r.remove()}),this},n.prototype.render=function(){var e=this,t=this,r=t.el,o=t.module,s=document.createDocumentFragment();return r.innerHTML="",this.collection.map(function(c){return o.__getLayerFromComponent(c)}).forEach(function(c){return e.addToCollection(c,s)}),r.appendChild(s),r.className=this.className,this},n}(Ie.Ss),EO=PO,xu=Mt(5301),AO=function(){return{stylePrefix:"com-",defaults:{},strict:!0}},DO=AO,MO=Mt(8351),LO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Kl=function(){return Kl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Kl.apply(this,arguments)},qv=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Xv=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],jm={preserveSelected:1},Bm=function(i){return function(n){return i.trigger("".concat(hf,":start"),n)}},Im=function(i){return function(n){return i.trigger(hf,n)}},Vm=function(i,n,e){return e===void 0&&(e={}),function(t,r,o){setTimeout(function(){n.forEach(function(s){return s.set("status",s.get("selectable")?"selected":"")}),i.setSelected(n),n[0].emitUpdate()}),i.trigger("".concat(hf,":end"),o),setTimeout(function(){return i.runDefault(jm)}),(e.altMode||o.cancelled)&&i.set("_cmpDrag",1)}},RO=function(i){LO(n,i);function n(e){var t=i.call(this,e,"Commands",DO())||this;t.CommandAbstract=xu.default,t.defaultCommands={},t.commands={},t.active={},t.events=MO.A;var r=t.config,o=r.pStylePrefix,s=t.defaultCommands;o&&(r.stylePrefix=o+r.stylePrefix),Object.keys(r.defaults).forEach(function(u){var f=r.defaults[u];f.id&&t.add(f.id,f)}),s["tlb-delete"]={run:function(u){return u.runCommand("core:component-delete")}},s["tlb-clone"]={run:function(u){u.runCommand("core:copy"),u.runCommand("core:paste",{action:"clone-component"})}},s["tlb-move"]={run:function(u,f,h){var g;h===void 0&&(h={});var m,_=u.getModel(),w=h.event,C=h.target,T=Array.isArray(C)?C:C?[C]:qv([],u.getSelectedAll(),!0),B=T.map(function(R){var U,H;return((H=(U=R.delegate)===null||U===void 0?void 0:U.move)===null||H===void 0?void 0:H.call(U,R))||R}).filter(Boolean),W=B[B.length-1],N=w?.type==="dragstart",z=["absolute","translate"];if(!W?.get("draggable"))return _.logWarning("The element is not draggable");var ue=W.get("dmode")||_.get("dmode"),_e=function(){return _.stopDefault(jm)},Se=(0,A.includes)(z,ue);B.forEach(function(R){return R.trigger("disable",{fromMove:!0})}),N?setTimeout(_e,0):_e();var ce=Bm(_),q=Im(_),ae=Vm(_,B,{altMode:Se});if(Se)m=u.runCommand("core:component-drag",{guidesInfo:1,mode:ue,target:W,onStart:ce,onDrag:q,onEnd:ae,event:w});else{N&&w.dataTransfer.setDragImage((g=W.view)===null||g===void 0?void 0:g.el,0,0);var F=u.Commands.get("move-comp");F.onStart=ce,F.onDrag=q,F.onEndMoveFromModel=ae,F.initSorterFromModels(B)}B.filter(function(R){return R.get("selectable")}).forEach(function(R){return R.set("status","freezed-selected")})}},s["core:undo"]=function(u){return u.UndoManager.undo()},s["core:redo"]=function(u){return u.UndoManager.redo()},Xv.forEach(function(u){var f=u[2],h=Mt(585)("./".concat(u[1])).default,g="core:".concat(u[0]);s[g]=h,f&&(s[f]=h,["run","stop"].forEach(function(m){e.on("".concat(m,":").concat(f),function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];return e.trigger.apply(e,qv(["".concat(m,":").concat(g)],_,!1))})}))}),r.model=e.Canvas;for(var c in s)t.add(c,s[c]);return t}return n.prototype.add=function(e,t){var r=(0,A.isFunction)(t)?{run:t}:t;return r.stop||(r.noStop=!0),delete r.initialize,r.id=e,this.commands[e]=xu.default.extend(r),this},n.prototype.get=function(e){var t=this.commands[e];return(0,A.isFunction)(t)?(t=new t(this.config),this.commands[e]=t):t||this.em.logWarning("'".concat(e,"' command not found")),t},n.prototype.extend=function(e,t){t===void 0&&(t={});var r=this.get(e);if(r){var o=Kl(Kl({},r.constructor.prototype),t);this.add(e,o);var s=Xv.filter(function(c){return"core:".concat(c[0])===e&&c[2]})[0];s&&this.add(s[2],o)}return this},n.prototype.has=function(e){return!!this.commands[e]},n.prototype.getAll=function(){return this.commands},n.prototype.run=function(e,t){return t===void 0&&(t={}),this.runCommand(this.get(e),t)},n.prototype.stop=function(e,t){return t===void 0&&(t={}),this.stopCommand(this.get(e),t)},n.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},n.prototype.getActive=function(){return this.active},n.prototype.runCommand=function(e,t){t===void 0&&(t={});var r;if(e&&e.run){var o=this,s=o.em,c=o.config,u=e.id,f=s.Editor;(!this.isActive(u)||t.force||!c.strict)&&(r=f&&e.callRun(f,t),u&&e.stop&&!e.noStop&&!t.abort&&(this.active[u]=r))}return r},n.prototype.stopCommand=function(e,t){t===void 0&&(t={});var r;if(e&&e.run){var o=this,s=o.em,c=o.config,u=e.id,f=s.Editor;(this.isActive(u)||t.force||!c.strict)&&(u&&delete this.active[u],r=e.callStop(f,t))}return r},n.prototype.create=function(e){e.stop||(e.noStop=!0);var t=xu.default.extend(e);return new t(this.config)},n.prototype.__onRun=function(e,t){var r=this,o=r.em,s=r.events;o.on("".concat(s.runCommand).concat(e),t)},n.prototype.__onStop=function(e,t){var r=this,o=r.em,s=r.events;o.on("".concat(s.stopCommand).concat(e),t)},n.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},n}(pn),jO=RO,BO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$u=function(){return $u=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},$u.apply(this,arguments)},$v="contentEditable",rl="data-toggle-move",IO=function(i){BO(n,i);function n(e){var t=i.call(this,e)||this;(0,A.bindAll)(t,"__render"),t.opt=e,t.module=e.module,t.config=e.config||{},t.sorter=e.sorter||"",t.parentView=e.parentView;var r=t,o=r.model,s=r.pfx,c=r.ppfx,u=o.get("type")||"default";return t.className="".concat(s,"layer ").concat(s,"layer__t-").concat(u," no-select ").concat(c,"two-color"),t.inputNameCls="".concat(c,"layer-name"),t.clsTitleC="".concat(s,"layer-title-c"),t.clsTitle="".concat(s,"layer-title"),t.clsCaret="".concat(s,"layer-caret"),t.clsCount="".concat(s,"layer-count"),t.clsMove="".concat(s,"layer-move"),t.clsChildren="".concat(s,"layer-children"),t.clsNoChild="".concat(s,"layer-no-chld"),t.clsEdit="".concat(t.inputNameCls,"--edit"),t.clsNoEdit="".concat(t.inputNameCls,"--no-edit"),t.initComponent(),t}return n.prototype.events=function(){var e;return e={},e["mousedown [".concat(rl,"]")]="startSort",e["touchstart [".concat(rl,"]")]="startSort",e["click [data-toggle-visible]"]="toggleVisibility",e["click [data-toggle-open]"]="toggleOpening",e["click [data-toggle-select]"]="handleSelect",e["mouseover [data-toggle-select]"]="handleHover",e["mouseout [data-toggle-select]"]="handleHoverOut",e["dblclick [data-name]"]="handleEdit",e["keydown [data-name]"]="handleEditKey",e["focusout [data-name]"]="handleEditEnd",e},n.prototype.template=function(e){var t=this,r=t.pfx,o=t.ppfx,s=t.config,c=t.clsNoEdit,u=t.module,f=t.opt,h=t.em,g=s.hidable,m=u.getComponents(e).length,_=m?"":this.clsNoChild,w="".concat(this.clsTitle," ").concat(_),C="".concat(this.clsTitleC),T="".concat(this.inputNameCls," ").concat(c," ").concat(o,"no-app"),B=f.level||0,W="".concat(B*10,"px"),N=e.getName(),z=e.getIcon(),ue="".concat(r,"layer"),_e=(h?.getConfig()).icons,Se=_e,ce=Se.move,q=Se.eye,ae=Se.eyeOff,F=Se.chevron;return`
      <div class="`.concat(r,"layer-item ").concat(o,`one-bg" data-toggle-select>
        <div class="`).concat(r,`layer-item-left">
          `).concat(g?'<i class="'.concat(r,`layer-vis" data-toggle-visible>
                <i class="`).concat(r,'layer-vis-on">').concat(q,`</i>
                <i class="`).concat(r,'layer-vis-off">').concat(ae,`</i>
              </i>`):"",`
          <div class="`).concat(C,`">
            <div class="`).concat(w,'" style="padding-left: ').concat(W,`">
              <div class="`).concat(r,'layer-title-inn" title="').concat(N,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(F,`</i>
                  `).concat(z?'<span class="'.concat(ue,'__icon">').concat(z,"</span>"):"",`
                <span class="`).concat(T,'" data-name>').concat(N,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(r,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(m||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(rl,">").concat(ce||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),n.prototype.initComponent=function(){var e=this,t=this,r=t.model,o=t.config,s=o.onInit,c=r.components();this.listenTo(c,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(u){return e.listenTo(r,u[0],u[1])}),this.$el.data("model",r),this.$el.data("collection",c),r.viewLayer=this,s.bind(this)({component:r,render:this.__render,listenTo:this.listenTo})},n.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},n.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},n.prototype.updateVisibility=function(){var e=this,t=e.pfx,r=e.model,o=e.module,s="".concat(t,"layer-hidden"),c=!o.isVisible(r),u=c?"addClass":"removeClass";this.$el[u](s),this.getVisibilityEl()[u]("".concat(t,"layer-off"))},n.prototype.updateMove=function(){var e=this,t=e.model,r=e.config,o=this.getItemContainer().find("[".concat(rl,"]"))[0];if(o){var s=t.get("draggable")&&r.sortable;o.style.display=s?"":"none"}},n.prototype.toggleVisibility=function(e){e?.stopImmediatePropagation();var t=this,r=t.module,o=t.model;r.setVisible(o,!r.isVisible(o))},n.prototype.handleEdit=function(e){e?.stopPropagation();var t=this,r=t.em,o=t.$el,s=t.clsNoEdit,c=t.clsEdit,u=this.getInputName();u[$v]="true",u.focus(),document.execCommand("selectAll",!1),r.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(s).addClass(c)},n.prototype.handleEditKey=function(e){e.stopPropagation(),((0,ze.v$)(e)||(0,ze.Ci)(e))&&this.handleEditEnd(e)},n.prototype.handleEditEnd=function(e){e?.stopPropagation();var t=this,r=t.em,o=t.$el,s=t.clsNoEdit,c=t.clsEdit,u=t.model,f=this.getInputName(),h=f.textContent;f.scrollLeft=0,f[$v]="false",u.setName(h),r.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(s).removeClass(c),this.updateName()},n.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},n.prototype.updateOpening=function(){var e=this,t=e.$el,r=e.model,o=e.pfx,s="open",c="".concat(o,"layer-open"),u=this.getCaret();this.module.isOpen(r)?(t.addClass(s),u.addClass(c)):(t.removeClass(s),u.removeClass(c))},n.prototype.toggleOpening=function(e){var t=this,r=t.model,o=t.module;e?.stopImmediatePropagation(),r.get("components").length&&o.setOpen(r,!o.isOpen(r))},n.prototype.handleSelect=function(e){e?.stopPropagation();var t=this,r=t.module,o=t.model;r.setLayerData(o,{selected:!0},{event:e})},n.prototype.handleHover=function(e){e?.stopPropagation();var t=this,r=t.module,o=t.model;r.setLayerData(o,{hovered:!0})},n.prototype.handleHoverOut=function(e){e?.stopPropagation();var t=this,r=t.module,o=t.model;r.setLayerData(o,{hovered:!1})},n.prototype.startSort=function(e){var t,r,o;e.stopPropagation();var s=this,c=s.em,u=s.sorter,f=s.model;if(!(e.button&&e.button!==0)&&u){var h=((r=(t=f.delegate)===null||t===void 0?void 0:t.move)===null||r===void 0?void 0:r.call(t,f))||f;u.eventHandlers=$u({legacyOnStartSort:Bm(c),legacyOnMoveClb:Im(c),legacyOnEndMove:Vm(c,[h])},u.eventHandlers);var g=((o=h.viewLayer)===null||o===void 0?void 0:o.el)||e.target;u.startSort([{element:g}])}},n.prototype.updateStatus=function(){or.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},n.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},n.prototype.checkChildren=function(){var e=this,t=e.model,r=e.clsNoChild,o=e.module,s=o.getComponents(t).length,c=this.getItemContainer(),u=c.find(".".concat(this.clsTitle)),f=c.find("[data-count]");u[s?"removeClass":"addClass"](r),f.html("".concat(s||"")),!s&&o.setOpen(t,!1)},n.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},n.prototype.setRoot=function(e){var t,r=(0,A.isString)(e)?(t=this.em.getWrapper())===null||t===void 0?void 0:t.find(e)[0]:e;r&&(this.stopListening(),this.model=r,this.initComponent(),this._rendered&&this.render())},n.prototype.updateLayerable=function(){var e=this.parentView,t=e||this;t.render()},n.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},n.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ie.Ss.prototype.remove.apply(this,e),delete this.model.viewLayer,this.__clearItems(),this},n.prototype.render=function(){var e=this,t=e.model,r=e.config,o=e.pfx,s=e.ppfx,c=e.opt,u=e.sorter;this.__clearItems();var f=c.opened,h=c.module,g=c.ItemView,m=!h.__isLayerable(t),_=this.$el.empty(),w=c.level+1;delete this.inputName,this.items=new EO({ItemView:g,collection:t.get("components"),config:r,sorter:u,opened:f,parentView:this,parent:t,level:w,module:h});var C=this.items.render().$el;return!r.showWrapper&&w===1?_.append(C):(_.html(this.template(t)),_.find(".".concat(this.clsChildren)).append(C)),!h.isVisible(t)&&(this.className+=" ".concat(o,"hide")),m&&(this.className+=" ".concat(s,"hidden")),_.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},n.prototype.__render=function(){var e=this,t=e.model,r=e.config,o=e.el,s=r.onRender,c={component:t,el:o};s.bind(this)(c),this.em.trigger("layer:render",c)},n}(Ie.Ss),VO=IO,NO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ju=function(){return Ju=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ju.apply(this,arguments)},Nm="layer",bf="".concat(Nm,":"),Fm="".concat(bf,"root"),Hm="".concat(bf,"component"),FO="".concat(bf,"custom"),HO={all:Nm,root:Fm,component:Hm,custom:FO},Cu={mediaText:""},UO=["open","status","locked","custom-name","components","classes"].map(function(i){return"".concat(er.I.update,":").concat(i)}).join(" "),WO=function(i){return i===void 0&&(i={}),(i.display||"").trim().indexOf("none")===0},zO=function(i){NO(n,i);function n(e){var t=i.call(this,e,"LayerManager",xO())||this;return t.events=HO,(0,A.bindAll)(t,"componentChanged","__onRootChange","__onComponent"),t.model=new Wo.A(t,{opened:{}}),t.config.stylePrefix=t.config.pStylePrefix,t}return n.prototype.onLoad=function(){var e=this,t=this,r=t.em,o=t.config,s=t.model;s.listenTo(r,"component:selected",this.componentChanged),s.on("change:root",this.__onRootChange),s.listenTo(r,UO,this.__onComponent),this.componentChanged(),s.listenToOnce(r,"load",function(){e.setRoot(o.root),e.__appendTo()})},n.prototype.setRoot=function(e){var t=this.em.getWrapper(),r=(0,Pe.isComponent)(e)?e:t;e&&(0,A.isString)(e)&&(0,Pe.hasWin)()&&(r=t.find(e)[0]||t);var o=this.__getLayerFromComponent(r);return this.model.set("root",o),o},n.prototype.getRoot=function(){return this.model.get("root")},n.prototype.getComponents=function(e){var t=this;return e.components().map(function(r){return t.__getLayerFromComponent(r)}).filter(function(r){return t.__isLayerable(r)})},n.prototype.setOpen=function(e,t){e.set("open",t)},n.prototype.isOpen=function(e){return!!e.get("open")},n.prototype.setVisible=function(e,t){var r="__prev-display",o=e.getStyle(Cu),s=o.display;if(t){var c=e.get(r);delete o.display,c&&(o.display=c,e.unset(r))}else s&&e.set(r,s),o.display="none";e.setStyle(o,Cu),this.updateLayer(e),this.em.trigger("component:toggled")},n.prototype.isVisible=function(e){return!WO(e.getStyle(Cu))},n.prototype.setLocked=function(e,t){e.set("locked",t)},n.prototype.isLocked=function(e){return!!e.get("locked")},n.prototype.setName=function(e,t){e.set("custom-name",t)},n.prototype.getName=function(e){return e.getName()},n.prototype.getLayerData=function(e){var t=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:t==="selected",hovered:t==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},n.prototype.setLayerData=function(e,t,r){var o;r===void 0&&(r={});var s=this,c=s.em,u=s.config,f=t.open,h=t.selected,g=t.hovered,m=t.visible,_=t.locked,w=t.name,C=Ju({fromLayers:!0},r);if((0,Pe.isDef)(f)&&this.setOpen(e,f),(0,Pe.isDef)(h))if(h){c.setSelected(e,C);var T=u.scrollCanvas;T&&((o=e.views)===null||o===void 0||o.forEach(function(B){return B.scrollIntoView(T)}))}else c.removeSelected(e,C);(0,Pe.isDef)(g)&&u.showHover&&(g?c.setHovered(e,C):c.setHovered(null,C)),(0,Pe.isDef)(m)&&m!==this.isVisible(e)&&this.setVisible(e,m),(0,Pe.isDef)(_)&&this.setLocked(e,_),(0,Pe.isDef)(w)&&this.setName(e,w)},n.prototype.componentChanged=function(e,t){var r;if(t===void 0&&(t={}),!t.fromLayers){var o=this,s=o.em,c=o.config,u=c.scrollLayers,f=this.model.get("opened"),h=s.getSelected(),g=h?.parent();for(var m in f)f[m].set("open",!1),delete f[m];for(;g;)g.set("open",!0),f[g.cid]=g,g=g.parent();if(h&&u){var _=(r=h.viewLayer)===null||r===void 0?void 0:r.el;_?.scrollIntoView(u)}}},n.prototype.getAll=function(){return this.view},n.prototype.render=function(){var e,t,r=this,o=r.config,s=r.model,c=VO.extend(o.extend);return this.view=new c({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:c,level:0,config:o,opened:s.get("opened"),model:this.getRoot(),module:this}),(t=this.view)===null||t===void 0?void 0:t.render().el},n.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},n.prototype.__onRootChange=function(){var e,t=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(t),this.em.trigger(Fm,t),this.__trgCustom()},n.prototype.__getLayerFromComponent=function(e){var t,r;return((r=(t=e.delegate)===null||t===void 0?void 0:t.layer)===null||r===void 0?void 0:r.call(t,e))||e},n.prototype.__onComponent=function(e){this.updateLayer(e)},n.prototype.__isLayerable=function(e){var t=e.tagName,r=this.config.hideTextnode,o=!r||!e.isInstanceOf("textnode")&&t!=="br";return o&&e.get("layerable")},n.prototype.__trgCustom=function(e){var t=this,r=t.__ctn,o=t.em,s=t.events;this.__ctn=r||e?.container,o.trigger(s.custom,{container:this.__ctn,root:this.getRoot()})},n.prototype.updateLayer=function(e,t){this.em.trigger(Hm,e,t)},n}(pn),KO=zO,GO=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}},YO=GO,qO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Um=function(i){qO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.getDefaults=function(){return(0,A.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{type:"",src:""}},n.prototype.getType=function(){return this.get("type")},n.prototype.getSrc=function(){return this.get("src")},n.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},n.prototype.getExtension=function(){return this.getFilename().split(".").pop()},n}(Ie.Kx),Zu=Um;Um.prototype.idAttribute="src";var XO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gl=function(){return Gl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Gl.apply(this,arguments)},$O=function(i){XO(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return Gl(Gl({},Zu.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},n}(Zu),JO=$O,ZO=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),QO=function(i){ZO(n,i);function n(e){var t=i.call(this,e)||this;t.options=e,t.collection=e.collection;var r=e.config||{};t.config=r,t.pfx=r.stylePrefix||"",t.ppfx=r.pStylePrefix||"",t.em=r.em,t.className=t.pfx+"asset",t.listenTo(t.model,"destroy remove",t.remove),t.model.view=t;var o=t.init&&t.init.bind(t);return o&&o(e),t}return n.prototype.__getBhv=function(){var e=this.em,t=e?.Assets;return t?.__getBehaviour()||{}},n.prototype.template=function(e,t){var r=this.pfx;return`
      <div class="`.concat(r,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(r,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(r,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},n.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,A.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},n.prototype.getPreview=function(){return""},n.prototype.getInfo=function(){return""},n.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},n}(Ie.Ss),ek=QO,tk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Jv=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},Wm=function(i){tk(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.getPreview=function(){var e=this,t=e.pfx,r=e.ppfx,o=e.model,s=o.get("src");return fn(Zv||(Zv=Jv([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),t,s,t,r)},n.prototype.getInfo=function(){var e=this,t=e.pfx,r=e.model,o=r.get("name"),s=r.get("width"),c=r.get("height"),u=r.get("unitDim"),f=s&&c?"".concat(s,"x").concat(c).concat(u):"";return o=o||r.getFilename(),fn(Qv||(Qv=Jv([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),t,o,t,f)},n.prototype.init=function(e){var t=this.pfx;this.className+=" ".concat(t,"asset-image")},n.prototype.onClick=function(){var e=this,t=e.model,r=e.pfx,o=this.__getBhv().select,s=this.config.onClick,c=this.collection;c.trigger("deselectAll"),this.$el.addClass(r+"highlight"),(0,A.isFunction)(o)?o(t,!1):(0,A.isFunction)(s)?s(t):this.updateTarget(c.target)},n.prototype.onDblClick=function(){var e=this,t=e.em,r=e.model,o=this.__getBhv().select,s=this.config.onDblClick,c=this.collection,u=c.target,f=c.onSelect;(0,A.isFunction)(o)?o(r,!0):(0,A.isFunction)(s)?s(r):(this.updateTarget(u),t?.Modal.close()),(0,A.isFunction)(f)&&f(r)},n.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},n}(ek),rk=Wm;Wm.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Zv,Qv,Yl=function(){return Yl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Yl.apply(this,arguments)},nk={types:[],initialize:function(i,n){var e=this;n===void 0&&(n={});var t=n.em;this.em=t,this.opts=n,this.model=function(o,s){o===void 0&&(o={}),s===void 0&&(s={});var c,u,f;if(o&&o.type){var h=e.getBaseType();f=e.getType(o.type),c=f?f.model:h.model,u=f?f.view:h.view}else{var g=e.recognizeType(o);f=g.type,c=f.model,u=f.view,o=g.attributes}var m=new c(o,Yl(Yl({},s),{em:t}));return m.typeView=u,e.model.prototype=c.prototype,m};var r=this.init&&this.init.bind(this);r&&r()},recognizeType:function(i){for(var n=this.getTypes(),e=0;e<n.length;e++){var t=n[e],r=t.isType(i);if(r=typeof r=="boolean"&&r?{type:t.id}:r,r)return{type:t,attributes:r}}return{type:this.getBaseType(),attributes:i}},getBaseType:function(){var i=this.getTypes();return i[i.length-1]},getTypes:function(){return this.types},getType:function(i){for(var n=this.getTypes(),e=0;e<n.length;e++){var t=n[e];if(t.id===i)return t}},addType:function(i,n){var e=this.getType(i),t=this.getBaseType(),r=e?e.model:t.model,o=e?e.view:t.view,s=n.model,c=n.view,u=n.isType;s=s instanceof Ie.Kx||(0,A.isFunction)(s)?s:r.extend(s||{}),c=c instanceof Ie.Ss||(0,A.isFunction)(c)?c:o.extend(c||{}),this.extendViewApi&&!n.model&&!n.view&&(c=c.extend(n)),e?(e.model=s,e.view=c,e.isType=u||e.isType):(n.id=i,n.model=s,n.view=c,n.isType=u||function(f){if(f&&f.type==i)return!0},this.getTypes().unshift(n))}},zm=nk,ok=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ik=Ie.pM.extend(zm),Km=function(i){ok(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(ik),Su=Km;Km.prototype.types=[{id:"image",model:JO,view:rk,isType:function(i){return typeof i=="string"?{type:"image",src:i}:i}}];var Gm=function(i){return i.add="asset:add",i.remove="asset:remove",i.removeBefore="asset:remove:before",i.update="asset:update",i.open="asset:open",i.close="asset:close",i.uploadStart="asset:upload:start",i.uploadEnd="asset:upload:end",i.uploadError="asset:upload:error",i.uploadResponse="asset:upload:response",i.custom="asset:custom",i.all="asset",i}(Gm||{}),eg=Gm,ak=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ym=function(i){ak(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.options=e,t.config=e.config,t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.em=t.config.em;var r=t.collection;return t.listenTo(r,"reset",t.renderAssets),t.listenTo(r,"add",t.addToAsset),t.listenTo(r,"remove",t.removedAsset),t.listenTo(r,"deselectAll",t.deselectAll),t}return n.prototype.template=function(e){var t=e.pfx,r=e.ppfx,o=e.em,s="";return this.config.showUrlInput&&(s=`
          <form class="`.concat(t,`add-asset">
            <div class="`).concat(r,"field ").concat(t,`add-field">
              <input placeholder="`).concat(o?.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(r,'btn-prim">').concat(o?.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(t,`assets-cont">
      <div class="`).concat(t,`assets-header">
        `).concat(s,`
      </div>
      <div class="`).concat(t,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},n.prototype.handleSubmit=function(e){e.preventDefault();var t=this.getAddInput(),r=t&&t.value.trim(),o=this.config.handleAdd;if(r){t.value="";var s=this.getAssetsEl();s&&(s.scrollTop=0),o?o.bind(this)(r):this.options.globalCollection.add(r,{at:0})}},n.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},n.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},n.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},n.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},n.prototype.addAsset=function(e,t){t===void 0&&(t=null);var r=t,o=this.collection,s=this.config,c=new e.typeView({model:e,collection:o,config:s}).render().el;if(r)r.appendChild(c);else{var u=this.getAssetsEl();u&&u.insertBefore(c,u.firstChild)}return c},n.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var t=this.$el.find(".".concat(this.pfx,"assets"));if(e)t.empty();else{var r=this.config.noAssets;r&&t.append(r)}},n.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},n.prototype.renderAssets=function(){var e=this,t=document.createDocumentFragment(),r=this.$el.find(".".concat(this.pfx,"assets"));r.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return e.addAsset(o,t)}),r.append(t)},n.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},n}(Ie.Ss),sk=Ym;Ym.prototype.events={submit:"handleSubmit"};var lk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ck=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},uk=function(i){lk(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;t.options=e;var r=e.config||{};t.module=e.module,t.config=r,t.em=t.config.em,t.pfx=r.stylePrefix||"",t.ppfx=r.pStylePrefix||"",t.target=t.options.globalCollection||{},t.uploadId=t.pfx+"uploadFile",t.disabled=r.disableUpload!==void 0?r.disableUpload:!r.upload&&!r.embedAsBase64,t.multiUpload=r.multiUpload!==void 0?r.multiUpload:!0;var o=r.uploadFile;return o?t.uploadFile=o.bind(t):!r.upload&&r.embedAsBase64&&(t.uploadFile=n.embedAsBase64),t.delegateEvents(),t}return n.prototype.template=function(e){var t=e.pfx,r=e.title,o=e.uploadId,s=e.disabled,c=e.multiUpload;return fn(tg||(tg=ck([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),t,r,o,s?"disabled":"",c?"multiple":"")},n.prototype.events=function(){return{"change [data-input]":"uploadFile"}},n.prototype.onUploadStart=function(){var e=this.module;e?.__propEv(e.events.uploadStart)},n.prototype.onUploadEnd=function(e){var t=this,r=t.$el,o=t.module;o?.__propEv(o.events.uploadEnd,e);var s=r.find("input");s&&s.val("")},n.prototype.onUploadError=function(e){var t=this.module;console.error(e),this.onUploadEnd(e),t?.__propEv(t.events.uploadError,e)},n.prototype.onUploadResponse=function(e,t){var r=this,o=r.module,s=r.config,c=r.target,u;try{u=typeof e=="string"?JSON.parse(e):e}catch{u=e}o?.__propEv(o.events.uploadResponse,u),s.autoAdd&&c&&c.add(u.data,{at:0}),this.onUploadEnd(e),t?.(u)},n.prototype.uploadFile=function(e,t){var r=this,o=e.dataTransfer?e.dataTransfer.files:e.target.files,s=this.config,c=s.beforeUpload,u=c&&c(o);if(u!==!1){var f=new FormData,h=s.params,g=s.customFetch,m=s.fetchOptions;for(var _ in h)f.append(_,h[_]);if(this.multiUpload)for(var w=0;w<o.length;w++)f.append("".concat(s.uploadName).concat(s.multiUploadSuffix),o[w]);else o.length&&f.append(s.uploadName,o[0]);var C=s.upload,T=s.headers,B="X-Requested-With";if(typeof T[B]>"u"&&(T[B]="XMLHttpRequest"),C){this.onUploadStart();var W={method:"post",credentials:s.credentials||"include",headers:T,body:f},N=m?.(W)||W,z=g?g(C,N):km(C,N).then(function(ue){return(ue.status/200|0)==1?ue.text():ue.text().then(function(_e){return Promise.reject(_e)})});return z.then(function(ue){return r.onUploadResponse(ue,t)}).catch(function(ue){return r.onUploadError(ue)})}}},n.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var t=this.uploadForm;"draggable"in t&&(this.uploadForm.ondragover=function(){return t.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return t.className="",!1},this.uploadForm.ondrop=function(r){t.className="",r.preventDefault(),e.uploadFile(r)})}},n.prototype.initDropzone=function(e){var t=this,r=0,o=this.config,s=e.model,c=e.el,u=s.Editor,f=s.Canvas.getBody(),h=this.ppfx,g="".concat(h,"dropzone-active"),m="".concat(h,"dropzone"),_=function(){c.className=c.className.replace(g,"").trim(),r=0},w=function(){return r||(c.className+=" ".concat(g),r=1),!1},C=function(){return _(),!1},T=function(B){if(_(),B.preventDefault(),B.stopPropagation(),t.uploadFile(B),o.openAssetsOnDrop&&u){var W=u.getSelected();u.runCommand("open-assets",{target:W,onSelect:function(){u.Modal.close(),u.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(m,'">').concat(o.dropzoneContent,"</div>")),_(),"draggable"in c&&[c,f].forEach(function(B){B.ondragover=w,B.ondragleave=C,B.ondrop=T})},n.prototype.render=function(){var e=this,t=e.$el,r=e.pfx,o=e.em;return t.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:r})),this.initDrop(),t.attr("class",r+"file-uploader"),this},n.embedAsBase64=function(e,t){var r=this,o=e.dataTransfer?e.dataTransfer.files:e.target.files,s={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var c=[],u=/^(.+)\/(.+)$/,f=function(_){var w=new Promise(function(C,T){var B=new FileReader;B.addEventListener("load",function(W){var N,z=_.name,ue=u.exec(_.type);if(ue?N=ue[1]:N=_.type,N==="image"){var _e={src:B.result,name:z,type:N,height:0,width:0},Se=new Image;Se.addEventListener("error",function(ce){T(ce)}),Se.addEventListener("load",function(){_e.height=Se.height,_e.width=Se.width,C(_e)}),Se.src=_e.src}else C(N?{src:B.result,name:z,type:N}:B.result)}),B.addEventListener("error",function(W){T(W)}),B.addEventListener("abort",function(W){T("Aborted")}),B.readAsDataURL(_)});c.push(w)},h=0,g=o;h<g.length;h++){var m=g[h];f(m)}return Promise.all(c).then(function(_){s.data=_,r.onUploadResponse(s,t)},function(_){r.onUploadError(_)})},n}(Ie.Ss),fk=uk,tg,dk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Zi=function(){return Zi=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Zi.apply(this,arguments)},rg=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Ua="open-assets",pk=function(i){dk(n,i);function n(e){var t=i.call(this,e,"AssetManager",new Su([],e),eg,YO())||this;t.storageKey="assets",t.Asset=Zu,t.Assets=Su,t.events=eg;var r=t,o=r.all,s=r.config;t.assetsVis=new Su([]);var c=s.pStylePrefix;return c&&(s.stylePrefix="".concat(c).concat(s.stylePrefix)),o.on("add",function(u){return t.getAllVisible().add(u)}),o.on("remove",function(u){return t.getAllVisible().remove(u)}),t.__onAllEvent=(0,A.debounce)(function(){return t.__trgCustom()},0),t}return n.prototype.open=function(e){e===void 0&&(e={});var t=this.em.Commands;t.run(Ua,Zi({types:["image"],select:function(){}},e))},n.prototype.close=function(){var e=this.em.Commands;e.stop(Ua)},n.prototype.isOpen=function(){var e=this.em.Commands;return!!e?.isActive(Ua)},n.prototype.add=function(e,t){return t===void 0&&(t={}),typeof t.at>"u"&&(t.at=0),this.all.add(e,t)},n.prototype.get=function(e){return this.all.where({src:e})[0]||null},n.prototype.getAll=function(){return this.all},n.prototype.getAllVisible=function(){return this.assetsVis},n.prototype.remove=function(e,t){return this.__remove(e,t)},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(e){return this.loadProjectData(e)},n.prototype.getContainer=function(){var e,t=this.__getBehaviour();return t.container||((e=this.am)===null||e===void 0?void 0:e.el)},n.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},n.prototype.render=function(e){if(!this.getConfig().custom){var t=e||this.getAll().models;if(!this.am){var r=this.__viewParams();r.fu=this.FileUploader(),this.am=new sk(Zi({},r)),this.am.render()}return this.assetsVis.reset(t),this.getContainer()}},n.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},n.prototype.addType=function(e,t){this.getAll().addType(e,t)},n.prototype.getType=function(e){return this.getAll().getType(e)},n.prototype.getTypes=function(){return this.getAll().getTypes()},n.prototype.AssetsView=function(){return this.am},n.prototype.FileUploader=function(){return this.fu||(this.fu=new fk(this.__viewParams())),this.fu},n.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var t=this,r=t.em,o=t.events;r.Commands.__onRun(Ua,function(){return e.__propEv(o.open)}),r.Commands.__onStop(Ua,function(){return e.__propEv(o.close)})},n.prototype.postRender=function(e){var t;this.config.dropzone&&((t=this.fu)===null||t===void 0||t.initDropzone(e))},n.prototype.setTarget=function(e){this.assetsVis.target=e},n.prototype.onSelect=function(e){this.assetsVis.onSelect=e},n.prototype.onClick=function(e){this.config.onClick=e},n.prototype.onDblClick=function(e){this.config.onDblClick=e},n.prototype.__propEv=function(e){for(var t,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];(t=this.em).trigger.apply(t,rg([e],o,!1)),(r=this.getAll()).trigger.apply(r,rg([e],o,!1))},n.prototype.__trgCustom=function(){var e=this.__getBehaviour(),t=this.getConfig().custom;!e.container&&!t.open||this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:t.types||[],container:t.container,close:function(){return e.close()},remove:function(r,o){return e.remove(r,o)},select:function(r,o){var s=e.add(r);(0,A.isFunction)(t.select)&&t.select(s,o)},options:t.options||{}}},n.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=Zi(Zi({},this._bhv||{}),e)},n.prototype.__getBehaviour=function(e){return e===void 0&&(e={}),this._bhv||{}},n.prototype.destroy=function(){var e,t;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(t=this.am)===null||t===void 0||t.remove(),this._bhv={}},n}(go),hk=pk,vk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gk=function(i){vk(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e,t)||this,o=t.em,s={};r.em=o,e.frames||(s.component=e.component,s.styles=e.styles,["component","styles"].map(function(f){return r.unset(f)}));var c=e.frames||[s],u=new Vg(o.Canvas,c);return u.page=r,r.set("frames",u),!r.getId()&&r.set("id",o?.Pages._createId()),o?.UndoManager.add(u),r}return n.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},n.prototype.onRemove=function(){this.getFrames().reset()},n.prototype.getFrames=function(){return this.get("frames")},n.prototype.getId=function(){return this.id},n.prototype.getName=function(){return this.get("name")},n.prototype.setName=function(e){return this.set({name:e})},n.prototype.getAllFrames=function(){return this.getFrames().models||[]},n.prototype.getMainFrame=function(){return this.getFrames().at(0)},n.prototype.getMainComponent=function(){var e=this.getMainFrame();return e?.getComponent()},n.prototype.toJSON=function(e){e===void 0&&(e={});var t=Ie.Kx.prototype.toJSON.call(this,e),r=(0,A.result)(this,"defaults");return(0,A.forEach)(t,function(o,s){s.indexOf("_")===0&&delete t[s]}),(0,A.forEach)(r,function(o,s){t[s]===o&&delete t[s]}),t},n}(Ie.Kx),Qu=gk,mk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ql=function(){return ql=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ql.apply(this,arguments)},yk=function(i){mk(n,i);function n(e,t){var r=i.call(this,e)||this;return r.on("reset",r.onReset),r.on("remove",r.onRemove),r.model=function(o,s){return s===void 0&&(s={}),new Qu(o,ql(ql({},s),{em:t}))},r}return n.prototype.onReset=function(e,t){var r=this,o;(o=t?.previousModels)===null||o===void 0||o.map(function(s){return r.onRemove(s,r,t)})},n.prototype.onRemove=function(e,t,r){r===void 0&&(r={}),!r.fromUndo&&e?.onRemove()},n}(Ie.pM),_k=yk,bk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wk=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},ng="change:selected",og="main",xk=function(i){bk(n,i);function n(e){var t=i.call(this,e,"PageManager",new _k([],e),Vu)||this;t.events=Vu,t.storageKey="pages",(0,A.bindAll)(t,"_onPageChange");var r=new Wo.A(t,{_undo:!0});return t.model=r,t.pages.on("reset",function(o){return o.at(0)&&t.select(o.at(0))}),t.pages.on("all",t.__onChange,t),r.on(ng,t._onPageChange),t}return Object.defineProperty(n.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),n.prototype.getAll=function(){return wk([],this.all.models,!0)},n.prototype.__onChange=function(e,t,r,o){var s=this,c=s.em,u=s.events,f=o||r;c.trigger(u.all,{event:e,page:t,options:f})},n.prototype.onLoad=function(){var e,t=this,r=t.pages,o=t.config,s=t.em,c={silent:!0},u=((e=o.pages)===null||e===void 0?void 0:e.map(function(h){return new Qu(h,{em:s,config:o})}))||[];r.add(u,c);var f=r.length?this._initPage():this.add({type:og},c);f&&this.select(f,c)},n.prototype._onPageChange=function(e,t,r){var o=this,s=o.em,c=o.events,u=s.Layers,f=t.getMainComponent();u&&f&&u.setRoot(f),s.trigger(c.select,t,e.previous("selected")),this.__onChange(ng,t,r)},n.prototype.postLoad=function(){var e=this,t=e.em,r=e.model,o=e.pages,s=t.UndoManager;s.add(r),s.add(o),o.on("add remove reset change",function(c,u,f){return t.changesUp(f||u)})},n.prototype.add=function(e,t){var r=this;t===void 0&&(t={});var o=this,s=o.em,c=o.events;e.id=e.id||this._createId();var u=function(){var f=r.pages.add(new Qu(e,{em:r.em,config:r.config}),t);return t.select&&r.select(f),f};return!t.silent&&s.trigger(c.addBefore,e,u,t),t.abort?void 0:u()},n.prototype.remove=function(e,t){var r=this;t===void 0&&(t={});var o=this,s=o.em,c=o.events,u=(0,A.isString)(e)?this.get(e):e,f=function(){return u&&r.pages.remove(u,t),u};return!t.silent&&s.trigger(c.removeBefore,u,f,t),!t.abort&&f()},n.prototype.get=function(e){return this.pages.filter(function(t){return t.get(t.idAttribute)===e})[0]},n.prototype.getMain=function(){var e=this.pages;return e.filter(function(t){return t.get("type")===og})[0]||e.at(0)},n.prototype.getAllWrappers=function(){var e=this.getAll();return(0,A.unique)((0,A.flatten)(e.map(function(t){return t.getAllFrames().map(function(r){return r.getComponent()})})))},n.prototype.select=function(e,t){t===void 0&&(t={});var r=this,o=r.em,s=r.model,c=r.events,u=(0,A.isString)(e)?this.get(e):e;return u&&(o.trigger(c.selectBefore,u,t),s.set("selected",u,t)),this},n.prototype.getSelected=function(){return this.model.get("selected")},n.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(t){return e[t]=0})},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(e){var t=this.loadProjectData(e,{all:this.pages,reset:!0});return this.pages.forEach(function(r){return r.getFrames().initRefs()}),t},n.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},n.prototype._createId=function(){var e=this.getAll(),t=e.length+16,r=this.getAllMap(),o;do o=(0,Pe.createId)(t);while(r[o]);return o},n}(go),Ck=xk,Ou={placeholder:"eg. Text here"},Sk={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Ou,alt:Ou,title:Ou,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}},Ok=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:Sk},messagesAdd:void 0}},kk=Ok,qm=function(i){return i.add="i18n:add",i.update="i18n:update",i.locale="i18n:locale",i}(qm||{}),Tk=qm,Pk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ek=function(i){Pk(n,i);function n(e){var t=i.call(this,e,"I18n",kk())||this;t.events=Tk;var r=t.config.messagesAdd;return r&&t.addMessages(r),t.config.detectLocale&&(t.config.locale=t._localLang()),t}return n.prototype.setLocale=function(e){var t=this,r=t.em,o=t.config,s=t.events;return r.trigger(s.locale,{value:e,valuePrev:o.locale}),o.locale=e,this},n.prototype.getLocale=function(){return this.config.locale},n.prototype.getMessages=function(e,t){t===void 0&&(t={});var r=this.config.messages;return e&&!r[e]&&this._debug("'".concat(e,"' i18n lang not found"),t),e?r[e]:r},n.prototype.setMessages=function(e){var t=this,r=t.em,o=t.config,s=t.events;return o.messages=e,r.trigger(s.update,e),this},n.prototype.addMessages=function(e){var t=this,r=t.em,o=t.events,s=t.config,c=s.messages;return r.trigger(o.add,e),this.setMessages((0,Pe.deepMerge)(c,e)),this},n.prototype.t=function(e,t){t===void 0&&(t={});var r=this.config,o=t.params||{},s=t.l||this.getLocale(),c=t.lFlb||r.localeFallback,u=this._getMsg(e,s,t);return u||(u=this._getMsg(e,c,t)),!u&&this._debug("'".concat(e,"' i18n key not found in '").concat(s,"' lang"),t),u=u&&(0,A.isString)(u)?this._addParams(u,o):u,u},n.prototype._localLang=function(){var e=(0,Pe.hasWin)()&&window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"},n.prototype._addParams=function(e,t){var r=new RegExp("{([\\w\\d-]*)}","g");return e.replace(r,function(o,s){return t[s]||""}).trim()},n.prototype._getMsg=function(e,t,r){r===void 0&&(r={});var o=this.getMessages(t,r);if(o){var s=o[e];return!s&&e.indexOf(".")>0&&(s=e.split(".").reduce(function(c,u){if(!(0,A.isUndefined)(c))return c[u]},o)),s}},n.prototype._debug=function(e,t){t===void 0&&(t={});var r=this,o=r.em,s=r.config;(t.debug||s.debug)&&o&&o.logWarning(e)},n.prototype.destroy=function(){},n}(pn),Ak=Ek,fi=function(){return fi=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},fi.apply(this,arguments)},Dk=function(i,n){n===void 0&&(n={});var e=n.prefix||"",t=document.createElement("i");return t.className=e+"resizer-h "+e+"resizer-h-"+i,t.setAttribute("data-"+e+"handler",i),t},Mk=function(i,n){var e=n||window,t=i.getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,width:t.width,height:t.height}},Lk=function(){function i(n){n===void 0&&(n={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=fi({},this.defOpts),this.setOptions(n),(0,A.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return i.prototype.getConfig=function(){return this.opts},i.prototype.setOptions=function(n,e){n===void 0&&(n={}),this.opts=fi(fi({},e?this.defOpts:this.opts),n),this.setup()},i.prototype.setup=function(){var n=this.opts,e=n.prefix||"",t=n.appendTo||document.body,r=this.container;for(r||(r=document.createElement("div"),r.className="".concat(e,"resizer-c"),t.appendChild(r),this.container=r);r.firstChild;)r.removeChild(r.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(u){return o[u]=n[u]?Dk(u,n):null});for(var s in o){var c=o[s];c&&r.appendChild(c)}this.handlers=o,this.mousePosFetcher=n.mousePosFetcher,this.updateTarget=n.updateTarget,this.posFetcher=n.posFetcher,this.onStart=n.onStart,this.onMove=n.onMove,this.onEnd=n.onEnd,this.onUpdateContainer=n.onUpdateContainer},i.prototype.toggleFrames=function(n){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,A.each)(e,function(t){return t.style.pointerEvents=n?"none":""})}},i.prototype.isHandler=function(n){var e=this.handlers;for(var t in e)if(e[t]===n)return!0;return!1},i.prototype.getFocusedEl=function(){return this.el},i.prototype.getParentEl=function(){var n;return(n=this.el)===null||n===void 0?void 0:n.parentElement},i.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},i.prototype.getElementPos=function(n,e){e===void 0&&(e={});var t=this.posFetcher;return t?t(n,e):Mk(n)},i.prototype.focus=function(n){n&&n===this.el||(this.el=n,this.updateContainer({forceShow:!0}),(0,ze.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},i.prototype.blur=function(){this.container.style.display="none",this.el&&((0,ze.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},i.prototype.start=function(n){var e=n;if(e.button===0){e.preventDefault(),e.stopPropagation();var t=this.el,r=this.getParentEl(),o=this,s=this.opts||{},c=this.mousePosFetcher,u="data-"+s.prefix+"handler",f=this.getElementPos(t,{avoidFrameZoom:!0,avoidFrameOffset:!0}),h=this.getElementPos(r),g=e.target;this.handlerAttr=g.getAttribute(u),this.clickedHandler=g,this.startDim={t:f.top,l:f.left,w:f.width,h:f.height},this.rectDim={t:f.top,l:f.left,w:f.width,h:f.height},this.startPos=c?c(e):{x:e.clientX,y:e.clientY},this.parentDim={t:h.top,l:h.left,w:h.width,h:h.height};var m=this.getDocumentEl();this.docs=m,(0,ze.on)(m,"pointermove",this.move),(0,ze.on)(m,"keydown",this.handleKeyDown),(0,ze.on)(m,"pointerup",this.stop),(0,A.isFunction)(this.onStart)&&this.onStart(e,{docs:m,config:s,el:t,resizer:o}),this.toggleFrames(!0),this.move(e)}},i.prototype.move=function(n){var e=n,t=this.onMove,r=this.mousePosFetcher,o=r?r(e):{x:e.clientX,y:e.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(!1),t&&t(e)},i.prototype.stop=function(n){var e=this.el,t=this.opts,r=this.docs||this.getDocumentEl();(0,ze.AU)(r,"pointermove",this.move),(0,ze.AU)(r,"keydown",this.handleKeyDown),(0,ze.AU)(r,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,A.isFunction)(this.onEnd)&&this.onEnd(n,{docs:r,config:t,el:e,resizer:this}),delete this.docs},i.prototype.updateRect=function(n){var e=this.el,t=this,r=this.opts,o=this.rectDim,s=this.updateTarget,c=this.getSelectedHandler(),u=r.unitHeight,f=r.unitWidth,h=r.keyWidth,g=r.keyHeight;if((0,A.isFunction)(s))s(e,o,{store:n,selectedHandler:c,resizer:t,config:r});else{var m=e.style;m[h]=o.w+f,m[g]=o.h+u}this.updateContainer()},i.prototype.updateContainer=function(n){var e;n===void 0&&(n={});var t=this,r=t.opts,o=t.container,s=t.el,c=o.style;!r.avoidContainerUpdate&&s&&n.forceShow&&(c.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:o,resizer:this,opts:fi(fi({},r),n)})},i.prototype.getSelectedHandler=function(){var n=this.handlers;if(this.selectedHandler){for(var e in n)if(n[e]===this.selectedHandler)return e}},i.prototype.handleKeyDown=function(n){n.keyCode===27&&(this.rectDim=this.startDim,this.stop(n))},i.prototype.handleMouseDown=function(n){var e=n.target;this.isHandler(e)?(this.selectedHandler=e,this.start(n)):e!==this.el&&(delete this.selectedHandler,this.blur())},i.prototype.calc=function(n){var e,t=this.opts||{},r=t.step,o=this.startDim,s=t.minDim,c=t.maxDim,u=n.delta.x,f=n.delta.y,h=this.parentDim.w,g=this.parentDim.h,m=this.opts.unitWidth,_=this.opts.unitHeight,w=m==="%"?o.w/100*h:o.w,C=_==="%"?o.h/100*g:o.h,T={t:o.t,l:o.l,w,h:C};if(n){var B=n.handlerAttr;~B.indexOf("r")&&(e=m==="%"?(0,Pe.normalizeFloat)((w+u*r)/h*100,.01):(0,Pe.normalizeFloat)(w+u*r,r),e=Math.max(s,e),c&&(e=Math.min(c,e)),T.w=e),~B.indexOf("b")&&(e=_==="%"?(0,Pe.normalizeFloat)((C+f*r)/g*100,.01):(0,Pe.normalizeFloat)(C+f*r,r),e=Math.max(s,e),c&&(e=Math.min(c,e)),T.h=e),~B.indexOf("l")&&(e=m==="%"?(0,Pe.normalizeFloat)((w-u*r)/h*100,.01):(0,Pe.normalizeFloat)(w-u*r,r),e=Math.max(s,e),c&&(e=Math.min(c,e)),T.w=e),~B.indexOf("t")&&(e=_==="%"?(0,Pe.normalizeFloat)((C-f*r)/g*100,.01):(0,Pe.normalizeFloat)(C-f*r,r),e=Math.max(s,e),c&&(e=Math.min(c,e)),T.h=e);var W=t.ratioDefault?!n.keys.shift:n.keys.shift;if(B.indexOf("c")<0&&W){var N=o.w/o.h;T.w/T.h>N?T.h=Math.round(T.w/N):T.w=Math.round(T.h*N)}~B.indexOf("l")&&(T.l+=o.w-T.w),~B.indexOf("t")&&(T.t+=o.h-T.h);for(var z in T){var ue=z;T[ue]=parseInt("".concat(T[ue]),10)}return T}},i}(),Rk=Lk,Cn=function(){return Cn=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Cn.apply(this,arguments)};function jk(i,n,e){for(var t={index:0,placement:"before"},r=0,o=0,s=0,c=0,u=0,f=0,h=0,g,m=0,_=i.length;m<_;m++){g=i[m];var w=g.top,C=g.left,T=g.height,B=g.width;if(s=C+B,h=w+T,u=C+B/2,f=w+T/2,!(o&&C>o||c&&f>=c||r&&s<r))if(t.index=m,!g.dir)e<h&&(c=h),n<u?(o=u,t.placement="before"):(r=u,t.placement="after");else if(e<f){t.placement="before";break}else t.placement="after"}return t}function ig(i){var n=i.getBoundingClientRect();return{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft}}function wf(i,n){return Pe.matches.call(i,n)}function Bk(i,n){var e=ef(i),t=ef(n),r=t.filter(function(u){return e.includes(u)}),o=r[0];if(!o)return i.model.index()-n.model.index();var s=t[t.indexOf(o)-1],c=e[e.indexOf(o)-1];return c.index()-s.index()}function ef(i){return i?[i].concat(ef(i.parent())):[]}function Ik(i,n){if(i)for(var e=i.parentNode;e&&e.nodeType===1;){if(wf(e,n))return e;e=e.parentNode}}function Vk(i,n){if((0,ze.ir)(i))return!1;var e=i.style||{},t=(0,Or.default)(i),r=(0,Or.default)(n);if(e.overflow&&e.overflow!=="visible")return!1;var o=t.css("float");return o&&o!=="none"||r.css("display")==="flex"&&r.css("flex-direction")!=="column"||!Nk(e.position)?!1:Fk(i)||Hk(t)}function Nk(i){switch(i){case"static":case"relative":case"":return!0;default:return!1}}function Fk(i){var n=["TR","TBODY","THEAD","TFOOT"];return n.includes(i.tagName)}function Hk(i){var n=i.css("display"),e=["block","list-item","table","flex","grid"];return e.includes(n)}function Uk(i){var n={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:mi.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},e=Cn(Cn(Cn({},n),i),{containerContext:Cn(Cn({},n.containerContext),i.containerContext),positionOptions:Cn(Cn({},n.positionOptions),i.positionOptions),dragBehavior:Cn(Cn({},n.dragBehavior),i.dragBehavior),eventHandlers:Cn(Cn({},n.eventHandlers),i.eventHandlers)});return e}var Xm=function(){function i(n){this.timeout=null,this.threshold=n}return i.prototype.updateArgs=function(n){this.lastArgs=n},i.prototype.execute=function(n){var e=this;this.timeout||(this.timeout=setTimeout(function(){e.lastArgs&&n(e.lastArgs),e.timeout=null},this.threshold))},i.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},i}(),tf=function(){return tf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},tf.apply(this,arguments)},Wk=function(){function i(n){this.top=n.top,this.left=n.left,this.height=n.height,this.width=n.width,this.offsets=n.offsets,this.dir=n.dir}return i.prototype.calculateDimensionDifference=function(n){var e=n.top-this.top,t=n.left-this.left;return{topDifference:e,leftDifference:t}},i.prototype.adjustDimensions=function(n){return this.top+=n.topDifference,this.left+=n.leftDifference,this},i.prototype.determinePlacement=function(n,e){var t=this.left+this.width/2,r=this.top+this.height/2;return this.dir?e<r?"before":"after":n<t?"before":"after"},i.prototype.equals=function(n){return n?this.top===n.top&&this.left===n.left&&this.height===n.height&&this.width===n.width&&this.dir===n.dir&&JSON.stringify(this.offsets)===JSON.stringify(n.offsets):!1},i.prototype.clone=function(){return new i({top:this.top,left:this.left,height:this.height,width:this.width,offsets:tf({},this.offsets),dir:this.dir})},i.prototype.getDropArea=function(n){var e=this.clone(),t=this.adjustDropDimension(this.width,this.left,n),r=t.newSize,o=t.newPosition;e.width=r,e.left=o;var s=this.adjustDropDimension(this.height,this.top,n),c=s.newSize,u=s.newPosition;return e.height=c,e.top=u,e},i.prototype.adjustDropDimension=function(n,e,t){var r=t.ratio,o=t.minUndroppableDimension,s=t.maxUndroppableDimension,c=n*(1-r)/2;c=Math.max(c,o),c=Math.min(c,s);var u=n-c*2,f=e+c;return{newSize:u,newPosition:f}},i.prototype.isWithinBounds=function(n,e){return n>=this.left&&n<=this.left+this.width&&e>=this.top&&e<=this.top+this.height},i}(),zk=Wk,Kk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xl=function(){return Xl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Xl.apply(this,arguments)},Gk=function(i){Kk(n,i);function n(e){var t=i.call(this)||this;return t.sourceNodes=[],t.containerOffset={top:0,left:0},t.moveThreshold=20,t.treeClass=e.treeClass,t.em=e.em,t.containerContext=e.containerContext,t.positionOptions=e.positionOptions,t.dragDirection=e.dragDirection,t.eventHandlers=e.eventHandlers,(0,A.bindAll)(t,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),t.restLastMoveData(),t.rateLimiter=new Xm(t.moveThreshold),t}return n.prototype.startSort=function(e){this.sourceNodes=e,this.bindDragEventHandlers()},n.prototype.bindDragEventHandlers=function(){(0,ze.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,ze.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,ze.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.recalculateTargetOnScroll=function(){var e=this.lastMoveData.mouseEvent;e&&this.onMove(e)},n.prototype.onMove=function(e){this.rateLimiter.updateArgs(e),this.rateLimiter.execute(this.handleMove.bind(this))},n.prototype.handleMove=function(e){var t,r,o,s,c,u;this.adjustForScroll();var f=this.lastMoveData.targetNode;(r=(t=this.eventHandlers).onMouseMove)===null||r===void 0||r.call(t,e);var h=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),g=h.mouseXRelative,m=h.mouseYRelative,_=this.getTargetNode(e),w=!_?.equals(f);if(w&&((s=(o=this.eventHandlers).onTargetChange)===null||s===void 0||s.call(o,f,_)),!_){this.triggerLegacyOnMoveCallback(e,0),this.triggerMoveEvent(g,m),this.restLastMoveData();return}var C=this.getDropPosition(_,g,m),T=C.index,B=C.placement,W=C.placeholderDimensions,N=!W.equals(this.lastMoveData.placeholderDimensions)||B!==this.lastMoveData.placement;N&&((u=(c=this.eventHandlers).onPlaceholderPositionChange)===null||u===void 0||u.call(c,W,B)),this.lastMoveData=Xl(Xl({},this.lastMoveData),{targetNode:_,mouseEvent:e,index:T,placement:B,placeholderDimensions:W}),this.triggerMoveEvent(g,m),this.triggerLegacyOnMoveCallback(e,T)},n.prototype.adjustForScroll=function(){var e,t,r=this.lastMoveData.targetNode;if(r?.element){var o=this.getDim(r?.element),s=(e=r.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(o);s&&r.adjustDimensions(s)}var c=this.lastMoveData.hoveredNode;if(c?.element){var o=this.getDim(c?.element),s=(t=c.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(o);s&&c.adjustDimensions(s)}},n.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},n.prototype.triggerLegacyOnMoveCallback=function(e,t){var r,o,s,c,u=(r=this.sourceNodes[0])===null||r===void 0?void 0:r.model;(s=(o=this.eventHandlers).legacyOnMoveClb)===null||s===void 0||s.call(o,{event:e,target:u,parent:(c=this.lastMoveData.targetNode)===null||c===void 0?void 0:c.model,index:t})},n.prototype.triggerMoveEvent=function(e,t){var r,o=this.lastMoveData,s=o.targetNode,c=o.placement,u=o.index,f=u?u+(c==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:s?.element||null,targetModel:(r=this.lastMoveData.targetNode)===null||r===void 0?void 0:r.model,sourceModel:this.sourceNodes[0].model,dims:s?.childrenDimensions||[],pos:{index:f,indexEl:f,placement:c},x:e,y:t})},n.prototype.getDropPosition=function(e,t,r){var o,s=e.nodeDimensions,c=e.childrenDimensions,u=e.getChildren(),f=u&&u.length>0;s=s||this.getDim(e.element),e.nodeDimensions=s,c=c||this.getChildrenDim(e),e.childrenDimensions=c;var h=s.clone(),g=0,m="inside";return f&&(o=jk(c,t,r),g=o.index,m=o.placement,h=c[g].clone(),g=g+(m=="after"?1:0)),{index:g,placement:m,placeholderDimensions:h}},n.prototype.getTargetNode=function(e){var t;this.cacheContainerPosition(this.containerContext.container);var r=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),o=r.mouseXRelative,s=r.mouseYRelative,c=this.getMouseTargetElement(e),u=this.getFirstElementWithAModel(c);if(u){var f=(t=(0,Or.default)(u))===null||t===void 0?void 0:t.data("model");if(f){var h=this.getOrCreateHoveredNode(f),g=this.getDropPosition(h,o,s).index,m=this.getValidParent(h,g,o,s);return this.getOrReuseTargetNode(m)}}},n.prototype.getOrCreateHoveredNode=function(e){var t=this.lastMoveData.hoveredNode,r=new this.treeClass(e),o=r.equals(t)?t:r;return this.lastMoveData.hoveredNode=o,o},n.prototype.getOrReuseTargetNode=function(e){var t=this.lastMoveData.targetNode;return e?.equals(t)?t:e},n.prototype.getMouseTargetElement=function(e){var t=this.containerContext.customTarget,r=this.containerContext.document.elementFromPoint(e.clientX,e.clientY),o=t?t({event:e}):r;return o},n.prototype.onDragStart=function(e){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(e)},n.prototype.endDrag=function(){this.dropDragged()},n.prototype.cancelDrag=function(){var e,t,r=this.lastMoveData.targetNode;(t=(e=this.eventHandlers).onTargetChange)===null||t===void 0||t.call(e,r,void 0),this.finalizeMove()},n.prototype.finalizeMove=function(){var e,t,r,o;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(t=(e=this.eventHandlers).onEnd)===null||t===void 0||t.call(e),(o=(r=this.eventHandlers).legacyOnEnd)===null||o===void 0||o.call(r),this.restLastMoveData(),this.rateLimiter.clearTimeout()},n.prototype.dropDragged=function(){var e,t,r=this.lastMoveData,o=r.targetNode,s=r.index;(t=(e=this.eventHandlers).onDrop)===null||t===void 0||t.call(e,o,this.sourceNodes,s),this.finalizeMove()},n.prototype.triggerOnDragEndEvent=function(){var e=this.lastMoveData.targetNode,t=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:e?e.getChildren():null,modelToDrop:t?.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(r){return r.element}),srcModel:t?.model,trg:e?.element,trgModel:e?.model,draggable:!0,droppable:!0},dst:e?.element,srcEl:t?.element})},n.prototype.getFirstElementWithAModel=function(e){for(var t=function(r){return(0,Or.default)(r).data("model")!==void 0};e&&this.containerContext.container.contains(e);){if(t(e))return e;e=e.parentElement}return null},n.prototype.getValidParent=function(e,t,r,o){if(e){var s=this.lastMoveData.targetNode,c=e.equals(s);if(e.nodeDimensions=c?s.nodeDimensions:this.getDim(e.element),!e.isWithinDropBounds(r,o))return this.handleParentTraversal(e,r,o);var u=c&&t===this.lastMoveData.index;if(u)return s;var f=this.sourceNodes.some(function(h){return e.canMove(h,t)});return this.triggerDragValidation(f,e),f?e:this.handleParentTraversal(e,r,o)}},n.prototype.handleParentTraversal=function(e,t,r){var o=e.getParent();if(o){var s=this.getIndexInParent(o,e,e.nodeDimensions,t,r);return this.getValidParent(o,s,t,r)}},n.prototype.getIndexInParent=function(e,t,r,o,s){var c=e?.indexOfChild(t);return r.dir=this.getDirection(t.element,e.element),c=c+(r.determinePlacement(o,s)=="after"?1:0),c},n.prototype.triggerDragValidation=function(e,t){var r=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:e,src:r?.element,srcModel:r?.model,trg:t.element,trgModel:t.model}),r},n.prototype.cleanupEventListeners=function(){var e=this.containerContext.container;(0,ze.AU)(e,"dragstart",this.onDragStart),(0,ze.AU)(e,"mousemove dragover",this.onMove),(0,ze.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.getDirection=function(e,t){var r;return this.dragDirection===mi.A.Vertical?r=!0:this.dragDirection===mi.A.Horizontal?r=!1:r=Vk(e,t),r},n.prototype.getChildrenDim=function(e){var t=this,r=[],o=e.element;if(!o)return[];var s=e.getChildren();return!s||s.length===0?[]:((0,A.each)(s,function(c,u){var f=c.element;if(f&&!(!(0,ze.ir)(f)&&!wf(f,t.containerContext.itemSel))){var h=t.getDim(f);h.dir=t.getDirection(f,o),r.push(h)}}),r)},n.prototype.getMousePositionRelativeToContainer=function(e,t){var r=t-this.containerOffset.top+this.containerContext.container.scrollTop,o=e-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var s=this.em.Canvas.getMouseRelativeCanvas({clientX:e,clientY:t},{noScroll:1});o=s.x,r=s.y}return{mouseXRelative:o,mouseYRelative:r}},n.prototype.cacheContainerPosition=function(e){var t=ig(e),r=this.positionOptions.windowMargin?Math.abs(t.top):t.top,o=this.positionOptions.windowMargin?Math.abs(t.left):t.left;this.containerOffset={top:r,left:o}},n.prototype.getDim=function(e){var t=this.em,r=this.positionOptions.relative,o=this.positionOptions.windowMargin,s=t?.Canvas,c=s?s.getElementOffsets(e):{},u,f,h,g;if(this.positionOptions.canvasRelative&&this.em){var m=s.getElementPos(e,{noScroll:1});u=m.top,f=m.left,h=m.height,g=m.width}else{var _=ig(e);u=r?e.offsetTop:_.top-(o?-1:1)*this.containerOffset.top,f=r?e.offsetLeft:_.left-(o?-1:1)*this.containerOffset.left,h=e.offsetHeight,g=e.offsetWidth}return new zk({top:u,left:f,height:h,width:g,offsets:c})},n}(Ie.Ss),Yk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qk=function(i){Yk(n,i);function n(e){var t=i.call(this)||this;return t.pfx=e.pfx||"",t.allowNesting=e.allowNesting||!1,t.container=e.container,t.setElement(e.el),t.offset={top:e.offset.top||0,left:e.offset.left||0},t.moveLimiter=new Xm(100),t}return n.prototype.show=function(){this.el.style.display="block"},n.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},n.prototype.move=function(e,t){var r=this,o={elementDimension:e,placement:t};this.moveLimiter.updateArgs(o),this.moveLimiter.execute(function(s){var c=s.elementDimension,u=s.placement;r._move(c,u)})},n.prototype._move=function(e,t){var r=0,o="px",s=0,c=0,u="",f="";this.setOrientationForDimension(e);var h=e.top,g=e.left,m=e.height,_=e.width,w=e.dir,C=e.offsets;if(t==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var T=5,B=C?.paddingTop||T,W=C?.paddingLeft||T,N=C?.borderTopWidth||0,z=C?.borderLeftWidth||0,ue=C?.borderRightWidth||0,_e=z+ue;s=h+B+N,c=g+W+z,u=Math.max(_-W*2-_e,1)+"px",f="auto"}else w?(u=_+o,f="auto",s=t==="before"?h-r:h+m-r,c=g):(u="auto",f=m-r*2+o,s=h+r,c=t==="before"?g-r:g+_-r,this.setOrientation("vertical"));this.updateStyles(s,c,u,f),this.adjustOffset()},n.prototype.setOrientationForDimension=function(e){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),e&&!e.dir&&this.setOrientation("vertical")},n.prototype.setOrientation=function(e){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(e)},n.prototype.updateStyles=function(e,t,r,o){this.el.style.top=e+"px",this.el.style.left=t+"px",r&&(this.el.style.width=r),o&&(this.el.style.height=o)},n.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},n}(Ie.Ss),Qi=function(){return Qi=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Qi.apply(this,arguments)},Xk=function(){function i(n){var e=Uk(n);(0,A.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=e.containerContext,this.positionOptions=e.positionOptions,this.dragBehavior=e.dragBehavior,this.eventHandlers=Qi(Qi({},e.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=n.em,this.treeClass=n.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new Gk({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return i.prototype.startSort=function(n){var e,t,r,o,s,c,u,f=this.getSourceNodes(n),h=f.sourceNodes,g=f.sourcesWithModel;this.sourceNodes=h,this.dropLocationDeterminer.startSort(h),this.bindDragEventHandlers(),(t=(e=this.eventHandlers).onStartSort)===null||t===void 0||t.call(e,this.sourceNodes,this.containerContext.container);var m=(r=this.sourceNodes[0])===null||r===void 0?void 0:r.model;(s=(o=this.eventHandlers).legacyOnStartSort)===null||s===void 0||s.call(o,{sorter:this,target:m,parent:m&&((c=m.parent)===null||c===void 0?void 0:c.call(m)),index:m&&((u=m.index)===null||u===void 0?void 0:u.call(m))}),this.em.trigger("sorter:drag:start",n[0],g[0])},i.prototype.validTarget=function(n,e,t){if(!n)return!1;var r=(0,Or.default)(n).data("model");if(!r)return!1;var o=new this.treeClass(r),s=this.getSourceNodes(e).sourceNodes,c=s.some(function(u){return o.canMove(u,t)});return c},i.prototype.getSourceNodes=function(n){var e=this,t=n.filter(function(c){return!!c.dragSource||e.findValidSourceElement(c.element)}),r=t.map(function(c){var u;return{model:(u=(0,Or.default)(c.element))===null||u===void 0?void 0:u.data("model"),content:c.dragSource}}),o=r.sort(function(c,u){return Bk(c.model,u.model)}),s=o.map(function(c){return new e.treeClass(c.model,c.content)});return{sourceNodes:s,sourcesWithModel:r}},i.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},i.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},i.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},i.prototype.handlePlaceholderMove=function(n,e){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(n,e)},i.prototype.createPlaceholder=function(){return new qk({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},i.prototype.ensurePlaceholderElement=function(){var n=this.placeholder.el,e=this.containerContext.container;n.ownerDocument.contains(n)||e.append(this.placeholder.el)},i.prototype.updateOffset=function(){var n,e=((n=this.em)===null||n===void 0?void 0:n.get("canvasOffset"))||{};this.positionOptions.offsetTop=e.top,this.positionOptions.offsetLeft=e.left},i.prototype.findValidSourceElement=function(n){return n&&!wf(n,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(n=Ik(n,this.containerContext.itemSel)),n},i.prototype.bindDragEventHandlers=function(){(0,ze.on)(this.containerContext.document,"keydown",this.rollback)},i.prototype.updatePlaceholderPosition=function(n,e){this.placeholder.move(n,e)},i.prototype.cleanupEventListeners=function(){(0,ze.AU)(this.containerContext.document,"keydown",this.rollback)},i.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},i.prototype.rollback=function(n){(0,ze.AU)(this.containerContext.document,"keydown",this.rollback);var e="Escape";n.key===e&&this.cancelDrag()},i.prototype.triggerNullOnEndMove=function(n){var e,t,r,o,s,c=(e=this.sourceNodes)===null||e===void 0?void 0:e[0].model,u={target:c,parent:c&&((t=c.parent)===null||t===void 0?void 0:t.call(c)),index:c&&((r=c.index)===null||r===void 0?void 0:r.call(c))};(s=(o=this.eventHandlers).legacyOnEndMove)===null||s===void 0||s.call(o,null,this,Qi(Qi({},u),{cancelled:n}))},i}(),$m=Xk,$k=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ea=function(){return ea=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ea.apply(this,arguments)},Jk=Ln.F.Target,ku={id:"sorter-target",type:Jk},Zk=function(i){$k(n,i);function n(e){var t=e.em,r=e.treeClass,o=e.containerContext,s=e.dragBehavior,c=e.positionOptions,u=c===void 0?{}:c,f=e.eventHandlers,h=f===void 0?{}:f,g=i.call(this,{em:t,treeClass:r,containerContext:o,positionOptions:u,dragBehavior:s,eventHandlers:ea(ea({},h),{onStartSort:function(m,_){var w;(w=h.onStartSort)===null||w===void 0||w.call(h,m,_),g.onStartSort()},onDrop:function(m,_,w){var C;(C=h.onDrop)===null||C===void 0||C.call(h,m,_,w),g.onDrop(m,_,w)},onTargetChange:function(m,_){var w;(w=h.onTargetChange)===null||w===void 0||w.call(h,m,_),g.onTargetChange(m,_)},onMouseMove:function(m){var _;(_=h.onMouseMove)===null||_===void 0||_.call(h,m),g.onMouseMove(m)}})})||this;return g.targetIsText=!1,g.onMouseMove=function(m){var _,w=g.targetIsText&&((_=g.sourceNodes)===null||_===void 0?void 0:_.some(function(C){return C.isTextable()}));w&&g.updateTextViewCursorPosition(m)},g.onDrop=function(m,_,w){var C=typeof w=="number"?w:-1;if(m&&_.length>0){var T=g.handleNodeAddition(m,_,C);T.length===0&&g.triggerNullOnEndMove(!1)}else g.triggerNullOnEndMove(!0);m?.restNodeState(),g.placeholder.hide()},g.onTargetChange=function(m,_){var w;m?.restNodeState();var C=g.em.Canvas;if(!_){g.placeholder.hide(),C.removeSpots(ku);return}_?.setSelectedParentState(),g.targetIsText=_.isTextNode();var T=g.targetIsText&&((w=g.sourceNodes)===null||w===void 0?void 0:w.some(function(z){return z.isTextable()}));T?(_.setContentEditable(!0),g.placeholder.hide()):g.placeholder.show();var B=Ln.F.Select,W=Ln.F.Hover,N=Ln.F.Spacing;[B,W,N].forEach(function(z){return C.removeSpots({type:z})}),C.addSpot(ea(ea({},ku),{component:_.model}))},(0,A.bindAll)(g,"handleScrollEvent"),g}return n.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},n.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),i.prototype.bindDragEventHandlers.call(this)},n.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),i.prototype.cleanupEventListeners.call(this)},n.prototype.handleScrollEvent=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=(e=t?.[0])===null||e===void 0?void 0:e.frame,s=this.em.Canvas.getCanvasView().frame===o;s&&this.recalculateTargetOnScroll()},n.prototype.handleNodeAddition=function(e,t,r){var o=this;return t.reduce(function(s,c){if(!e.canMove(c,r))return s;if(o.isPositionChanged(e,c,r)){var u=o.moveNode(e,c,r),f=u.index,h=u.addedNode;s.push(h),r=f}return r++,s},[])},n.prototype.isPositionChanged=function(e,t,r){var o=t.getParent(),s=o?o.indexOfChild(t):-1;o?.model.cid===e.model.cid&&s<r&&r--;var c=o?.model.cid===e.model.cid,u=s===r,f=this.targetIsText&&t.isTextable();return!(c&&u&&!f)},n.prototype.moveNode=function(e,t,r){var o=t.getParent();if(o){var s=o.indexOfChild(t);o.removeChildAt(s,{temporary:!0}),o.model.cid===e.model.cid&&s<r&&r--}var c=e.addChildAt(t,r,{action:"move-component"});return this.triggerEndMoveEvent(c),{addedNode:c,index:r}},n.prototype.triggerEndMoveEvent=function(e){var t,r,o,s,c,u;(r=(t=this.eventHandlers).legacyOnEndMove)===null||r===void 0||r.call(t,e.model,this,{target:e.model,parent:e.model&&((s=(o=e.model).parent)===null||s===void 0?void 0:s.call(o)),index:e.model&&((u=(c=e.model).index)===null||u===void 0?void 0:u.call(c))})},n.prototype.finalizeMove=function(){var e,t;(e=this.em)===null||e===void 0||e.Canvas.removeSpots(ku),(t=this.sourceNodes)===null||t===void 0||t.forEach(function(r){return r.restNodeState()}),this.setAutoCanvasScroll(!1),i.prototype.finalizeMove.call(this)},n.prototype.updateTextViewCursorPosition=function(e){var t=this.em;if(t){var r=t.Canvas,o=r.getDocument(),s=null,c=(0,ze.G2)(e);if(o.caretPositionFromPoint){var u=o.caretPositionFromPoint(c.clientX,c.clientY);u&&(s=o.createRange(),s.setStart(u.offsetNode,u.offset))}else o.caretRangeFromPoint?s=o.caretRangeFromPoint(c.clientX,c.clientY):e.rangeParent&&(s=o.createRange(),s.setStart(e.rangeParent,e.rangeOffset));var f=r.getWindow().getSelection();r.getFrameEl().focus(),f?.removeAllRanges(),s&&f?.addRange(s)}},n.prototype.setAutoCanvasScroll=function(e){var t=this.em,r=t?.Canvas;r&&(e?r.startAutoscroll():r.stopAutoscroll())},n}($m),ag=Zk,Qk=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$l=function(){return $l=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},$l.apply(this,arguments)},e1=function(i){Qk(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{values:{}}},n.prototype.initialize=function(){var e=this.collection;this.prop=e?.prop},n.prototype.getId=function(){return this.cid},n.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},n.prototype.getValues=function(e){e===void 0&&(e={});var t=this.get("values");return e.camelCase?Object.keys(t).reduce(function(r,o){return r[(0,Pe.camelCase)(o)]=t[o],r},{}):t},n.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},n.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},n.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},n.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},n.prototype.move=function(e){var t;return(t=this.prop)===null||t===void 0?void 0:t.moveLayer(this,e)},n.prototype.getStylePreview=function(e){var t;return e===void 0&&(e={}),(t=this.prop)===null||t===void 0?void 0:t.getStylePreview(this,e)},n.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},n.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",$l($l({},this.getValues()),e))},n}(Ie.Kx),Ga=e1,t1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Jm=function(i){t1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.initialize=function(e,t){t===void 0&&(t={}),this.prop=t.prop},n}(Ie.pM),fl=Jm;Jm.prototype.model=Ga;var r1=Mt(3161),n1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),o1=function(i){n1(n,i);function n(e){return i.call(this,e)||this}return n.prototype.getChildren=function(){return this.model instanceof fl?this.model.models.map(function(e){return new n(e)}):null},n.prototype.getParent=function(){var e=this.model instanceof Ga?this.model.collection:null;return e?new n(e):null},n.prototype.addChildAt=function(e,t){if(this.model instanceof Ga)throw Error("Cannot add a layer model to another layer model");var r=this.model.add(e.model,{at:t});return new n(r)},n.prototype.removeChildAt=function(e){if(this.model instanceof Ga)throw Error("Cannot remove a layer model from another layer model");var t=this.model.at(e);t&&this.model.remove(t)},n.prototype.indexOfChild=function(e){return!(e.model instanceof Ga)||!(this.model instanceof fl)?-1:this.model.indexOf(e.model)},n.prototype.canMove=function(e,t){return this.model instanceof fl&&!!e.model},Object.defineProperty(n.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var e;return(e=this.view)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),n}(r1.$),i1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rf=function(){return rf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},rf.apply(this,arguments)},a1=function(i){i1(n,i);function n(e){var t=e.em,r=e.containerContext,o=e.dragBehavior,s=e.positionOptions,c=s===void 0?{}:s,u=e.eventHandlers,f=u===void 0?{}:u,h=i.call(this,{em:t,treeClass:o1,containerContext:r,positionOptions:c,dragBehavior:o,eventHandlers:rf({onStartSort:function(g,m){var _;(_=f.onStartSort)===null||_===void 0||_.call(f,g,m),h.onLayerStartSort(g)},onDrop:function(g,m,_){var w;(w=f.onDrop)===null||w===void 0||w.call(f,g,m,_),h.onLayerDrop(g,m,_)},onEnd:function(){h.placeholder.hide()}},f)})||this;return h.onLayerStartSort=function(g){h.em.clearSelection();var m=g[0];h.em.trigger("sorter:drag:start",m?.element,m?.model),h.placeholder.show()},h.onLayerDrop=function(g,m,_){if(g){_=typeof _=="number"?_:-1;for(var w=0;w<m.length;w++){var C=m[w];if(g.canMove(C,w)){var T=C.getParent(),B=-1;T&&(B=T.indexOfChild(C),T.removeChildAt(B)),_=B<_?_-1:_,g.addChildAt(C,_)}}h.placeholder.hide()}},h}return n}($m),s1=a1,l1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nf=function(){return nf=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},nf.apply(this,arguments)},c1=function(i){l1(n,i);function n(e){var t=i.call(this,e,"Utils")||this;return t.Sorter=ag,t.Resizer=Rk,t.Dragger=nm.A,t.ComponentSorter=ag,t.StyleManagerSorter=s1,t.helpers=nf({},Pe),t}return n.prototype.destroy=function(){},n}(pn),u1=c1,dn,Tn={},Xr={16:!1,18:!1,17:!1,91:!1},Zm="all",_i={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},Qm={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},xf=function(i){return Qm[i]||i.toUpperCase().charCodeAt(0)},la=[];for(dn=1;dn<20;dn++)Qm["f"+dn]=111+dn;function ns(i,n){for(var e=i.length;e--;)if(i[e]===n)return e;return-1}function f1(i,n){if(i.length!=n.length)return!1;for(var e=0;e<i.length;e++)if(i[e]!==n[e])return!1;return!0}var d1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function p1(i){for(dn in Xr)Xr[dn]=i[d1[dn]]}function h1(i){var n,e,t,r,o,s;if(n=i.keyCode,ns(la,n)==-1&&la.push(n),(n==93||n==224)&&(n=91),n in Xr){Xr[n]=!0;for(t in _i)_i[t]==n&&(Jr[t]=!0);return}if(p1(i),!!Jr.filter.call(this,i)&&n in Tn){for(s=Cf(),r=0;r<Tn[n].length;r++)if(e=Tn[n][r],e.scope==s||e.scope=="all"){o=e.mods.length>0;for(t in Xr)(!Xr[t]&&ns(e.mods,+t)>-1||Xr[t]&&ns(e.mods,+t)==-1)&&(o=!1);(e.mods.length==0&&!Xr[16]&&!Xr[18]&&!Xr[17]&&!Xr[91]||o)&&e.method(i,e)===!1&&(i.preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation&&i.stopPropagation(),i.cancelBubble&&(i.cancelBubble=!0))}}}function v1(i){var n=i.keyCode,e,t=ns(la,n);if(t>=0&&la.splice(t,1),(n==93||n==224)&&(n=91),n in Xr){Xr[n]=!1;for(e in _i)_i[e]==n&&(Jr[e]=!1)}}function g1(){for(dn in Xr)Xr[dn]=!1;for(dn in _i)Jr[dn]=!1}function Jr(i,n,e){var t,r;t=ey(i),e===void 0&&(e=n,n="all");for(var o=0;o<t.length;o++)r=[],i=t[o].split("+"),i.length>1&&(r=ty(i),i=[i[i.length-1]]),i=i[0],i=xf(i),i in Tn||(Tn[i]=[]),Tn[i].push({shortcut:t[o],scope:n,method:e,key:t[o],mods:r})}function m1(i,n){var e,t,r=[],o,s,c;for(e=ey(i),s=0;s<e.length;s++){if(t=e[s].split("+"),t.length>1&&(r=ty(t)),i=t[t.length-1],i=xf(i),n===void 0&&(n=Cf()),!Tn[i])return;for(o=0;o<Tn[i].length;o++)c=Tn[i][o],c.scope===n&&f1(c.mods,r)&&(Tn[i][o]={})}}function y1(i){return typeof i=="string"&&(i=xf(i)),ns(la,i)!=-1}function _1(){return la.slice(0)}function b1(i){var n=(i.target||i.srcElement).tagName;return!(n=="INPUT"||n=="SELECT"||n=="TEXTAREA")}for(dn in _i)Jr[dn]=!1;function w1(i){Zm=i||"all"}function Cf(){return Zm||"all"}function x1(i){var n,e,t;for(n in Tn)for(e=Tn[n],t=0;t<e.length;)e[t].scope===i?e.splice(t,1):t++}function ey(i){var n;return i=i.replace(/\s/g,""),n=i.split(","),n[n.length-1]==""&&(n[n.length-2]+=","),n}function ty(i){for(var n=i.slice(0,i.length-1),e=0;e<n.length;e++)n[e]=_i[n[e]];return n}function Tu(i,n,e){i.addEventListener?i.addEventListener(n,e,!1):i.attachEvent&&i.attachEvent("on"+n,function(){e(window.event)})}Jr.setScope=w1;Jr.getScope=Cf;Jr.deleteScope=x1;Jr.filter=b1;Jr.isPressed=y1;Jr.getPressedKeyCodes=_1;Jr.unbind=m1;Jr.handlers=Tn;Jr.init=function(i){Tu(i.document,"keydown",function(n){h1(n)}),Tu(i.document,"keyup",v1),Tu(i,"focus",g1)};var Ya=Jr,C1=function(){return{defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}},S1=C1,O1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sg=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))};(0,Pe.hasWin)()&&Ya.init(window);var k1=function(i){O1(n,i);function n(e){var t=i.call(this,e,"Keymaps",S1())||this;return t.keymaster=Ya,t.keymaps={},t}return n.prototype.onLoad=function(){var e=this.config.defaults;for(var t in e){var r=e[t];this.add(t,r.keys,r.handler,r.opts||{})}},n.prototype.add=function(e,t,r,o){o===void 0&&(o={});var s=this.em,c=s.Commands,u=s.getEditor(),f=s.Canvas,h={id:e,keys:t,handler:r},g=this.keymaps[e];return g&&this.remove(e),this.keymaps[e]=h,Ya(t,function(m,_){var w={event:m,h:_},C=(0,A.isString)(r)?c.get(r):r,T=!s.isEditing()&&!u.Canvas.isInputFocused();if(T||o.force){o.prevent&&f.getCanvasView().preventDefault(m),(0,A.isFunction)(C)?C(u,0,w):c.runCommand(C,w);var B=[e,_.shortcut,m];s.trigger.apply(s,sg(["keymap:emit"],B,!1)),s.trigger.apply(s,sg(["keymap:emit:".concat(e)],B,!1))}},void 0),s.trigger("keymap:add",h),h},n.prototype.get=function(e){return this.keymaps[e]},n.prototype.getAll=function(){return this.keymaps},n.prototype.remove=function(e){var t=this.em,r=this.get(e);if(r)return delete this.keymaps[e],r.keys.split(", ").forEach(function(o){Ya.unbind(o.trim())}),t?.trigger("keymap:remove",r),r},n.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(t){return e.remove(t)}),Ya.handlers={},this},n.prototype.destroy=function(){this.removeAll(),this.keymaps={}},n}(pn),T1=k1,P1=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}},E1=P1,A1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),D1=function(i){A1(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},n.prototype.open=function(){this.set("open",!0)},n.prototype.close=function(){this.set("open",!1)},n}(Wo.A),M1=D1,L1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Jl=function(){return Jl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Jl.apply(this,arguments)},R1=function(i){L1(n,i);function n(e){var t=i.call(this,e)||this,r=t.model;return t.listenTo(r,"change:open",t.updateOpen),t.listenTo(r,"change:title",t.updateTitle),t.listenTo(r,"change:content",t.updateContent),t}return n.prototype.template=function(e){var t=e.pfx,r=e.ppfx,o=e.content,s=e.title;return'<div class="'.concat(t,"dialog ").concat(r,"one-bg ").concat(r,`two-color">
      <div class="`).concat(t,`header">
        <div class="`).concat(t,'title">').concat(s,`</div>
        <div class="`).concat(t,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(t,`content">
        <div id="`).concat(t,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(t,'collector" style="display: none"></div>')},n.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},n.prototype.onClick=function(e){var t=this.config.backdrop;t&&e.target===this.el&&this.hide()},n.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},n.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},n.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},n.prototype.updateContent=function(){var e=this.getContent(),t=e.children(),r=this.getCollector(),o=this.model.get("content");t.length&&r.append(t),e.empty().append(o)},n.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},n.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},n.prototype.hide=function(){this.model.close()},n.prototype.show=function(){this.model.open()},n.prototype.updateAttr=function(e){var t=this,r=t.pfx,o=t.$el,s=t.el,c=[].slice.call(s.attributes).map(function(u){return u.name});o.removeAttr(c.join(" ")),o.attr(Jl(Jl({},e||{}),{class:"".concat(r,"container ").concat(e&&e.class||"").trim()}))},n.prototype.render=function(){var e=this.$el,t=this.model.toJSON();return t.pfx=this.pfx,t.ppfx=this.ppfx,e.html(this.template(t)),this.updateAttr(),this.updateOpen(),this},n}(Rn),j1=R1,B1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),I1=function(i){B1(n,i);function n(e){var t=i.call(this,e,"Modal",E1())||this;return t.model=new M1(t),t.model.on("change:open",function(r,o){e.trigger("modal:".concat(o?"open":"close"))}),t.model.on("change",(0,A.debounce)(function(){var r=t._evData(),o=t.config.custom;(0,A.isFunction)(o)&&o(r),e.trigger("modal",r)},0)),t}return n.prototype._evData=function(){var e=this,t=this.getTitle(),r=this.getContent(),o=this.model.attributes,s=o.open,c=o.attributes;return{open:s,attributes:c,title:(0,A.isString)(t)?(0,ze.GZ)(t):t,content:(0,A.isString)(r)?(0,ze.GZ)(r):r.get?r.get(0):r,close:function(){e.close()}}},n.prototype.postRender=function(e){var t=e.model.config.el||e.el,r=this.render();r&&t?.appendChild(r)},n.prototype.open=function(e){e===void 0&&(e={});var t=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",t),this.model.open(),this.modal&&this.modal.updateAttr(t),this},n.prototype.close=function(){return this.model.close(),this},n.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},n.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},n.prototype.isOpen=function(){return!!this.model.get("open")},n.prototype.setTitle=function(e){return this.model.set("title",e),this},n.prototype.getTitle=function(){return this.model.get("title")},n.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},n.prototype.getContent=function(){return this.model.get("content")},n.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},n.prototype.getModel=function(){return this.model},n.prototype.render=function(){var e;if(!this.config.custom){var t=j1.extend(this.config.extend),r=this.modal&&this.modal.el;return this.modal=new t({el:r,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},n.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},n}(pn),V1=I1,lg="sw-visibility",cg="export-template",ug="open-sm",fg="open-tm",dg="open-layers",pg="open-blocks",Pu="fullscreen",Eu="preview",N1=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:lg,className:"fa fa-square-o",command:"core:component-outline",context:lg,attributes:{title:"View components"}},{id:Eu,className:"fa fa-eye",command:Eu,context:Eu,attributes:{title:"Preview"}},{id:Pu,className:"fa fa-arrows-alt",command:Pu,context:Pu,attributes:{title:"Fullscreen"}},{id:cg,className:"fa fa-code",command:cg,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:ug,className:"fa fa-paint-brush",command:ug,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:fg,className:"fa fa-cog",command:fg,togglable:!1,attributes:{title:"Settings"}},{id:dg,className:"fa fa-bars",command:dg,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:pg,className:"fa fa-th-large",command:pg,togglable:!1,attributes:{title:"Open Blocks"}}]}]}},F1=N1,H1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),U1=function(i){H1(n,i);function n(e,t){var r=i.call(this,e,t)||this;return r.get("buttons").length&&r.set("buttons",new oy(r.module,r.get("buttons"))),r}return n.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(n.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),n}(Wo.A),ry=U1,W1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ny=function(i){W1(n,i);function n(e,t){return i.call(this,e,t,ry)||this}return n.prototype.deactivateAllExceptOne=function(e,t){this.forEach(function(r,o){r!==e&&(r.set("active",!1),t&&r.get("buttons").length&&r.get("buttons").deactivateAllExceptOne(e,t))})},n.prototype.deactivateAll=function(e,t){var r=e||"";this.forEach(function(o){o.get("context")==r&&o!==t&&o.set("active",!1,{fromCollection:!0})})},n.prototype.disableAllButtons=function(e){var t=e||"";this.forEach(function(r,o){r.get("context")==t&&r.set("disable",!0)})},n.prototype.disableAllButtonsExceptOne=function(e,t){this.forEach(function(r,o){r!==e&&(r.set("disable",!0),t&&r.get("buttons").length&&r.get("buttons").disableAllButtonsExceptOne(e,t))})},n}(mc),oy=ny;ny.prototype.model=ry;var z1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),K1=function(i){z1(n,i);function n(e,t){var r=i.call(this,e,t)||this,o=r.get("buttons")||[];return r.buttons=new oy(e,o),r}return n.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(n.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),n}(Wo.A),iy=K1,G1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ay=function(i){G1(n,i);function n(e,t){return i.call(this,e,t,iy)||this}return n}(mc),Y1=ay;ay.prototype.model=iy;var q1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ta=function(){return ta=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ta.apply(this,arguments)},X1=function(i){q1(n,i);function n(e){var t=i.call(this,e)||this,r=t,o=r.model,s=r.em,c=r.pfx,u=r.ppfx,f=o.className,h=o.attributes,g=h.command,m=h.listen;if(t.id=c+o.get("id"),t.activeCls="".concat(c,"active ").concat(u,"four-color"),t.disableCls="".concat(u,"disabled"),t.btnsVisCls="".concat(c,"visible"),t.className=c+"btn"+(f?" "+f:""),t.listenTo(o,"change",t.render),t.listenTo(o,"change:active updateActive",t.updateActive),t.listenTo(o,"checkActive",t.checkActive),t.listenTo(o,"change:bntsVis",t.updateBtnsVis),t.listenTo(o,"change:attributes",t.updateAttributes),t.listenTo(o,"change:className",t.updateClassName),t.listenTo(o,"change:disable",t.updateDisable),s&&(0,A.isString)(g)&&m){var _={fromListen:!0};t.listenTo(s,"run:".concat(g),function(){return o.set("active",!0,_)}),t.listenTo(s,"stop:".concat(g),function(){return o.set("active",!1,_)})}return s&&s.get&&(t.commands=s.get("Commands")),t}return n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.events=function(){return{click:"clicked"}},n.prototype.updateClassName=function(){var e=this,t=e.model,r=e.pfx,o=t.className,s=t.get("attributes").class,c="".concat(s||""," ").concat(r,"btn ").concat(o||"");this.$el.attr("class",c.trim())},n.prototype.updateAttributes=function(){var e=this,t=e.em,r=e.model,o=e.$el,s=r.get("attributes")||{},c=t&&t.t&&t.t("panels.buttons.titles.".concat(r.id));o.attr(s),c&&o.attr({title:c}),this.updateClassName()},n.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},n.prototype.updateActive=function(e,t,r){var o;r===void 0&&(r={});var s=this,c=s.model,u=s.commands,f=s.$el,h=s.activeCls,g=r.fromCollection,m=r.fromListen,_=c.get("context"),w=c.get("options"),C=c.command,T={};C&&(u&&(0,A.isString)(C)?T=u.get(C)||{}:(0,A.isFunction)(C)?T=u.create({run:C}):C!==null&&(0,A.isObject)(C)&&(T=u.create(C)),c.active?(!g&&((o=c.collection)===null||o===void 0||o.deactivateAll(_,c)),c.set("active",!0,{silent:!0}).trigger("checkActive"),!m&&u.runCommand(T,ta(ta({},w),{sender:c})),T.noStop&&c.set("active",!1)):(f.removeClass(h),!m&&u.stopCommand(T,ta(ta({},w),{sender:c,force:1}))))},n.prototype.updateDisable=function(){var e=this,t=e.disableCls,r=e.model,o=r.disable;this.$el[o?"addClass":"removeClass"](t)},n.prototype.checkActive=function(){var e=this,t=e.model,r=e.$el,o=e.activeCls;t.active?r.addClass(o):r.removeClass(o)},n.prototype.clicked=function(){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},n.prototype.toggleActive=function(){var e=this,t=e.model,r=e.em,o=t.active,s=t.togglable;o&&!s||(t.active=!o,o?t.runDefaultCommand&&r.runDefault():t.stopDefaultCommand&&r.stopDefault())},n.prototype.render=function(){var e=this.model,t=e.get("label"),r=this.$el;return!e.get("el")&&r.empty(),this.updateAttributes(),t&&r.append(t),this.checkActive(),this.updateDisable(),this},n}(Rn),$1=X1,J1=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Z1=function(i){J1(n,i);function n(e){var t=i.call(this,{collection:e})||this;return t.listenTo(t.collection,"add",t.addTo),t.listenTo(t.collection,"reset remove",t.render),t.className=t.pfx+"buttons",t}return n.prototype.addTo=function(e){this.addToCollection(e)},n.prototype.addToCollection=function(e,t){var r=t||null,o=e.get("el"),s=new $1({el:o,model:e}),c=s.render().el;return r?r.appendChild(c):this.$el.append(c),c},n.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(r){return e.addToCollection(r,t)}),this.$el.append(t),this.$el.attr("class",(0,A.result)(this,"className")),this},n}(Rn),Q1=Z1,eT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),of=function(){return of=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},of.apply(this,arguments)},tT=function(i){eT(n,i);function n(e){var t=i.call(this,{model:e,el:e.get("el")})||this;return t.className=t.pfx+"panel",t.id=t.pfx+e.get("id"),t.listenTo(e,"change:appendContent",t.appendContent),t.listenTo(e,"change:content",t.updateContent),t.listenTo(e,"change:visible",t.toggleVisible),e.view=t,t}return n.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},n.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},n.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},n.prototype.attributes=function(){return this.model.get("attributes")},n.prototype.initResize=function(){var e=this.em,t=e?.Editor,r=this.model.get("resizable");if(t&&r){var o=r===!0?[!0,!0,!0,!0]:r,s=o.length,c=void 0,u=void 0,f=void 0,h=!1;if(s==2){var g=o;c=g[0],f=g[0],u=g[1],h=g[1]}else if(s==4){var g=o;c=g[0],u=g[1],f=g[2],h=g[3]}var m=new t.Utils.Resizer(of({tc:c,cr:u,bc:f,cl:h,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:t.getConfig().stylePrefix,onEnd:function(){e.Canvas.refresh({all:!0})},posFetcher:function(_,w){var C=w.target,T=_.style,B=m.getConfig(),W=B.keyWidth,N=B.keyHeight,z=_.getBoundingClientRect(),ue=C=="container",_e=T[W],Se=T[N],ce=_e&&!ue?parseFloat(_e):z.width,q=Se&&!ue?parseFloat(Se):z.height;return{left:0,top:0,width:ce,height:q}}},r&&typeof r!="boolean"?r:{}));m.blur=function(){},m.focus(this.el)}},n.prototype.render=function(){var e=this.model.buttons,t=this.$el,r=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(r,"one-bg ").concat(r,"two-color");if(t.addClass(o),this.toggleVisible(),e.length){var s=new Q1(e);t.append(s.render().el)}return t.append(this.model.get("content")),this},n}(Rn),rT=tT,nT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),oT=function(i){nT(n,i);function n(e){var t=i.call(this,{collection:e})||this;return t.listenTo(e,"add",t.addTo),t.listenTo(e,"reset",t.render),t.listenTo(e,"remove",t.onRemove),t.className=t.pfx+"panels",t}return n.prototype.onRemove=function(e){var t=e.view;t&&t.remove()},n.prototype.addTo=function(e){this.addToCollection(e)},n.prototype.addToCollection=function(e,t){var r=t||null,o=e.get("el"),s=new rT(e),c=s.render().el,u=e.get("appendTo");if(!o)if(u){var f=document.querySelector(u);f?.appendChild(c)}else r?r.appendChild(c):this.$el.append(c);return s.initResize(),c},n.prototype.render=function(){var e=this,t=this.$el,r=document.createDocumentFragment();return t.empty(),this.collection.each(function(o){return e.addToCollection(o,r)}),t.append(r),t.attr("class",this.className),this},n}(Rn),iT=oT,aT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sT=function(i){aT(n,i);function n(e){var t=i.call(this,e,"Panels",F1())||this;return t.panels=new Y1(t,t.config.defaults),t}return n.prototype.getPanels=function(){return this.panels},n.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},n.prototype.addPanel=function(e){return this.panels.add(e)},n.prototype.removePanel=function(e){return this.panels.remove(e)},n.prototype.getPanel=function(e){var t=this.panels.where({id:e});return t.length?t[0]:null},n.prototype.addButton=function(e,t){var r=this.getPanel(e);return r?r.buttons.add(t):null},n.prototype.removeButton=function(e,t){var r=this.getPanel(e);return r&&r.buttons.remove(t)},n.prototype.getButton=function(e,t){var r=this.getPanel(e);if(r){var o=r.buttons.where({id:t});return o.length?o[0]:null}return null},n.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new iT(this.panels),this.PanelsViewObj.render().el},n.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("active")&&t.trigger("updateActive")})})},n.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("disable")&&t.trigger("change:disable")})})},n.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},n}(pn),lT=sT,cT=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}},uT=cT,fT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dT=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},pT=function(i){fT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.build=function(e,t){t===void 0&&(t={});var r=t.em,o=dT(t,["em"]),s=o;if(t.cleanId&&r){var c=r.Css.getAll(),u=c.toJSON().map(function(f){var h=f.selectors,g=h&&h.length===1&&h.models[0];return g&&g.isId()&&g.get("name")}).filter(Boolean);s.attributes||(s.attributes=function(f,h){var g=h.id;return g&&g[0]==="i"&&!f.get("script")&&!f.get("script-export")&&!f.get("attributes").id&&u.indexOf(g)<0&&delete h.id,h})}return e.toHTML(s)},n}(Ie.Kx),hT=pT,vT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gT=function(i){vT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.build=function(e){var t=this,r=e.toJSON();return this.beforeEach(r),(0,A.each)(r,function(o,s){var c=r[s];if(c instanceof Ie.Kx)r[s]=t.build(c);else if(c instanceof Ie.pM){var u=c;r[s]=[],u.length&&u.forEach(function(f,h){r[s][h]=t.build(f)})}}),r},n.prototype.beforeEach=function(e){delete e.status},n}(Ie.Kx),mT=gT,yT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();function _T(i){var n,e=((n=i.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"";return e.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var bT=function(i){yT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.mapModel=function(e){var t,r=this,o="",s=e.get("script-export")||e.get("script"),c=e.get("type"),u=e.get("components"),f=e.getId();if(s){var h=e.get("attributes");h=(0,A.extend)({},h,{id:f}),e.set("attributes",h,{silent:!0});var g=e.getScriptString(s),m=e.get("script-props");if(e.get("scriptUpdated")&&!m)this.mapJs[c+"-"+f]={ids:[f],code:g};else{var _=void 0,w=this.mapJs[c];if(m&&(_=e.__getScriptProps()),w)w.ids.push(f),_&&(w.props[f]=_);else{var C={ids:[f],code:g};_&&(C.props=(t={},t[f]=_,t)),this.mapJs[c]=C}}}return u.forEach(function(T){o+=r.mapModel(T)}),o},n.prototype.build=function(e){this.mapJs={},this.mapModel(e);var t="";for(var r in this.mapJs){var o=this.mapJs[r];if(o.code)if(o.props){if(_T(o.code))continue;t+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var s="#"+o.ids.join(", #");t+=`
          var items = document.querySelectorAll('`.concat(s,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return t},n}(Ie.Kx),wT=bT,xT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),af=function(){return af=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},af.apply(this,arguments)},os;(0,Pe.hasWin)()&&(os=Mt(4408),Mt(8253),Mt(7389),Mt(3640));var sy=function(i){xT(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},n.prototype.init=function(e){return(0,A.bindAll)(this,"onChange"),this.editor=os.fromTextArea(e,af({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},n.prototype.onChange=function(){this.trigger("update",this)},n.prototype.getEditor=function(){return this.editor},n.prototype.getElement=function(){return this.element},n.prototype.setElement=function(e){return this.element=e,this},n.prototype.refresh=function(){return this.getEditor().refresh(),this},n.prototype.focus=function(){return this.getEditor().focus(),this},n.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},n.prototype.setContent=function(e,t){var r=this;t===void 0&&(t={});var o=this.editor;if(o){o.setValue(e);var s=this.get("autoFormat"),c=o.autoFormatRange&&(s===!0||Array.isArray(s)&&s.includes(this.get("codeName")));c&&(os.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),os.commands.goDocStart(o)),!t.noRefresh&&setTimeout(function(){return r.refresh()})}},n}(Ie.Kx),CT=sy;sy.prototype.CodeMirror=os;var ST=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),OT=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},kT=function(i){ST(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.template=function(e){var t=e.pfx,r=e.codeName,o=e.label;return fn(hg||(hg=OT([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),t,t,r,t,o,t)},n.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},n.prototype.render=function(){var e,t,r=this,o=r.model,s=r.pfx,c=r.$el,u=o.toJSON(),f=o.get("input")||((t=(e=o).getElement)===null||t===void 0?void 0:t.call(e));return u.pfx=s,c.html(this.template(u)),c.attr("class","".concat(s,"editor-c")),c.find("#".concat(s,"code")).append(f),this},n}(Ie.Ss),TT=kT,hg,PT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Zl=function(){return Zl=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Zl.apply(this,arguments)},ET="CodeMirror",AT=function(i){PT(n,i);function n(e){var t=i.call(this,e,"CodeManager",uT())||this;t.EditorView=TT;var r=t.config,o=r.pStylePrefix;return o&&(r.stylePrefix=o+r.stylePrefix),t.generators={},t.viewers={},t.defGenerators={html:new hT,css:new TC,json:new mT,js:new wT},t.defViewers={CodeMirror:new CT},t.loadDefaultGenerators().loadDefaultViewers(),t}return n.prototype.addGenerator=function(e,t){return this.generators[e]=t,this},n.prototype.getGenerator=function(e){return this.generators[e]},n.prototype.getGenerators=function(){return this.generators},n.prototype.addViewer=function(e,t){return this.viewers[e]=t,this},n.prototype.getViewer=function(e){return this.viewers[e]},n.prototype.getViewers=function(){return this.viewers},n.prototype.createViewer=function(e){e===void 0&&(e={});var t=(0,A.isUndefined)(e.type)?ET:e.type,r=this.getViewer(t)&&this.getViewer(t).clone(),o=document.createElement("div"),s=document.createElement("textarea");return o.appendChild(s),r.set(Zl(Zl({},this.config.optsCodeViewer),e)),r.init(s),r.setElement(o),r},n.prototype.updateViewer=function(e,t){e.setContent(t)},n.prototype.getCode=function(e,t,r){r===void 0&&(r={}),r.em=this.em;var o=this.getGenerator(t);return o?o.build(e,r):""},n.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},n.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},n.prototype.destroy=function(){},n}(pn),DT=AT,MT=Mt(4729),LT=Mt.n(MT),RT=function(){return{maximumStackLength:500,trackSelection:!0}},jT=RT,Kn=function(i){return i.update="update",i.undo="undo",i.redo="redo",i.load="load",i.projectLoad="project:load",i.log="log",i.telemetryInit="telemetry:init",i.destroy="destroy",i.destroyed="destroyed",i}(Kn||{}),BT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uo=function(){return uo=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},uo.apply(this,arguments)},IT=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},nl=function(i){return i.avoidStore||i.noUndo||i.partial},vg=function(i){return Object.keys(i.changedAttributes())},ol=new WeakMap,VT=function(i){BT(n,i);function n(e){var t=i.call(this,e,"UndoManager",jT())||this;t.config._disable&&(t.config.maximumStackLength=0);var r=!0;return t.um=new(LT())(uo({track:!0,register:[]},t.config)),t.um.changeUndoType("change",{condition:function(o){var s=o.get("_undo");if(s){var c=o.get("_undoexc");if((0,A.isArray)(c)&&vg(o).some(function(u){return c.indexOf(u)>=0}))return!1;if((0,A.isBoolean)(s)||(0,A.isArray)(s)&&vg(o).some(function(u){return s.indexOf(u)>=0}))return!0}return!1},on:function(o,s,c){var u=ol.get(o);u||(u=o.previousAttributes(),ol.set(o,u));var f=c||s||{};if(f.noUndo&&setTimeout(function(){ol.delete(o)}),!nl(f)){var h=o.toJSON({fromUndo:r}),g={object:o,before:u,after:h};return ol.delete(o),(0,A.isEmpty)(h)?void 0:g}}}),t.um.changeUndoType("add",{on:function(o,s,c){if(c===void 0&&(c={}),!(nl(c)||!t.isRegistered(s)))return{object:s,before:void 0,after:o,options:uo(uo({},c),{fromUndo:r})}}}),t.um.changeUndoType("remove",{on:function(o,s,c){if(c===void 0&&(c={}),!(nl(c)||!t.isRegistered(s)))return{object:s,before:o,after:void 0,options:uo(uo({},c),{fromUndo:r})}}}),t.um.changeUndoType("reset",{undo:function(o,s){o.reset(s,{fromUndo:r})},redo:function(o,s,c){o.reset(c,{fromUndo:r})},on:function(o,s){if(s===void 0&&(s={}),!(nl(s)||!t.isRegistered(o)))return{object:o,before:s.previousModels,after:IT([],o.models,!0),options:uo(uo({},s),{fromUndo:r})}}}),t.um.on("undo redo",function(){e.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),[Kn.undo,Kn.redo].forEach(function(o){return t.um.on(o,function(){return e.trigger(o)})}),t}return n.prototype.postLoad=function(){var e=this,t=e.config,r=e.em;t.trackSelection&&r&&this.add(r.get("selected"))},n.prototype.add=function(e){return this.um.register(e),this},n.prototype.remove=function(e){return this.um.unregister(e),this},n.prototype.removeAll=function(){return this.um.unregisterAll(),this},n.prototype.start=function(){return this.um.startTracking(),this},n.prototype.stop=function(){return this.um.stopTracking(),this},n.prototype.undo=function(e){e===void 0&&(e=!0);var t=this,r=t.em,o=t.um;return!r.isEditing()&&o.undo(e),this},n.prototype.undoAll=function(){return this.um.undoAll(),this},n.prototype.redo=function(e){e===void 0&&(e=!0);var t=this,r=t.em,o=t.um;return!r.isEditing()&&o.redo(e),this},n.prototype.redoAll=function(){return this.um.redoAll(),this},n.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},n.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},n.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},n.prototype.getStack=function(){return this.um.stack},n.prototype.getStackGroup=function(){var e=[],t=[];return this.getStack().forEach(function(r){var o=r.get("magicFusionIndex");t.indexOf(o)<0&&(t.push(o),e.push(r))}),e},n.prototype.skip=function(e){var t=!!this.um.isTracking();t&&this.stop(),e(),t&&this.start()},n.prototype.getGroupedStack=function(){var e={},t=this.getStack(),r=function(o,s){var c=o.attributes,u=c.type,f=c.after,h=c.before,g=c.object,m=c.options,_=m===void 0?{}:m;return{index:s,type:u,after:f,before:h,object:g,options:_}};return t.forEach(function(o,s){var c=o.get("magicFusionIndex"),u=r(o,s);e[c]?e[c].push(u):e[c]=[u]}),Object.keys(e).map(function(o){var s=e[o];return{index:s[s.length-1].index,actions:s,labels:(0,A.unique)(s.reduce(function(c,u){var f,h=(f=u.options)===null||f===void 0?void 0:f.action;return h&&c.push(h),c},[]))}})},n.prototype.goToGroup=function(e){var t=this;if(e){var r=this.getPointer(),o=e.index-r;(0,A.times)(Math.abs(o),function(){t[o<0?"undo":"redo"](!1)})}},n.prototype.getPointer=function(){return this.getStack().pointer},n.prototype.clear=function(){return this.um.clear(),this},n.prototype.getInstance=function(){return this.um},n.prototype.destroy=function(){this.clear().removeAll()},n}(pn),NT=VT,FT=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}},HT=FT,ra=function(){return ra=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ra.apply(this,arguments)},sf=function(i){return i[i.ACTIVE=1]="ACTIVE",i[i.INACTIVE=0]="INACTIVE",i[i.DISABLED=-1]="DISABLED",i}(sf||{}),Au="_rte",vi={ACTIVE:1,INACTIVE:0,DISABLED:-1},il=function(i,n){n===void 0&&(n="A");var e=i.selection()||{},t=e.anchorNode,r=e.focusNode,o=t?.parentNode,s=r?.parentNode;return o?.nodeName==n||s?.nodeName==n},Ql="data-selectme",Wa={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(i){return i.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(i){return i.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(i){return i.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(i){return i.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(i){return i&&i.selection()&&il(i)?vi.ACTIVE:vi.INACTIVE},result:function(i){il(i)?i.exec("unlink"):i.insertHTML('<a href="" '.concat(Ql,">").concat(i.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(i){return i?.selection()&&il(i,"SPAN")?vi.DISABLED:vi.INACTIVE},result:function(i){!il(i,"SPAN")&&i.insertHTML("<span ".concat(Ql,">").concat(i.selection(),"</span>"),{select:!0})}}},UT=function(){function i(n,e,t){t===void 0&&(t={});var r=this;if(this.em=n,this.settings=t,e[Au])return e[Au];e[Au]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(t.actions||[]).map(function(h){var g=h;return(0,A.isString)(h)?g=ra({},Wa[h]):Wa[h.name]&&(g=ra(ra({},Wa[h.name]),h)),g}),s=o.length?o:Object.keys(Wa).map(function(h){return Wa[h]});t.classes=ra({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},t.classes);var c=t.classes,u=t.actionbar;if(this.actionbar=u,this.classes=c,this.actions=s,!u){if(!this.isCustom(t.module)){var f=t.actionbarContainer;u=document.createElement("div"),u.className=c.actionbar,f?.appendChild(u),this.actionbar=u}s.forEach(function(h){return r.addAction(h)})}return t.styleWithCSS&&this.exec("styleWithCSS"),this}return i.prototype.isCustom=function(n){var e=n||this.em.RichTextEditor;return!!(e?.config.custom||e?.customRte)},i.prototype.destroy=function(){},i.prototype.setEl=function(n){this.el=n,this.doc=n.ownerDocument},i.prototype.updateActiveActions=function(){var n=this,e=this.getActions();e.forEach(function(t){var r=t.update,o=t.btn,s=n.classes,c=s.active,u=s.inactive,f=s.disabled,h=t.state,g=t.name,m=n.doc,_=sf.INACTIVE;if(o&&(o.className=o.className.replace(c,"").trim(),o.className=o.className.replace(u,"").trim(),o.className=o.className.replace(f,"").trim()),h){var w=h(n,m);if(_=w,o)switch(w){case vi.ACTIVE:o.className+=" ".concat(c);break;case vi.INACTIVE:o.className+=" ".concat(u);break;case vi.DISABLED:o.className+=" ".concat(f);break}}else m.queryCommandSupported(g)&&m.queryCommandState(g)&&(o&&(o.className+=" ".concat(c)),_=sf.ACTIVE);t.currentState=_,r?.(n,t)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},i.prototype.enable=function(n){return this.enabled?this:this.__toggleEffects(!0,n)},i.prototype.disable=function(){return this.__toggleEffects(!1)},i.prototype.__toggleEffects=function(n,e){n===void 0&&(n=!1),e===void 0&&(e={});var t=n?ze.on:ze.AU,r=this,o=r.el,s=r.doc,c=this.actionbarEl();if(c&&(c.style.display=n?"":"none"),o.contentEditable="".concat(!!n),t(o,"mouseup keyup",this.updateActiveActions),t(s,"keydown",this.__onKeydown),t(s,"paste",this.__onPaste),this.enabled=n,n){var u=e.event;if(this.syncActions(),this.updateActiveActions(),u){var f=null;if(s.caretRangeFromPoint){var h=(0,ze.G2)(u);f=s.caretRangeFromPoint(h.clientX,h.clientY)}else u.rangeParent&&(f=s.createRange(),f.setStart(u.rangeParent,u.rangeOffset));var g=s.getSelection();g?.removeAllRanges(),f&&g?.addRange(f)}o.focus()}return this},i.prototype.__onKeydown=function(n){var e=this.em,t=e.RichTextEditor.getConfig().onKeydown;if(t)return t({ev:n,rte:this,editor:e.getEditor()});var r=this.doc,o=["insertOrderedList","insertUnorderedList"];n.key==="Enter"&&!o.some(function(s){return r.queryCommandState(s)})&&(r.execCommand("insertLineBreak"),n.preventDefault())},i.prototype.__onPaste=function(n){var e=this.em,t=e.RichTextEditor.getConfig().onPaste;if(t)return t({ev:n,rte:this,editor:e.getEditor()});var r=n.clipboardData,o=r.getData("text"),s=r.getData("text/html");if(o&&!s){n.preventDefault();var c=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,c)}},i.prototype.syncActions=function(){var n=this;this.getActions().forEach(function(e){if(n.actionbar&&(!e.state||e.state&&e.state(n,n.doc)>=0)){var t=e.event||"click",r=e.btn;r&&(r["on".concat(t)]=function(){e.result(n,e),n.updateActiveActions()})}})},i.prototype.addAction=function(n,e){e===void 0&&(e={});var t=e.sync,r=this.actionbarEl();if(r){var o=n.icon,s=n.attributes,c=s===void 0?{}:s,u=document.createElement("span");u.className=this.classes.button,n.btn=u;for(var f in c)u.setAttribute(f,c[f]);typeof o=="string"?u.innerHTML=o:u.appendChild(o),r.appendChild(u)}t&&(this.actions.push(n),this.syncActions())},i.prototype.getActions=function(){return this.actions},i.prototype.selection=function(){return this.doc.getSelection()},i.prototype.exec=function(n,e){this.doc.execCommand(n,!1,e)},i.prototype.actionbarEl=function(){return this.actionbar},i.prototype.insertHTML=function(n,e){var t=e===void 0?{}:e,r=t.select,o=this,s=o.em,c=o.doc,u=o.el,f=c.getSelection();if(f&&f.rangeCount){var h=(0,Pe.getComponentModel)(u)||s.getSelected(),g=c.createElement("div"),m=f.getRangeAt(0);m.deleteContents(),(0,A.isString)(n)?g.innerHTML=n:n&&g.appendChild(n),Array.prototype.slice.call(g.childNodes).forEach(function(_){m.insertNode(_)}),f.removeAllRanges(),f.addRange(m),u.focus(),r&&h&&(h.once("rte:disable",function(){var _=h.find("[".concat(Ql,"]"))[0];_&&(s.setSelected(_),_.removeAttributes(Ql))}),h.trigger("disable"))}},i}(),WT=UT,zT=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ec=function(){return ec=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ec.apply(this,arguments)},Du=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{f(t.next(h))}catch(g){s(g)}}function u(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?o(h.value):r(h.value).then(c,u)}f((t=t.apply(i,n||[])).next())})},Mu=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(h){return u([f,h])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(i,e)}catch(h){f=[6,h],r=0}finally{t=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},KT=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Lu="".concat(al.refresh," frame:scroll ").concat(er.I.update),GT="rte:enable",YT="rte:disable",qT="rte:custom",XT={enable:GT,disable:YT,custom:qT},$T=function(i){zT(n,i);function n(e){var t=i.call(this,e,"RichTextEditor",HT())||this;t.events=XT;var r=t.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),t.pfx=r.stylePrefix,t.actions=r.actions||[];var s=new Ie.Kx;return t.model=s,s.on("change:currentView",t.__trgCustom,t),t.__dbdTrgCustom=(0,A.debounce)(function(){return t.__trgCustom()},0),t}return n.prototype.onLoad=function(){if((0,Pe.hasWin)()){var e=this.config,t=e.pStylePrefix,r=e.custom,o=(0,ze.a_)("div",{class:(0,ze.cx)("".concat(t,"rte-toolbar"),!r&&"".concat(t,"one-bg ").concat(t,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,ze.a_)("div")),(0,ze.on)(o,"mousedown",function(s){return s.stopPropagation()})}},n.prototype.__trgCustom=function(){var e=this,t=e.model,r=e.em,o=e.events;r.trigger(o.custom,{enabled:!!t.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},n.prototype.destroy=function(){var e,t,r;(e=this.globalRte)===null||e===void 0||e.destroy(),(r=(t=this.customRte)===null||t===void 0?void 0:t.destroy)===null||r===void 0||r.call(t),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,ze.YZ)(this.toolbar)},n.prototype.postRender=function(e){var t=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),t.getToolsEl().appendChild(this.toolbar)},n.prototype.initRte=function(e){var t=this.globalRte,r=this,o=r.em,s=r.pfx,c=r.actionbar,u=r.config,f=this.actions||KT([],u.actions,!0),h={actionbar:"".concat(s,"actionbar"),button:"".concat(s,"action"),active:"".concat(s,"active"),inactive:"".concat(s,"inactive"),disabled:"".concat(s,"disabled")};return t?(t.em=o,t.setEl(e)):(t=new WT(o,e,{classes:h,actions:f,actionbar:c,actionbarContainer:this.toolbar,module:this}),this.globalRte=t),t.actionbar&&(this.actionbar=t.actionbar),t.actions&&(this.actions=t.actions),t},n.prototype.add=function(e,t){var r;t===void 0&&(t={}),t.name=e,(r=this.globalRte)===null||r===void 0||r.addAction(t,{sync:!0})},n.prototype.get=function(e){var t,r;return(t=this.globalRte)===null||t===void 0||t.getActions().forEach(function(o){o.name==e&&(r=o)}),r},n.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},n.prototype.remove=function(e){var t,r=this.getAll(),o=this.get(e);if(o){var s=o.btn,c=r.indexOf(o);(t=s?.parentNode)===null||t===void 0||t.removeChild(s),r.splice(c,1)}return o},n.prototype.run=function(e){var t=this.globalRte,r=(0,A.isString)(e)?this.get(e):e;t&&r&&(r.result(t,r),t.updateActiveActions())},n.prototype.getToolbarEl=function(){return this.toolbar},n.prototype.updatePosition=function(){var e=this,t=e.em,r=e.toolbar,o="px",s=t.Canvas,c=r.style,u=s.getTargetToElementFixed(this.lastEl,r,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(f){var h=u[f];(0,Pe.isDef)(h)&&(c[f]=(0,A.isString)(h)?h:(h||0)+o)})},n.prototype.enable=function(e,t,r){return Du(this,void 0,void 0,function(){var o,s,c,u,f;return Mu(this,function(h){switch(h.label){case 0:return this.lastEl=e.el,o=this,s=o.customRte,c=o.em,u=e.getChildrenContainer(),this.toolbar.style.display="",[4,s?s.enable(u,t,r):this.initRte(u).enable(r)];case 1:return f=h.sent(),c&&(setTimeout(this.updatePosition.bind(this),0),c.off(Lu,this.updatePosition,this),c.on(Lu,this.updatePosition,this),c.trigger("rte:enable",e,f)),this.model.set({currentView:e}),[2,f]}})})},n.prototype.getContent=function(e,t){return Du(this,void 0,void 0,function(){var r,o;return Mu(this,function(s){switch(s.label){case 0:return r=this.customRte,o=e.getChildrenContainer(),r&&t&&(0,A.isFunction)(r.getContent)?[4,r.getContent(o,t,{view:e})]:[3,2];case 1:return[2,s.sent()];case 2:return[2,o.innerHTML]}})})},n.prototype.hideToolbar=function(){var e=this.toolbar.style,t="-1000px";e.top=t,e.left=t,e.display="none"},n.prototype.disable=function(e,t){return Du(this,arguments,void 0,function(r,o,s){var c,u,f,h;return s===void 0&&(s={}),Mu(this,function(g){switch(g.label){case 0:return c={},u=this.em,f=this.customRte,f?[4,f.disable(r.getChildrenContainer(),o,ec(ec({},s),{view:r}))]:[3,2];case 1:return h=g.sent(),h&&(c=h),[3,3];case 2:o&&o.disable(),g.label=3;case 3:return this.hideToolbar(),u&&(u.off(Lu,this.updatePosition,this),!s.fromMove&&u.trigger("rte:disable",r,o)),this.model.unset("currentView"),[2,c]}})})},n}(pn),JT=$T,ZT=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}},QT=ZT,eP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qr=function(){return qr=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},qr.apply(this,arguments)},tP=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},gg=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Sf=function(i){eP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.getDefaults=function(){return(0,A.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},n.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.em=t.em;var r=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||r).replace(/ /g,"-"));var s=this.get("property");!this.get("id")&&this.set("id",s),!o&&this.set("name",(0,Pe.capitalize)(s).replace(/-/g," ")),this.on("change",this.__upTargets),n.callInit(this,e,t)},n.prototype.__getParentProp=function(){var e,t;return(t=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||t===void 0?void 0:t.parentProp},n.prototype.__upTargets=function(e,t){var r,o=this;t===void 0&&(t={});var s=this.em,c=s.Styles,u=this.getName(),f=t.__clear,h=f?"":this.__getFullValue(t),g=this.__getParentProp(),m=this.changedAttributes(),_=(0,A.keys)(m).reduce(function(N,z){return N[z]=o.previous(z),N},{}),w=gg(gg([],(0,A.keys)(this.__getClearProps()),!0),["__p"],!1),C=(0,A.keys)(m),T=!t.__up&&!g&&(f||w.some(function(N){return C.indexOf(N)>=0})),B=this.get("onChange"),W={property:this,from:_,to:m,value:h,opts:t};c.__trgEv(c.events.propertyUpdate,W),B&&B(W),T&&this.__upTargetsStyle((r={},r[u]=h,r),t)},n.prototype.__upTargetsStyle=function(e,t){var r,o=(r=this.em)===null||r===void 0?void 0:r.get("StyleManager");o?.addStyleTargets(qr(qr({},e),{__p:!!t.avoidStore}),t)},n.prototype._up=function(e,t){t===void 0&&(t={}),t.noTarget&&(t.__up=!0);var r=t.partial,o=tP(t,["partial"]);return e.__p=!!(o.avoidStore||r),this.set(e,qr(qr({},o),{avoidStore:e.__p}))},n.prototype.up=function(e,t){t===void 0&&(t={}),this.set(e,qr(qr({},t),{__up:!0}))},n.prototype.init=function(){},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("property")},n.prototype.getLabel=function(e){var t;e===void 0&&(e={});var r=e.locale,o=r===void 0?!0:r,s=this.getId(),c=this.get("name")||this.get("label");return o&&((t=this.em)===null||t===void 0?void 0:t.t("styleManager.properties.".concat(s)))||c},n.prototype.getValue=function(e){e===void 0&&(e={});var t=e.noDefault,r=this.get("value");return!this.hasValue()&&!t?this.getDefaultValue():r},n.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,r=t&&this.getParentTarget(),o=this.get("value");return!(0,A.isUndefined)(o)&&o!==""&&!r},n.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},n.prototype.getStyle=function(e){var t;e===void 0&&(e={});var r=this.getName(),o=e.camelCase?(0,Pe.camelCase)(r):r;return t={},t[o]=this.__getFullValue(e),t},n.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,A.isUndefined)(e)?this.get("defaults"):e)},n.prototype.upValue=function(e,t){t===void 0&&(t={});var r=e===null||e===""?this.__getClearProps():this.__parseValue(e,t);return this._up(r,t)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),qr(qr({},e),{__clear:!0})),this},n.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},n.prototype.getParent=function(){return this.__getParentProp()},n.prototype.isFull=function(){return!!this.get("full")},n.prototype.__parseValue=function(e,t){return this.parseValue(e,t)},n.prototype.__getClearProps=function(){return{value:""}},n.prototype.setValue=function(e,t,r){t===void 0&&(t=!0),r===void 0&&(r={});var o=this.parseValue(e),s=!t;!s&&this.set({value:void 0},{avoidStore:s,silent:!0}),this.set(o,qr({avoidStore:s},r))},n.prototype.setValueFromInput=function(e,t,r){r===void 0&&(r={}),this.setValue(e,t,qr(qr({},r),{fromInput:1}))},n.prototype.parseValue=function(e,t){t===void 0&&(t={});var r={value:e},o="!important",s=this.get("functionName")||"";if((0,A.isString)(e)&&e.indexOf(o)!==-1&&(r.value=e.replace(o,"").trim(),r.important=!0),!s&&!t.complete)return r;var c=[],u="".concat(r.value).trim(),f=u.indexOf("(")+1,h=s||u.substring(0,f-1);if(h&&(r.functionName=h),!s||u.indexOf("".concat(s,"("))===0){var g=u.lastIndexOf(")");c.push(f),g>=0&&c.push(g),r.value=String.prototype.substring.apply(u,c)}if(t.numeric){var m=parseFloat(r.value);r.unit=r.value.replace(m,""),r.value=m}return r},n.prototype.__getFullValue=function(e){var t=e===void 0?{}:e,r=t.withDefault;return!this.hasValue()&&r?this.getDefaultValue():this.getFullValue()},n.prototype.getFullValue=function(e,t){t===void 0&&(t={});var r=this.get("functionName"),o=this.getDefaultValue(),s=(0,A.isUndefined)(e)?this.get("value"):e,c=!(0,A.isUndefined)(s)&&s!=="";if(s&&o&&s===o)return o;if(r&&c){var u=r==="url"?"'".concat(s.replace(/'|"/g,""),"'"):s;s="".concat(r,"(").concat(u,")")}return c&&this.get("important")&&!t.skipImportant&&(s="".concat(s," !important")),s||""},n.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},n.prototype.getParentTarget=function(){return this.get("parentTarget")||null},n.prototype.__parseFn=function(e){e===void 0&&(e="");var t=e.indexOf("(")+1,r=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,r>=0?r:void 0]).trim()}},n.prototype.__checkVisibility=function(e){var t=e.target,r=e.component,o=e.sectors,s=r||t;if(!s)return!1;var c=this.getId(),u=this.getName(),f=this.get("toRequire"),h=this.get("requires"),g=this.get("requiresParent"),m=s.get("unstylable"),_=s.get("stylable-require"),w=s.get("stylable");if((0,A.isArray)(w)&&(w=w.indexOf(u)>=0),(0,A.isArray)(m)&&(w=m.indexOf(u)<0),f&&(w=!t||_&&(_.indexOf(c)>=0||_.indexOf(u)>=0)),o&&h){var C=(0,A.keys)(h);o.forEach(function(N){N.getProperties().forEach(function(z){if((0,A.includes)(C,z.id)){var ue=h[z.id];w=w&&(0,A.includes)(ue,z.get("value"))}})})}if(g){var T=r&&r.parent(),B=T&&T.getEl();if(B){var W=(0,Pe.hasWin)()?window.getComputedStyle(B):{};(0,A.each)(g,function(N,z){w=w&&W[z]&&(0,A.includes)(N,W[z])})}else w=!1}return!!w},n}(Ie.Kx),Yt=Sf;Sf.callParentInit=function(i,n,e,t){t===void 0&&(t={}),i.prototype.initialize.apply(n,[e,qr(qr({},t),{skipInit:1})])};Sf.callInit=function(i,n,e){e===void 0&&(e={}),!e.skipInit&&i.init(n,e)};var rP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),na=function(){return na=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},na.apply(this,arguments)},mg=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},ly=function(i){return i==="integer"||i==="number"},nP=function(i){rP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return na(na({},Yt.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},n.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Yt.callParentInit(Yt,this,e,t);var r=this.em,o=new kf(this.get("properties")||[],{em:r,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),Yt.callInit(this,e,t)},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),n.prototype.getProperties=function(){return mg([],this.get("properties").models,!0)},n.prototype.getProperty=function(e){return this.properties.filter(function(t){return t.getId()===e||t.getName()===e})[0]},n.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},n.prototype.isDetached=function(){return!!this.get("detached")},n.prototype.getValues=function(e){var t=e===void 0?{}:e,r=t.byName;return this.getProperties().reduce(function(o,s){var c=r?s.getName():s.getId();return o[c]="".concat(s.__getFullValue()),o},{})},n.prototype.getSeparator=function(){return this.getSplitSeparator()},n.prototype.getJoin=function(){return this.__getJoin()},n.prototype.getStyleFromProps=function(e){var t;e===void 0&&(e={});var r=this.getName(),o=this.__getJoin(),s=this.get("toStyle"),c=this.getValues(),u={};if(s)u=s(c,{join:o,name:r,property:this});else if(c=this.getValues({byName:!0}),this.isDetached())u=c;else{var f=this.getProperties().map(function(h){return h.__getFullValue({withDefault:1})}).filter(Boolean).join(o);u=(t={},t[r]=f,t)}return this.isDetached()?u[r]="":(u[r]=u[r]||"",u=na(na({},u),this.getProperties().reduce(function(h,g){return h[g.getName()]="",h},{}))),e.camelCase?Object.keys(u).reduce(function(h,g){return h[(0,Pe.camelCase)(g)]=u[g],h},{}):u},n.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},n.prototype.__upProperties=function(e,t){if(t===void 0&&(t={}),!(t.__up||t.__clearIn)){var r=this.__getParentProp();if(r)return r.__upProperties(this,t);this.__upTargetsStyleProps(t,e)}},n.prototype.__upTargetsStyleProps=function(e,t){var r;e===void 0&&(e={});var o=this.getStyleFromProps();if(this.isDetached()&&t){var s=t.getName();o=(r={},r[s]=o[s],r)}this.__upTargetsStyle(o,e)},n.prototype._up=function(e,t){return t===void 0&&(t={}),this.__setProperties(this.__getSplitValue(e.value),t),Yt.prototype._up.call(this,e,t),this},n.prototype.getStyle=function(e){return this.getStyleFromProps(e)},n.prototype.__getFullValue=function(e){if(e===void 0&&(e={}),this.isDetached()||e.__clear)return"";var t=this.getStyleFromProps()[this.getName()]||"";return Hu(t)},n.prototype.__getJoin=function(){var e=this.get("join");return(0,A.isString)(e)?e:this.get("separator")},n.prototype.__styleHasProps=function(e){e===void 0&&(e={});var t=this.getName(),r=this.getProperties(),o=r.map(function(c){return c.getName()}),s=mg([t],o,!0);return s.some(function(c){return!(0,A.isUndefined)(e[c])&&e[c]!==""})},n.prototype.__splitValue=function(e,t){return Hu(e).split(t).map(function(r){return r.trim()}).filter(Boolean)},n.prototype.__splitStyleName=function(e,t,r){var o=e[t];return this.__splitValue(o||"",r)},n.prototype.__getSplitValue=function(e,t){e===void 0&&(e="");var r=t===void 0?{}:t,o=r.byName,s=this.getProperties(),c=s.length===4&&s.every(function(h){return ly(h.getType())}),u=this.__splitValue(e,this.getSplitSeparator()),f={};return s.forEach(function(h,g){var m=u[g],_=(0,A.isUndefined)(m)?"":m;if(c){var w=u.length;_=u[g]||u[g%w+(w!=1&&w%2?1:0)]||_}var C=o?h.getName():h.getId();f[C]=_||""}),f},n.prototype.__getPropsFromStyle=function(e,t){if(e===void 0&&(e={}),t===void 0&&(t={}),!this.__styleHasProps(e))return null;var r=t.byName,o=this.getName(),s=this.getProperties(),c=this.getSplitSeparator(),u=this.get("fromStyle"),f=u?u(e,{property:this,name:o,separator:c}):{};if(!u){var h=e[o];f=this.__getSplitValue(h||"",{byName:r}),s.forEach(function(g){var m=e[g.getName()],_=r?g.getName():g.getId();!(0,A.isUndefined)(m)&&m!==""&&(f[_]=m)})}return f},n.prototype.__setProperties=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.getProperties().forEach(function(o){var s=e[o.getId()];o.__getFullValue()!==s&&o.upValue(s,t)});var r=(0,A.keys)(e).map(function(o){return e[o]}).join(" ");this.set("value",r,{silent:!0})},n.prototype.clear=function(){var e=this;return this.getProperties().map(function(t){return t.clear({__clearIn:!e.isDetached()})}),Yt.prototype.clear.call(this),this},n.prototype.hasValue=function(e){return this.getProperties().some(function(t){return t.hasValue(e)})},n.prototype.getFullValue=function(){return this.__getFullValue()},n.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},n}(Yt),Ki=nP,oP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ln=function(){return ln=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ln.apply(this,arguments)},iP=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},aP=/,(?![^\(]*\))/,sP=/\s(?![^(]*\))/,lP=function(i){oP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return ln(ln({},Ki.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},n.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Ki.callParentInit(Ki,this,e,t);var r=this.get("layers"),o=new fl(r,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),Ki.callInit(this,e,t)},Object.defineProperty(n.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),n.prototype.getLayers=function(){return this.layers.models},n.prototype.hasLayers=function(){return this.getLayers().length>0},n.prototype.getLayer=function(e){return e===void 0&&(e=0),this.layers.at(e)||void 0},n.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},n.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},n.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t&&this.selectLayer(t)},n.prototype.moveLayer=function(e,t){t===void 0&&(t=0);var r=this.layers,o=e?e.getIndex():-1;o>=0&&(0,A.isNumber)(t)&&t>=0&&t<r.length&&o!==t&&(this.removeLayer(e),r.add(e,{at:t}))},n.prototype.addLayer=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r={};this.getProperties().forEach(function(s){var c=s.getId(),u=e[c];r[c]=(0,A.isUndefined)(u)?s.getDefaultValue():u});var o=this.layers.push({values:r},t);return o},n.prototype.removeLayer=function(e){return this.layers.remove(e)},n.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t?this.removeLayer(t):null},n.prototype.getLayerLabel=function(e){var t="";if(e){var r=this.get("layerLabel"),o=e.getValues(),s=e.getIndex();if(r)t=r(e,{index:s,values:o,property:this});else{var c=[];this.getProperties().map(function(u){c.push(o[u.getId()])}),t=c.filter(Boolean).join(" ")}}return t},n.prototype.getStyleFromLayer=function(e,t){var r;t===void 0&&(t={});var o=this.__getJoin(),s=this.__getJoinLayers(),c=this.get("toStyle"),u=this.getName(),f=e.getValues(),h;if(c)h=c(f,{join:o,joinLayers:s,name:u,layer:e,property:this});else{var g=this.getProperties().map(function(m){var _=m.getName(),w=f[m.getId()],C=(0,A.isUndefined)(w)?m.getDefaultValue():w;if(t.number&&ly(m.getType())){var T=m.parseValue(w,t.number);C="".concat(T.value).concat(T.unit)}return{name:_,value:C}});h=this.isDetached()?g.reduce(function(m,_){return m[_.name]=_.value,m},{}):(r={},r[this.getName()]=g.map(function(m){return m.value}).join(o),r)}return t.camelCase?Object.keys(h).reduce(function(m,_){return m[(0,Pe.camelCase)(_)]=h[_],m},{}):h},n.prototype.getStylePreview=function(e,t){t===void 0&&(t={});var r={},o=this.get("preview");return o&&(r=this.getStyleFromLayer(e,t)),r},n.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,A.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},n.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},n.prototype.__upProperties=function(e,t){var r;t===void 0&&(t={});var o=this.getSelectedLayer();o&&(o.upValues((r={},r[e.getId()]=e.__getFullValue(),r)),!t.__up&&this.__upTargetsStyleProps(t))},n.prototype.__upLayers=function(e,t,r){this.__upTargetsStyleProps(r||t)},n.prototype.__upTargets=function(e,t){if(t===void 0&&(t={}),!t.__select)return Yt.prototype.__upTargets.call(this,e,t)},n.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(e),e)},n.prototype.__upTargetsStyle=function(e,t){return Yt.prototype.__upTargetsStyle.call(this,e,t)},n.prototype.__upSelected=function(e,t){var r=e===void 0?{}:e,o=r.noEvent;t===void 0&&(t={});var s=this.em.Styles,c=this.getSelectedLayer(),u=c?.getValues();u&&this.getProperties().forEach(function(f){var h,g=(h=u[f.getId()])!==null&&h!==void 0?h:"";f.__getFullValue()!==g&&f.upValue(g,ln(ln({},t),{__up:!0}))}),!o&&s.__trgEv(s.events.layerSelect,{property:this})},n.prototype._up=function(e,t){t===void 0&&(t={});var r=e.__layers,o=r===void 0?[]:r,s=iP(e,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},t),Yt.prototype._up.call(this,s,t),this},n.prototype.__setLayers=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var r=this.layers,o=e.map(function(s){return{values:s}});r.length===o.length?o.map(function(s,c){var u;return(u=r.at(c))===null||u===void 0?void 0:u.upValues(s.values)}):r.reset(o),this.set({isEmptyValue:!!t.isEmptyValue}),this.__upSelected({noEvent:!0})},n.prototype.__parseValue=function(e){var t=this,r=this.parseValue(e);return r.__layers=e.split(aP).map(function(o){return o.trim()}).map(function(o){return t.__parseLayer(o)}).filter(Boolean),r},n.prototype.__parseLayer=function(e){var t=this.get("parseLayer"),r=e.split(sP),o=this.getProperties();return t?t({value:e,values:r}):o.reduce(function(s,c,u){var f=r[u];return s[c.getId()]=(0,A.isUndefined)(f)?c.getDefaultValue():f,s},{})},n.prototype.__getLayersFromStyle=function(e){var t=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;if(this.isEmptyValueStyle(e))return[];var r=this.getName(),o=this.getProperties(),s=this.getLayerSeparator(),c=this.attributes.fromStyle,u=c?c(e,{property:this,name:r,separatorLayers:s}):[];if(!c){var f=this.__splitStyleName(e,r,s).map(function(h){return h.split(t.getSplitSeparator())}).map(function(h){var g={};return o.forEach(function(m,_){var w=h[_];g[m.getId()]=(0,A.isUndefined)(w)?m.getDefaultValue():w}),g});o.forEach(function(h){var g=h.getId();t.__splitStyleName(e,h.getName(),s).map(function(m){var _;return _={},_[g]=m||h.getDefaultValue(),_}).forEach(function(m,_){f[_]=f[_]?ln(ln({},f[_]),m):m})}),u=f}return(0,A.isArray)(u)?u:[u]},n.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},n.prototype.getStyleFromLayers=function(e){var t=this;e===void 0&&(e={});var r={},o=this.getName(),s=this.getLayers(),c=this.getProperties(),u=s.map(function(h){return t.getStyleFromLayer(h,e)});if(u.forEach(function(h){(0,A.keys)(h).map(function(g){r[g]||(r[g]=[]),r[g].push(h[g])})}),(0,A.keys)(r).map(function(h){r[h]=r[h].join(t.__getJoinLayers())}),this.isDetached())r[o]="",!s.length&&c.map(function(h){r[h.getName()]=""});else{var f=c.reduce(function(h,g){return h[g.getName()]="",h},{});r[o]=r[o]||"",r=ln(ln({},r),f)}return ln(ln({},r),e.__clear?{}:this.getEmptyValueStyle())},n.prototype.isEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.getEmptyValueStyle({force:!0}),r=(0,A.keys)(t);return!!r.length&&r.every(function(o){return t[o]===e[o]})},n.prototype.getEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.attributes.emptyValue;if(t&&(!this.hasLayers()||e.force)){var r=this.getName(),o=this.getProperties(),s=(0,A.isString)(t)?t:t({property:this});if((0,A.isString)(s)){var c={};return this.isDetached()?o.map(function(u){c[u.getName()]=s}):c[r]=s,c}else return s}else return{}},n.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),t=this.get("layerSeparator");return e||((0,A.isString)(t)?t:e)},n.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return Hu(e[this.getName()])},n.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,r=t&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!r},n.prototype.clear=function(e){return e===void 0&&(e={}),this.layers.reset(),this.__upTargetsStyleProps(ln(ln({},e),{__clear:!0})),Yt.prototype.clear.call(this),this},n.prototype.__canClearProp=function(){return!1},n.prototype.__getLayers=function(){return this.layers},n}(Ki),cP=lP,uP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tc=function(){return tc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},tc.apply(this,arguments)},fP=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},dP=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Ru="data-clear-style",pP=function(i){uP(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;(0,A.bindAll)(t,"__change","__updateStyle");var r=e.config||{},o=r.em;t.config=r,t.em=o,t.pfx=r.stylePrefix||"",t.ppfx=r.pStylePrefix||"",t.__destroyFn=t.destroy?t.destroy.bind(t):function(){};var s=t.model;s.view=t,t.onValueChange=(0,A.debounce)(t.onValueChange.bind(t),10),t.updateStatus=(0,A.debounce)(t.updateStatus.bind(t),0),t.listenTo(s,"destroy remove",t.remove),t.listenTo(s,"change:visible",t.updateVisibility),t.listenTo(s,"change:name change:className change:full",t.render),t.listenTo(s,"change:value",t.onValueChange),t.listenTo(s,"change:parentTarget",t.updateStatus),t.listenTo(o,"change:device",t.onValueChange);var c=t.init&&t.init.bind(t);return c&&c(),t}return n.prototype.events=function(){var e;return e={change:"inputValueChanged"},e["click [".concat(Ru,"]")]="clear",e},n.prototype.template=function(e){var t=this,r=t.pfx,o=t.ppfx;return`
      <div class="`.concat(r,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},n.prototype.templateLabel=function(e){var t=this,r=t.pfx,o=t.em,s=e.parent,c=e.attributes,u=c.icon,f=u===void 0?"":u,h=c.info,g=h===void 0?"":h,m=o?.getConfig().icons,_=m?.close||"";return`
      <span class="`.concat(r,"icon ").concat(f,'" title="').concat(g,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(s?"":'<div class="'.concat(r,'clear" style="display: none" ').concat(Ru,">").concat(_,"</div>"),`
    `)},n.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},n.prototype.remove=function(){var e=this;return Ie.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(t){return e[t]=null}),this.__destroyFn(this._getClbOpts()),this},n.prototype.updateStatus=function(){var e,t=this,r=t.model,o=t.pfx,s=t.ppfx,c=t.config,u="".concat(s,"four-color"),f="".concat(s,"color-warn"),h=this.$el.children(".".concat(o,"label")),g=this.getClearEl(),m=g?g.style:{};h.removeClass("".concat(u," ").concat(f)),m.display="none",r.hasValue({noParent:!0})&&c.highlightChanged?(h.addClass(u),c.clearProperties&&(m.display="")):r.hasValue()&&c.highlightComputed&&h.addClass(f),(e=this.parent)===null||e===void 0||e.updateStatus()},n.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},n.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Ru,"]"))),this.clearEl},n.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),!this.emit&&this.model.upValue(e.target.value)},n.prototype.onValueChange=function(e,t,r){r===void 0&&(r={}),this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},n.prototype.setValue=function(e){var t=this.model,r=(0,A.isUndefined)(e)||e===""?t.getDefaultValue():e;if(this.update)return this.__update(r);this.__setValueInput(r)},n.prototype.__setValueInput=function(e){var t=this.getInputEl();t&&(t.value=e)},n.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},n.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},n.prototype.__update=function(e){var t=this.update&&this.update.bind(this);t&&t(tc(tc({},this._getClbOpts()),{value:e}))},n.prototype.__change=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.emit&&this.emit.bind(this);r&&r.apply(void 0,dP([this._getClbOpts()],e,!1))},n.prototype.__updateStyle=function(e,t){t===void 0&&(t={});var r=t.complete,o=t.partial,s=fP(t,["complete","partial"]),c=this.model,u=r!==!1&&o!==!0;(0,Pe.isObject)(e)?c.__upTargetsStyle(e,{avoidStore:!u}):c.upValue(e,{partial:!u})},n.prototype._getClbOpts=function(){var e=this,t=e.model,r=e.el,o=e.createdEl;return{el:r,createdEl:o,property:t,props:t.attributes,change:this.__change,updateStyle:this.__updateStyle}},n.prototype.render=function(){this.clearCached();var e=this,t=e.pfx,r=e.model,o=e.el,s=e.$el,c=r.getName(),u=r.getType(),f=r.get("className")||"",h="".concat(t,"property"),g=u==="number"?"".concat(t).concat(u," ").concat(t,"integer"):"".concat(t).concat(u);this.createdEl&&this.__destroyFn(this._getClbOpts()),s.empty().append(this.template(r)),s.find("[data-sm-label]").append(this.templateLabel(r));var m=this.create&&this.create.bind(this);this.createdEl=m&&m(this._getClbOpts()),s.find("[data-sm-fields]").append(this.createdEl||this.templateInput(r)),o.className="".concat(h," ").concat(g," ").concat(h,"__").concat(c," ").concat(f).trim(),o.className+=r.isFull()?" ".concat(h,"--full"):"";var _=this.onRender&&this.onRender.bind(this);return _&&_(),this.setValue(r.getValue()),this},n.prototype.onRender=function(){},n}(Ie.Ss),po=pP,hP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vP=function(i){hP(n,i);function n(e){var t=i.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.properties=[],t.parent=e.parent;var r=t.collection;return t.listenTo(r,"add",t.addTo),t.listenTo(r,"reset",t.render),t}return n.prototype.addTo=function(e,t,r){this.add(e,null,r)},n.prototype.add=function(e,t,r){r===void 0&&(r={});var o=this,s=o.parent,c=o.config,u=t||this.el,f=new e.typeView({model:e,config:c});s&&(f.parent=s),f.render();var h=f.el;this.properties.push(f),(0,ze.Sc)(u,h,r.at)},n.prototype.remove=function(){return Ie.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},n.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},n.prototype.render=function(){var e=this,t=this,r=t.$el,o=t.pfx;this.clearItems();var s=document.createDocumentFragment();return this.collection.forEach(function(c){return e.add(c,s)}),r.empty(),r.append(s),r.attr("class","".concat(o,"properties")),this},n}(Ie.Ss),Of=vP,gP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rc=function(){return rc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},rc.apply(this,arguments)},mP=function(i){gP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},n.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),po.prototype.remove.apply(this,arguments),this},n.prototype.onValueChange=function(){},n.prototype.onRender=function(){var e=this.pfx,t=this.model,r=t.get("properties");if(r.length&&!this.props){var o=t.isDetached(),s=new Of({config:rc(rc({},this.config),{highlightComputed:o,highlightChanged:o}),collection:r,parent:this});s.render(),this.$el.find("#".concat(e,"input-holder")).append(s.el),this.props=s}},n.prototype.clearCached=function(){po.prototype.clearCached.apply(this,arguments),delete this.props},n}(po),qa=mP,yP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_P=function(i){yP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},n.prototype.template=function(){var e=this,t=e.pfx,r=e.ppfx,o=e.em,s=o?.getConfig().icons,c=s?.close||"",u=s?.move||"";return`
      <div class="`.concat(t,`label-wrp">
        <div id="`).concat(t,'move" class="').concat(r,`no-touch-actions" data-move-layer>
          `).concat(u,`
        </div>
        <div id="`).concat(t,`label" data-label></div>
        <div id="`).concat(t,'preview-box" class="').concat(t,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(t,'preview" class="').concat(t,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(t,'close-layer" class="').concat(t,`btn-close" data-close-layer>
          `).concat(c,`
        </div>
      </div>
      <div id="`).concat(t,`inputs" data-properties></div>
    `)},n.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,r=e.config||{};this.em=r.em,this.config=r,this.sorter=e.sorter,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.propertyView=e.propertyView;var o=this.propertyView.model;this.listenTo(t,"destroy remove",this.remove),this.listenTo(t,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),t.view=this,t.set({droppable:0,draggable:1}),this.$el.data("model",t)},n.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort([{element:this.el}])},n.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},n.prototype.select=function(){this.model.select()},n.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},n.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},n.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},n.prototype.updateLabel=function(){var e=this.model,t=e.getLabel();if(this.getLabelEl().innerHTML=t,e.hasPreview()){var r=this.getPreviewEl(),o=e.getStylePreview({number:{min:-3,max:3}}),s=(0,A.keys)(o).map(function(c){return"".concat(c,":").concat(o[c])}).join(";");r.setAttribute("style",s)}},n.prototype.updateVisibility=function(){var e,t=this,r=t.pfx,o=t.model,s=t.propertyView,c=this.getPropertiesWrapper(),u=o.isSelected();c.style.display=u?"":"none",this.$el[u?"addClass":"removeClass"]("".concat(r,"active")),u&&c.appendChild((e=s.props)===null||e===void 0?void 0:e.el)},n.prototype.render=function(){var e=this,t=e.el,r=e.pfx,o=e.model;return t.innerHTML=this.template(),t.className="".concat(r,"layer"),o.hasPreview()&&(t.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},n}(Ie.Ss),bP=_P,wP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xP=function(i){wP(n,i);function n(e){var t=i.call(this,e)||this,r=t.collection,o=e.config||{},s=o.em,c=o.stylePrefix||"",u=o.pStylePrefix||"";t.config=o,t.pfx=c,t.ppfx=u,t.propertyView=e.propertyView,t.className="".concat(c,"layers ").concat(u,"field"),t.listenTo(r,"add",t.addTo),t.listenTo(r,"reset",t.reset),t.items=[];var f=t.createPlaceholder(o.pStylePrefix);t.$el.append(f);var h=s?.Utils;return t.sorter=h?new h.StyleManagerSorter({em:s,containerContext:{container:t.el,containerSel:".".concat(c,"layers"),itemSel:".".concat(c,"layer"),pfx:o.pStylePrefix,document,placeholderElement:f},dragBehavior:{dragDirection:mi.A.Vertical,nested:!1}}):void 0,r.view=t,t.$el.data("model",r),t.$el.data("collection",r),t}return n.prototype.addTo=function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},n.prototype.addToCollection=function(e,t,r){var o=t||null,s=this,c=s.propertyView,u=s.config,f=s.sorter,h=s.$el,g=new bP({model:e,config:u,sorter:f,propertyView:c}),m=g.render().el;if(this.items.push(g),o)o.appendChild(m);else if(typeof r<"u"){var _="before";h.children().length===r&&(r--,_="after"),r<0?h.append(m):h.children().eq(r)[_](m)}else h.append(m);return m},n.prototype.reset=function(e,t){this.clearItems(),this.render()},n.prototype.remove=function(){return this.clearItems(),Ie.Ss.prototype.remove.apply(this,arguments),this},n.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},n.prototype.render=function(){var e=this,t=this.$el,r=document.createDocumentFragment();return t.empty(),this.collection.forEach(function(o){return e.addToCollection(o,r)}),t.append(r),t.attr("class",this.className),this},n.prototype.createPlaceholder=function(e){var t=document.createElement("div"),r=document.createElement("div");return this.el.parentNode,t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",r.className=e+"placeholder-int",t.appendChild(r),t},n}(Ie.Ss),CP=xP,SP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),oa=function(){return oa=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},oa.apply(this,arguments)},OP=function(i){SP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return oa(oa({},qa.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},n.prototype.templateInput=function(){var e=this,t=e.pfx,r=e.em,o=r?.getConfig().icons,s=o?.plus||"+";return`
      <div class="`.concat(t,"field ").concat(t,`stack">
        <button type="button" id="`).concat(t,`add" data-add-layer>
          `).concat(s,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},n.prototype.init=function(){var e=this.model;this.listenTo(e.layers,"change reset",this.updateStatus),this.listenTo(e,"change:isEmptyValue",this.updateStatus)},n.prototype.addLayer=function(){this.model.addLayer({},{at:0})},n.prototype.setValue=function(){},n.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),qa.prototype.remove.apply(this,arguments),this},n.prototype.clearCached=function(){qa.prototype.clearCached.apply(this,arguments),delete this.layersView},n.prototype.onRender=function(){var e=this,t=e.model,r=e.el,o=e.config,s=t.get("properties");if(s.length&&!this.props){var c=new Of({config:oa(oa({},o),{highlightComputed:!1,highlightChanged:!1}),collection:s,parent:this});c.render();var u=new CP({collection:t.layers,config:o,propertyView:this});u.render();var f=r.querySelector("[data-layers-wrapper]");f.appendChild(u.el),this.props=c,this.layersView=u}},n}(qa),kP=OP,TP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nc=function(){return nc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},nc.apply(this,arguments)},PP=function(i){TP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return nc(nc({},po.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},n.prototype.templateInput=function(){var e,t=this,r=t.pfx,o=t.em,s=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,c=s?.close;return`
      <div class="`.concat(r,"field ").concat(r,`file">
        <div id='`).concat(r,`input-holder'>
          <div class="`).concat(r,`btn-c">
            <button class="`).concat(r,'btn" id="').concat(r,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`preview-file" data-preview-box>
          <div id="`).concat(r,'preview-file" class="').concat(r,`preview-file-cnt" data-preview></div>
          <div id="`).concat(r,'close" class="').concat(r,'preview-file-close" data-clear-asset>').concat(c,`</div>
        </div>
      </div>
    `)},n.prototype.__setValueInput=function(e){var t=this,r=t.model,o=t.el,s=r.getDefaultValue(),c=o.querySelector("[data-preview-box]"),u=o.querySelector("[data-preview]");c.style.display=!e||e===s?"none":"",u.style.backgroundImage=e||r.getDefaultValue()},n.prototype.openAssetManager=function(){var e=this,t,r=(t=this.em)===null||t===void 0?void 0:t.Assets;r?.open({select:function(o,s){var c=(0,A.isString)(o)?o:o.get("src");e.model.upValue(c,{partial:!s}),s&&r.close()},types:["image"],accept:"image/*"})},n}(po),EP=PP,AP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),DP=function(i){AP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(e){return""},n.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},n.prototype.setValue=function(e){},n.prototype.onRender=function(){var e=this,t=e.ppfx,r=e.model,o=e.el;if(!this.inputInst){var s=r.input;s.ppfx=t,s.render();var c=o.querySelector(".".concat(t,"fields"));c.appendChild(s.el),this.input=s.inputEl.get(0),this.inputInst=s}},n.prototype.clearCached=function(){po.prototype.clearCached.apply(this,arguments),this.inputInst=null},n}(po),fo=DP,MP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),LP=function(i){MP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.setValue=function(e){var t;(t=this.inputInst)===null||t===void 0||t.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},n.prototype.remove=function(){var e=this;fo.prototype.remove.apply(this,arguments);var t=this.inputInst;return t&&t.remove&&t.remove(),["inputInst","$color"].forEach(function(r){return e[r]=null}),this},n.prototype.__handleChange=function(e,t){this.model.upValue(e,{partial:t})},n.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var t=this,r=t.ppfx,o=t.model,s=t.em,c=t.el,u=new Dm({target:s,model:o,ppfx:r,onChange:this.__handleChange}),f=u.render();c.querySelector(".".concat(r,"fields")).appendChild(f.el),this.input=(e=f.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=f}},n}(fo),RP=LP,jP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),oc=function(){return oc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},oc.apply(this,arguments)},yg=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},BP=function(i){jP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return oc(oc({},Yt.getDefaults()),{options:[],full:0})},n.prototype.getOptions=function(){var e=this.attributes,t=e.options,r=e.list;return(t&&t.length?t:r)||[]},n.prototype.getOption=function(e){var t=this,r=(0,Pe.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(o){return t.getOptionId(o)===r})[0]||null},n.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},n.prototype.addOption=function(e){if(e){var t=this.getOptions();this.setOptions(yg(yg([],t,!0),[e],!1))}return this},n.prototype.getOptionId=function(e){return(0,Pe.isDef)(e.id)?e.id:e.value},n.prototype.getOptionLabel=function(e,t){var r;t===void 0&&(t={});var o=t.locale,s=o===void 0?!0:o,c=((0,A.isString)(e)?this.getOption(e):e)||{},u=this.getOptionId(c),f=c.label||c.name||u,h=t.property||this.getId();return s&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.options.".concat(h,".").concat(u)))||f},n.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Yt.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},n.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},n}(Yt),lf=BP,IP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),VP=function(i){IP(n,i);function n(e){var t=i.call(this,e)||this;return t.listenTo(t.model,"change:options",t.updateOptions),t}return n.prototype.templateInput=function(){var e=this,t=e.pfx,r=e.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`select">
        <span id="`).concat(t,`input-holder"></span>
        <div class="`).concat(r,`sel-arrow">
          <div class="`).concat(r,`d-s-arrow"></div>
        </div>
      </div>
    `)},n.prototype.updateOptions=function(){delete this.input,this.onRender()},n.prototype.onRender=function(){var e=this.pfx,t=this.model,r=t.getOptions();if(!this.input){var o=[];r.forEach(function(c){var u=t.getOptionId(c),f=t.getOptionLabel(u),h=c.style?c.style.replace(/"/g,"&quot;"):"",g=h?'style="'.concat(h,'"'):"",m=u.replace(/"/g,"&quot;");o.push('<option value="'.concat(m,'" ').concat(g,">").concat(f,"</option>"))});var s=this.el.querySelector("#".concat(e,"input-holder"));s.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=s.firstChild}},n.prototype.__setValueInput=function(e){var t=this.model,r=this.getInputEl(),o=t.getOptions()[0],s=o?t.getOptionId(o):"";r&&(r.value=e||s)},n}(po),cy=VP,NP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ic=function(){return ic=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ic.apply(this,arguments)},FP=function(i){NP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return ic(ic({},lf.getDefaults()),{full:1})},n}(lf),HP=FP,UP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),WP=function(i){UP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},n.prototype.onRender=function(){var e=this,t=e.pfx,r=e.ppfx,o=this.model,s="".concat(r,"radio-item-label"),c=o.getName(),u=o.getOptions(),f="".concat(t,"radio ").concat(t,"radio-").concat(c),h=o.cid;if(!this.input){var g=[];u.forEach(function(_){var w=_.className?"".concat(_.className," ").concat(t,"icon ").concat(s):"",C=o.getOptionId(_),T="".concat(c,"-").concat(C,"-").concat(h),B=w?"":o.getOptionLabel(C),W=_.title?'title="'.concat(_.title,'"'):"",N=o.getValue()===C?"checked":"";g.push(`
          <div class="`.concat(r,`radio-item">
            <input type="radio" class="`).concat(f,'" id="').concat(T,'" name="').concat(c,"-").concat(h,'" value="').concat(C,'" ').concat(N,`/>
            <label class="`).concat(w||s,'" ').concat(W,' for="').concat(T,'">').concat(B,`</label>
          </div>
        `))});var m=this.el.querySelector(".".concat(r,"field"));m.innerHTML='<div class="'.concat(r,'radio-items">').concat(g.join(""),"</div>"),this.input=m.firstChild}},n.prototype.__setValueInput=function(e){var t,r=this.model,o=e||r.getDefaultValue(),s=(t=this.getInputEl())===null||t===void 0?void 0:t.querySelector('[value="'.concat(o,'"]'));s&&(s.checked=!0)},n}(cy),zP=WP,KP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),di=function(){return di=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},di.apply(this,arguments)},GP=function(i){KP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return di(di({},Yt.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},n.prototype.getUnits=function(){return this.get("units")||[]},n.prototype.getUnit=function(){return this.get("unit")},n.prototype.getMin=function(){return this.get("min")},n.prototype.getMax=function(){return this.get("max")},n.prototype.getStep=function(){return this.get("step")},n.prototype.upUnit=function(e,t){return t===void 0&&(t={}),this._up({unit:e},t)},n.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Yt.callParentInit(Yt,this,e,t);var r=this.get("unit"),o=this.getUnits();this.input=(0,Pe.hasWin)()?new Lm({model:this}):void 0,o.length&&!r&&this.set("unit",o[0],{silent:!0}),Yt.callInit(this,e,t)},n.prototype.__getClearProps=function(){return di(di({},Yt.prototype.__getClearProps()),{unit:""})},n.prototype.parseValue=function(e,t){t===void 0&&(t={});var r=Yt.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(r.value,di({deepCheck:1},t)),s=o.value,c=o.unit;return r.value=s,r.unit=c,r},n.prototype.getFullValue=function(){var e=this.get("value"),t=this.get("unit"),r=(0,A.isUndefined)(e)?"":"".concat(e),o=!(0,A.isUndefined)(t)&&r?t:"",s="".concat(r).concat(o);return Yt.prototype.getFullValue.apply(this,[s])},n}(Yt),ac=GP,YP=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sc=function(){return sc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},sc.apply(this,arguments)},qP=function(i){YP(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.defaults=function(){return sc(sc({},ac.getDefaults()),{showInput:1})},n}(ac),XP=qP,$P=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lc=function(){return lc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},lc.apply(this,arguments)},JP=function(i){$P(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.events=function(){return lc(lc({},fo.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},n.prototype.templateInput=function(e){var t=this.ppfx;return`
      <div class="`.concat(t,"field ").concat(t,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},n.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},n.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},n.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},n.prototype.setValue=function(e){var t=this.model,r=t.parseValue(e);this.getSliderEl().value=e===""?t.getDefaultValue():parseFloat(r.value),fo.prototype.setValue.apply(this,arguments)},n.prototype.onRender=function(){fo.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},n.prototype.clearCached=function(){fo.prototype.clearCached.apply(this,arguments),delete this.slider},n}(fo),ZP=JP,QP=Ie.pM.extend(zm),eE=QP.extend({extendViewApi:1,init:function(){var i=this,n=i.opts,e=i.em,t=n.module||e?.get("StyleManager");t&&(t.__listenAdd(this,t.events.propertyAdd),t.__listenRemove(this,t.events.propertyRemove))},types:[{id:"stack",model:cP,view:kP,isType:function(i){if(i&&i.type=="stack")return i}},{id:"composite",model:Ki,view:qa,isType:function(i){if(i&&i.type=="composite")return i}},{id:"file",model:Yt,view:EP,isType:function(i){if(i&&i.type=="file")return i}},{id:"color",model:Yt,view:RP,isType:function(i){if(i&&i.type=="color")return i}},{id:"select",model:lf,view:cy,isType:function(i){if(i&&i.type=="select")return i}},{id:"radio",model:HP,view:zP,isType:function(i){if(i&&i.type=="radio")return i}},{id:"slider",model:XP,view:ZP,isType:function(i){if(i&&i.type=="slider")return i}},{id:"integer",model:ac,view:fo,isType:function(i){if(i&&i.type=="integer")return i}},{id:"number",model:ac,view:fo,isType:function(i){if(i&&i.type=="number")return i}},{id:"base",model:Yt,view:po,isType:function(i){return i.type="base",i}}]}),kf=eE,tE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cc=function(){return cc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},cc.apply(this,arguments)},rE=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},nE=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},oE=function(i){tE(n,i);function n(e,t){t===void 0&&(t={});var r=i.call(this,e)||this,o=t.em;r.em=o;var s=e||{},c=r.buildProperties(s.buildProps),u=r.get("name")||"",f=[];!r.get("id")&&r.set("id",u.replace(/ /g,"_").toLowerCase()),c?f=r.extendProperties(c):f=r.get("properties").map(function(g){return(0,A.isString)(g)?r.buildProperties(g)[0]:g}).filter(Boolean),f=f.map(function(g){return r.checkExtend(g)});var h=new kf(f,{em:o});return h.sector=r,r.set("properties",h),r}return n.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.get("id")},n.prototype.getName=function(){var e,t=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(t)))||this.get("name")},n.prototype.setName=function(e){return this.set("name",e)},n.prototype.isOpen=function(){return!!this.get("open")},n.prototype.setOpen=function(e){return this.set("open",e)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.getProperties=function(e){e===void 0&&(e={});var t=this.properties,r=t.models?nE([],t.models,!0):t;return r.filter(function(o){var s=!0;if(e.withValue&&(s=o.hasValue({noParent:!0})),e.withParentValue){var c=o.hasValue({noParent:!0});s=!c&&o.hasValue()}return s})},n.prototype.getProperty=function(e){return this.getProperties().filter(function(t){return t.get("id")===e})[0]||void 0},n.prototype.addProperty=function(e,t){return this.properties.add(this.checkExtend(e),t)},n.prototype.extendProperties=function(e,t,r){r===void 0&&(r=!1);for(var o=e.length,s=t||this.get("properties"),c=this.get("extendBuilded"),u=[],f=0,h=s.length;f<h;f++){for(var g=s[f],m=0,_=0;_<o;_++){var w=e[_];if(g.property==w.property||g.id==w.property){var C=g.properties;C&&C.length&&(g.properties=this.extendProperties(w.properties||[],C,1)),e[_]=c?(0,A.extend)(w,g):g,u[_]=e[_],m=1;continue}}m||(e.push(g),u.push(g))}return r?u.filter(function(T){return T}):e},n.prototype.checkExtend=function(e){var t=((0,A.isString)(e)?{extend:e}:e)||{},r=t.extend,o=rE(t,["extend"]);return r?cc(cc({},this.buildProperties([r])[0]||{}),o):e},n.prototype.buildProperties=function(e){var t,r=e||[];if(!r.length)return[];var o=(t=this.em)===null||t===void 0?void 0:t.Styles.builtIn;return o?.build(r)},n}(Ie.Kx),uy=oE,iE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uc=function(){return uc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},uc.apply(this,arguments)},aE=function(i){iE(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.initialize=function(e,t){t===void 0&&(t={});var r=t.module,o=t.em;this.em=o,this.module=r,this.listenTo(this,"reset",this.onReset)},n.prototype.model=function(e,t){t===void 0&&(t={});var r=t.collection.em;return new uy(e,uc(uc({},t),{em:r}))},n.prototype.onReset=function(e,t){t===void 0&&(t={});var r=t.previousModels||[];r.forEach(function(o){return o.get("properties").reset()})},n}(Ie.pM),sE=aE,Fo=function(){return Fo=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Fo.apply(this,arguments)},lE=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},ii=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},Sr=function(i){return i.map(function(n){return{id:n}})},cE=function(){function i(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var n=", sans-serif",e=["flex-start","flex-end","center"],t=ii(ii([],e,!0),["baseline","stretch"],!1);this.optsBgSize=Sr(["auto","cover","contain"]),this.optsBgAttach=Sr(["scroll","fixed","local"]),this.optsBgRepeat=Sr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Sr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Sr(["visible","hidden","scroll","auto"]),this.optsDir=Sr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Sr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Sr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Sr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Sr(["none","left","right"]),this.optsPos=Sr(["static","relative","absolute","fixed"]),this.optsTextAlign=Sr(["left","center","right","justify"]),this.optsFlexAlign=Sr(t),this.optsJustCont=Sr(ii(ii([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Sr(ii(ii([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Sr(ii(["auto"],t,!0)),this.optsTransitProp=Sr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Sr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Sr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n].map(function(r){return{id:r,label:r.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return i.prototype.__sub=function(n){var e=this;return function(){return n.map(function(t){if((0,A.isString)(t))return e.get(t);var r=t.extend,o=lE(t,["extend"]);return Fo(Fo({},e.get(r)),o)})}},i.prototype.init=function(){var n=this,e=this,t=e.fixedValues,r=e.requireFlex,o=e.typeNumber;this.props={};var s=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:t},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:r},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:r}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:r},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:r},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(c,u){var f=u.values,h=f["box-shadow-h"],g=f["box-shadow-v"],m=f["box-shadow-blur"],_=f["box-shadow-spread"];return"".concat(h," ").concat(g," ").concat(m," ").concat(_)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(c,u){var f=u.values,h=f["text-shadow-h"],g=f["text-shadow-v"],m=f["text-shadow-blur"];return"".concat(h," ").concat(g," ").concat(m)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(c,u){var f=u.values,h=f["background-repeat-sub"]||"",g=f["background-position-sub"]||"",m=f["background-attachment-sub"]||"",_=f["background-size-sub"]||"";return[h,g,m,_].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(c,u){var f=u.property,h=u.name,g=c[h]||"",m=f.getLayerSeparator();return g?g.split(m).map(function(_){var w=f.__parseFn(_),C=w.name,T=w.value;return{"transform-type":C,"transform-value":T}}):[]},toStyle:function(c,u){var f,h=u.name;return f={},f[h]="".concat(c["transform-type"],"(").concat(c["transform-value"],")"),f},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(c){var u=c.property,f=c.to;if(f.value){var h=u.getOption(),g=Fo({},h.propValue||{}),m=u.getParent().getProperty("transform-value"),_=m.getUnit();(!_||g?.units.indexOf(_)<0)&&(g.unit=g?.units[0]||""),m.up(g)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return s.forEach(function(c){var u=c[0],f=c[1],h=c[2];n.add(u,f||{},{from:h})}),this},i.prototype.add=function(n,e,t){e===void 0&&(e={}),t===void 0&&(t={});var r=t.from||"",o=this.props[r||n]||{},s=Fo(Fo(Fo({},o),{property:n}),e);return s.properties&&(0,A.isFunction)(s.properties)&&(s.properties=s.properties()),this.props[n]=s,s},i.prototype.get=function(n){return this.props[n]},i.prototype.build=function(n){var e=this,t=[],r=(0,A.isString)(n)?[n]:n;return r.forEach(function(o){t.push(e.get(o)||{property:o})}),t},i}(),uE=cE,fE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dE=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i},pE=function(i){fE(n,i);function n(e){var t=i.call(this,e)||this,r=e.config||{},o=t.model,s=r.em;return t.config=r,t.em=s,t.pfx=r.stylePrefix||"",t.listenTo(o,"destroy remove",t.remove),t.listenTo(o,"change:open",t.updateOpen),t.listenTo(o,"change:visible",t.updateVisibility),t}return n.prototype.template=function(e){var t,r=e.pfx,o=e.label,s=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,c=s?.caret||"",u="".concat(r,"sector-");return fn(_g||(_g=dE([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),u,u,c,u,o)},n.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},n.prototype.updateOpen=function(){var e=this,t=e.$el,r=e.model,o=e.pfx,s=r.isOpen();t[s?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=s?"":"none"},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.getPropertiesEl=function(){var e=this,t=e.$el,r=e.pfx;return t.find(".".concat(r,"properties")).get(0)},n.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},n.prototype.renderProperties=function(){var e=this,t=e.model,r=e.config,o=t.get("properties");if(o){var s=new Of({collection:o,config:r});this.$el.append(s.render().el)}},n.prototype.render=function(){var e=this,t=e.pfx,r=e.model,o=e.$el,s=r.getId(),c=r.getName();return o.html(this.template({pfx:t,label:c})),this.renderProperties(),o.attr("class","".concat(t,"sector ").concat(t,"sector__").concat(s," no-select")),this.updateOpen(),this},n}(Ie.Ss),hE=pE,_g,vE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gE=function(i){vE(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this,r=e.module,o=e.config,s=t.collection;return t.pfx=o?.stylePrefix||"",t.ppfx=o?.pStylePrefix||"",t.config=o,t.module=r,t.listenTo(s,"add",t.addTo),t.listenTo(s,"reset",t.render),t}return n.prototype.remove=function(){var e=this;return Ie.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(t){return e[t]={}}),this},n.prototype.addTo=function(e,t,r){r===void 0&&(r={}),this.addToCollection(e,null,r)},n.prototype.addToCollection=function(e,t,r){r===void 0&&(r={});var o=this,s=o.config,c=o.el,u=t||c,f=new hE({model:e,config:s}).render().el;return(0,ze.Sc)(u,f,r.at),f},n.prototype.render=function(){var e=this,t=this,r=t.$el,o=t.pfx,s=t.ppfx;r.empty();var c=document.createDocumentFragment();return this.collection.each(function(u){return e.addToCollection(u,c)}),r.append(c),r.addClass("".concat(o,"sectors ").concat(s,"one-bg ").concat(s,"two-color")),this},n}(Ie.Ss),mE=gE,yE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ho=function(){return Ho=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ho.apply(this,arguments)},bg=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},fy="style",hs="".concat(fy,":"),Tf="".concat(hs,"sector"),_E="".concat(Tf,":add"),bE="".concat(Tf,":remove"),wE="".concat(Tf,":update"),Pf="".concat(hs,"property"),xE="".concat(Pf,":add"),CE="".concat(Pf,":remove"),SE="".concat(Pf,":update"),dy="".concat(hs,"layer:select"),cf="".concat(hs,"target"),OE="".concat(hs,"custom"),wg=function(i){return i||i===0},kE={all:fy,sectorAdd:_E,sectorRemove:bE,sectorUpdate:wE,propertyAdd:xE,propertyRemove:CE,propertyUpdate:SE,layerSelect:dy,target:cf,custom:OE},TE=function(i){yE(n,i);function n(e){var t=i.call(this,e,"StyleManager",new sE([],{em:e}),kE,QT())||this;t.Sector=uy,t.storageKey="",(0,A.bindAll)(t,"__clearStateTarget");var r=t.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),t.builtIn=new uE,t.properties=new kf([],{em:e,module:t}),t.sectors=t.all;var s=new Ie.Kx({targets:[]});t.model=s;var c=er.I.update,u="component:toggled ".concat(c,":classes change:state change:device frame:resized selector:type");t.upAll=(0,A.debounce)(function(){return t.__upSel()},0),s.listenTo(e,u,t.upAll),s.listenTo(e,"component:toggled",t.__clearStateTarget);var f=(0,A.debounce)(function(){t.__upProps(),t.__trgCustom()},0);s.listenTo(e,"styleable:change undo redo",f);var h=(0,A.debounce)(function(){return t.__trgCustom()},0);return s.listenTo(e,"".concat(dy," ").concat(cf),h),s.on("change:lastTarget",function(){return e.trigger(cf,t.getSelected())}),t}return n.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},n.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},n.prototype.__trgEv=function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];(t=this.em).trigger.apply(t,bg([e],r,!1))},n.prototype.__clearStateTarget=function(){var e=this,t=this.em,r=this.__getStateTarget();r&&t?.skip(function(){t.Css.remove(r),e.model.set({stateTarget:null})})},n.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},n.prototype.postRender=function(){this.__appendTo()},n.prototype.addSector=function(e,t,r){r===void 0&&(r={});var o=this.getSector(e);return o||(t.id=e,o=this.sectors.add(t,r)),o},n.prototype.getSector=function(e,t){t===void 0&&(t={});var r=this.sectors.where({id:e})[0];return!r&&t.warn&&this._logNoSector(e),r||null},n.prototype.getSectors=function(e){e===void 0&&(e={});var t=this.sectors,r=t&&t.models?e.array?bg([],t.models,!0):t:[];return e.visible?r.filter(function(o){return o.isVisible()}):r},n.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},n.prototype.addProperty=function(e,t,r){r===void 0&&(r={});var o=this.getSector(e,{warn:!0}),s;return o&&(s=o.addProperty(t,r)),s},n.prototype.getProperty=function(e,t){var r=this.getSector(e,{warn:!0}),o;return r&&(o=r.properties.filter(function(s){return s.get("property")===t||s.get("id")===t})[0]),o},n.prototype.getProperties=function(e){var t,r=this.getSector(e,{warn:!0});return r&&(t=r.properties),t},n.prototype.removeProperty=function(e,t){var r=this.getProperties(e);return r?r.remove(this.getProperty(e,t)):null},n.prototype.select=function(e,t){var r=this;t===void 0&&(t={});var o=this.em,s=(0,A.isArray)(e)?e:[e],c=t.stylable,u=o.Css,f=[];s.filter(Boolean).forEach(function(C){var T=C;if((0,A.isString)(C)){var B=u.getRule(C)||u.setRule(C);!(0,A.isUndefined)(c)&&B.set({stylable:c}),T=B}f.push(T)});var h=t.component||f.filter(function(C){return(0,Pe.isComponent)(C)}).reverse()[0];f=f.map(function(C){return r.getModelToStyle(C)});var g=o.getState(),m=f.slice().reverse()[0],_=this.getParentRules(m,{state:g,component:h}),w=this.__getStateTarget();return o.skip(function(){var C;if(g&&(!((C=m?.getState)===null||C===void 0)&&C.call(m))){var T=m.getStyle();w?w.setStyle(T):w=u.getAll().add({selectors:"gjs-selected",style:T,shallow:!0,important:!0})}else w&&(u.remove(w),w=void 0)}),this.model.set({targets:f,lastTarget:m,lastTargetParents:_,stateTarget:w,component:h}),this.__upProps(t),f},n.prototype.getSelected=function(){return this.model.get("lastTarget")},n.prototype.getSelectedAll=function(){return this.model.get("targets")},n.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},n.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},n.prototype.addStyleTargets=function(e,t){this.getSelectedAll().map(function(s){return s.addStyle(e,t)});var r=this.getSelected();r&&this.__emitCmpStyleUpdate(e);var o=this.__getStateTarget();r&&o?.setStyle(r.getStyle(),t)},n.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},n.prototype.getBuiltInAll=function(){return this.builtIn.props},n.prototype.addBuiltIn=function(e,t){return this.builtIn.add(e,t)},n.prototype.getModelToStyle=function(e,t){t===void 0&&(t={});var r=this.em,o=t.skipAdd;if(r&&e?.toHTML){var s=r.getConfig(),c=r.UndoManager,u=r.Css,f=r.Selectors,h=f?f.getConfig():{},g=s.devicePreviewMode?"":r.get("state"),m=e.get("classes"),_=m.getStyleable(),w=_.length,C=!h.componentFirst||t.useClasses,T={noCount:1},B={state:g,addOpts:T};c.skip(function(){var W;if(w&&C){var N=r.getCurrentMedia();W=u.get(_,g,N),!W&&!o&&(W=u.add(_,g,N,{},T))}else if(s.avoidInlineStyle){var z=e.getId();W=u.getIdRule(z,B),!W&&!o&&(W=u.setIdRule(z,{},B)),e.is("wrapper")&&W.set("wrapper",1,T)}W&&(e=W)})}return e},n.prototype.getParentRules=function(e,t){var r=t===void 0?{}:t,o=r.state,s=r.component,c=this.em,u=[];if(c&&e){var f=s,h=c.Css,g=c.CodeManager.getGenerator("css"),m=e.toHTML?e:e.getComponent(),_={array:!0},w=[],C=[],T=[],B=[],W=[],N=function(ce){return ce.length?h.getRules().filter(function(q){var ae=q.getSelectors().map(function(F){return F.getFullName()});return ae.length===0?!1:ae.every(function(F){return ce.indexOf(F)>=0})}):[]},z=function(ce){return ce?h.getRules().filter(function(q){return q.selectorsToString()===ce}):[]};if(m)w=h.getRules("#".concat(m.getId())),C=z(m.get("tagName")),B=f?N(f.getSelectors().getFullName(_)):[],W=B.concat(C).concat(w);else{w=f?h.getRules("#".concat(f.getId())):[],C=z(f?.get("tagName")||"");var ue=f?.getSelectors().getFullName(_)||[],_e=ue.filter(function(ce){return e.getSelectors().getFullName(_).findIndex(function(q){return q===ce})===-1});T=N(_e.concat(e.getSelectors().getFullName(_))),W=C.concat(w).concat(T)}var Se=W.filter(function(ce){return(0,A.isUndefined)(o)?1:ce.get("state")===o}).sort(g.sortRules).reverse();u=Se.slice(Se.indexOf(e)+1)}return u},n.prototype.addType=function(e,t){this.properties.addType(e,t)},n.prototype.getType=function(e){return this.properties.getType(e)},n.prototype.getTypes=function(){return this.properties.getTypes()},n.prototype.createType=function(e,t){var r=t===void 0?{}:t,o=r.model,s=o===void 0?{}:o,c=r.view,u=c===void 0?{}:c,f=this.config,h=this.getType(e);if(h)return new h.view(Ho({model:new h.model(s),config:f},u))},n.prototype.render=function(){var e=this,t=e.config,r=e.em,o=e.SectView,s=o&&o.el;return this.SectView=new mE({el:s,em:r,config:t,module:this,collection:this.sectors}),this.SectView.render().el},n.prototype._logNoSector=function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))},n.prototype.__emitCmpStyleUpdate=function(e,t){t===void 0&&(t={});var r=this.em;if(!e.__p){var o=this.getSelectedAll(),s=t.components||r.getSelectedAll(),c=Array.isArray(s)?s:[s],u=Ho({},e);delete u.__p,c.forEach(function(f){return!o.includes(f)&&f.__onStyleChange(u)})}},n.prototype.__upProps=function(e){var t=this;e===void 0&&(e={});var r=this.getSelected();if(r){var o=this.sectors,s=this.model.get("component"),c=this.getSelectedParents(),u=r.getStyle(),f=c.map(function(h){return{target:h,style:h.getStyle()}});o.map(function(h){h.getProperties().map(function(g){t.__upProp(g,u,f,e)})}),o.forEach(function(h){var g=h.getProperties();g.forEach(function(_){var w=_.__checkVisibility({target:r,component:s,sectors:o});_.set("visible",w)});var m=g.some(function(_){return _.isVisible()});h.set("visible",m)})}},n.prototype.__upProp=function(e,t,r,o){var s=this,c=e.getName(),u=t[c],f=wg(u),h=e.getType()==="stack",g=e.getType()==="composite",m=Ho(Ho({},o),{__up:!0}),_=!g&&!h,w=e,C=e,T=h?w.__getLayersFromStyle(t):[],B=g?C.__getPropsFromStyle(t):{},W=f?u:null,N=null;if(h&&T===null||g&&B===null){var z=h?"__getLayersFromStyle":"__getPropsFromStyle",ue=r.filter(function(ae){return w[z](ae.style)!==null})[0];if(ue){W=ue.style[c],N=ue.target;var _e=w[z](ue.style);h?T=_e:B=_e}}else if(!f){W=null;var ue=r.filter(function(F){return wg(F.style[c])})[0];ue&&(W=ue.style[c],N=ue.target)}if(e.__setParentTarget(N),_&&e.__getFullValue()!==W&&e.upValue(W,m),h&&w.__setLayers(T||[],{isEmptyValue:w.isEmptyValueStyle(t)}),g){var Se=C.getProperties();if(C.isDetached()){var ce=C.__getPropsFromStyle(t,{byName:!0})||{},q=r.map(function(ae){return Ho(Ho({},ae),{style:C.__getPropsFromStyle(ae.style,{byName:!0})||{}})});Se.map(function(ae){return s.__upProp(ae,ce,q,o)})}else C.__setProperties(B||{},m),C.getProperties().map(function(ae){return ae.__setParentTarget(N)})}},n.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(t){t.reset(),t.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},n}(go),PE=TE,EE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fc=function(){return fc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},fc.apply(this,arguments)},AE=function(i){EE(n,i);function n(e,t){t===void 0&&(t={});var r,o=i.call(this,e,t)||this;return o.mutable=(r=e.mutable)!==null&&r!==void 0?r:!0,o.on("change",o.handleChange),o}return Object.defineProperty(n.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),n.prototype.handleChange=function(){var e=this,t=this.changedAttributes();(0,A.keys)(t).forEach(function(r){return e.triggerChange(r)})},n.prototype.getPath=function(e,t){t===void 0&&(t={});var r=this,o=r.dataSource,s=r.id,c=r.index,u=o.id,f=e?".".concat(e):"";return"".concat(u,".").concat(t.useIndex?c:s).concat(f)},n.prototype.getPaths=function(e){return[this.getPath(e),this.getPath(e,{useIndex:!0})]},n.prototype.triggerChange=function(e){var t=this,r=t.dataSource,o=t.em,s={dataSource:r,dataRecord:this},c=this.getPaths(e);c.forEach(function(u){return o.trigger("".concat(ss.path,":").concat(u),fc(fc({},s),{path:u}))})},n.prototype.set=function(e,t,r){var o=this,s,c;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var u=(c=(s=this.dataSource)===null||s===void 0?void 0:s.transformers)===null||c===void 0?void 0:c.onRecordSetValue,f=function(T,B,W){W===void 0&&(W={});var N=W?.avoidTransformers||!u?B:u({id:o.id,key:T,value:B});i.prototype.set.call(o,T,N,W),i.prototype.set.call(o,{__p:W.partial?!0:void 0},W)};if(typeof e=="object"&&e!==null)for(var h=e,g=0,m=Object.entries(h);g<m.length;g++){var _=m[g],w=_[0],C=_[1];f(w,C,t)}else f(e,t,r);return this},n}(Ie.Kx),DE=AE,ME=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),py=function(i){ME(n,i);function n(e,t){var r=i.call(this,e,t)||this;return r.dataSource=t.dataSource,r}return n}(Ie.pM),xg=py;py.prototype.model=DE;var LE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dc=function(){return dc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},dc.apply(this,arguments)},RE=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},jE=function(i){LE(n,i);function n(e,t){var r=i.call(this,dc(dc({},e),{records:[]}),t)||this,o=e.records,s=e.transformers;return r.transformers=s||{},o instanceof xg||r.set({records:new xg(o,{dataSource:r})}),r.listenTo(r.records,"add",r.onAdd),r.listenTo(r.records,Ie.e2,r.handleChanges),r}return n.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(n.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),n.prototype.onAdd=function(e){e.triggerChange()},n.prototype.addRecord=function(e,t){return this.records.add(e,t)},n.prototype.getRecord=function(e){return this.records.get(e)},n.prototype.getRecords=function(){var e=this;return RE([],this.records.models,!0).map(function(t){return e.getRecord(t.id)})},n.prototype.removeRecord=function(e,t){var r=this.getRecord(e);if(r?.mutable===!1&&!t?.dangerously)throw new Error("Cannot remove immutable record");return this.records.remove(e,t)},n.prototype.setRecords=function(e){var t=this;this.records.reset([],{silent:!0}),e.forEach(function(r){t.records.add(r)})},n.prototype.handleChanges=function(e,t,r){this.em.changesUp(r||t)},n}(Ie.Kx),BE=jE,IE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pc=function(){return pc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},pc.apply(this,arguments)},VE=function(i){IE(n,i);function n(e,t){var r=i.call(this,e,t)||this;return r.em=t,r.model=function(o,s){return s===void 0&&(s={}),new BE(o,pc(pc({},s),{em:t}))},r}return n}(Ie.pM),NE=VE,FE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),HE=function(i){FE(n,i);function n(e){var t=i.call(this,e,"DataSources",new NE([],e),ss)||this;return t.storageKey="dataSources",t.events=ss,Object.assign(t,dl.Events),t}return n.prototype.destroy=function(){},n.prototype.add=function(e,t){t===void 0&&(t={});var r=this.all;return e.id=e.id||this._createId(),r.add(e,t)},n.prototype.get=function(e){return this.all.get(e)},n.prototype.getValue=function(e,t){return(0,Pe.get)(this.getContext(),e,t)},n.prototype.getContext=function(){return this.all.reduce(function(e,t){return e[t.id]=t.records.reduce(function(r,o,s){var c=o;return r[c.id||s]=c.attributes,r},{}),e},{})},n.prototype.remove=function(e,t){return this.__remove(e,t)},n.prototype.fromPath=function(e){var t=[],r=(0,Pe.stringToPath)(e||""),o=r[0],s=r[1],c=r.slice(2),u=this.get(o),f=u?.records.get(s);return u&&t.push(u),f&&(t.push(f),c.length&&t.push(c.join("."))),t},n.prototype.store=function(){var e,t=[];return this.all.forEach(function(r){var o=r.get("skipFromStorage");o||t.push({id:r.id,name:r.get("name"),records:r.records.toJSON(),skipFromStorage:o})}),e={},e[this.storageKey]=t,e},n.prototype.load=function(e){return this.loadProjectData(e)},n.prototype.postLoad=function(){var e=this,t=e.em,r=e.all;t.listenTo(r,Ie.e2,function(o,s,c){return t.changesUp(c||s)})},n}(go),hy=HE,UE=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nr=function(){return Nr=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Nr.apply(this,arguments)},ju=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{f(t.next(h))}catch(g){s(g)}}function u(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?o(h.value):r(h.value).then(c,u)}f((t=t.apply(i,n||[])).next())})},Bu=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(h){return u([f,h])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(i,e)}catch(h){f=[6,h],r=0}finally{t=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},WE=function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e},zE=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))};z0().$=Or.default;var KE=[u1,Ak,T1,NT,GS,p_,TS,PE,gS,V1,DT,lT,JT,bO,KO,tw,jO,ZC,hy],GE=[hk,BC,Ck,bC,hy];K0({$:Or.default});var Cg={debug:console.log,info:console.info,warning:console.warn,error:console.error},YE=function(i){UE(n,i);function n(e){e===void 0&&(e={});var t=i.call(this)||this;t.Model=Ie.Kx,t.Collection=Ie.pM,t.__skip=!1,t.defaultRunning=!1,t.destroyed=!1,t._config=e;var r=t.config;t.set("Config",e),t.set("modules",[]),t.set("toLoad",[]),t.set("storables",[]),t.set("selected",new q0),t.set("dmode",r.dragMode);var o=r.el,s=r.log,c=s===!0?(0,A.keys)(Cg):(0,A.isArray)(s)?s:[];return(0,A.bindAll)(t,"initBaseColorPicker"),o&&r.fromElement&&(r.components=o.innerHTML),t.attrsOrig=o?(0,A.toArray)(o.attributes).reduce(function(u,f){return u[f.nodeName]=f.nodeValue,u},{}):"",r.components&&!r.pageManager&&(r.pageManager={pages:[{component:r.components}]}),KE.forEach(function(u){return t.loadModule(u)}),GE.forEach(function(u){return t.loadStorableModule(u)}),t.on("change:componentHovered",t.componentHovered,t),t.on("change:changesCount",t.updateChanges,t),t.on("change:readyLoad change:readyCanvas",t._checkReady,t),c.forEach(function(u){return t.listenLog(u)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(u){var f=u.from,h=u.to;t.listenTo(t,f,function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];t.trigger.apply(t,zE([h],g,!1)),t.logWarning("The event '".concat(f,"' is deprecated, replace it with '").concat(h,"'"))})}),t}return n.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(n.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),n.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},n.prototype.getContainer=function(){return this.config.el},n.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),Cg[e])},Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"version",{get:function(){var e;return((e=this.config.grapesjs)===null||e===void 0?void 0:e.version)||""},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(e){var t=this.config;return(0,A.isUndefined)(e)?t:t[e]},n.prototype.loadOnStart=function(){var e=this,t=this.config,r=t.projectData,o=t.headless,s={initial:!0},c=this.Storage;this.toLoad.reverse().forEach(function(h){return h.onLoad()});var u=function(){e.modules.forEach(function(h){return h.postLoad&&h.postLoad(e)}),e.set("readyLoad",1)};o?(r&&this.loadData(r,s),u()):this._storageTimeout=setTimeout(function(){return ju(e,void 0,void 0,function(){var h;return Bu(this,function(g){switch(g.label){case 0:return r?(this.loadData(r,s),[3,5]):[3,1];case 1:if(!c?.canAutoload())return[3,5];g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.load({},s)];case 3:return g.sent(),[3,5];case 4:return h=g.sent(),this.logError(h),[3,5];case 5:return u(),[2]}})})});var f=new n({noticeOnUnload:!1,storageManager:!1,undoManager:!1});f.set({isShallow:!0}),f.Pages.onLoad(),f.Canvas.postLoad(),this.set("shallow",f)},n.prototype.updateChanges=function(e,t,r){var o=this,s=this.Storage,c=this.getDirtyCount();r.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger(Kn.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=c?function(){return!0}:null),s.isAutosave()&&c>=s.getStepsBeforeSave()&&this.store().catch(function(u){return o.logError(u)})},n.prototype.loadModule=function(e){var t=new e(this);return this.set(t.name,t),t.onLoad&&this.toLoad.push(t),this.modules.push(t),t},n.prototype.loadStorableModule=function(e){var t=this.loadModule(e);return this.storables.push(t),t},n.prototype.init=function(e,t){t===void 0&&(t={}),this.destroyed&&(this.initialize(t),this.destroyed=!1),this.set("Editor",e)},n.prototype.getEditor=function(){return this.get("Editor")},n.prototype.handleUpdates=function(e,t,r){var o=this;r===void 0&&(r={}),!(this.__skip||r.temporary||r.noCount||r.avoidStore||r.partial||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var s=o.getDirtyCount()||0,c=r.unset,u=WE(r,["unset"]);o.set("changesCount",s+1,u)},0))},n.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},n.prototype.componentHovered=function(e,t,r){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,r),t&&this.trigger("component:hovered",t,r)},n.prototype.getSelected=function(){return this.selected.lastComponent()},n.prototype.getSelectedAll=function(){return this.selected.allComponents()},n.prototype.setSelected=function(e,t){var r=this;t===void 0&&(t={});var o=t.event,s=o&&(o.ctrlKey||o.metaKey),c=(o||{}).shiftKey,u=((0,A.isArray)(e)?e:[e]).map(function(m){var _,w;return((w=(_=m?.delegate)===null||_===void 0?void 0:_.select)===null||w===void 0?void 0:w.call(_,m))||m}).filter(Boolean),f=this.getSelectedAll(),h=this.getConfig().multipleSelection,g=(0,A.isArray)(e);(g||!e)&&this.removeSelected(f.filter(function(m){return!(0,A.contains)(u,m)})),u.forEach(function(m){if(m&&(r.trigger(er.I.selectBefore,m,t),!m.get("selectable")||t.abort))if(t.useValid){for(var _=m.parent();_&&!_.get("selectable");)_=_.parent();m=_}else return;if(s&&h)return r.toggleSelected(m);if(c&&h){r.clearSelection(r.Canvas.getWindow());var w=m.collection,C=m.index(),T,B;if(r.getSelectedAll().forEach(function(W){var N=W.collection,z=W.index();N===w&&(z<C?T=(0,A.isUndefined)(T)?z:Math.max(T,z):z>C&&(B=(0,A.isUndefined)(B)?z:Math.min(B,z)))}),!(0,A.isUndefined)(T))for(;T!==C;)r.addSelected(w.at(T),t),T++;if(!(0,A.isUndefined)(B))for(;B!==C;)r.addSelected(w.at(B),t),B--;return r.addSelected(m,t)}!g&&r.removeSelected(f.filter(function(W){return W!==m})),r.addSelected(m,t)})},n.prototype.addSelected=function(e,t){var r=this;t===void 0&&(t={});var o=(0,A.isArray)(e)?e:[e];o.forEach(function(s){var c=r.selected;if(!(!s||!s.get("selectable")||s.parents().some(function(f){return c.hasComponent(f)}))){t.forceChange&&r.removeSelected(s,t);var u=c.allComponents().filter(function(f){return(0,A.contains)(f.parents(),s)});u.forEach(function(f){return r.removeSelected(f,t)}),c.addComponent(s,t),r.trigger(er.I.select,s,t),r.Canvas.addSpot({type:Ln.F.Select,component:s})}})},n.prototype.removeSelected=function(e,t){var r=this;t===void 0&&(t={}),this.selected.removeComponent(e,t);var o=(0,A.isArray)(e)?e:[e];o.forEach(function(s){return r.Canvas.removeSpots({type:Ln.F.Select,component:s})})},n.prototype.toggleSelected=function(e,t){var r=this;t===void 0&&(t={});var o=(0,A.isArray)(e)?e:[e];o.forEach(function(s){r.selected.hasComponent(s)?r.removeSelected(s,t):r.addSelected(s,t)})},n.prototype.setHovered=function(e,t){var r=this;t===void 0&&(t={});var o=function(u,f){var h=r,g=h.config,m=h.Canvas,_=r.getHovered(),w=r.getSelectedAll(),C=Ln.F.Hover,T=Ln.F.Spacing;r.set("componentHovered",u||null,f),_&&(m.removeSpots({type:C,component:_}),m.removeSpots({type:T,component:_})),u&&(m.addSpot({type:C,component:u}),(!w.includes(u)||g.showOffsetsSelected)&&m.addSpot({type:T,component:u}))};if(!e)return o();var s="component:hover";if(t.forceChange&&o(),this.trigger("".concat(s,":before"),e,t),!e.get("hoverable"))if(t.useValid&&!t.abort){for(var c=e.parent();c&&!c.get("hoverable");)c=c.parent();e=c}else return;t.abort||(o(e,t),this.trigger(s,e,t))},n.prototype.getHovered=function(){return this.get("componentHovered")},n.prototype.setComponents=function(e,t){return t===void 0&&(t={}),this.Components.setComponents(e,t)},n.prototype.getComponents=function(){var e=this.Components,t=this.CodeManager;if(!(!e||!t)){var r=e.getComponents();return t.getCode(r,"json")}},n.prototype.setStyle=function(e,t){t===void 0&&(t={});var r=this.Css;return r.clear(t),r.getAll().add(e,t),this},n.prototype.addStyle=function(e,t){t===void 0&&(t={});var r=this.getStyle().add(e,t);return(0,A.isArray)(r)?r:[r]},n.prototype.getStyle=function(){return this.Css.getAll()},n.prototype.setState=function(e){return this.set("state",e),this},n.prototype.getState=function(){return this.get("state")||""},n.prototype.getHtml=function(e){e===void 0&&(e={});var t=this.config,r=t.optsHtml,o=t.jsInHtml?this.getJs(e):"",s=e.component||this.Components.getComponent(),c=s?this.CodeManager.getCode(s,"html",Nr(Nr({},r),e)):"";return c+=o?"<script>".concat(o,"<\/script>"):"",c},n.prototype.getCss=function(e){e===void 0&&(e={});var t=this.config,r=t.optsCss,o=e.avoidProtected,s=(0,A.isUndefined)(e.keepUnusedStyles)?t.keepUnusedStyles:e.keepUnusedStyles,c=this.Css,u=e.component||this.Components.getComponent(),f=o?"":t.protectedCss,h=u&&this.CodeManager.getCode(u,"css",Nr(Nr({cssc:c,keepUnusedStyles:s},r),e));return u?e.json?h:f+h:""},n.prototype.getJs=function(e){e===void 0&&(e={});var t=e.component||this.Components.getWrapper();return t?this.CodeManager.getCode(t,"js").trim():""},n.prototype.store=function(e){return ju(this,void 0,void 0,function(){var t;return Bu(this,function(r){switch(r.label){case 0:return t=this.storeData(),[4,this.Storage.store(t,e)];case 1:return r.sent(),this.clearDirtyCount(),[2,t]}})})},n.prototype.load=function(e){return ju(this,arguments,void 0,function(t,r){var o;return r===void 0&&(r={}),Bu(this,function(s){switch(s.label){case 0:return[4,this.Storage.load(t)];case 1:return o=s.sent(),this.loadData(o,r),[4,(0,Pe.wait)()];case 2:return s.sent(),r.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,o]}})})},n.prototype.storeData=function(){var e={},t=this.getEditing();return t&&t.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(r){e=Nr(Nr({},e),r.store(1))}),JSON.parse(JSON.stringify(e))},n.prototype.loadData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r=!1;return(0,Pe.isEmptyObj)(e)||(this.storables.forEach(function(o){return o.clear()}),this.storables.forEach(function(o){return o.load(e)}),r=!0),this.trigger(Kn.projectLoad,{project:e,loaded:r,initial:!!t.initial}),e},n.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},n.prototype.runDefault=function(e){e===void 0&&(e={});var t=this.get("Commands").get(this.config.defaultCommand);!t||this.defaultRunning||(t.stop(this,this,e),t.run(this,this,e),this.defaultRunning=!0)},n.prototype.stopDefault=function(e){e===void 0&&(e={});var t=this.get("Commands");if(t){var r=t.get(this.config.defaultCommand);!r||!this.defaultRunning||(r.stop(this,this,e),this.defaultRunning=!1)}},n.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.Canvas.refresh({spots:e.tools})},n.prototype.clearSelection=function(e){var t,r=e||window;(t=r.getSelection())===null||t===void 0||t.removeAllRanges()},n.prototype.getCurrentMedia=function(){var e=this.config,t=this.getDeviceModel(),r=e.mediaCondition,o=e.devicePreviewMode,s=t&&t.get("widthMedia");return t&&s&&!o?"(".concat(r,": ").concat(s,")"):""},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},n.prototype.getCurrentFrame=function(){return this.get("currentFrame")},n.prototype.getCurrentFrameModel=function(){var e;return(e=this.getCurrentFrame()||{})===null||e===void 0?void 0:e.model},n.prototype.getIcon=function(e){var t=this.config.icons||{};return t[e]||""},n.prototype.getDirtyCount=function(){return this.get("changesCount")},n.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},n.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},n.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},n.prototype.setDragMode=function(e){return this.set("dmode",e)},n.prototype.getDragMode=function(e){var t=e?.getDragMode()||this.get("dmode");return t||""},n.prototype.t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.get("I18n");return r?.t.apply(r,e)},n.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},n.prototype.destroyAll=function(){var e=this,t=this,r=t.config,o=t.view;this.trigger(Kn.destroy);var s=this.getEditor(),c=(r.grapesjs||{}).editors,u=c===void 0?[]:c,f=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),f?.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(h){return h.destroy()}),o?.remove&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(h){return e[h]={}}),u.splice(u.indexOf(s),1),(0,Pe.hasWin)()&&(0,Or.default)(r.el).empty().attr(this.attrsOrig),this.trigger(Kn.destroyed)},n.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},n.prototype.setEditing=function(e){return this.set("editing",e),this},n.prototype.isEditing=function(){return!!this.get("editing")},n.prototype.log=function(e,t){t===void 0&&(t={});var r=Kn.log,o=t.ns,s=t.level,c=s===void 0?"debug":s;if(this.trigger(r,e,t),c&&this.trigger("".concat(r,":").concat(c),e,t),o){var u="".concat(r,"-").concat(o);this.trigger(u,e,t),c&&this.trigger("".concat(u,":").concat(c),e,t)}},n.prototype.logInfo=function(e,t){this.log(e,Nr(Nr({},t),{level:"info"}))},n.prototype.logWarning=function(e,t){this.log(e,Nr(Nr({},t),{level:"warning"}))},n.prototype.logError=function(e,t){this.log(e,Nr(Nr({},t),{level:"error"}))},n.prototype.initBaseColorPicker=function(e,t){t===void 0&&(t={});var r=this.config,o=r.colorPicker,s=o===void 0?{}:o,c=r.el,u=r.stylePrefix;return(0,Or.default)(e).spectrum(Nr(Nr({containerClassName:"".concat(u,"one-bg ").concat(u,"two-color"),appendTo:c||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},t),s))},n.prototype.skip=function(e){this.__skip=!0;var t=this.UndoManager;t?t.skip(e):e(),this.__skip=!1},n.prototype.data=function(e,t,r){var o="_gjs-data";if(e[o]||(e[o]={}),(0,A.isUndefined)(r))return e[o][t];e[o][t]=r},n}(Ie.Kx),qE=YE;function XE(){return window.location.hostname}var $E=function(){var i=function(n,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},i(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),JE=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{f(t.next(h))}catch(g){s(g)}}function u(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?o(h.value):r(h.value).then(c,u)}f((t=t.apply(i,n||[])).next())})},ZE=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(h){return u([f,h])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(i,e)}catch(h){f=[6,h],r=0}finally{t=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},QE=function(i){$E(n,i);function n(e){var t=i.call(this,{model:e})||this,r=e.Panels,o=e.UndoManager;return e.view=t,e.once("change:ready",function(){r.active(),r.disableButtons(),o.clear(),e.getConfig().telemetry&&t.sendTelemetryData().catch(function(){}),setTimeout(function(){e.trigger(Kn.load,e.Editor),e.clearDirtyCount()})}),t}return n.prototype.render=function(){var e=this,t=this,r=t.$el,o=t.model,s=o.Panels,c=o.Canvas,u=o.config,f=o.modules,h=u.stylePrefix,g=["".concat(h,"editor")];!u.customUI&&g.push("".concat(h,"one-bg ").concat(h,"two-color"));var m=(0,Or.default)(u.el||"body ".concat(u.container));u.cssIcons&&(0,Pe.appendStyles)(u.cssIcons,{unique:!0,prepand:!0}),r.empty(),u.width&&m.css("width",u.width),u.height&&m.css("height",u.height),r.append(c.render()),r.append(s.render());var _=o.shallow,w=_.Canvas.render();return w.style.display="none",r.append(w),r.attr("class",g.join(" ")),m.addClass("".concat(h,"editor-cont")).empty().append(r),f.forEach(function(C){var T;return(T=C.postRender)===null||T===void 0?void 0:T.call(C,e)}),this},n.prototype.sendTelemetryData=function(){return JE(this,void 0,void 0,function(){var e,t,r,o,s,c,u,f;return ZE(this,function(h){switch(h.label){case 0:return e=XE(),e==="localhost"||e.includes("localhost")?[2]:(t="gjs_telemetry_sent_",r=this.model.version,o="".concat(t).concat(r),sessionStorage.getItem(o)?[2]:(s="https://app.grapesjs.com",[4,fetch("".concat(s,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:e,version:r})})]));case 1:return c=h.sent(),c.ok?[3,3]:(u=Error.bind,f="Failed to send telemetry data ".concat,[4,c.text()]);case 2:throw new(u.apply(Error,[void 0,f.apply("Failed to send telemetry data ",[h.sent()])]));case 3:return sessionStorage.setItem(o,"true"),Object.keys(sessionStorage).forEach(function(g){g.startsWith(t)&&g!==o&&sessionStorage.removeItem(g)}),this.trigger(Kn.telemetryInit),[2]}})})},n}(Ie.Ss),eA=QE,is=function(){return is=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},is.apply(this,arguments)},Sg=function(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(h){try{f(t.next(h))}catch(g){s(g)}}function u(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?o(h.value):r(h.value).then(c,u)}f((t=t.apply(i,n||[])).next())})},Og=function(i,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,r,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(h){return u([f,h])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(i,e)}catch(h){f=[6,h],r=0}finally{t=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},tA=function(i,n,e){if(e||arguments.length===2)for(var t=0,r=n.length,o;t<r;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return i.concat(o||Array.prototype.slice.call(n))},rA=function(){function i(n,e){n===void 0&&(n={}),e===void 0&&(e={});var t;this.events=Kn,this.html=fn;var r=W0();this.config=is(is(is({},r),n),{pStylePrefix:(t=n.stylePrefix)!==null&&t!==void 0?t:r.stylePrefix}),this.em=new qE(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(i.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),i.prototype.getConfig=function(n){return this.em.getConfig(n)},i.prototype.getHtml=function(n){return this.em.getHtml(n)},i.prototype.getCss=function(n){return this.em.getCss(n)},i.prototype.getJs=function(n){return this.em.getJs(n)},i.prototype.getComponents=function(){return this.Components.getComponents()},i.prototype.getWrapper=function(){return this.Components.getWrapper()},i.prototype.setComponents=function(n,e){return e===void 0&&(e={}),this.em.setComponents(n,e),this},i.prototype.addComponents=function(n,e){return this.getWrapper().append(n,e)},i.prototype.getStyle=function(){return this.em.Css.getAll()},i.prototype.setStyle=function(n,e){return e===void 0&&(e={}),this.em.setStyle(n,e),this},i.prototype.addStyle=function(n,e){return e===void 0&&(e={}),this.em.addStyle(n,e)},i.prototype.getSelected=function(){return this.em.getSelected()},i.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},i.prototype.getSelectedToStyle=function(){var n=this.em.getSelected();if(n)return this.StyleManager.getModelToStyle(n)},i.prototype.select=function(n,e){return this.em.setSelected(n,e),this},i.prototype.selectAdd=function(n){return this.em.addSelected(n),this},i.prototype.selectRemove=function(n){return this.em.removeSelected(n),this},i.prototype.selectToggle=function(n){return this.em.toggleSelected(n),this},i.prototype.getEditing=function(){return this.em.getEditing()},i.prototype.setDevice=function(n){return this.em.set("device",n),this},i.prototype.getDevice=function(){return this.em.get("device")},i.prototype.runCommand=function(n,e){return e===void 0&&(e={}),this.Commands.run(n,e)},i.prototype.stopCommand=function(n,e){return e===void 0&&(e={}),this.Commands.stop(n,e)},i.prototype.store=function(n){return Sg(this,void 0,void 0,function(){return Og(this,function(e){switch(e.label){case 0:return[4,this.em.store(n)];case 1:return[2,e.sent()]}})})},i.prototype.load=function(n){return Sg(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),Og(this,function(r){switch(r.label){case 0:return[4,this.em.load(e,t)];case 1:return[2,r.sent()]}})})},i.prototype.getProjectData=function(){return this.em.storeData()},i.prototype.loadProjectData=function(n){return this.em.loadData(n)},i.prototype.storeData=function(){return this.em.storeData()},i.prototype.loadData=function(n){return this.em.loadData(n)},i.prototype.getContainer=function(){return this.config.el},i.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},i.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},i.prototype.refresh=function(n){this.em.refreshCanvas(n)},i.prototype.setCustomRte=function(n){this.RichTextEditor.customRte=n},i.prototype.setCustomParserCss=function(n){return this.Parser.getConfig().parserCss=n,this},i.prototype.setDragMode=function(n){return this.em.setDragMode(n),this},i.prototype.log=function(n,e){return e===void 0&&(e={}),this.em.log(n,e),this},i.prototype.t=function(){for(var n,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.em).t.apply(n,e)},i.prototype.on=function(n,e){return this.em.on(n,e),this},i.prototype.once=function(n,e){return this.em.once(n,e),this},i.prototype.off=function(n,e){return this.em.off(n,e),this},i.prototype.trigger=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return this.em.trigger.apply(this.em,tA([n],e,!0)),this},i.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},i.prototype.getEl=function(){var n;return(n=this.editorView)===null||n===void 0?void 0:n.el},i.prototype.getModel=function(){return this.em},i.prototype.render=function(){var n;return(n=this.editorView)===null||n===void 0||n.remove(),this.editorView=new eA(this.em),this.editorView.render().el},i.prototype.onReady=function(n){this.em.get("ready")?n(this):this.em.on("load",n)},i}(),nA=rA,oA=function(i,n){var e=n.get(i);if(!e){var t=(0,Pe.getGlobal)()[i];e=t?.default||t}return e},vy=function(i,n){return(0,A.isString)(i)?oA(i,n):i?.default||i},gy=function(i,n){i.getModel().logWarning("Plugin ".concat(n," not found"),{context:"plugins",plugin:n})},iA=function(){function i(){this.plugins={}}return i.prototype.add=function(n,e){var t=this.get(n);return t||(this.plugins[n]=e,e)},i.prototype.get=function(n){return this.plugins[n]},i.prototype.getAll=function(){return this.plugins},i}(),aA=iA,sA=function(){var i=function(){for(var e,t=window.navigator.userAgent,r=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<r.length;o++){var s=r[o];if(e=s[1].exec(t),e)break}return!!e};if((0,Pe.hasWin)()&&i()){var n=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),n.apply(document.implementation,[e])}}},hc=function(){return hc=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},hc.apply(this,arguments)};sA();var uf=new aA,kg=[],my=function(i,n){var e=vy(i,uf);return function(t){e?e(t,n||{}):gy(t,i)}},yy={$:Or.default,editors:kg,plugins:uf,usePlugin:my,version:"0.22.5",init:function(i){i===void 0&&(i={});var n=i.headless,e=i.container;if(!e&&!n)throw new Error("'container' is required");var t=hc(hc({autorender:!0,plugins:[],pluginsOpts:{}},i),{grapesjs:this,el:n?void 0:(0,A.isElement)(e)?e:document.querySelector(e)}),r=new nA(t,{$:Or.default}),o=r.getModel();return t.plugins.forEach(function(s){var c=vy(s,uf),u=t.pluginsOpts[s]||{};c?c(r,u):gy(r,s)}),o.loadOnStart(),t.autorender&&!n&&r.render(),kg.push(r),r}},lA=yy,_y=vc.Ay,G5=vc.I0,Y5=vc.nu;var wc=class i{title="timeengine-spa";ngOnInit(){let n=_y.init({container:"#gjs",fromElement:!0,height:"100%",width:"auto"})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=dp({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){e&1&&pp(0,"router-outlet")},dependencies:[_p],encapsulation:2})};yp(wc,cv).catch(i=>console.error(i));
